var Nc=Object.defineProperty;var Ic=(n,t,e)=>t in n?Nc(n,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):n[t]=e;var m=(n,t,e)=>Ic(n,typeof t!="symbol"?t+"":t,e);import{j as D}from"./jsx-runtime-BlAj40OV.js";import{f as rs,w as Lo,x as Da,y as kc,z as xc,B as Rc,D as Vc,E as Mc,d as wa,G as Os,g as Go,H as Oe,I as Yo,R as Nn,C,J as Q,K as S,L as ze,M as it,F as _o,a as Bo,N as fn,m as Hc,e as Fc,O as as,k as _e,P as Uo,Q as ro,S as Xc,u as H,s as Oa,c as Aa,T as Wo,U as ao,V as Lc,W as Gc,X as zo,Y as Yc,Z as De,_ as _c,i as Bc,$ as Uc,a0 as Ht,a1 as qo,a2 as Ko,a3 as Wc,a4 as Xe,a5 as sn,a6 as zc,h as jo,a7 as qc,a8 as Kc,A as pt,a9 as jc,aa as Jc,ab as $c,ac as Qc,ad as Zc,ae as tu,af as eu,ag as nu,ah as iu,ai as su,aj as ru,ak as au,al as ou,am as Pa,an as lu,ao as cu,ap as uu,aq as hu,ar as du,as as fu,at as gu,au as mu,av as pu,aw as vu,p as Eu,ax as we,ay as yu,az as Su,aA as Jo,aB as qs}from"./Animated-ldvQJ0qk.js";import{r as u,R as Z}from"./index-Cs7sjTYM.js";import{R as oo}from"./NativeEventEmitter-CdIviC7q.js";import{u as bu}from"./useThemable-Dk0h9Bfi.js";import{s as Y,p as Tu}from"./index-BRs9ZavV.js";import{P as at,D as $o}from"./index-C9LjRz3B.js";import{U as Cu}from"./TextAncestorContext-CgUd_yOy.js";import{a as Du}from"./_commonjsHelpers-BosuxZz1.js";import{T as Qo}from"./index-DIUYb9O_.js";import{V as Pt}from"./index-DNzWYFc8.js";import{b as wu,a as Ou,u as qt,C as Au,E as Pu,c as Na,S as Nu,d as Iu,e as ku,f as xu,g as Ru,h as Vu,i as Mu,j as Hu,k as Fu,l as Ia,m as Xu,n as Lu,w as Gu,o as Zo,p as Yu}from"./screen-BJR421Wt.js";import{A as R,E as lo,S as _u}from"./Animated-C69vQo_O.js";import{a as tl,F as Bu,V as Uu}from"./index-Bam434sD.js";import{S as Wu}from"./index-Cw-lY78V.js";import{I as Ks,K as _n,S as js}from"./index-BCWG4hoE.js";import{f as ka}from"./index-iLe2KvwB.js";import{n as zu}from"./index-Cpg-fJ3N.js";import{u as qu}from"./useBlurEffect-Bc4DyTjp.js";import{u as Ku}from"./bottomSheet-D729W-QY.js";import{B as ju}from"./Box-CxmZ6QRL.js";import{P as Ju}from"./PleaseWait-D7WaNCLp.js";import{S as $u}from"./SomethingWentWrong-CmYUIvny.js";import{C as Qu}from"./Column-BySxSqfy.js";import{a as Zu,P as th}from"./ParkingSessionLicensePlateFormProvider-CKMA88xz.js";import{a as eh}from"./TextInputField-CFeXuIDI.js";import{B as nh}from"./Button-CqiXKlmI.js";import{u as el}from"./useGetCurrentParkingPermit.web-BRBgdAlj.js";import{b as ih,a as sh}from"./service-C8JrXXnY.js";import{a as rh,P as ah}from"./ParkingSessionSelectLicensePlate-BAT_M9DE.js";import"./index-oz3Z5D95.js";import"./index-BNEt8Bkx.js";import"./extends-CF3RwP-h.js";import"./index-CglSVHKQ.js";import"./index-D5xlL9g-.js";import"./index-8JwjhRSi.js";import"./base-color-B2rPH-Aj.js";import"./useNavigation-CauFfBYh.js";import"./usePiwikTrackCustomEventFromProps-AVr47pnt.js";import"./useTrackException-BPpet2P4.js";import"./index-B9HBLp1U.js";import"./development-uC8BM1Yf.js";import"./useDispatch-BnAEHRe7.js";import"./layoutStyles-nv7cBgSD.js";import"./Center-BQAZ-GCZ.js";import"./Icon-DAX6X_sX.js";import"./index-CC-zlO6h.js";import"./index-Dk74W0Oi.js";import"./Row-OfPHmFJ9.js";import"./mapCrossAxisAlignment-DpnuLLqj.js";import"./mapMainAxisAlignment-BOa0GzUh.js";import"./types-CttlCamk.js";import"./useDeviceContext-BXdagwJr.js";import"./index-B5FlGKE6.js";import"./useTheme-CNPhRQCo.js";import"./Pressable-nydB4ngp.js";import"./PressableBase-DcvdMIFG.js";import"./index-HY1hV1Sb.js";import"./index-KNTxeJap.js";import"./AlertBase-B2vjZpXq.js";import"./SingleSelectable-jpMFxf_T.js";import"./Paragraph-Cmeb1Uo_.js";import"./AccessibleText-COgu9Gly.js";import"./Title-919zhVF6.js";import"./useAccessibilityFocus-jOxbpxdP.js";import"./index-DRXYm6Hg.js";import"./useIsScreenReaderEnabled-Cc4z45sc.js";import"./duration-BeyW1-if.js";import"./accessibleText-gmNPjmn1.js";import"./useAccessibilityAnnounce-DiAUUDIn.js";import"./Switch-Blb_3Edz.js";import"./FormField-D-ZS0y12.js";import"./HideFromAccessibility-C4_XNnSa.js";import"./Gutter-C2QS23PE.js";import"./Phrase-2OnScYA5.js";import"./ParkingMaxLicensePlatesAlert-D2Xe-bek.js";import"./useGetLicensePlates.web-C2saJipg.js";import"./CharactersLeftDisplay-DisjBeM1.js";import"./TextInput-pDrMfWPe.js";import"./IconButton-C9JA0LrN.js";import"./config-BZnShabN.js";import"./Badge-D0Xt-fSg.js";import"./formatNumber-BzL2NUET.js";import"./Label-DFvvdE5j.js";import"./permit.mock-CYmwyqhC.js";import"./types-Bbg4thQy.js";import"./secureStorage-C9lH1Nmu.js";import"./TopTaskButton-CTSnjQth.js";rs();function oh(n,t){const e=__reanimatedLoggerConfig;return Lo.createWorkletRuntime(n,Da(()=>{"worklet";kc(),xc(e),Rc(),Vc(),t==null||t()}))}function lh(n,t){"worklet";return _WORKLET?(...e)=>global._scheduleOnRuntime(n,Mc(()=>{"worklet";t(...e)})):(...e)=>Lo.scheduleOnRuntime(n,Da(()=>{"worklet";t(...e)}))}const ch=function(n,t){"worklet";return wa(t,()=>{"worklet";const e=typeof t=="function"?t():t,i=n.min===void 0?void 0:Os(n.min).strippedValue,s=n.max===void 0?void 0:Os(n.max).strippedValue;function r(l,c){const h=e.onFrame(e,c);if(e.current===void 0)return Oe.warn("Error inside 'withClamp' animation, the inner animation has invalid current value"),!0;{const{prefix:d,strippedValue:g,suffix:p}=Os(e.current);let v;s!==void 0&&s<g?v=s:i!==void 0&&i>g?v=i:v=g,l.current=typeof e.current=="number"?v:`${d===void 0?"":d}${v}${p===void 0?"":p}`}return h}function a(l,c,h,d){l.current=c,l.previousAnimation=e;const g=d==null?void 0:d.previousAnimation;n.max!==void 0&&n.min!==void 0&&n.max<n.min&&Oe.warn("Wrong config was provided to withClamp. Min value is bigger than max"),e.onStart(e,(g==null?void 0:g.current)||c,h,g)}const o=l=>{e.callback&&e.callback(l)};return{isHigherOrder:!0,onFrame:r,onStart:a,current:e.current,callback:o,previousAnimation:null,reduceMotion:Go(n.reduceMotion)}})},uh=Yo(),nl=uh?1/20:1,il=.1;function hh(n){"worklet";return!!n.rubberBandEffect&&Array.isArray(n.clamp)&&n.clamp.length===2}function dh(n,t,e){"worklet";const{lastTimestamp:i,startTimestamp:s,initialVelocity:r,current:a,velocity:o}=n,l=Math.min(t-i,64),c=o*Math.exp(-(1-e.deceleration)*(t-s)*il);if(n.current=a+c*e.velocityFactor*l/1e3,n.velocity=c,n.lastTimestamp=t,e.clamp){if(r<0&&n.current<=e.clamp[0])return n.current=e.clamp[0],!0;if(r>0&&n.current>=e.clamp[1])return n.current=e.clamp[1],!0}return Math.abs(c)<nl}const fh=.1;function gh(n,t,e){"worklet";const{lastTimestamp:i,startTimestamp:s,current:r,velocity:a}=n,o=Math.min(t-i,64),l=Math.abs(r-e.clamp[0])<Math.abs(r-e.clamp[1])?0:1;let c=0;(r<e.clamp[0]||r>e.clamp[1])&&(c=r-e.clamp[l]);const h=a*Math.exp(-(1-e.deceleration)*(t-s)*il)-c*e.rubberBandFactor;if(Math.abs(c)>fh)n.springActive=!0;else{if(n.springActive)return n.current=e.clamp[l],!0;if(Math.abs(h)<nl)return!0}return n.current=r+h*e.velocityFactor*o/1e3,n.velocity=h,n.lastTimestamp=t,!1}function mh(n){"worklet";if(n.clamp){if(!Array.isArray(n.clamp))throw new Nn(`\`config.clamp\` must be an array but is ${typeof n.clamp}.`);if(n.clamp.length!==2)throw new Nn(`\`clamp array\` must contain 2 items but is given ${n.clamp.length}.`)}if(n.velocityFactor<=0)throw new Nn(`\`config.velocityFactor\` must be greater then 0 but is ${n.velocityFactor}.`);if(n.rubberBandEffect&&!n.clamp)throw new Nn("You need to set `clamp` property when using `rubberBandEffect`.")}const ph=function(n,t){"worklet";return wa(0,()=>{"worklet";const e={deceleration:.998,velocityFactor:1,velocity:0,rubberBandFactor:.6};n&&Object.keys(n).forEach(r=>e[r]=n[r]);const i=hh(e)?(r,a)=>gh(r,a,e):(r,a)=>dh(r,a,e);function s(r,a,o){const l=e.velocity;r.current=a,r.lastTimestamp=o,r.startTimestamp=o,r.initialVelocity=l,r.velocity=l,mh(e),r.reduceMotion&&e.clamp&&(a<e.clamp[0]?r.current=e.clamp[0]:a>e.clamp[1]&&(r.current=e.clamp[1]))}return{onFrame:i,onStart:s,callback:t,velocity:e.velocity??0,initialVelocity:0,current:void 0,lastTimestamp:0,startTimestamp:0,reduceMotion:Go(e.reduceMotion)}})},Kn=class Kn extends C{constructor(){super(...arguments);m(this,"build",()=>{const e=this.getDelayFunction(),i=this.getDelay(),s=this.getDuration(),r=this.callbackV,a=this.initialValues;return()=>{"worklet";return{animations:{transform:[{scale:e(i,Q(S(1.2,{duration:s*.55}),S(.9,{duration:s*.15}),S(1.1,{duration:s*.15}),S(1,{duration:s*.15})))}]},initialValues:{transform:[{scale:0}],...a},callback:r}}})}static createInstance(){return new Kn}static getDuration(){return 600}getDuration(){return this.durationV??600}};m(Kn,"presetName","BounceIn");let Js=Kn;const jn=class jn extends C{constructor(){super(...arguments);m(this,"build",()=>{const e=this.getDelayFunction(),i=this.getDelay(),s=this.getDuration(),r=this.callbackV,a=this.initialValues;return o=>{"worklet";return{animations:{transform:[{translateY:e(i,Q(S(-20,{duration:s*.55}),S(10,{duration:s*.15}),S(-10,{duration:s*.15}),S(0,{duration:s*.15})))}]},initialValues:{transform:[{translateY:o.windowHeight}],...a},callback:r}}})}static createInstance(){return new jn}static getDuration(){return 600}getDuration(){return this.durationV??600}};m(jn,"presetName","BounceInDown");let $s=jn;const Jn=class Jn extends C{constructor(){super(...arguments);m(this,"build",()=>{const e=this.getDelayFunction(),i=this.getDelay(),s=this.getDuration(),r=this.callbackV,a=this.initialValues;return o=>{"worklet";return{animations:{transform:[{translateY:e(i,Q(S(20,{duration:s*.55}),S(-10,{duration:s*.15}),S(10,{duration:s*.15}),S(0,{duration:s*.15})))}]},initialValues:{transform:[{translateY:-o.windowHeight}],...a},callback:r}}})}static createInstance(){return new Jn}static getDuration(){return 600}getDuration(){return this.durationV??600}};m(Jn,"presetName","BounceInUp");let Qs=Jn;const $n=class $n extends C{constructor(){super(...arguments);m(this,"build",()=>{const e=this.getDelayFunction(),i=this.getDelay(),s=this.getDuration(),r=this.callbackV,a=this.initialValues;return o=>{"worklet";return{animations:{transform:[{translateX:e(i,Q(S(20,{duration:s*.55}),S(-10,{duration:s*.15}),S(10,{duration:s*.15}),S(0,{duration:s*.15})))}]},initialValues:{transform:[{translateX:-o.windowWidth}],...a},callback:r}}})}static createInstance(){return new $n}static getDuration(){return 600}getDuration(){return this.durationV??600}};m($n,"presetName","BounceInLeft");let Zs=$n;const Qn=class Qn extends C{constructor(){super(...arguments);m(this,"build",()=>{const e=this.getDelayFunction(),i=this.getDelay(),s=this.getDuration(),r=this.callbackV,a=this.initialValues;return o=>{"worklet";return{animations:{transform:[{translateX:e(i,Q(S(-20,{duration:s*.55}),S(10,{duration:s*.15}),S(-10,{duration:s*.15}),S(0,{duration:s*.15})))}]},initialValues:{transform:[{translateX:o.windowWidth}],...a},callback:r}}})}static createInstance(){return new Qn}static getDuration(){return 600}getDuration(){return this.durationV??600}};m(Qn,"presetName","BounceInRight");let tr=Qn;const Zn=class Zn extends C{constructor(){super(...arguments);m(this,"build",()=>{const e=this.getDelayFunction(),i=this.getDelay(),s=this.getDuration(),r=this.callbackV,a=this.initialValues;return()=>{"worklet";return{animations:{transform:[{scale:e(i,Q(S(1.1,{duration:s*.15}),S(.9,{duration:s*.15}),S(1.2,{duration:s*.15}),S(0,{duration:s*.55})))}]},initialValues:{transform:[{scale:1}],...a},callback:r}}})}static createInstance(){return new Zn}static getDuration(){return 600}getDuration(){return this.durationV??600}};m(Zn,"presetName","BounceOut");let er=Zn;const ti=class ti extends C{constructor(){super(...arguments);m(this,"build",()=>{const e=this.getDelayFunction(),i=this.getDelay(),s=this.getDuration(),r=this.callbackV,a=this.initialValues;return o=>{"worklet";return{animations:{transform:[{translateY:e(i,Q(S(-10,{duration:s*.15}),S(10,{duration:s*.15}),S(-20,{duration:s*.15}),S(o.windowHeight,{duration:s*.55})))}]},initialValues:{transform:[{translateY:0}],...a},callback:r}}})}static createInstance(){return new ti}static getDuration(){return 600}getDuration(){return this.durationV??600}};m(ti,"presetName","BounceOutDown");let nr=ti;const ei=class ei extends C{constructor(){super(...arguments);m(this,"build",()=>{const e=this.getDelayFunction(),i=this.getDelay(),s=this.getDuration(),r=this.callbackV,a=this.initialValues;return o=>{"worklet";return{animations:{transform:[{translateY:e(i,Q(S(10,{duration:s*.15}),S(-10,{duration:s*.15}),S(20,{duration:s*.15}),S(-o.windowHeight,{duration:s*.55})))}]},initialValues:{transform:[{translateY:0}],...a},callback:r}}})}static createInstance(){return new ei}static getDuration(){return 600}getDuration(){return this.durationV??600}};m(ei,"presetName","BounceOutUp");let ir=ei;const ni=class ni extends C{constructor(){super(...arguments);m(this,"build",()=>{const e=this.getDelayFunction(),i=this.getDelay(),s=this.getDuration(),r=this.callbackV,a=this.initialValues;return o=>{"worklet";return{animations:{transform:[{translateX:e(i,Q(S(10,{duration:s*.15}),S(-10,{duration:s*.15}),S(20,{duration:s*.15}),S(-o.windowWidth,{duration:s*.55})))}]},initialValues:{transform:[{translateX:0}],...a},callback:r}}})}static createInstance(){return new ni}static getDuration(){return 600}getDuration(){return this.durationV??600}};m(ni,"presetName","BounceOutLeft");let sr=ni;const ii=class ii extends C{constructor(){super(...arguments);m(this,"build",()=>{const e=this.getDelayFunction(),i=this.getDelay(),s=this.getDuration(),r=this.callbackV,a=this.initialValues;return o=>{"worklet";return{animations:{transform:[{translateX:e(i,Q(S(-10,{duration:s*.15}),S(10,{duration:s*.15}),S(-20,{duration:s*.15}),S(o.windowWidth,{duration:s*.55})))}]},initialValues:{transform:[{translateX:0}],...a},callback:r}}})}static createInstance(){return new ii}static getDuration(){return 600}getDuration(){return this.durationV??600}};m(ii,"presetName","BounceOutRight");let rr=ii;const si=class si extends C{constructor(){super(...arguments);m(this,"build",()=>{const e=this.getDelayFunction(),[i,s]=this.getAnimationAndConfig(),r=this.getDelay(),a=this.callbackV,o=this.initialValues;return l=>{"worklet";return{initialValues:{transform:[{perspective:500},{rotateX:"90deg"},{translateY:-l.targetHeight}],...o},animations:{transform:[{perspective:500},{rotateX:e(r,i("0deg",s))},{translateY:e(r,i(0,s))}]},callback:a}}})}static createInstance(){return new si}};m(si,"presetName","FlipInXUp");let ar=si;const ri=class ri extends C{constructor(){super(...arguments);m(this,"build",()=>{const e=this.getDelayFunction(),[i,s]=this.getAnimationAndConfig(),r=this.getDelay(),a=this.callbackV,o=this.initialValues;return l=>{"worklet";return{initialValues:{transform:[{perspective:500},{rotateY:"-90deg"},{translateX:-l.targetWidth}],...o},animations:{transform:[{perspective:e(r,i(500,s))},{rotateY:e(r,i("0deg",s))},{translateX:e(r,i(0,s))}]},callback:a}}})}static createInstance(){return new ri}};m(ri,"presetName","FlipInYLeft");let or=ri;const ai=class ai extends C{constructor(){super(...arguments);m(this,"build",()=>{const e=this.getDelayFunction(),[i,s]=this.getAnimationAndConfig(),r=this.getDelay(),a=this.callbackV,o=this.initialValues;return l=>{"worklet";return{initialValues:{transform:[{perspective:500},{rotateX:"-90deg"},{translateY:l.targetHeight}],...o},animations:{transform:[{perspective:e(r,i(500,s))},{rotateX:e(r,i("0deg",s))},{translateY:e(r,i(0,s))}]},callback:a}}})}static createInstance(){return new ai}};m(ai,"presetName","FlipInXDown");let lr=ai;const oi=class oi extends C{constructor(){super(...arguments);m(this,"build",()=>{const e=this.getDelayFunction(),[i,s]=this.getAnimationAndConfig(),r=this.getDelay(),a=this.callbackV,o=this.initialValues;return l=>{"worklet";return{initialValues:{transform:[{perspective:500},{rotateY:"90deg"},{translateX:l.targetWidth}],...o},animations:{transform:[{perspective:e(r,i(500,s))},{rotateY:e(r,i("0deg",s))},{translateX:e(r,i(0,s))}]},callback:a}}})}static createInstance(){return new oi}};m(oi,"presetName","FlipInYRight");let cr=oi;const li=class li extends C{constructor(){super(...arguments);m(this,"build",()=>{const e=this.getDelayFunction(),[i,s]=this.getAnimationAndConfig(),r=this.getDelay(),a=this.callbackV,o=this.initialValues;return()=>{"worklet";return{initialValues:{transform:[{perspective:500},{rotateX:"90deg"}],...o},animations:{transform:[{perspective:e(r,i(500,s))},{rotateX:e(r,i("0deg",s))}]},callback:a}}})}static createInstance(){return new li}};m(li,"presetName","FlipInEasyX");let ur=li;const ci=class ci extends C{constructor(){super(...arguments);m(this,"build",()=>{const e=this.getDelayFunction(),[i,s]=this.getAnimationAndConfig(),r=this.getDelay(),a=this.callbackV,o=this.initialValues;return()=>{"worklet";return{initialValues:{transform:[{perspective:500},{rotateY:"90deg"}],...o},animations:{transform:[{perspective:e(r,i(500,s))},{rotateY:e(r,i("0deg",s))}]},callback:a}}})}static createInstance(){return new ci}};m(ci,"presetName","FlipInEasyY");let hr=ci;const ui=class ui extends C{constructor(){super(...arguments);m(this,"build",()=>{const e=this.getDelayFunction(),[i,s]=this.getAnimationAndConfig(),r=this.getDelay(),a=this.callbackV,o=this.initialValues;return l=>{"worklet";return{initialValues:{transform:[{perspective:500},{rotateX:"0deg"},{translateY:0}],...o},animations:{transform:[{perspective:e(r,i(500,s))},{rotateX:e(r,i("90deg",s))},{translateY:e(r,i(-l.currentHeight,s))}]},callback:a}}})}static createInstance(){return new ui}};m(ui,"presetName","FlipOutXUp");let dr=ui;const hi=class hi extends C{constructor(){super(...arguments);m(this,"build",()=>{const e=this.getDelayFunction(),[i,s]=this.getAnimationAndConfig(),r=this.getDelay(),a=this.callbackV,o=this.initialValues;return l=>{"worklet";return{initialValues:{transform:[{perspective:500},{rotateY:"0deg"},{translateX:0}],...o},animations:{transform:[{perspective:e(r,i(500,s))},{rotateY:e(r,i("-90deg",s))},{translateX:e(r,i(-l.currentWidth,s))}]},callback:a}}})}static createInstance(){return new hi}};m(hi,"presetName","FlipOutYLeft");let fr=hi;const di=class di extends C{constructor(){super(...arguments);m(this,"build",()=>{const e=this.getDelayFunction(),[i,s]=this.getAnimationAndConfig(),r=this.getDelay(),a=this.callbackV,o=this.initialValues;return l=>{"worklet";return{initialValues:{transform:[{perspective:500},{rotateX:"0deg"},{translateY:0}],...o},animations:{transform:[{perspective:e(r,i(500,s))},{rotateX:e(r,i("-90deg",s))},{translateY:e(r,i(l.currentHeight,s))}]},callback:a}}})}static createInstance(){return new di}};m(di,"presetName","FlipOutXDown");let gr=di;const fi=class fi extends C{constructor(){super(...arguments);m(this,"build",()=>{const e=this.getDelayFunction(),[i,s]=this.getAnimationAndConfig(),r=this.getDelay(),a=this.callbackV,o=this.initialValues;return l=>{"worklet";return{initialValues:{transform:[{perspective:500},{rotateY:"0deg"},{translateX:0}],...o},animations:{transform:[{perspective:e(r,i(500,s))},{rotateY:e(r,i("90deg",s))},{translateX:e(r,i(l.currentWidth,s))}]},callback:a}}})}static createInstance(){return new fi}};m(fi,"presetName","FlipOutYRight");let mr=fi;const gi=class gi extends C{constructor(){super(...arguments);m(this,"build",()=>{const e=this.getDelayFunction(),[i,s]=this.getAnimationAndConfig(),r=this.getDelay(),a=this.callbackV,o=this.initialValues;return()=>{"worklet";return{initialValues:{transform:[{perspective:500},{rotateX:"0deg"}],...o},animations:{transform:[{perspective:e(r,i(500,s))},{rotateX:e(r,i("90deg",s))}]},callback:a}}})}static createInstance(){return new gi}};m(gi,"presetName","FlipOutEasyX");let pr=gi;const mi=class mi extends C{constructor(){super(...arguments);m(this,"build",()=>{const e=this.getDelayFunction(),[i,s]=this.getAnimationAndConfig(),r=this.getDelay(),a=this.callbackV,o=this.initialValues;return()=>{"worklet";return{initialValues:{transform:[{perspective:500},{rotateY:"0deg"}],...o},animations:{transform:[{perspective:e(r,i(500,s))},{rotateY:e(r,i("90deg",s))}]},callback:a}}})}static createInstance(){return new mi}};m(mi,"presetName","FlipOutEasyY");let vr=mi;const pi=class pi extends C{constructor(){super(...arguments);m(this,"build",()=>{const e=this.getDelayFunction(),[i,s]=this.getAnimationAndConfig(),r=this.getDelay(),a=this.getDuration(),o=this.callbackV,l=this.initialValues;return c=>{"worklet";return{animations:{opacity:e(r,S(1,{duration:a})),transform:[{translateX:e(r,i(0,{...s,duration:a*.7}))},{skewX:e(r,Q(S("10deg",{duration:a*.7}),S("-5deg",{duration:a*.15}),S("0deg",{duration:a*.15})))}]},initialValues:{opacity:0,transform:[{translateX:c.windowWidth},{skewX:"-45deg"}],...l},callback:o}}})}static createInstance(){return new pi}};m(pi,"presetName","LightSpeedInRight");let Er=pi;const vi=class vi extends C{constructor(){super(...arguments);m(this,"build",()=>{const e=this.getDelayFunction(),[i,s]=this.getAnimationAndConfig(),r=this.getDelay(),a=this.getDuration(),o=this.callbackV,l=this.initialValues;return c=>{"worklet";return{animations:{opacity:e(r,S(1,{duration:a})),transform:[{translateX:e(r,i(0,{...s,duration:a*.7}))},{skewX:e(r,Q(S("-10deg",{duration:a*.7}),S("5deg",{duration:a*.15}),S("0deg",{duration:a*.15})))}]},initialValues:{opacity:0,transform:[{translateX:-c.windowWidth},{skewX:"45deg"}],...l},callback:o}}})}static createInstance(){return new vi}};m(vi,"presetName","LightSpeedInLeft");let yr=vi;const Ei=class Ei extends C{constructor(){super(...arguments);m(this,"build",()=>{const e=this.getDelayFunction(),[i,s]=this.getAnimationAndConfig(),r=this.getDelay(),a=this.callbackV,o=this.initialValues;return l=>{"worklet";return{animations:{opacity:e(r,i(0,s)),transform:[{translateX:e(r,i(l.windowWidth,s))},{skewX:e(r,i("-45deg",s))}]},initialValues:{opacity:1,transform:[{translateX:0},{skewX:"0deg"}],...o},callback:a}}})}static createInstance(){return new Ei}};m(Ei,"presetName","LightSpeedOutRight");let Sr=Ei;const yi=class yi extends C{constructor(){super(...arguments);m(this,"build",()=>{const e=this.getDelayFunction(),[i,s]=this.getAnimationAndConfig(),r=this.getDelay(),a=this.callbackV,o=this.initialValues;return l=>{"worklet";return{animations:{opacity:e(r,i(0,s)),transform:[{translateX:e(r,i(-l.windowWidth,s))},{skewX:e(r,i("45deg",s))}]},initialValues:{opacity:1,transform:[{translateX:0},{skewX:"0deg"}],...o},callback:a}}})}static createInstance(){return new yi}};m(yi,"presetName","LightSpeedOutLeft");let br=yi;const Si=class Si extends C{constructor(){super(...arguments);m(this,"build",()=>{const e=this.getDelayFunction(),[i,s]=this.getAnimationAndConfig(),r=this.getDelay(),a=this.callbackV,o=this.initialValues;return()=>{"worklet";return{animations:{opacity:e(r,i(1,s)),transform:[{scale:e(r,i(1,s))},{rotate:e(r,i("0",s))}]},initialValues:{opacity:0,transform:[{scale:0},{rotate:"5"}],...o},callback:a}}})}static createInstance(){return new Si}};m(Si,"presetName","PinwheelIn");let Tr=Si;const bi=class bi extends C{constructor(){super(...arguments);m(this,"build",()=>{const e=this.getDelayFunction(),[i,s]=this.getAnimationAndConfig(),r=this.getDelay(),a=this.callbackV,o=this.initialValues;return()=>{"worklet";return{animations:{opacity:e(r,i(0,s)),transform:[{scale:e(r,i(0,s))},{rotate:e(r,i("5",s))}]},initialValues:{opacity:1,transform:[{scale:1},{rotate:"0"}],...o},callback:a}}})}static createInstance(){return new bi}};m(bi,"presetName","PinwheelOut");let Cr=bi;const Ti=class Ti extends C{constructor(){super(...arguments);m(this,"build",()=>{const e=this.getDelayFunction(),[i,s]=this.getAnimationAndConfig(),r=this.getDelay(),a=this.callbackV,o=this.initialValues;return l=>{"worklet";return{animations:{transform:[{translateX:e(r,i(0,s))},{rotate:e(r,i("0deg",s))}]},initialValues:{transform:[{translateX:-l.windowWidth},{rotate:"-180deg"}],...o},callback:a}}})}static createInstance(){return new Ti}};m(Ti,"presetName","RollInLeft");let Dr=Ti;const Ci=class Ci extends C{constructor(){super(...arguments);m(this,"build",()=>{const e=this.getDelayFunction(),[i,s]=this.getAnimationAndConfig(),r=this.getDelay(),a=this.callbackV,o=this.initialValues;return l=>{"worklet";return{animations:{transform:[{translateX:e(r,i(0,s))},{rotate:e(r,i("0deg",s))}]},initialValues:{transform:[{translateX:l.windowWidth},{rotate:"180deg"}],...o},callback:a}}})}static createInstance(){return new Ci}};m(Ci,"presetName","RollInRight");let wr=Ci;const Di=class Di extends C{constructor(){super(...arguments);m(this,"build",()=>{const e=this.getDelayFunction(),[i,s]=this.getAnimationAndConfig(),r=this.getDelay(),a=this.callbackV,o=this.initialValues;return l=>{"worklet";return{animations:{transform:[{translateX:e(r,i(-l.windowWidth,s))},{rotate:e(r,i("-180deg",s))}]},initialValues:{transform:[{translateX:0},{rotate:"0deg"}],...o},callback:a}}})}static createInstance(){return new Di}};m(Di,"presetName","RollOutLeft");let Or=Di;const wi=class wi extends C{constructor(){super(...arguments);m(this,"build",()=>{const e=this.getDelayFunction(),[i,s]=this.getAnimationAndConfig(),r=this.getDelay(),a=this.callbackV,o=this.initialValues;return l=>{"worklet";return{animations:{transform:[{translateX:e(r,i(l.windowWidth,s))},{rotate:e(r,i("180deg",s))}]},initialValues:{transform:[{translateX:0},{rotate:"0deg"}],...o},callback:a}}})}static createInstance(){return new wi}};m(wi,"presetName","RollOutRight");let Ar=wi;const Oi=class Oi extends C{constructor(){super(...arguments);m(this,"build",()=>{const e=this.getDelayFunction(),[i,s]=this.getAnimationAndConfig(),r=this.getDelay(),a=this.callbackV,o=this.initialValues;return l=>{"worklet";return{animations:{opacity:e(r,i(1,s)),transform:[{rotate:e(r,i("0deg",s))},{translateX:e(r,i(0,s))},{translateY:e(r,i(0,s))}]},initialValues:{opacity:0,transform:[{rotate:"-90deg"},{translateX:l.targetWidth/2-l.targetHeight/2},{translateY:-(l.targetWidth/2-l.targetHeight/2)}],...o},callback:a}}})}static createInstance(){return new Oi}};m(Oi,"presetName","RotateInDownLeft");let Pr=Oi;const Ai=class Ai extends C{constructor(){super(...arguments);m(this,"build",()=>{const e=this.getDelayFunction(),[i,s]=this.getAnimationAndConfig(),r=this.getDelay(),a=this.callbackV,o=this.initialValues;return l=>{"worklet";return{animations:{opacity:e(r,i(1,s)),transform:[{rotate:e(r,i("0deg",s))},{translateX:e(r,i(0,s))},{translateY:e(r,i(0,s))}]},initialValues:{opacity:0,transform:[{rotate:"90deg"},{translateX:-(l.targetWidth/2-l.targetHeight/2)},{translateY:-(l.targetWidth/2-l.targetHeight/2)}],...o},callback:a}}})}static createInstance(){return new Ai}};m(Ai,"presetName","RotateInDownRight");let Nr=Ai;const Pi=class Pi extends C{constructor(){super(...arguments);m(this,"build",()=>{const e=this.getDelayFunction(),[i,s]=this.getAnimationAndConfig(),r=this.getDelay(),a=this.callbackV,o=this.initialValues;return l=>{"worklet";return{animations:{opacity:e(r,i(1,s)),transform:[{rotate:e(r,i("0deg",s))},{translateX:e(r,i(0,s))},{translateY:e(r,i(0,s))}]},initialValues:{opacity:0,transform:[{rotate:"90deg"},{translateX:l.targetWidth/2-l.targetHeight/2},{translateY:l.targetWidth/2-l.targetHeight/2}],...o},callback:a}}})}static createInstance(){return new Pi}};m(Pi,"presetName","RotateInUpLeft");let Ir=Pi;const Ni=class Ni extends C{constructor(){super(...arguments);m(this,"build",()=>{const e=this.getDelayFunction(),[i,s]=this.getAnimationAndConfig(),r=this.getDelay(),a=this.callbackV,o=this.initialValues;return l=>{"worklet";return{animations:{opacity:e(r,i(1,s)),transform:[{rotate:e(r,i("0deg",s))},{translateX:e(r,i(0,s))},{translateY:e(r,i(0,s))}]},initialValues:{opacity:0,transform:[{rotate:"-90deg"},{translateX:-(l.targetWidth/2-l.targetHeight/2)},{translateY:l.targetWidth/2-l.targetHeight/2}],...o},callback:a}}})}static createInstance(){return new Ni}};m(Ni,"presetName","RotateInUpRight");let kr=Ni;const Ii=class Ii extends C{constructor(){super(...arguments);m(this,"build",()=>{const e=this.getDelayFunction(),[i,s]=this.getAnimationAndConfig(),r=this.getDelay(),a=this.callbackV,o=this.initialValues;return l=>{"worklet";return{animations:{opacity:e(r,i(0,s)),transform:[{rotate:e(r,i("90deg",s))},{translateX:e(r,i(l.currentWidth/2-l.currentHeight/2,s))},{translateY:e(r,i(l.currentWidth/2-l.currentHeight/2,s))}]},initialValues:{opacity:1,transform:[{rotate:"0deg"},{translateX:0},{translateY:0}],...o},callback:a}}})}static createInstance(){return new Ii}};m(Ii,"presetName","RotateOutDownLeft");let xr=Ii;const ki=class ki extends C{constructor(){super(...arguments);m(this,"build",()=>{const e=this.getDelayFunction(),[i,s]=this.getAnimationAndConfig(),r=this.getDelay(),a=this.callbackV,o=this.initialValues;return l=>{"worklet";return{animations:{opacity:e(r,i(0,s)),transform:[{rotate:e(r,i("-90deg",s))},{translateX:e(r,i(-(l.currentWidth/2-l.currentHeight/2),s))},{translateY:e(r,i(l.currentWidth/2-l.currentHeight/2,s))}]},initialValues:{opacity:1,transform:[{rotate:"0deg"},{translateX:0},{translateY:0}],...o},callback:a}}})}static createInstance(){return new ki}};m(ki,"presetName","RotateOutDownRight");let Rr=ki;const xi=class xi extends C{constructor(){super(...arguments);m(this,"build",()=>{const e=this.getDelayFunction(),[i,s]=this.getAnimationAndConfig(),r=this.getDelay(),a=this.callbackV,o=this.initialValues;return l=>{"worklet";return{animations:{opacity:e(r,i(0,s)),transform:[{rotate:e(r,i("-90deg",s))},{translateX:e(r,i(l.currentWidth/2-l.currentHeight/2,s))},{translateY:e(r,i(-(l.currentWidth/2-l.currentHeight/2),s))}]},initialValues:{opacity:1,transform:[{rotate:"0deg"},{translateX:0},{translateY:0}],...o},callback:a}}})}static createInstance(){return new xi}};m(xi,"presetName","RotateOutUpLeft");let Vr=xi;const Ri=class Ri extends C{constructor(){super(...arguments);m(this,"build",()=>{const e=this.getDelayFunction(),[i,s]=this.getAnimationAndConfig(),r=this.getDelay(),a=this.callbackV,o=this.initialValues;return l=>{"worklet";return{animations:{opacity:e(r,i(0,s)),transform:[{rotate:e(r,i("90deg",s))},{translateX:e(r,i(-(l.currentWidth/2-l.currentHeight/2),s))},{translateY:e(r,i(-(l.currentWidth/2-l.currentHeight/2),s))}]},initialValues:{opacity:1,transform:[{rotate:"0deg"},{translateX:0},{translateY:0}],...o},callback:a}}})}static createInstance(){return new Ri}};m(Ri,"presetName","RotateOutUpRight");let Mr=Ri;const Vi=class Vi extends C{constructor(){super(...arguments);m(this,"build",()=>{const e=this.getDelayFunction(),[i,s]=this.getAnimationAndConfig(),r=this.getDelay(),a=this.callbackV,o=this.initialValues;return()=>{"worklet";return{animations:{transform:[{scaleX:e(r,i(1,s))}]},initialValues:{transform:[{scaleX:0}],...o},callback:a}}})}static createInstance(){return new Vi}};m(Vi,"presetName","StretchInX");let Hr=Vi;const Mi=class Mi extends C{constructor(){super(...arguments);m(this,"build",()=>{const e=this.getDelayFunction(),[i,s]=this.getAnimationAndConfig(),r=this.getDelay(),a=this.callbackV,o=this.initialValues;return()=>{"worklet";return{animations:{transform:[{scaleY:e(r,i(1,s))}]},initialValues:{transform:[{scaleY:0}],...o},callback:a}}})}static createInstance(){return new Mi}};m(Mi,"presetName","StretchInY");let Fr=Mi;const Hi=class Hi extends C{constructor(){super(...arguments);m(this,"build",()=>{const e=this.getDelayFunction(),[i,s]=this.getAnimationAndConfig(),r=this.getDelay(),a=this.callbackV,o=this.initialValues;return()=>{"worklet";return{animations:{transform:[{scaleX:e(r,i(0,s))}]},initialValues:{transform:[{scaleX:1}],...o},callback:a}}})}static createInstance(){return new Hi}};m(Hi,"presetName","StretchOutX");let Xr=Hi;const Fi=class Fi extends C{constructor(){super(...arguments);m(this,"build",()=>{const e=this.getDelayFunction(),[i,s]=this.getAnimationAndConfig(),r=this.getDelay(),a=this.callbackV,o=this.initialValues;return()=>{"worklet";return{animations:{transform:[{scaleY:e(r,i(0,s))}]},initialValues:{transform:[{scaleY:1}],...o},callback:a}}})}static createInstance(){return new Fi}};m(Fi,"presetName","StretchOutY");let Lr=Fi;const Xi=class Xi extends C{constructor(){super(...arguments);m(this,"build",()=>{const e=this.getDelayFunction(),[i,s]=this.getAnimationAndConfig(),r=this.getDelay(),a=this.callbackV,o=this.initialValues;return()=>{"worklet";return{animations:{transform:[{scale:e(r,i(1,s))}]},initialValues:{transform:[{scale:0}],...o},callback:a}}})}static createInstance(){return new Xi}};m(Xi,"presetName","ZoomIn");let Gr=Xi;const Li=class Li extends C{constructor(){super(...arguments);m(this,"build",()=>{const e=this.getDelayFunction(),[i,s]=this.getAnimationAndConfig(),r=this.getDelay(),a=this.rotateV?this.rotateV:"0.3",o=this.callbackV,l=this.initialValues;return()=>{"worklet";return{animations:{transform:[{scale:e(r,i(1,s))},{rotate:e(r,i(0,s))}]},initialValues:{transform:[{scale:0},{rotate:a}],...l},callback:o}}})}static createInstance(){return new Li}};m(Li,"presetName","ZoomInRotate");let Yr=Li;const Gi=class Gi extends C{constructor(){super(...arguments);m(this,"build",()=>{const e=this.getDelayFunction(),[i,s]=this.getAnimationAndConfig(),r=this.getDelay(),a=this.callbackV,o=this.initialValues;return l=>{"worklet";return{animations:{transform:[{translateX:e(r,i(0,s))},{scale:e(r,i(1,s))}]},initialValues:{transform:[{translateX:-l.windowWidth},{scale:0}],...o},callback:a}}})}static createInstance(){return new Gi}};m(Gi,"presetName","ZoomInLeft");let _r=Gi;const Yi=class Yi extends C{constructor(){super(...arguments);m(this,"build",()=>{const e=this.getDelayFunction(),[i,s]=this.getAnimationAndConfig(),r=this.getDelay(),a=this.callbackV,o=this.initialValues;return l=>{"worklet";return{animations:{transform:[{translateX:e(r,i(0,s))},{scale:e(r,i(1,s))}]},initialValues:{transform:[{translateX:l.windowWidth},{scale:0}],...o},callback:a}}})}static createInstance(){return new Yi}};m(Yi,"presetName","ZoomInRight");let Br=Yi;const _i=class _i extends C{constructor(){super(...arguments);m(this,"build",()=>{const e=this.getDelayFunction(),[i,s]=this.getAnimationAndConfig(),r=this.getDelay(),a=this.callbackV,o=this.initialValues;return l=>{"worklet";return{animations:{transform:[{translateY:e(r,i(0,s))},{scale:e(r,i(1,s))}]},initialValues:{transform:[{translateY:-l.windowHeight},{scale:0}],...o},callback:a}}})}static createInstance(){return new _i}};m(_i,"presetName","ZoomInUp");let Ur=_i;const Bi=class Bi extends C{constructor(){super(...arguments);m(this,"build",()=>{const e=this.getDelayFunction(),[i,s]=this.getAnimationAndConfig(),r=this.getDelay(),a=this.callbackV,o=this.initialValues;return l=>{"worklet";return{animations:{transform:[{translateY:e(r,i(0,s))},{scale:e(r,i(1,s))}]},initialValues:{transform:[{translateY:l.windowHeight},{scale:0}],...o},callback:a}}})}static createInstance(){return new Bi}};m(Bi,"presetName","ZoomInDown");let Wr=Bi;const Ui=class Ui extends C{constructor(){super(...arguments);m(this,"build",()=>{const e=this.getDelayFunction(),[i,s]=this.getAnimationAndConfig(),r=this.getDelay(),a=this.callbackV,o=this.initialValues;return l=>{"worklet";return{animations:{transform:[{translateY:e(r,i(0,s))},{scale:e(r,i(1,s))}]},initialValues:{transform:[{translateY:-l.targetHeight},{scale:0}],...o},callback:a}}})}static createInstance(){return new Ui}};m(Ui,"presetName","ZoomInEasyUp");let zr=Ui;const Wi=class Wi extends C{constructor(){super(...arguments);m(this,"build",()=>{const e=this.getDelayFunction(),[i,s]=this.getAnimationAndConfig(),r=this.getDelay(),a=this.callbackV,o=this.initialValues;return l=>{"worklet";return{animations:{transform:[{translateY:e(r,i(0,s))},{scale:e(r,i(1,s))}]},initialValues:{transform:[{translateY:l.targetHeight},{scale:0}],...o},callback:a}}})}static createInstance(){return new Wi}};m(Wi,"presetName","ZoomInEasyDown");let qr=Wi;const zi=class zi extends C{constructor(){super(...arguments);m(this,"build",()=>{const e=this.getDelayFunction(),[i,s]=this.getAnimationAndConfig(),r=this.getDelay(),a=this.callbackV,o=this.initialValues;return()=>{"worklet";return{animations:{transform:[{scale:e(r,i(0,s))}]},initialValues:{transform:[{scale:1}],...o},callback:a}}})}static createInstance(){return new zi}};m(zi,"presetName","ZoomOut");let Kr=zi;const qi=class qi extends C{constructor(){super(...arguments);m(this,"build",()=>{const e=this.getDelayFunction(),[i,s]=this.getAnimationAndConfig(),r=this.getDelay(),a=this.rotateV?this.rotateV:"0.3",o=this.callbackV,l=this.initialValues;return()=>{"worklet";return{animations:{transform:[{scale:e(r,i(0,s))},{rotate:e(r,i(a,s))}]},initialValues:{transform:[{scale:1},{rotate:"0"}],...l},callback:o}}})}static createInstance(){return new qi}};m(qi,"presetName","ZoomOutRotate");let jr=qi;const Ki=class Ki extends C{constructor(){super(...arguments);m(this,"build",()=>{const e=this.getDelayFunction(),[i,s]=this.getAnimationAndConfig(),r=this.getDelay(),a=this.callbackV,o=this.initialValues;return l=>{"worklet";return{animations:{transform:[{translateX:e(r,i(-l.windowWidth,s))},{scale:e(r,i(0,s))}]},initialValues:{transform:[{translateX:0},{scale:1}],...o},callback:a}}})}static createInstance(){return new Ki}};m(Ki,"presetName","ZoomOutLeft");let Jr=Ki;const ji=class ji extends C{constructor(){super(...arguments);m(this,"build",()=>{const e=this.getDelayFunction(),[i,s]=this.getAnimationAndConfig(),r=this.getDelay(),a=this.callbackV,o=this.initialValues;return l=>{"worklet";return{animations:{transform:[{translateX:e(r,i(l.windowWidth,s))},{scale:e(r,i(0,s))}]},initialValues:{transform:[{translateX:0},{scale:1}],...o},callback:a}}})}static createInstance(){return new ji}};m(ji,"presetName","ZoomOutRight");let $r=ji;const Ji=class Ji extends C{constructor(){super(...arguments);m(this,"build",()=>{const e=this.getDelayFunction(),[i,s]=this.getAnimationAndConfig(),r=this.getDelay(),a=this.callbackV,o=this.initialValues;return l=>{"worklet";return{animations:{transform:[{translateY:e(r,i(-l.windowHeight,s))},{scale:e(r,i(0,s))}]},initialValues:{transform:[{translateY:0},{scale:1}],...o},callback:a}}})}static createInstance(){return new Ji}};m(Ji,"presetName","ZoomOutUp");let Qr=Ji;const $i=class $i extends C{constructor(){super(...arguments);m(this,"build",()=>{const e=this.getDelayFunction(),[i,s]=this.getAnimationAndConfig(),r=this.getDelay(),a=this.callbackV,o=this.initialValues;return l=>{"worklet";return{animations:{transform:[{translateY:e(r,i(l.windowHeight,s))},{scale:e(r,i(0,s))}]},initialValues:{transform:[{translateY:0},{scale:1}],...o},callback:a}}})}static createInstance(){return new $i}};m($i,"presetName","ZoomOutDown");let Zr=$i;const Qi=class Qi extends C{constructor(){super(...arguments);m(this,"build",()=>{const e=this.getDelayFunction(),[i,s]=this.getAnimationAndConfig(),r=this.getDelay(),a=this.callbackV,o=this.initialValues;return l=>{"worklet";return{animations:{transform:[{translateY:e(r,i(-l.currentHeight,s))},{scale:e(r,i(0,s))}]},initialValues:{transform:[{translateY:0},{scale:1}],...o},callback:a}}})}static createInstance(){return new Qi}};m(Qi,"presetName","ZoomOutEasyUp");let ta=Qi;const Zi=class Zi extends C{constructor(){super(...arguments);m(this,"build",()=>{const e=this.getDelayFunction(),[i,s]=this.getAnimationAndConfig(),r=this.getDelay(),a=this.callbackV,o=this.initialValues;return l=>{"worklet";return{animations:{transform:[{translateY:e(r,i(l.currentHeight,s))},{scale:e(r,i(0,s))}]},initialValues:{transform:[{translateY:0},{scale:1}],...o},callback:a}}})}static createInstance(){return new Zi}};m(Zi,"presetName","ZoomOutEasyDown");let ea=Zi;const ts=class ts extends ze{constructor(){super(...arguments);m(this,"easingXV",it.in(it.ease));m(this,"easingYV",it.out(it.ease));m(this,"easingWidthV",it.in(it.exp));m(this,"easingHeightV",it.out(it.exp));m(this,"build",()=>{const e=this.getDelayFunction(),i=this.callbackV,s=this.getDelay(),r=this.durationV??300,a={easingX:this.easingXV,easingY:this.easingYV,easingWidth:this.easingWidthV,easingHeight:this.easingHeightV};return o=>{"worklet";return{initialValues:{originX:o.currentOriginX,originY:o.currentOriginY,width:o.currentWidth,height:o.currentHeight},animations:{originX:e(s,S(o.targetOriginX,{duration:r,easing:a.easingX})),originY:e(s,S(o.targetOriginY,{duration:r,easing:a.easingY})),width:e(s,S(o.targetWidth,{duration:r,easing:a.easingWidth})),height:e(s,S(o.targetHeight,{duration:r,easing:a.easingHeight}))},callback:i}}})}static createInstance(){return new ts}static easingX(e){return this.createInstance().easingX(e)}easingX(e){return this.easingXV=e,this}static easingY(e){return this.createInstance().easingY(e)}easingY(e){return this.easingYV=e,this}static easingWidth(e){return this.createInstance().easingWidth(e)}easingWidth(e){return this.easingWidthV=e,this}static easingHeight(e){return this.createInstance().easingHeight(e)}easingHeight(e){return this.easingHeightV=e,this}};m(ts,"presetName","CurvedTransition");let na=ts;const es=class es extends ze{constructor(){super(...arguments);m(this,"enteringV",_o);m(this,"exitingV",Bo);m(this,"build",()=>{const e=this.getDelayFunction(),i=this.callbackV,s=this.getDelay(),r=this.enteringV.build(),a=this.exitingV.build(),o=this.exitingV.getDuration();return l=>{"worklet";const c=r(l),h=a(l),d={transform:[]};for(const p of Object.keys(h.animations))if(p==="transform"){if(!Array.isArray(h.animations.transform))continue;h.animations.transform.forEach((v,E)=>{for(const y of Object.keys(v))d.transform.push({[y]:e(s,Q(v[y],S(h.initialValues.transform?h.initialValues.transform[E][y]:0,{duration:0})))})})}else{const v=c.animations[p]!==void 0?[h.animations[p],S(c.initialValues[p],{duration:0}),c.animations[p]]:[h.animations[p],S(Object.keys(l).includes(p)?l[p]:h.initialValues[p],{duration:0})];d[p]=e(s,Q(...v))}for(const p of Object.keys(c.animations))if(p==="transform"){if(!Array.isArray(c.animations.transform))continue;c.animations.transform.forEach((v,E)=>{for(const y of Object.keys(v))d.transform.push({[y]:e(s+o,Q(S(c.initialValues.transform?c.initialValues.transform[E][y]:0,{duration:o}),v[y]))})})}else{if(d[p]!==void 0)continue;d[p]=e(s,Q(S(c.initialValues[p],{duration:0}),c.animations[p]))}const g=(Array.isArray(h.initialValues.transform)?h.initialValues.transform:[]).concat((Array.isArray(c.animations.transform)?c.animations.transform:[]).map(p=>{const v=Object.keys(p);if((v==null?void 0:v.length)<1)return Oe.error("${value} is not a valid Transform object"),p;const E=v[0],y=p[E].current;return typeof y=="string"?y.includes("deg")?{[E]:"0deg"}:{[E]:"0"}:E.includes("translate")?{[E]:0}:{[E]:1}}));return{initialValues:{...h.initialValues,originX:l.currentOriginX,originY:l.currentOriginY,width:l.currentWidth,height:l.currentHeight,transform:g},animations:{originX:e(s+o,S(l.targetOriginX,{duration:o})),originY:e(s+o,S(l.targetOriginY,{duration:o})),width:e(s+o,S(l.targetWidth,{duration:o})),height:e(s+o,S(l.targetHeight,{duration:o})),...d},callback:i}}})}static createInstance(){return new es}static entering(e){return this.createInstance().entering(e)}entering(e){return this.enteringV=e,this}static exiting(e){return this.createInstance().exiting(e)}exiting(e){return this.exitingV=e,this}};m(es,"presetName","EntryExitTransition");let Bn=es;function vh(n,t){return Bn.entering(t).exiting(n)}const ns=class ns extends ze{constructor(){super(...arguments);m(this,"build",()=>{const e=this.getDelayFunction(),i=this.callbackV,s=this.getDelay(),r=(this.durationV??500)/2;return a=>{"worklet";return{initialValues:{opacity:1,originX:a.currentOriginX,originY:a.currentOriginY,width:a.currentWidth,height:a.currentHeight},animations:{opacity:e(s,Q(S(0,{duration:r}),S(1,{duration:r}))),originX:fn(s+r,S(a.targetOriginX,{duration:0})),originY:fn(s+r,S(a.targetOriginY,{duration:0})),width:fn(s+r,S(a.targetWidth,{duration:0})),height:fn(s+r,S(a.targetHeight,{duration:0}))},callback:i}}})}static createInstance(){return new ns}};m(ns,"presetName","FadingTransition");let ia=ns;const is=class is extends ze{constructor(){super(...arguments);m(this,"build",()=>{const e=this.getDelayFunction(),i=this.callbackV,s=this.getDelay(),r=this.durationV??300,a=r/2,o={duration:r};return l=>{"worklet";const c=Math.max(Math.abs(l.targetOriginX-l.currentOriginX),Math.abs(l.targetOriginY-l.currentOriginY));return{initialValues:{originX:l.currentOriginX,originY:l.currentOriginY,width:l.currentWidth,height:l.currentHeight},animations:{originX:e(s,S(l.targetOriginX,o)),originY:e(s,Q(S(Math.min(l.targetOriginY,l.currentOriginY)-c,{duration:a,easing:it.out(it.exp)}),S(l.targetOriginY,{...o,duration:a,easing:it.bounce}))),width:e(s,S(l.targetWidth,o)),height:e(s,S(l.targetHeight,o))},callback:i}}})}static createInstance(){return new is}};m(is,"presetName","JumpingTransition");let sa=is;const ss=class ss extends C{constructor(){super(...arguments);m(this,"build",()=>{const e=this.getDelayFunction(),[i,s]=this.getAnimationAndConfig(),r=this.callbackV,a=this.getDelay();return o=>{"worklet";return{initialValues:{originX:o.currentOriginX,originY:o.currentOriginY,width:o.currentWidth,height:o.currentHeight},animations:{originX:e(a,i(o.targetOriginX,s)),originY:e(a,i(o.targetOriginY,s)),width:e(a,i(o.targetWidth,s)),height:e(a,i(o.targetHeight,s))},callback:r}}})}static createInstance(){return new ss}};m(ss,"presetName","LinearTransition");let Un=ss;const Eh=Un,En=class En extends ze{constructor(){super(...arguments);m(this,"reversed",!1);m(this,"build",()=>{const e=this.getDelayFunction(),i=this.callbackV,s=this.getDelay(),a={duration:(this.durationV??500)/2},o=this.reversed;return l=>{"worklet";return{initialValues:{originX:l.currentOriginX,originY:l.currentOriginY,width:l.currentWidth,height:l.currentHeight},animations:{originX:e(s,Q(S(o?l.currentOriginX:l.targetOriginX,a),S(l.targetOriginX,a))),originY:e(s,Q(S(o?l.targetOriginY:l.currentOriginY,a),S(l.targetOriginY,a))),width:e(s,Q(S(o?l.currentWidth:l.targetWidth,a),S(l.targetWidth,a))),height:e(s,Q(S(o?l.targetHeight:l.currentHeight,a),S(l.targetHeight,a)))},callback:i}}})}static createInstance(){return new En}static reverse(){return En.createInstance().reverse()}reverse(){return this.reversed=!this.reversed,this}};m(En,"presetName","SequencedTransition");let ra=En;function os(n,t){const e=u.useRef(null);if(e.current===null){const o=Hc({});e.current={context:o,savedDependencies:[]}}u.useEffect(()=>()=>{e.current=null},[]);const{context:i,savedDependencies:s}=e.current;t=wu(t,n);const r=!Ou(t,s);e.current.savedDependencies=t;const a=Yo()||Fc();return{context:i,doDependenciesDiffer:r,useWeb:a}}const Tt={UNDETERMINED:0,FAILED:1,BEGAN:2,CANCELLED:3,ACTIVE:4,END:5};function yh(n,t){const{context:e,doDependenciesDiffer:i,useWeb:s}=os(n,t),r=a=>{"worklet";const o=s?a.nativeEvent:a;o.state===Tt.BEGAN&&n.onStart&&n.onStart(o,e),o.state===Tt.ACTIVE&&n.onActive&&n.onActive(o,e),o.oldState===Tt.ACTIVE&&o.state===Tt.END&&n.onEnd&&n.onEnd(o,e),o.oldState===Tt.BEGAN&&o.state===Tt.FAILED&&n.onFail&&n.onFail(o,e),o.oldState===Tt.ACTIVE&&o.state===Tt.CANCELLED&&n.onCancel&&n.onCancel(o,e),(o.oldState===Tt.BEGAN||o.oldState===Tt.ACTIVE)&&o.state!==Tt.BEGAN&&o.state!==Tt.ACTIVE&&n.onFinish&&n.onFinish(o,e,o.state===Tt.CANCELLED||o.state===Tt.FAILED)};return s?r:as(r,["onGestureHandlerStateChange","onGestureHandlerEvent"],i)}function Sh(n={isStatusBarTranslucentAndroid:void 0,isNavigationBarTranslucentAndroid:void 0}){const t=u.useRef(null),e=u.useRef(-1),i=u.useRef(!1);if(t.current===null){const s={state:_e(Uo.UNKNOWN),height:_e(0)};e.current=ro((r,a)=>{"worklet";s.state.value=r,s.height.value=a},n),t.current=s,i.current=!0}return u.useEffect(()=>{if(i.current===!1&&t.current!==null){const s=t.current;e.current=ro((r,a)=>{"worklet";s.state.value=r,s.height.value=a},n),i.current=!0}return()=>{Xc(e.current),i.current=!1}},[]),t.current}function bh(n,t,e){return qt(n,t,e,!0)}const Th=qt,ls=rs()?bh:Th;function ne(n,t,e){const i=H(null);let s=Object.values(n.__closure??{});rs()&&!s.length&&e!=null&&e.length&&(s=e),e===void 0?e=[...Object.values(n.__closure??{}),...Object.values(t.__closure??{}),n.__workletHash,t.__workletHash]:e.push(n.__workletHash,t.__workletHash),u.useEffect(()=>{const a=Oa(()=>{"worklet";const o=n();t(o,i.value),i.value=o},s);return()=>{Aa(a)}},e)}function Ch(n,t){const e=typeof n=="function"?{onScroll:n}:n,{context:i,doDependenciesDiffer:s}=os(e,t),r=["onScroll"];return e.onBeginDrag!==void 0&&r.push("onScrollBeginDrag"),e.onEndDrag!==void 0&&r.push("onScrollEndDrag"),e.onMomentumBegin!==void 0&&r.push("onMomentumScrollBegin"),e.onMomentumEnd!==void 0&&r.push("onMomentumScrollEnd"),as(a=>{"worklet";const{onScroll:o,onBeginDrag:l,onEndDrag:c,onMomentumBegin:h,onMomentumEnd:d}=e;o&&a.eventName.endsWith("onScroll")?o(a,i):l&&a.eventName.endsWith("onScrollBeginDrag")?l(a,i):c&&a.eventName.endsWith("onScrollEndDrag")?c(a,i):h&&a.eventName.endsWith("onMomentumScrollBegin")?h(a,i):d&&a.eventName.endsWith("onMomentumScrollEnd")&&d(a,i)},r,s)}function Dh(n,t,e){"worklet";const i=Math.cos(n/2),s=Math.sin(n/2),r=Math.cos(t/2),a=Math.sin(t/2),o=Math.cos(e/2),l=Math.sin(e/2);return[s*r*o-i*a*l,i*a*o+s*r*l,i*r*l+s*a*o,i*r*o-s*a*l]}function wh(n){"worklet";const{interfaceOrientation:t,pitch:e,roll:i,yaw:s}=n;t===De.ROTATION_90?(n.pitch=i,n.roll=-e,n.yaw=s-Math.PI/2):t===De.ROTATION_270?(n.pitch=-i,n.roll=e,n.yaw=s+Math.PI/2):t===De.ROTATION_180&&(n.pitch*=-1,n.roll*=-1,n.yaw*=-1);const r=Dh(n.pitch,n.roll,n.yaw);return n.qx=r[0],n.qy=r[1],n.qz=r[2],n.qw=r[3],n}function Oh(n){"worklet";const{interfaceOrientation:t,x:e,y:i}=n;return t===De.ROTATION_90?(n.x=-i,n.y=e):t===De.ROTATION_270?(n.x=i,n.y=-e):t===De.ROTATION_180&&(n.x*=-1,n.y*=-1),n}function Ah(n,t){var a,o,l;const e=u.useRef(t);(((a=e.current)==null?void 0:a.adjustToInterfaceOrientation)!==(t==null?void 0:t.adjustToInterfaceOrientation)||((o=e.current)==null?void 0:o.interval)!==(t==null?void 0:t.interval)||((l=e.current)==null?void 0:l.iosReferenceFrame)!==(t==null?void 0:t.iosReferenceFrame))&&(e.current={...t});const s=u.useMemo(()=>({interval:"auto",adjustToInterfaceOrientation:!0,iosReferenceFrame:Wo.Auto,...e.current}),[e.current]),r=u.useRef({sensor:ao(n,s),unregister:()=>{},isAvailable:!1,config:s});return u.useEffect(()=>{r.current={sensor:ao(n,s),unregister:()=>{},isAvailable:!1,config:s};const c=r.current.sensor,h=r.current.config.adjustToInterfaceOrientation,d=Lc(n,s,g=>{"worklet";h&&(n===zo.ROTATION?g=wh(g):g=Oh(g)),c.value=g,Yc()});return d!==-1?(r.current.unregister=()=>Gc(d),r.current.isAvailable=!0):(r.current.unregister=()=>{},r.current.isAvailable=!1),()=>{r.current.unregister()}},[n,s]),r.current}function Ph(n){const t={},e=new Set,i={};n.filter(r=>r!==null).forEach(r=>{const{workletEventHandler:a}=r;a instanceof _c&&a.eventNames.forEach(o=>{e.add(o),i[o]?i[o].push(a.worklet):i[o]=[a.worklet];const l=o+`${i[o].length}`;t[l]=a.worklet})});const{doDependenciesDiffer:s}=os(t);return as(r=>{"worklet";i[r.eventName]&&i[r.eventName].forEach(a=>a(r))},Array.from(e),s)}function kt(n,t){const e=u.useRef(null);let i=Object.values(n.__closure??{});rs()&&!i.length&&t!=null&&t.length&&(i=t),t===void 0?t=[...i,n.__workletHash]:t.push(n.__workletHash),e.current===null&&(e.current=_e(Bc(n)));const s=e.current;return u.useEffect(()=>{const a=Oa(()=>{"worklet";s.value=n()},i,[s]);return()=>{Aa(a)}},t),s}const Nh=Uc(()=>{"worklet";const n={frameCallbackRegistry:new Map,activeFrameCallbacks:new Set,previousFrameTimestamp:null,nextCallId:0,runCallbacks(t){const e=i=>{if(t!==this.nextCallId)return;this.previousFrameTimestamp===null&&(this.previousFrameTimestamp=i);const s=i-this.previousFrameTimestamp;this.activeFrameCallbacks.forEach(r=>{const a=this.frameCallbackRegistry.get(r),{startTime:o}=a;o===null?(a.startTime=i,a.callback({timestamp:i,timeSincePreviousFrame:null,timeSinceFirstFrame:0})):a.callback({timestamp:i,timeSincePreviousFrame:s,timeSinceFirstFrame:i-o})}),this.activeFrameCallbacks.size>0?(this.previousFrameTimestamp=i,requestAnimationFrame(e)):this.previousFrameTimestamp=null};this.activeFrameCallbacks.size===1&&t===this.nextCallId&&requestAnimationFrame(e)},registerFrameCallback(t,e){this.frameCallbackRegistry.set(e,{callback:t,startTime:null})},unregisterFrameCallback(t){this.manageStateFrameCallback(t,!1),this.frameCallbackRegistry.delete(t)},manageStateFrameCallback(t,e){if(t!==-1)if(e)this.activeFrameCallbacks.add(t),this.runCallbacks(this.nextCallId);else{const i=this.frameCallbackRegistry.get(t);i.startTime=null,this.activeFrameCallbacks.delete(t),this.activeFrameCallbacks.size===0&&(this.nextCallId+=1)}}};global._frameCallbackRegistry=n});class Ih{constructor(){m(this,"nextCallbackId",0);Nh()}registerFrameCallback(t){if(!t)return-1;const e=this.nextCallbackId;return this.nextCallbackId++,Ht(()=>{global._frameCallbackRegistry.registerFrameCallback(t,e)})(),e}unregisterFrameCallback(t){Ht(()=>{global._frameCallbackRegistry.unregisterFrameCallback(t)})()}manageStateFrameCallback(t,e){Ht(()=>{global._frameCallbackRegistry.manageStateFrameCallback(t,e)})()}}const As=new Ih;function sl(n,t=!0){const e=u.useRef({setActive:i=>{As.manageStateFrameCallback(e.current.callbackId,i),e.current.isActive=i},isActive:t,callbackId:-1});return u.useEffect(()=>{e.current.callbackId=As.registerFrameCallback(n);const i=e.current;return e.current.setActive(e.current.isActive),()=>{As.unregisterFrameCallback(i.callbackId),i.callbackId=-1}},[n,t]),e.current}const kh=qo();function rl(){return kh}function mt(n,t){return u.useCallback(n,t??[])}function al(n){"worklet";return{next:0,buffer:new Float32Array(n),size:n,count:0,push(t){const e=this.buffer[this.next],i=this.count;return this.buffer[this.next]=t,this.next=(this.next+1)%this.size,this.count=Math.min(this.size,this.count+1),i===this.size?e:null},front(){if(this.count>0){const e=this.next-1,i=e<0?this.size-1:e;return this.buffer[i]}return null},back(){return this.count>0?this.buffer[this.next]:null}}}const xh=20;Ko({text:!0});const ol=Wc(Qo);function Rh(n){let t=0;function e(){requestAnimationFrame(i=>{t>0&&n(t,i),t=i,requestAnimationFrame(e)})}e()}function Vh(n){"worklet";return 1e3/n}function ll(n,t){"worklet";t=Math.round(t);const e=n.push(t)??t,i=t-e;return Vh(i/n.count)}function Mh({smoothingFrames:n}){const t=H(null),e=H(0),i=u.useRef(al(n));u.useEffect(()=>{Rh((r,a)=>{a=Math.round(a);const o=ll(i.current,a);t.value=(o*2).toFixed(0)})},[t,e]);const s=ls(()=>{const r="JS: "+(t.value??"N/A")+" ";return{text:r,defaultValue:r}});return Z.createElement(Pt,{style:yn.container},Z.createElement(ol,{style:yn.text,animatedProps:s,editable:!1}))}function Hh({smoothingFrames:n}){const t=H(null),e=H(null);sl(({timestamp:s})=>{e.value===null&&(e.value=al(n)),s=Math.round(s);const r=ll(e.value,s);t.value=r.toFixed(0)});const i=ls(()=>{const s="UI: "+(t.value??"N/A")+" ";return{text:s,defaultValue:s}});return Z.createElement(Pt,{style:yn.container},Z.createElement(ol,{style:yn.text,animatedProps:i,editable:!1}))}function Fh({smoothingFrames:n=xh}){return Z.createElement(Pt,{style:yn.monitor},Z.createElement(Mh,{smoothingFrames:n}),Z.createElement(Hh,{smoothingFrames:n}))}const yn=Y.create({monitor:{flexDirection:"row",position:"absolute",backgroundColor:"#0006",zIndex:1e3},header:{fontSize:14,color:"#ffff",paddingHorizontal:5},text:{fontSize:13,fontVariant:["tabular-nums"],color:"#ffff",fontFamily:"monospace",paddingHorizontal:3},container:{alignItems:"center",justifyContent:"center",flexDirection:"row",flexWrap:"wrap"}});function Xh({mode:n}){return u.useEffect(()=>{},[]),u.useEffect(()=>{const t=sn.jsValue;switch(n){case Xe.System:sn.setEnabled(qo());break;case Xe.Always:sn.setEnabled(!0);break;case Xe.Never:sn.setEnabled(!1);break}return()=>{sn.setEnabled(t)}},[n]),null}function Lh(){}function Gh(){}function Yh(){}function _h(){}function Bh(){}function Uh(){Oe.warn("dispatchCommand() is not supported on web.")}function cl(n){const t=n();if(t===-1)return Oe.warn(`The view with tag ${t} is not a valid argument for measure(). This may be because the view is not currently rendered, which may not be a bug (e.g. an off-screen FlatList item).`),null;const e=t.getBoundingClientRect();return{width:t.offsetWidth,height:t.offsetHeight,x:t.offsetLeft,y:t.offsetTop,pageX:e.left,pageY:e.top}}function Wh(n,t,e){"worklet";const i=cl(n);return i===null?null:{x:t-i.pageX,y:e-i.pageY}}function zh(n,t,e,i){const s=n();if(s!==-1){const r=s;r==null||r.scrollTo({x:t,y:e,animated:i})}}function qh(){Oe.warn("setGestureState() is not available on web.")}function Kh(n,t){const e=n();zc(t,e)}function jh(){return"It looks like you might be using shared value's .value inside reanimated inline style. If you want a component to update when shared value changes you should use the shared value directly instead of its current state represented by `.value`. See documentation here: https://docs.swmansion.com/react-native-reanimated/docs/fundamentals/glossary/#animations-in-inline-styling"}function Jh(n,t){const e={};return t==null||t.forEach(i=>{e[i]=!0}),Ko(e),n}const $h=qc();function Qh(n){"worklet";return{tag:n,name:"RCTView"}}function Zh(n){"worklet";return{shadowNodeWrapper:n}}const ul=$h?Zh:Qh;function td(n,t){"worklet";const{screenDimensions:e,topScreenId:i,screenTransition:s}=n,{topScreenStyle:r}=s,a=r(t,e),o={value:[ul(i)]};jo(o,a,void 0)}function hl(n,t){"worklet";const{screenDimensions:e,belowTopScreenId:i,screenTransition:s}=n,{belowTopScreenStyle:r}=s,a=r(t,e),o={value:[ul(i)]};jo(o,a,void 0)}function aa(n,t){"worklet";td(n,t),hl(n,t)}function Ps(n){return()=>{"worklet";return Oe.warn("RNScreensTurboModule has not been found. Check that you have installed `react-native-screens@3.30.0` or newer in your project and rebuilt your app."),n}}const ed=global.RNScreensTurboModule||{startTransition:Ps({topScreenId:-1,belowTopScreenId:-1,canStartTransition:!1}),updateTransition:Ps(),finishTransition:Ps()},Ns=400,nd=400,id=500,sd=600;function In(n,t,e){"worklet";if(Math.abs(t)<1)return 1;const i=(_getAnimationTimestamp()-n)/1e3;return e*i/t}function kn(n){"worklet";return 1-Math.pow(1-n,5)}function rd(n,t,e){"worklet";const i=n.screenDimensions,s=Math.abs(t.translationX/i.width),r=Math.abs(t.translationY/i.height),a=Math.max(s,r);return e?a/2:a}function co(n,t,e,i,s){"worklet";var r;if(t)(r=e.onFinishAnimation)==null||r.call(e);else{const a=e.stackTag,o=rd(e,i,s);ed.updateTransition(a,o),requestAnimationFrame(n)}}function ad(n,t,e){"worklet";const i=t.screenDimensions,s=_getAnimationTimestamp(),{isTransitionCanceled:r}=t,a={x:n.translationX,y:n.translationY},o={x:Math.sign(n.translationX),y:Math.sign(n.translationY)},l=r?{x:0,y:0}:{x:o.x*i.width,y:o.y*i.height},c={x:Math.abs(l.x-a.x),y:Math.abs(l.y-a.y)},h={x:!1,y:!1},d={x:Ns,y:Ns};if(e==="x")d.y=0,d.x+=nd*c.x/i.width;else if(e==="y")d.x=0,d.y+=id*c.y/i.height;else{const g=Math.sqrt(c.x**2+c.y**2),p=Math.sqrt(i.width**2+i.height**2),v=Ns+sd*g/p;Math.abs(a.x)>Math.abs(a.y)?(d.x=v,d.y=v*Math.abs(a.y/a.x)):(d.x=v*Math.abs(a.x/a.y),d.y=v)}if(r){let g=function(){return e==="x"?h.x:(e==="y"||h.x)&&h.y},p=function(){n.translationX=o.x*i.width,n.translationY=o.y*i.height,hl(t,n)};const v=()=>{const E={x:In(s,c.x,d.x),y:In(s,c.y,d.y)};n.translationX=a.x-o.x*c.x*kn(E.x),n.translationY=a.y-o.y*c.y*kn(E.y),o.x>0?n.translationX<=0&&(h.x=!0,n.translationX=0):n.translationX>=0&&(h.x=!0,n.translationX=0),o.y>0?n.translationY<=0&&(h.y=!0,n.translationY=0):n.translationY>=0&&(h.y=!0,n.translationY=0),aa(t,n);const y=g();y&&p(),co(v,y,t,n,r)};return v}else{const g=()=>{const p={x:In(s,c.x,d.x),y:In(s,c.y,d.y)};n.translationX=a.x+o.x*c.x*kn(p.x),n.translationY=a.y+o.y*c.y*kn(p.y),o.x>0?n.translationX>=i.width&&(h.x=!0,n.translationX=i.width):n.translationX<=-i.width&&(h.x=!0,n.translationX=-i.width),o.y>0?n.translationY>=i.height&&(h.y=!0,n.translationY=i.height):n.translationY<=-i.height&&(h.y=!0,n.translationY=-i.height),aa(t,n),co(g,h.x||h.y,t,n,r)};return g}}Kc();function od(n){"worklet";const{stackTag:t,sharedEvent:e}=n;e.addListener(t,()=>{aa(n,e.value)})}function ld(n){"worklet";if(["swipeRight","swipeLeft","horizontalSwipe"].includes(n))return"x";if(["swipeUp","swipeDown","verticalSwipe"].includes(n))return"y"}function cd(n){"worklet";const{stackTag:t,sharedEvent:e,goBackGesture:i}=n;e.removeListener(t);const s=ld(i);ad(e.value,n,s)()}const ud={topScreenStyle:n=>{"worklet";return{transform:[{translateX:n.translationX}]}},belowTopScreenStyle:(n,t)=>{"worklet";return{transform:[{translateX:(n.translationX-t.width)*.3}]}}},hd={topScreenStyle:n=>{"worklet";return{transform:[{translateX:n.translationX}]}},belowTopScreenStyle:(n,t)=>{"worklet";return{transform:[{translateX:(n.translationX+t.width)*.3}]}}},dd={topScreenStyle:n=>{"worklet";return{transform:[{translateY:n.translationY}]}},belowTopScreenStyle:(n,t)=>{"worklet";return{transform:[{translateY:(n.translationY-t.height)*.3}]}}},fd={topScreenStyle:n=>{"worklet";return{transform:[{translateY:n.translationY}]}},belowTopScreenStyle:(n,t)=>{"worklet";return{transform:[{translateY:(n.translationY+t.height)*.3}]}}},gd={topScreenStyle:(n,t)=>{"worklet";return{transform:[{translateX:n.translationX},{translateY:n.translationY}]}},belowTopScreenStyle:(n,t)=>{"worklet";return{}}},md={topScreenStyle:(n,t)=>{"worklet";return{transform:[{translateX:n.translationX}]}},belowTopScreenStyle:(n,t)=>{"worklet";return{}}},pd={topScreenStyle:(n,t)=>{"worklet";return{transform:[{translateY:n.translationY}]}},belowTopScreenStyle:(n,t)=>{"worklet";return{}}},vd={topScreenStyle:(n,t)=>{"worklet";return{opacity:1-Math.abs(n.translationX/t.width)}},belowTopScreenStyle:(n,t)=>{"worklet";return{}}},Ed={SwipeRight:ud,SwipeLeft:hd,SwipeDown:dd,SwipeUp:fd,Horizontal:md,Vertical:pd,TwoDimensional:gd,SwipeRightFade:vd},yd=Object.freeze(Object.defineProperty({__proto__:null,BaseAnimationBuilder:ze,BounceIn:Js,BounceInDown:$s,BounceInLeft:Zs,BounceInRight:tr,BounceInUp:Qs,BounceOut:er,BounceOutDown:nr,BounceOutLeft:sr,BounceOutRight:rr,BounceOutUp:ir,ColorSpace:Au,ComplexAnimationBuilder:C,CurvedTransition:na,Easing:it,EntryExitTransition:Bn,Extrapolate:Pu,Extrapolation:Na,FadeIn:_o,FadeInDown:jc,FadeInLeft:Jc,FadeInRight:$c,FadeInUp:Qc,FadeOut:Bo,FadeOutDown:Zc,FadeOutLeft:tu,FadeOutRight:eu,FadeOutUp:nu,FadingTransition:ia,FlipInEasyX:ur,FlipInEasyY:hr,FlipInXDown:lr,FlipInXUp:ar,FlipInYLeft:or,FlipInYRight:cr,FlipOutEasyX:pr,FlipOutEasyY:vr,FlipOutXDown:gr,FlipOutXUp:dr,FlipOutYLeft:fr,FlipOutYRight:mr,IOSReferenceFrame:Wo,InterfaceOrientation:De,JumpingTransition:sa,KeyboardState:Uo,Keyframe:iu,Layout:Eh,LayoutAnimationConfig:su,LightSpeedInLeft:yr,LightSpeedInRight:Er,LightSpeedOutLeft:br,LightSpeedOutRight:Sr,LinearTransition:Un,PerformanceMonitor:Fh,PinwheelIn:Tr,PinwheelOut:Cr,ReanimatedLogLevel:ru,ReduceMotion:Xe,ReducedMotionConfig:Xh,RollInLeft:Dr,RollInRight:wr,RollOutLeft:Or,RollOutRight:Ar,RotateInDownLeft:Pr,RotateInDownRight:Nr,RotateInUpLeft:Ir,RotateInUpRight:kr,RotateOutDownLeft:xr,RotateOutDownRight:Rr,RotateOutUpLeft:Vr,RotateOutUpRight:Mr,ScreenTransition:Ed,SensorType:zo,SequencedTransition:ra,SharedTransition:au,SharedTransitionType:ou,SlideInDown:Nu,SlideInLeft:Iu,SlideInRight:ku,SlideInUp:xu,SlideOutDown:Ru,SlideOutLeft:Vu,SlideOutRight:Mu,SlideOutUp:Hu,StretchInX:Hr,StretchInY:Fr,StretchOutX:Xr,StretchOutY:Lr,ZoomIn:Gr,ZoomInDown:Wr,ZoomInEasyDown:qr,ZoomInEasyUp:zr,ZoomInLeft:_r,ZoomInRight:Br,ZoomInRotate:Yr,ZoomInUp:Ur,ZoomOut:Kr,ZoomOutDown:Zr,ZoomOutEasyDown:ea,ZoomOutEasyUp:ta,ZoomOutLeft:Jr,ZoomOutRight:$r,ZoomOutRotate:jr,ZoomOutUp:Qr,advanceAnimationByFrame:Yh,advanceAnimationByTime:Gh,cancelAnimation:Pa,clamp:Fu,combineTransition:vh,configureReanimatedLogger:lu,convertToRGBA:cu,createAnimatedPropAdapter:Jh,createWorkletRuntime:oh,default:pt,defineAnimation:wa,dispatchCommand:Uh,enableLayoutAnimations:uu,executeOnUIRuntimeSync:hu,finishScreenTransition:cd,getAnimatedStyle:Bh,getRelativeCoords:Wh,getUseOfValueInStyleWarning:jh,getViewProp:du,interpolate:Ia,interpolateColor:Xu,isColor:fu,isConfigured:gu,isReanimated3:mu,isSharedValue:pu,isWorkletFunction:vu,makeMutable:_e,makeShareableCloneRecursive:Da,measure:cl,processColor:Eu,runOnJS:we,runOnRuntime:lh,runOnUI:Ht,scrollTo:zh,setGestureState:qh,setNativeProps:Kh,setUpTests:_h,startMapper:Oa,startScreenTransition:od,stopMapper:Aa,useAnimatedGestureHandler:yh,useAnimatedKeyboard:Sh,useAnimatedProps:ls,useAnimatedReaction:ne,useAnimatedRef:yu,useAnimatedScrollHandler:Ch,useAnimatedSensor:Ah,useAnimatedStyle:qt,useComposedEventHandler:Ph,useDerivedValue:kt,useEvent:as,useFrameCallback:sl,useHandler:os,useInterpolateConfig:Lu,useReducedMotion:rl,useScrollViewOffset:Su,useSharedValue:H,useWorkletCallback:mt,withClamp:ch,withDecay:ph,withDelay:fn,withReanimatedTimer:Lh,withRepeat:Gu,withSequence:Q,withSpring:Jo,withTiming:S},Symbol.toStringTag,{value:"Module"})),f={UNDETERMINED:0,FAILED:1,BEGAN:2,CANCELLED:3,ACTIVE:4,END:5},se={UNDETERMINED:0,TOUCHES_DOWN:1,TOUCHES_MOVE:2,TOUCHES_UP:3,TOUCHES_CANCELLED:4};var Sd={NODE_ENV:'"production"'};function bd(n){return Array.isArray(n)?n:[n]}function Td(n,t){return Object.prototype.hasOwnProperty.call(n,t)}function xa(){return Td(global,"process")&&!!Sd.JEST_WORKER_ID}function Sn(n){return`[react-native-gesture-handler] ${n}`}function Cd(){var n;return!!((n=global)!==null&&n!==void 0&&n.nativeFabricUIManager)}function Dd(){const n=global;return(!n.nativeCallSyncHook||!!n.__REMOTEDEV__)&&!n.RN$Bridgeless}function dl(n,t){if(n===t)return!0;if(typeof n!="object"||typeof t!="object"||n===null||t===null)return!1;const e=Object.keys(n),i=Object.keys(t);if(e.length!==i.length)return!1;for(const s of e)if(!i.includes(s)||!dl(n[s],t[s]))return!1;return!0}const Hn={},Ra=new Map,fl=new Map,gl=new Map;function ml(n,t,e){Ra.set(n,t),xa()&&e&&gl.set(e,n)}function wd(n,t){fl.set(n,t)}function Od(n,t){Ra.delete(n),xa()&&t&&gl.delete(t)}function Ad(n){return Ra.get(n)}function Pd(n){return fl.get(n)}function Nd(n,t,e){return t in n?Object.defineProperty(n,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):n[t]=e,n}class xt{static getHandler(t){if(t in this.gestures)return this.gestures[t];throw new Error(`No handler for tag ${t}`)}static createGestureHandler(t,e){if(t in this.gestures)throw new Error(`Handler with tag ${t} already exists. Please ensure that no Gesture instance is used across multiple GestureDetectors.`);this.gestures[t]=e,this.gestures[t].setTag(t)}static dropGestureHandler(t){t in this.gestures&&(this.gestures[t].onDestroy(),delete this.gestures[t])}static getNodes(){return{...this.gestures}}}Nd(xt,"gestures",{});const pl={create(n){return{begin:()=>{xt.getHandler(n).begin()},activate:()=>{xt.getHandler(n).activate(!0)},fail:()=>{xt.getHandler(n).fail()},end:()=>{xt.getHandler(n).end()}}}};let Fn=null,Xn=null;const xn=new Map,rn=[];function uo(n){return n.oldState!=null}function Id(n){return n.eventType!=null}function Wn(n){var t,e,i,s,r,a,o,l;const c=Ad(n.handlerTag);if(c)if(uo(n)){if(n.oldState===f.UNDETERMINED&&n.state===f.BEGAN){var h,d;(h=(d=c.handlers).onBegin)===null||h===void 0||h.call(d,n)}else if((n.oldState===f.BEGAN||n.oldState===f.UNDETERMINED)&&n.state===f.ACTIVE){var g,p;(g=(p=c.handlers).onStart)===null||g===void 0||g.call(p,n),rn[c.handlers.handlerTag]=n}else if(n.oldState!==n.state&&n.state===f.END){var v,E;if(n.oldState===f.ACTIVE){var y,L;(y=(L=c.handlers).onEnd)===null||y===void 0||y.call(L,n,!0)}(v=(E=c.handlers).onFinalize)===null||v===void 0||v.call(E,n,!0),rn[c.handlers.handlerTag]=void 0}else if((n.state===f.FAILED||n.state===f.CANCELLED)&&n.oldState!==n.state){var V,w;if(n.oldState===f.ACTIVE){var N,z;(N=(z=c.handlers).onEnd)===null||N===void 0||N.call(z,n,!1)}(V=(w=c.handlers).onFinalize)===null||V===void 0||V.call(w,n,!1),xn.delete(n.handlerTag),rn[c.handlers.handlerTag]=void 0}}else if(Id(n)){xn.has(n.handlerTag)||xn.set(n.handlerTag,pl.create(n.handlerTag));const I=xn.get(n.handlerTag);switch(n.eventType){case se.TOUCHES_DOWN:(t=c.handlers)===null||t===void 0||(e=t.onTouchesDown)===null||e===void 0||e.call(t,n,I);break;case se.TOUCHES_MOVE:(i=c.handlers)===null||i===void 0||(s=i.onTouchesMove)===null||s===void 0||s.call(i,n,I);break;case se.TOUCHES_UP:(r=c.handlers)===null||r===void 0||(a=r.onTouchesUp)===null||a===void 0||a.call(r,n,I);break;case se.TOUCHES_CANCELLED:(o=c.handlers)===null||o===void 0||(l=o.onTouchesCancelled)===null||l===void 0||l.call(o,n,I);break}}else{var M,K;if((M=(K=c.handlers).onUpdate)===null||M===void 0||M.call(K,n),c.handlers.onChange&&c.handlers.changeEventCalculator){var x,k,_,G;(x=(k=c.handlers).onChange)===null||x===void 0||x.call(k,(_=(G=c.handlers).changeEventCalculator)===null||_===void 0?void 0:_.call(G,n,rn[c.handlers.handlerTag])),rn[c.handlers.handlerTag]=n}}else{const I=Pd(n.handlerTag);if(I){const tt={nativeEvent:n};uo(n)?I.onGestureStateChange(tt):I.onGestureEvent(tt);return}}}function kd(){xd(),Fn=oo.addListener("onGestureHandlerEvent",Wn),Xn=oo.addListener("onGestureHandlerStateChange",Wn)}function xd(){Fn&&(Fn.remove(),Fn=null),Xn&&(Xn.remove(),Xn=null)}const Be=15,Rd=.1;let P;(function(n){n[n.DOWN=0]="DOWN",n[n.ADDITIONAL_POINTER_DOWN=1]="ADDITIONAL_POINTER_DOWN",n[n.UP=2]="UP",n[n.ADDITIONAL_POINTER_UP=3]="ADDITIONAL_POINTER_UP",n[n.MOVE=4]="MOVE",n[n.ENTER=5]="ENTER",n[n.LEAVE=6]="LEAVE",n[n.CANCEL=7]="CANCEL"})(P||(P={}));let he;(function(n){n[n.UNDETERMINED=0]="UNDETERMINED",n[n.DOWN=1]="DOWN",n[n.MOVE=2]="MOVE",n[n.UP=3]="UP",n[n.CANCELLED=4]="CANCELLED"})(he||(he={}));let de;(function(n){n[n.UNDETERMINED=0]="UNDETERMINED",n[n.MOUSE=1]="MOUSE",n[n.TOUCHPAD=2]="TOUCHPAD"})(de||(de={}));let At;(function(n){n[n.TOUCH=0]="TOUCH",n[n.STYLUS=1]="STYLUS",n[n.MOUSE=2]="MOUSE",n[n.KEY=3]="KEY",n[n.OTHER=4]="OTHER"})(At||(At={}));function Rn(n,t,e){return t in n?Object.defineProperty(n,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):n[t]=e,n}class Vd{constructor(t){Rn(this,"bufferSize",void 0),Rn(this,"buffer",void 0),Rn(this,"index",void 0),Rn(this,"actualSize",void 0),this.bufferSize=t,this.buffer=new Array(t),this.index=0,this.actualSize=0}get size(){return this.actualSize}push(t){this.buffer[this.index]=t,this.index=(this.index+1)%this.bufferSize,this.actualSize=Math.min(this.actualSize+1,this.bufferSize)}get(t){if(this.actualSize===this.bufferSize){let e=(this.index+t)%this.bufferSize;return e<0&&(e+=this.bufferSize),this.buffer[e]}else return this.buffer[t]}clear(){this.buffer=new Array(this.bufferSize),this.index=0,this.actualSize=0}}function oe(n,t,e){return t in n?Object.defineProperty(n,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):n[t]=e,n}let vl=class El{constructor(t){oe(this,"offset",void 0),oe(this,"length",void 0),oe(this,"elements",void 0),this.offset=0,this.length=t,this.elements=new Array(t)}static fromVOL(t,e,i){const s=new El(0);return s.offset=e,s.length=i,s.elements=t,s}get(t){return this.elements[this.offset+t]}set(t,e){this.elements[this.offset+t]=e}dot(t){let e=0;for(let i=0;i<this.length;i++)e+=this.get(i)*t.get(i);return e}norm(){return Math.sqrt(this.dot(this))}};class Is{constructor(t,e){oe(this,"columns",void 0),oe(this,"elements",void 0),this.columns=e,this.elements=new Array(t*e)}get(t,e){return this.elements[t*this.columns+e]}set(t,e,i){this.elements[t*this.columns+e]=i}getRow(t){return vl.fromVOL(this.elements,t*this.columns,this.columns)}}class Md{constructor(t){oe(this,"coefficients",void 0),this.coefficients=new Array(t+1)}}const Hd=1e-10;class ho{constructor(t,e,i){oe(this,"x",void 0),oe(this,"y",void 0),oe(this,"w",void 0),this.x=t,this.y=e,this.w=i}solve(t){if(t>this.x.length)return null;const e=new Md(t),i=this.x.length,s=t+1,r=new Is(s,i);for(let c=0;c<i;c++){r.set(0,c,this.w[c]);for(let h=1;h<s;h++)r.set(h,c,r.get(h-1,c)*this.x[c])}const a=new Is(s,i),o=new Is(s,i);for(let c=0;c<s;c+=1){for(let g=0;g<i;g+=1)a.set(c,g,r.get(c,g));for(let g=0;g<c;g+=1){const p=a.getRow(c).dot(a.getRow(g));for(let v=0;v<i;v+=1)a.set(c,v,a.get(c,v)-p*a.get(g,v))}const h=a.getRow(c).norm();if(h<Hd)return null;const d=1/h;for(let g=0;g<i;g+=1)a.set(c,g,a.get(c,g)*d);for(let g=0;g<s;g+=1)o.set(c,g,g<c?0:a.getRow(c).dot(r.getRow(g)))}const l=new vl(i);for(let c=0;c<i;c+=1)l.set(c,this.y[c]*this.w[c]);for(let c=s-1;c>=0;c-=1){e.coefficients[c]=a.getRow(c).dot(l);for(let h=s-1;h>c;h-=1)e.coefficients[c]-=o.get(c,h)*e.coefficients[h];e.coefficients[c]/=o.get(c,c)}return e}}function an(n,t,e){return t in n?Object.defineProperty(n,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):n[t]=e,n}class Fd{constructor(){an(this,"assumePointerMoveStoppedMilliseconds",40),an(this,"historySize",20),an(this,"horizonMilliseconds",300),an(this,"minSampleSize",3),an(this,"samples",void 0),this.samples=new Vd(this.historySize)}add(t){this.samples.push(t)}getVelocityEstimate(){const t=[],e=[],i=[],s=[];let r=0,a=this.samples.size-1;const o=this.samples.get(a);if(!o)return null;let l=o;for(;r<this.samples.size;){const c=this.samples.get(a),h=o.time-c.time,d=Math.abs(c.time-l.time);if(l=c,h>this.horizonMilliseconds||d>this.assumePointerMoveStoppedMilliseconds)break;t.push(c.x),e.push(c.y),i.push(1),s.push(-h),r++,a--}if(r>=this.minSampleSize){const h=new ho(s,t,i).solve(2);if(h!==null){const g=new ho(s,e,i).solve(2);if(g!==null){const p=h.coefficients[1]*1e3,v=g.coefficients[1]*1e3;return[p,v]}}}return null}getVelocity(){const t=this.getVelocityEstimate();return t!==null?t:[0,0]}reset(){this.samples.clear()}}function ke(n,t,e){return t in n?Object.defineProperty(n,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):n[t]=e,n}const fo=20;class yl{constructor(){ke(this,"velocityTracker",new Fd),ke(this,"trackedPointers",new Map),ke(this,"touchEventsIds",new Map),ke(this,"lastMovedPointerId",void 0),ke(this,"cachedAbsoluteAverages",{x:0,y:0}),ke(this,"cachedRelativeAverages",{x:0,y:0}),this.lastMovedPointerId=NaN;for(let t=0;t<fo;++t)this.touchEventsIds.set(t,NaN)}addToTracker(t){if(this.trackedPointers.has(t.pointerId))return;this.lastMovedPointerId=t.pointerId;const e={abosoluteCoords:{x:t.x,y:t.y},relativeCoords:{x:t.offsetX,y:t.offsetY},timestamp:t.time,velocityX:0,velocityY:0};this.trackedPointers.set(t.pointerId,e),this.mapTouchEventId(t.pointerId),this.cachedAbsoluteAverages=this.getAbsoluteCoordsAverage(),this.cachedRelativeAverages=this.getRelativeCoordsAverage()}removeFromTracker(t){this.trackedPointers.delete(t),this.removeMappedTouchId(t)}track(t){const e=this.trackedPointers.get(t.pointerId);if(!e)return;this.lastMovedPointerId=t.pointerId,this.velocityTracker.add(t);const[i,s]=this.velocityTracker.getVelocity();e.velocityX=i,e.velocityY=s,e.abosoluteCoords={x:t.x,y:t.y},e.relativeCoords={x:t.offsetX,y:t.offsetY},this.trackedPointers.set(t.pointerId,e),this.cachedAbsoluteAverages=this.getAbsoluteCoordsAverage(),this.cachedRelativeAverages=this.getRelativeCoordsAverage()}mapTouchEventId(t){for(const[e,i]of this.touchEventsIds)if(isNaN(i)){this.touchEventsIds.set(e,t);break}}removeMappedTouchId(t){const e=this.getMappedTouchEventId(t);isNaN(e)||this.touchEventsIds.set(e,NaN)}getMappedTouchEventId(t){for(const[e,i]of this.touchEventsIds.entries())if(i===t)return e;return NaN}getVelocity(t){var e,i;return{x:(e=this.trackedPointers.get(t))===null||e===void 0?void 0:e.velocityX,y:(i=this.trackedPointers.get(t))===null||i===void 0?void 0:i.velocityY}}getLastAbsoluteCoords(t){var e;return(e=this.trackedPointers.get(t??this.lastMovedPointerId))===null||e===void 0?void 0:e.abosoluteCoords}getLastRelativeCoords(t){var e;return(e=this.trackedPointers.get(t??this.lastMovedPointerId))===null||e===void 0?void 0:e.relativeCoords}getAbsoluteCoordsAverage(){const t=this.getAbsoluteCoordsSum(),e=t.x/this.trackedPointers.size,i=t.y/this.trackedPointers.size;return{x:isNaN(e)?this.cachedAbsoluteAverages.x:e,y:isNaN(i)?this.cachedAbsoluteAverages.y:i}}getRelativeCoordsAverage(){const t=this.getRelativeCoordsSum(),e=t.x/this.trackedPointers.size,i=t.y/this.trackedPointers.size;return{x:isNaN(e)?this.cachedRelativeAverages.x:e,y:isNaN(i)?this.cachedRelativeAverages.y:i}}getAbsoluteCoordsSum(t){const e={x:0,y:0};return this.trackedPointers.forEach((i,s)=>{s!==t&&(e.x+=i.abosoluteCoords.x,e.y+=i.abosoluteCoords.y)}),e}getRelativeCoordsSum(t){const e={x:0,y:0};return this.trackedPointers.forEach((i,s)=>{s!==t&&(e.x+=i.relativeCoords.x,e.y+=i.relativeCoords.y)}),e}getTrackedPointersCount(){return this.trackedPointers.size}getTrackedPointersID(){const t=[];return this.trackedPointers.forEach((e,i)=>{t.push(i)}),t}getData(){return this.trackedPointers}resetTracker(){this.velocityTracker.reset(),this.trackedPointers.clear(),this.lastMovedPointerId=NaN;for(let t=0;t<fo;++t)this.touchEventsIds.set(t,NaN)}static shareCommonPointers(t,e){return t.some(i=>e.includes(i))}}function He(n,t,e){return t in n?Object.defineProperty(n,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):n[t]=e,n}class _t{constructor(){He(this,"gestureHandlers",[]),He(this,"awaitingHandlers",[]),He(this,"awaitingHandlersTags",new Set),He(this,"handlingChangeSemaphore",0),He(this,"activationIndex",0)}scheduleFinishedHandlersCleanup(){this.handlingChangeSemaphore===0&&this.cleanupFinishedHandlers()}cleanHandler(t){t.reset(),t.setActive(!1),t.setAwaiting(!1),t.setActivationIndex(Number.MAX_VALUE)}removeHandlerFromOrchestrator(t){const e=this.gestureHandlers.indexOf(t),i=this.awaitingHandlers.indexOf(t);e>=0&&this.gestureHandlers.splice(e,1),i>=0&&(this.awaitingHandlers.splice(i,1),this.awaitingHandlersTags.delete(t.getTag()))}cleanupFinishedHandlers(){const t=new Set;for(let e=this.gestureHandlers.length-1;e>=0;--e){const i=this.gestureHandlers[e];this.isFinished(i.getState())&&!i.isAwaiting()&&(this.cleanHandler(i),t.add(i))}this.gestureHandlers=this.gestureHandlers.filter(e=>!t.has(e))}hasOtherHandlerToWaitFor(t){const e=i=>!this.isFinished(i.getState())&&this.shouldHandlerWaitForOther(t,i);return this.gestureHandlers.some(e)}shouldBeCancelledByFinishedHandler(t){const e=i=>this.shouldHandlerWaitForOther(t,i)&&i.getState()===f.END;return this.gestureHandlers.some(e)}tryActivate(t){if(this.shouldBeCancelledByFinishedHandler(t)){t.cancel();return}if(this.hasOtherHandlerToWaitFor(t)){this.addAwaitingHandler(t);return}const e=t.getState();if(!(e===f.CANCELLED||e===f.FAILED)){if(this.shouldActivate(t)){this.makeActive(t);return}if(e===f.ACTIVE){t.fail();return}e===f.BEGAN&&t.cancel()}}shouldActivate(t){const e=i=>this.shouldHandlerBeCancelledBy(t,i);return!this.gestureHandlers.some(e)}cleanupAwaitingHandlers(t){const e=i=>!i.isAwaiting()&&this.shouldHandlerWaitForOther(i,t);for(const i of this.awaitingHandlers)e(i)&&(this.cleanHandler(i),this.awaitingHandlersTags.delete(i.getTag()));this.awaitingHandlers=this.awaitingHandlers.filter(i=>this.awaitingHandlersTags.has(i.getTag()))}onHandlerStateChange(t,e,i,s){if(!(!t.isEnabled()&&!s)){if(this.handlingChangeSemaphore+=1,this.isFinished(e)){for(const r of this.awaitingHandlers)if(!(!this.shouldHandlerWaitForOther(r,t)||!this.awaitingHandlersTags.has(r.getTag()))){if(e!==f.END){this.tryActivate(r);continue}r.cancel(),r.getState()===f.END&&r.sendEvent(f.CANCELLED,f.BEGAN),r.setAwaiting(!1)}}e===f.ACTIVE?this.tryActivate(t):i===f.ACTIVE||i===f.END?t.isActive()?t.sendEvent(e,i):i===f.ACTIVE&&(e===f.CANCELLED||e===f.FAILED)&&t.sendEvent(e,f.BEGAN):(i!==f.UNDETERMINED||e!==f.CANCELLED)&&t.sendEvent(e,i),this.handlingChangeSemaphore-=1,this.scheduleFinishedHandlersCleanup(),this.awaitingHandlers.includes(t)||this.cleanupAwaitingHandlers(t)}}makeActive(t){const e=t.getState();t.setActive(!0),t.setShouldResetProgress(!0),t.setActivationIndex(this.activationIndex++);for(let i=this.gestureHandlers.length-1;i>=0;--i)this.shouldHandlerBeCancelledBy(this.gestureHandlers[i],t)&&this.gestureHandlers[i].cancel();for(const i of this.awaitingHandlers)this.shouldHandlerBeCancelledBy(i,t)&&i.setAwaiting(!1);t.sendEvent(f.ACTIVE,f.BEGAN),e!==f.ACTIVE&&(t.sendEvent(f.END,f.ACTIVE),e!==f.END&&t.sendEvent(f.UNDETERMINED,f.END)),t.isAwaiting()&&(t.setAwaiting(!1),this.awaitingHandlers=this.awaitingHandlers.filter(i=>i!==t))}addAwaitingHandler(t){this.awaitingHandlers.includes(t)||(this.awaitingHandlers.push(t),this.awaitingHandlersTags.add(t.getTag()),t.setAwaiting(!0),t.setActivationIndex(this.activationIndex++))}recordHandlerIfNotPresent(t){this.gestureHandlers.includes(t)||(this.gestureHandlers.push(t),t.setActive(!1),t.setAwaiting(!1),t.setActivationIndex(Number.MAX_SAFE_INTEGER))}shouldHandlerWaitForOther(t,e){return t!==e&&(t.shouldWaitForHandlerFailure(e)||e.shouldRequireToWaitForFailure(t))}canRunSimultaneously(t,e){return t===e||t.shouldRecognizeSimultaneously(e)||e.shouldRecognizeSimultaneously(t)}shouldHandlerBeCancelledBy(t,e){if(this.canRunSimultaneously(t,e))return!1;if(t.isAwaiting()||t.getState()===f.ACTIVE)return t.shouldBeCancelledByOther(e);const i=t.getTrackedPointersID(),s=e.getTrackedPointersID();return!yl.shareCommonPointers(i,s)&&t.getDelegate().getView()!==e.getDelegate().getView()?this.checkOverlap(t,e):!0}checkOverlap(t,e){const i=s=>{const r=t.getTracker().getLastAbsoluteCoords(s);return t.getDelegate().isPointerInBounds(r)&&e.getDelegate().isPointerInBounds(r)};return t.getTrackedPointersID().some(i)}isFinished(t){return t===f.END||t===f.FAILED||t===f.CANCELLED}cancelMouseAndPenGestures(t){this.gestureHandlers.forEach(e=>{e.getPointerType()!==At.MOUSE&&e.getPointerType()!==At.STYLUS||(e!==t?e.cancel():e.getTracker().resetTracker())})}static getInstance(){return _t.instance||(_t.instance=new _t),_t.instance}}He(_t,"instance",void 0);function Ln(n,t,e){return t in n?Object.defineProperty(n,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):n[t]=e,n}class re{constructor(){Ln(this,"waitForRelations",new Map),Ln(this,"simultaneousRelations",new Map),Ln(this,"blocksHandlersRelations",new Map)}configureInteractions(t,e){if(this.dropRelationsForHandlerWithTag(t.getTag()),e.waitFor){const i=[];e.waitFor.forEach(s=>{typeof s=="number"?i.push(s):i.push(s.handlerTag)}),this.waitForRelations.set(t.getTag(),i)}if(e.simultaneousHandlers){const i=[];e.simultaneousHandlers.forEach(s=>{typeof s=="number"?i.push(s):i.push(s.handlerTag)}),this.simultaneousRelations.set(t.getTag(),i)}if(e.blocksHandlers){const i=[];e.blocksHandlers.forEach(s=>{typeof s=="number"?i.push(s):i.push(s.handlerTag)}),this.blocksHandlersRelations.set(t.getTag(),i)}}shouldWaitForHandlerFailure(t,e){const i=this.waitForRelations.get(t.getTag());return(i==null?void 0:i.find(s=>s===e.getTag()))!==void 0}shouldRecognizeSimultaneously(t,e){const i=this.simultaneousRelations.get(t.getTag());return(i==null?void 0:i.find(s=>s===e.getTag()))!==void 0}shouldRequireHandlerToWaitForFailure(t,e){const i=this.blocksHandlersRelations.get(t.getTag());return(i==null?void 0:i.find(s=>s===e.getTag()))!==void 0}shouldHandlerBeCancelledBy(t,e){var i;const s=e.constructor.name==="NativeViewGestureHandler",r=e.getState()===f.ACTIVE,a=((i=e.isButton)===null||i===void 0?void 0:i.call(e))===!0;return s&&r&&!a}dropRelationsForHandlerWithTag(t){this.waitForRelations.delete(t),this.simultaneousRelations.delete(t),this.blocksHandlersRelations.delete(t)}reset(){this.waitForRelations.clear(),this.simultaneousRelations.clear(),this.blocksHandlersRelations.clear()}static getInstance(){return this.instance||(this.instance=new re),this.instance}}Ln(re,"instance",void 0);const Sl=["id","enabled","shouldCancelWhenOutside","hitSlop","cancelsTouchesInView","userSelect","activeCursor","mouseButton","enableContextMenu","touchAction"],Xd=["waitFor","simultaneousHandlers","blocksHandlers"],ge=[...Sl,...Xd,"onBegan","onFailed","onCancelled","onActivated","onEnded","onGestureEvent","onHandlerStateChange"],Ld=[...Sl,"needsPointerData","manualActivation"];let ie;(function(n){n[n.LEFT=1]="LEFT",n[n.RIGHT=2]="RIGHT",n[n.MIDDLE=4]="MIDDLE",n[n.BUTTON_4=8]="BUTTON_4",n[n.BUTTON_5=16]="BUTTON_5",n[n.ALL=31]="ALL"})(ie||(ie={}));function ft(n,t,e){return t in n?Object.defineProperty(n,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):n[t]=e,n}class le{constructor(t){ft(this,"lastSentState",null),ft(this,"currentState",f.UNDETERMINED),ft(this,"shouldCancelWhenOutside",!1),ft(this,"hasCustomActivationCriteria",!1),ft(this,"enabled",!1),ft(this,"viewRef",void 0),ft(this,"propsRef",void 0),ft(this,"handlerTag",void 0),ft(this,"config",{enabled:!1}),ft(this,"tracker",new yl),ft(this,"activationIndex",0),ft(this,"awaiting",!1),ft(this,"active",!1),ft(this,"shouldResetProgress",!1),ft(this,"pointerType",At.MOUSE),ft(this,"delegate",void 0),ft(this,"sendEvent",(e,i)=>{const{onGestureHandlerEvent:s,onGestureHandlerStateChange:r}=this.propsRef.current,a=this.transformEventData(e,i);this.lastSentState!==e&&(this.lastSentState=e,gn(r,a)),this.currentState===f.ACTIVE&&(a.nativeEvent.oldState=void 0,gn(s,a))}),this.delegate=t}init(t,e){this.propsRef=e,this.viewRef=t,this.currentState=f.UNDETERMINED,this.delegate.init(t,this)}attachEventManager(t){t.setOnPointerDown(this.onPointerDown.bind(this)),t.setOnPointerAdd(this.onPointerAdd.bind(this)),t.setOnPointerUp(this.onPointerUp.bind(this)),t.setOnPointerRemove(this.onPointerRemove.bind(this)),t.setOnPointerMove(this.onPointerMove.bind(this)),t.setOnPointerEnter(this.onPointerEnter.bind(this)),t.setOnPointerLeave(this.onPointerLeave.bind(this)),t.setOnPointerCancel(this.onPointerCancel.bind(this)),t.setOnPointerOutOfBounds(this.onPointerOutOfBounds.bind(this)),t.setOnPointerMoveOver(this.onPointerMoveOver.bind(this)),t.setOnPointerMoveOut(this.onPointerMoveOut.bind(this)),t.setOnWheel(this.onWheel.bind(this)),t.registerListeners()}onCancel(){}onReset(){}resetProgress(){}reset(){this.tracker.resetTracker(),this.onReset(),this.resetProgress(),this.delegate.reset(),this.currentState=f.UNDETERMINED}moveToState(t,e){if(this.currentState===t)return;const i=this.currentState;this.currentState=t,this.tracker.getTrackedPointersCount()>0&&this.config.needsPointerData&&this.isFinished()&&this.cancelTouches(),_t.getInstance().onHandlerStateChange(this,t,i,e),this.onStateChange(t,i),!this.enabled&&this.isFinished()&&(this.currentState=f.UNDETERMINED)}onStateChange(t,e){}begin(){this.checkHitSlop()&&this.currentState===f.UNDETERMINED&&this.moveToState(f.BEGAN)}fail(t){(this.currentState===f.ACTIVE||this.currentState===f.BEGAN)&&(this.delegate.onFail(),this.moveToState(f.FAILED,t)),this.resetProgress()}cancel(t){(this.currentState===f.ACTIVE||this.currentState===f.UNDETERMINED||this.currentState===f.BEGAN)&&(this.onCancel(),this.delegate.onCancel(),this.moveToState(f.CANCELLED,t))}activate(t=!1){(this.config.manualActivation!==!0||t)&&(this.currentState===f.UNDETERMINED||this.currentState===f.BEGAN)&&(this.delegate.onActivate(),this.moveToState(f.ACTIVE))}end(){(this.currentState===f.BEGAN||this.currentState===f.ACTIVE)&&(this.delegate.onEnd(),this.moveToState(f.END)),this.resetProgress()}isAwaiting(){return this.awaiting}setAwaiting(t){this.awaiting=t}isActive(){return this.active}setActive(t){this.active=t}getShouldResetProgress(){return this.shouldResetProgress}setShouldResetProgress(t){this.shouldResetProgress=t}getActivationIndex(){return this.activationIndex}setActivationIndex(t){this.activationIndex=t}shouldWaitForHandlerFailure(t){return t===this?!1:re.getInstance().shouldWaitForHandlerFailure(this,t)}shouldRequireToWaitForFailure(t){return t===this?!1:re.getInstance().shouldRequireHandlerToWaitForFailure(this,t)}shouldRecognizeSimultaneously(t){return t===this?!0:re.getInstance().shouldRecognizeSimultaneously(this,t)}shouldBeCancelledByOther(t){return t===this?!1:re.getInstance().shouldHandlerBeCancelledBy(this,t)}onPointerDown(t){_t.getInstance().recordHandlerIfNotPresent(this),this.pointerType=t.pointerType,this.pointerType===At.TOUCH&&_t.getInstance().cancelMouseAndPenGestures(this)}onPointerAdd(t){this.tryToSendTouchEvent(t)}onPointerUp(t){this.tryToSendTouchEvent(t)}onPointerRemove(t){this.tryToSendTouchEvent(t)}onPointerMove(t){this.tryToSendMoveEvent(!1,t)}onPointerLeave(t){if(this.shouldCancelWhenOutside){switch(this.currentState){case f.ACTIVE:this.cancel();break;case f.BEGAN:this.fail();break}return}this.tryToSendTouchEvent(t)}onPointerEnter(t){this.tryToSendTouchEvent(t)}onPointerCancel(t){this.tryToSendTouchEvent(t),this.cancel(),this.reset()}onPointerOutOfBounds(t){this.tryToSendMoveEvent(!0,t)}onPointerMoveOver(t){}onPointerMoveOut(t){}onWheel(t){}tryToSendMoveEvent(t,e){t&&this.shouldCancelWhenOutside||!this.enabled||(this.active&&this.sendEvent(this.currentState,this.currentState),this.tryToSendTouchEvent(e))}tryToSendTouchEvent(t){this.config.needsPointerData&&this.sendTouchEvent(t)}sendTouchEvent(t){if(!this.enabled)return;const{onGestureHandlerEvent:e}=this.propsRef.current,i=this.transformTouchEvent(t);i&&gn(e,i)}transformEventData(t,e){return{nativeEvent:{numberOfPointers:this.tracker.getTrackedPointersCount(),state:t,pointerInside:this.delegate.isPointerInBounds(this.tracker.getAbsoluteCoordsAverage()),...this.transformNativeEvent(),handlerTag:this.handlerTag,target:this.viewRef,oldState:t!==e?e:void 0,pointerType:this.pointerType},timeStamp:Date.now()}}transformTouchEvent(t){const e=this.delegate.measureView(),i=[],s=[],r=this.tracker.getData();if(r.size===0||!r.has(t.pointerId))return;r.forEach((l,c)=>{const h=this.tracker.getMappedTouchEventId(c);i.push({id:h,x:l.abosoluteCoords.x-e.pageX,y:l.abosoluteCoords.y-e.pageY,absoluteX:l.abosoluteCoords.x,absoluteY:l.abosoluteCoords.y})}),t.eventType!==P.CANCEL?s.push({id:this.tracker.getMappedTouchEventId(t.pointerId),x:t.x-e.pageX,y:t.y-e.pageY,absoluteX:t.x,absoluteY:t.y}):r.forEach((l,c)=>{const h=this.tracker.getMappedTouchEventId(c);s.push({id:h,x:l.abosoluteCoords.x-e.pageX,y:l.abosoluteCoords.y-e.pageY,absoluteX:l.abosoluteCoords.x,absoluteY:l.abosoluteCoords.y})});let a=he.UNDETERMINED;switch(t.eventType){case P.DOWN:case P.ADDITIONAL_POINTER_DOWN:a=he.DOWN;break;case P.UP:case P.ADDITIONAL_POINTER_UP:a=he.UP;break;case P.MOVE:a=he.MOVE;break;case P.CANCEL:a=he.CANCELLED;break}let o=i.length;return(t.eventType===P.UP||t.eventType===P.ADDITIONAL_POINTER_UP)&&--o,{nativeEvent:{handlerTag:this.handlerTag,state:this.currentState,eventType:a,changedTouches:s,allTouches:i,numberOfTouches:o,pointerType:this.pointerType},timeStamp:Date.now()}}cancelTouches(){const t=this.delegate.measureView(),e=[],i=[],s=this.tracker.getData();if(s.size===0)return;s.forEach((o,l)=>{const c=this.tracker.getMappedTouchEventId(l);e.push({id:c,x:o.abosoluteCoords.x-t.pageX,y:o.abosoluteCoords.y-t.pageY,absoluteX:o.abosoluteCoords.x,absoluteY:o.abosoluteCoords.y}),i.push({id:c,x:o.abosoluteCoords.x-t.pageX,y:o.abosoluteCoords.y-t.pageY,absoluteX:o.abosoluteCoords.x,absoluteY:o.abosoluteCoords.y})});const r={nativeEvent:{handlerTag:this.handlerTag,state:this.currentState,eventType:he.CANCELLED,changedTouches:i,allTouches:e,numberOfTouches:e.length,pointerType:this.pointerType},timeStamp:Date.now()},{onGestureHandlerEvent:a}=this.propsRef.current;gn(a,r)}transformNativeEvent(){const t=this.tracker.getAbsoluteCoordsAverage(),e=this.tracker.getRelativeCoordsAverage();return{x:e.x,y:e.y,absoluteX:t.x,absoluteY:t.y}}updateGestureConfig({enabled:t=!0,...e}){if(this.config={enabled:t,...e},this.enabled=t,this.delegate.onEnabledChange(t),this.config.shouldCancelWhenOutside!==void 0&&this.setShouldCancelWhenOutside(this.config.shouldCancelWhenOutside),this.validateHitSlops(),!this.enabled)switch(this.currentState){case f.ACTIVE:this.fail(!0);break;case f.UNDETERMINED:_t.getInstance().removeHandlerFromOrchestrator(this);break;default:this.cancel(!0);break}}checkCustomActivationCriteria(t){for(const e in this.config)t.indexOf(e)>=0&&(this.hasCustomActivationCriteria=!0)}validateHitSlops(){if(this.config.hitSlop){if(this.config.hitSlop.left!==void 0&&this.config.hitSlop.right!==void 0&&this.config.hitSlop.width!==void 0)throw new Error("HitSlop Error: Cannot define left, right and width at the same time");if(this.config.hitSlop.width!==void 0&&this.config.hitSlop.left===void 0&&this.config.hitSlop.right===void 0)throw new Error("HitSlop Error: When width is defined, either left or right has to be defined");if(this.config.hitSlop.height!==void 0&&this.config.hitSlop.top!==void 0&&this.config.hitSlop.bottom!==void 0)throw new Error("HitSlop Error: Cannot define top, bottom and height at the same time");if(this.config.hitSlop.height!==void 0&&this.config.hitSlop.top===void 0&&this.config.hitSlop.bottom===void 0)throw new Error("HitSlop Error: When height is defined, either top or bottom has to be defined")}}checkHitSlop(){if(!this.config.hitSlop)return!0;const{width:t,height:e}=this.delegate.measureView();let i=0,s=0,r=t,a=e;this.config.hitSlop.horizontal!==void 0&&(i-=this.config.hitSlop.horizontal,r+=this.config.hitSlop.horizontal),this.config.hitSlop.vertical!==void 0&&(s-=this.config.hitSlop.vertical,a+=this.config.hitSlop.vertical),this.config.hitSlop.left!==void 0&&(i=-this.config.hitSlop.left),this.config.hitSlop.right!==void 0&&(r=t+this.config.hitSlop.right),this.config.hitSlop.top!==void 0&&(s=-this.config.hitSlop.top),this.config.hitSlop.bottom!==void 0&&(a=t+this.config.hitSlop.bottom),this.config.hitSlop.width!==void 0&&(this.config.hitSlop.left!==void 0?r=i+this.config.hitSlop.width:this.config.hitSlop.right!==void 0&&(i=r-this.config.hitSlop.width)),this.config.hitSlop.height!==void 0&&(this.config.hitSlop.top!==void 0?a=s+this.config.hitSlop.height:this.config.hitSlop.bottom!==void 0&&(s=a-this.config.hitSlop.height));const o=this.delegate.measureView(),{x:l,y:c}=this.tracker.getLastAbsoluteCoords(),h=l-o.pageX,d=c-o.pageY;return h>=i&&h<=r&&d>=s&&d<=a}isButtonInConfig(t){return!t||!this.config.mouseButton&&t===ie.LEFT||this.config.mouseButton&&t&this.config.mouseButton}resetConfig(){}onDestroy(){this.delegate.destroy(this.config)}getTag(){return this.handlerTag}setTag(t){this.handlerTag=t}getConfig(){return this.config}getDelegate(){return this.delegate}getTracker(){return this.tracker}getTrackedPointersID(){return this.tracker.getTrackedPointersID()}getState(){return this.currentState}isEnabled(){return this.enabled}isFinished(){return this.currentState===f.END||this.currentState===f.FAILED||this.currentState===f.CANCELLED}setShouldCancelWhenOutside(t){this.shouldCancelWhenOutside=t}getShouldCancelWhenOutside(){return this.shouldCancelWhenOutside}getPointerType(){return this.pointerType}}function gn(n,t){if(!n)return;if(typeof n=="function"){n(t);return}if("__getHandler"in n&&typeof n.__getHandler=="function"){const i=n.__getHandler();gn(i,t);return}if(!("__nodeConfig"in n))return;const{argMapping:e}=n.__nodeConfig;if(Array.isArray(e))for(const[i,[s,r]]of e.entries()){if(!(s in t.nativeEvent))continue;const a=t.nativeEvent[s];r!=null&&r.setValue?r.setValue(a):n.__nodeConfig.argMapping[i]=[s,a]}}function W(n,t,e){return t in n?Object.defineProperty(n,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):n[t]=e,n}const go=1,mo=10,ks=Be*Be;let Gd=class extends le{constructor(...t){super(...t),W(this,"customActivationProperties",["activeOffsetXStart","activeOffsetXEnd","failOffsetXStart","failOffsetXEnd","activeOffsetYStart","activeOffsetYEnd","failOffsetYStart","failOffsetYEnd","minVelocityX","minVelocityY","minVelocity"]),W(this,"velocityX",0),W(this,"velocityY",0),W(this,"minDistSq",ks),W(this,"activeOffsetXStart",-Number.MAX_SAFE_INTEGER),W(this,"activeOffsetXEnd",Number.MIN_SAFE_INTEGER),W(this,"failOffsetXStart",Number.MIN_SAFE_INTEGER),W(this,"failOffsetXEnd",Number.MAX_SAFE_INTEGER),W(this,"activeOffsetYStart",Number.MAX_SAFE_INTEGER),W(this,"activeOffsetYEnd",Number.MIN_SAFE_INTEGER),W(this,"failOffsetYStart",Number.MIN_SAFE_INTEGER),W(this,"failOffsetYEnd",Number.MAX_SAFE_INTEGER),W(this,"minVelocityX",Number.MAX_SAFE_INTEGER),W(this,"minVelocityY",Number.MAX_SAFE_INTEGER),W(this,"minVelocitySq",Number.MAX_SAFE_INTEGER),W(this,"minPointers",go),W(this,"maxPointers",mo),W(this,"startX",0),W(this,"startY",0),W(this,"offsetX",0),W(this,"offsetY",0),W(this,"lastX",0),W(this,"lastY",0),W(this,"stylusData",void 0),W(this,"activateAfterLongPress",0),W(this,"activationTimeout",0),W(this,"enableTrackpadTwoFingerGesture",!1),W(this,"endWheelTimeout",0),W(this,"wheelDevice",de.UNDETERMINED)}init(t,e){super.init(t,e)}updateGestureConfig({enabled:t=!0,...e}){this.resetConfig(),super.updateGestureConfig({enabled:t,...e}),this.checkCustomActivationCriteria(this.customActivationProperties),this.config.minDist!==void 0?this.minDistSq=this.config.minDist*this.config.minDist:this.hasCustomActivationCriteria&&(this.minDistSq=Number.MAX_SAFE_INTEGER),this.config.minPointers!==void 0&&(this.minPointers=this.config.minPointers),this.config.maxPointers!==void 0&&(this.maxPointers=this.config.maxPointers),this.config.minVelocity!==void 0&&(this.minVelocityX=this.config.minVelocity,this.minVelocityY=this.config.minVelocity),this.config.minVelocityX!==void 0&&(this.minVelocityX=this.config.minVelocityX),this.config.minVelocityY!==void 0&&(this.minVelocityY=this.config.minVelocityY),this.config.activateAfterLongPress!==void 0&&(this.activateAfterLongPress=this.config.activateAfterLongPress),this.config.activeOffsetXStart!==void 0&&(this.activeOffsetXStart=this.config.activeOffsetXStart,this.config.activeOffsetXEnd===void 0&&(this.activeOffsetXEnd=Number.MAX_SAFE_INTEGER)),this.config.activeOffsetXEnd!==void 0&&(this.activeOffsetXEnd=this.config.activeOffsetXEnd,this.config.activeOffsetXStart===void 0&&(this.activeOffsetXStart=Number.MIN_SAFE_INTEGER)),this.config.failOffsetXStart!==void 0&&(this.failOffsetXStart=this.config.failOffsetXStart,this.config.failOffsetXEnd===void 0&&(this.failOffsetXEnd=Number.MAX_SAFE_INTEGER)),this.config.failOffsetXEnd!==void 0&&(this.failOffsetXEnd=this.config.failOffsetXEnd,this.config.failOffsetXStart===void 0&&(this.failOffsetXStart=Number.MIN_SAFE_INTEGER)),this.config.activeOffsetYStart!==void 0&&(this.activeOffsetYStart=this.config.activeOffsetYStart,this.config.activeOffsetYEnd===void 0&&(this.activeOffsetYEnd=Number.MAX_SAFE_INTEGER)),this.config.activeOffsetYEnd!==void 0&&(this.activeOffsetYEnd=this.config.activeOffsetYEnd,this.config.activeOffsetYStart===void 0&&(this.activeOffsetYStart=Number.MIN_SAFE_INTEGER)),this.config.failOffsetYStart!==void 0&&(this.failOffsetYStart=this.config.failOffsetYStart,this.config.failOffsetYEnd===void 0&&(this.failOffsetYEnd=Number.MAX_SAFE_INTEGER)),this.config.failOffsetYEnd!==void 0&&(this.failOffsetYEnd=this.config.failOffsetYEnd,this.config.failOffsetYStart===void 0&&(this.failOffsetYStart=Number.MIN_SAFE_INTEGER)),this.config.enableTrackpadTwoFingerGesture!==void 0&&(this.enableTrackpadTwoFingerGesture=this.config.enableTrackpadTwoFingerGesture)}resetConfig(){super.resetConfig(),this.activeOffsetXStart=-Number.MAX_SAFE_INTEGER,this.activeOffsetXEnd=Number.MIN_SAFE_INTEGER,this.failOffsetXStart=Number.MIN_SAFE_INTEGER,this.failOffsetXEnd=Number.MAX_SAFE_INTEGER,this.activeOffsetYStart=Number.MAX_SAFE_INTEGER,this.activeOffsetYEnd=Number.MIN_SAFE_INTEGER,this.failOffsetYStart=Number.MIN_SAFE_INTEGER,this.failOffsetYEnd=Number.MAX_SAFE_INTEGER,this.minVelocityX=Number.MAX_SAFE_INTEGER,this.minVelocityY=Number.MAX_SAFE_INTEGER,this.minVelocitySq=Number.MAX_SAFE_INTEGER,this.minDistSq=ks,this.minPointers=go,this.maxPointers=mo,this.activateAfterLongPress=0}transformNativeEvent(){const t=this.getTranslationX(),e=this.getTranslationY();return{...super.transformNativeEvent(),translationX:isNaN(t)?0:t,translationY:isNaN(e)?0:e,velocityX:this.velocityX,velocityY:this.velocityY,stylusData:this.stylusData}}getTranslationX(){return this.lastX-this.startX+this.offsetX}getTranslationY(){return this.lastY-this.startY+this.offsetY}clearActivationTimeout(){clearTimeout(this.activationTimeout)}onPointerDown(t){if(!this.isButtonInConfig(t.button))return;this.tracker.addToTracker(t),this.stylusData=t.stylusData,super.onPointerDown(t);const e=this.tracker.getAbsoluteCoordsAverage();this.lastX=e.x,this.lastY=e.y,this.startX=this.lastX,this.startY=this.lastY,this.tryBegin(t),this.checkBegan(),this.tryToSendTouchEvent(t)}onPointerAdd(t){this.tracker.addToTracker(t),super.onPointerAdd(t),this.tryBegin(t),this.offsetX+=this.lastX-this.startX,this.offsetY+=this.lastY-this.startY;const e=this.tracker.getAbsoluteCoordsAverage();this.lastX=e.x,this.lastY=e.y,this.startX=this.lastX,this.startY=this.lastY,this.tracker.getTrackedPointersCount()>this.maxPointers?this.currentState===f.ACTIVE?this.cancel():this.fail():this.checkBegan()}onPointerUp(t){if(this.stylusData=t.stylusData,super.onPointerUp(t),this.currentState===f.ACTIVE){const e=this.tracker.getAbsoluteCoordsAverage();this.lastX=e.x,this.lastY=e.y}this.tracker.removeFromTracker(t.pointerId),this.tracker.getTrackedPointersCount()===0&&this.clearActivationTimeout(),this.currentState===f.ACTIVE?this.end():(this.resetProgress(),this.fail())}onPointerRemove(t){super.onPointerRemove(t),this.tracker.removeFromTracker(t.pointerId),this.offsetX+=this.lastX-this.startX,this.offsetY+=this.lastY-this.startY;const e=this.tracker.getAbsoluteCoordsAverage();this.lastX=e.x,this.lastY=e.y,this.startX=this.lastX,this.startY=this.lastY,this.currentState===f.ACTIVE&&this.tracker.getTrackedPointersCount()<this.minPointers||this.checkBegan()}onPointerMove(t){this.tracker.track(t),this.stylusData=t.stylusData;const e=this.tracker.getAbsoluteCoordsAverage();this.lastX=e.x,this.lastY=e.y;const i=this.tracker.getVelocity(t.pointerId);this.velocityX=i.x,this.velocityY=i.y,this.checkBegan(),super.onPointerMove(t)}onPointerOutOfBounds(t){if(this.getShouldCancelWhenOutside())return;this.tracker.track(t),this.stylusData=t.stylusData;const e=this.tracker.getAbsoluteCoordsAverage();this.lastX=e.x,this.lastY=e.y;const i=this.tracker.getVelocity(t.pointerId);this.velocityX=i.x,this.velocityY=i.y,this.checkBegan(),this.currentState===f.ACTIVE&&super.onPointerOutOfBounds(t)}scheduleWheelEnd(t){clearTimeout(this.endWheelTimeout),this.endWheelTimeout=setTimeout(()=>{this.currentState===f.ACTIVE&&(this.end(),this.tracker.removeFromTracker(t.pointerId),this.currentState=f.UNDETERMINED),this.wheelDevice=de.UNDETERMINED},30)}onWheel(t){if(this.wheelDevice===de.MOUSE||!this.enableTrackpadTwoFingerGesture)return;if(this.currentState===f.UNDETERMINED){if(this.wheelDevice=t.wheelDeltaY%120!==0?de.TOUCHPAD:de.MOUSE,this.wheelDevice===de.MOUSE){this.scheduleWheelEnd(t);return}this.tracker.addToTracker(t);const s=this.tracker.getAbsoluteCoordsAverage();this.lastX=s.x,this.lastY=s.y,this.startX=this.lastX,this.startY=this.lastY,this.begin(),this.activate()}this.tracker.track(t);const e=this.tracker.getAbsoluteCoordsAverage();this.lastX=e.x,this.lastY=e.y;const i=this.tracker.getVelocity(t.pointerId);this.velocityX=i.x,this.velocityY=i.y,this.tryToSendMoveEvent(!1,t),this.scheduleWheelEnd(t)}shouldActivate(){const t=this.getTranslationX();if(this.activeOffsetXStart!==Number.MAX_SAFE_INTEGER&&t<this.activeOffsetXStart||this.activeOffsetXEnd!==Number.MIN_SAFE_INTEGER&&t>this.activeOffsetXEnd)return!0;const e=this.getTranslationY();if(this.activeOffsetYStart!==Number.MAX_SAFE_INTEGER&&e<this.activeOffsetYStart||this.activeOffsetYEnd!==Number.MIN_SAFE_INTEGER&&e>this.activeOffsetYEnd)return!0;const i=t*t+e*e;if(this.minDistSq!==Number.MAX_SAFE_INTEGER&&i>=this.minDistSq)return!0;const s=this.velocityX;if(this.minVelocityX!==Number.MAX_SAFE_INTEGER&&(this.minVelocityX<0&&s<=this.minVelocityX||this.minVelocityX>=0&&this.minVelocityX<=s))return!0;const r=this.velocityY;if(this.minVelocityY!==Number.MAX_SAFE_INTEGER&&(this.minVelocityY<0&&r<=this.minVelocityY||this.minVelocityY>=0&&this.minVelocityY<=r))return!0;const a=s*s+r*r;return this.minVelocitySq!==Number.MAX_SAFE_INTEGER&&a>=this.minVelocitySq}shouldFail(){const t=this.getTranslationX(),e=this.getTranslationY(),i=t*t+e*e;return this.activateAfterLongPress>0&&i>ks?(this.clearActivationTimeout(),!0):this.failOffsetXStart!==Number.MIN_SAFE_INTEGER&&t<this.failOffsetXStart||this.failOffsetXEnd!==Number.MAX_SAFE_INTEGER&&t>this.failOffsetXEnd||this.failOffsetYStart!==Number.MIN_SAFE_INTEGER&&e<this.failOffsetYStart?!0:this.failOffsetYEnd!==Number.MAX_SAFE_INTEGER&&e>this.failOffsetYEnd}tryBegin(t){if(this.currentState===f.UNDETERMINED&&this.tracker.getTrackedPointersCount()>=this.minPointers)this.resetProgress(),this.offsetX=0,this.offsetY=0,this.velocityX=0,this.velocityY=0,this.begin(),this.activateAfterLongPress>0&&(this.activationTimeout=setTimeout(()=>{this.activate()},this.activateAfterLongPress));else{const e=this.tracker.getVelocity(t.pointerId);this.velocityX=e.x,this.velocityY=e.y}}checkBegan(){this.currentState===f.BEGAN&&(this.shouldFail()?this.fail():this.shouldActivate()&&this.activate())}activate(t=!1){this.currentState!==f.ACTIVE&&this.resetProgress(),super.activate(t)}onCancel(){this.clearActivationTimeout()}onReset(){this.clearActivationTimeout()}resetProgress(){this.currentState!==f.ACTIVE&&(this.startX=this.lastX,this.startY=this.lastY)}};function gt(n,t,e){return t in n?Object.defineProperty(n,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):n[t]=e,n}const po=500,vo=500,Eo=1,yo=1;let Yd=class extends le{constructor(...t){super(...t),gt(this,"maxDeltaX",Number.MIN_SAFE_INTEGER),gt(this,"maxDeltaY",Number.MIN_SAFE_INTEGER),gt(this,"maxDistSq",Number.MIN_SAFE_INTEGER),gt(this,"maxDurationMs",po),gt(this,"maxDelayMs",vo),gt(this,"numberOfTaps",Eo),gt(this,"minNumberOfPointers",yo),gt(this,"currentMaxNumberOfPointers",1),gt(this,"startX",0),gt(this,"startY",0),gt(this,"offsetX",0),gt(this,"offsetY",0),gt(this,"lastX",0),gt(this,"lastY",0),gt(this,"waitTimeout",void 0),gt(this,"delayTimeout",void 0),gt(this,"tapsSoFar",0)}init(t,e){super.init(t,e)}updateGestureConfig({enabled:t=!0,...e}){super.updateGestureConfig({enabled:t,...e}),this.config.numberOfTaps!==void 0&&(this.numberOfTaps=this.config.numberOfTaps),this.config.maxDurationMs!==void 0&&(this.maxDurationMs=this.config.maxDurationMs),this.config.maxDelayMs!==void 0&&(this.maxDelayMs=this.config.maxDelayMs),this.config.maxDeltaX!==void 0&&(this.maxDeltaX=this.config.maxDeltaX),this.config.maxDeltaY!==void 0&&(this.maxDeltaY=this.config.maxDeltaY),this.config.maxDist!==void 0&&(this.maxDistSq=this.config.maxDist*this.config.maxDist),this.config.minPointers!==void 0&&(this.minNumberOfPointers=this.config.minPointers)}resetConfig(){super.resetConfig(),this.maxDeltaX=Number.MIN_SAFE_INTEGER,this.maxDeltaY=Number.MIN_SAFE_INTEGER,this.maxDistSq=Number.MIN_SAFE_INTEGER,this.maxDurationMs=po,this.maxDelayMs=vo,this.numberOfTaps=Eo,this.minNumberOfPointers=yo}clearTimeouts(){clearTimeout(this.waitTimeout),clearTimeout(this.delayTimeout)}startTap(){this.clearTimeouts(),this.waitTimeout=setTimeout(()=>this.fail(),this.maxDurationMs)}endTap(){this.clearTimeouts(),++this.tapsSoFar===this.numberOfTaps&&this.currentMaxNumberOfPointers>=this.minNumberOfPointers?this.activate():this.delayTimeout=setTimeout(()=>this.fail(),this.maxDelayMs)}onPointerDown(t){this.isButtonInConfig(t.button)&&(this.tracker.addToTracker(t),super.onPointerDown(t),this.trySettingPosition(t),this.startX=t.x,this.startY=t.y,this.lastX=t.x,this.lastY=t.y,this.updateState(t),this.tryToSendTouchEvent(t))}onPointerAdd(t){super.onPointerAdd(t),this.tracker.addToTracker(t),this.trySettingPosition(t),this.offsetX+=this.lastX-this.startX,this.offsetY+=this.lastY-this.startY;const e=this.tracker.getAbsoluteCoordsAverage();this.lastX=e.x,this.lastY=e.y,this.startX=e.x,this.startY=e.y,this.updateState(t)}onPointerUp(t){super.onPointerUp(t);const e=this.tracker.getAbsoluteCoordsAverage();this.lastX=e.x,this.lastY=e.y,this.tracker.removeFromTracker(t.pointerId),this.updateState(t)}onPointerRemove(t){super.onPointerRemove(t),this.tracker.removeFromTracker(t.pointerId),this.offsetX+=this.lastX-this.startX,this.offsetY+=this.lastY=this.startY;const e=this.tracker.getAbsoluteCoordsAverage();this.lastX=e.x,this.lastY=e.y,this.startX=this.lastX,this.startY=this.lastY,this.updateState(t)}onPointerMove(t){this.trySettingPosition(t),this.tracker.track(t);const e=this.tracker.getAbsoluteCoordsAverage();this.lastX=e.x,this.lastY=e.y,this.updateState(t),super.onPointerMove(t)}onPointerOutOfBounds(t){this.trySettingPosition(t),this.tracker.track(t);const e=this.tracker.getAbsoluteCoordsAverage();this.lastX=e.x,this.lastY=e.y,this.updateState(t),super.onPointerOutOfBounds(t)}updateState(t){if(this.currentMaxNumberOfPointers<this.tracker.getTrackedPointersCount()&&(this.currentMaxNumberOfPointers=this.tracker.getTrackedPointersCount()),this.shouldFail()){this.fail();return}switch(this.currentState){case f.UNDETERMINED:t.eventType===P.DOWN&&this.begin(),this.startTap();break;case f.BEGAN:t.eventType===P.UP&&this.endTap(),t.eventType===P.DOWN&&this.startTap();break}}trySettingPosition(t){this.currentState===f.UNDETERMINED&&(this.offsetX=0,this.offsetY=0,this.startX=t.x,this.startY=t.y)}shouldFail(){const t=this.lastX-this.startX+this.offsetX;if(this.maxDeltaX!==Number.MIN_SAFE_INTEGER&&Math.abs(t)>this.maxDeltaX)return!0;const e=this.lastY-this.startY+this.offsetY;if(this.maxDeltaY!==Number.MIN_SAFE_INTEGER&&Math.abs(e)>this.maxDeltaY)return!0;const i=e*e+t*t;return this.maxDistSq!==Number.MIN_SAFE_INTEGER&&i>this.maxDistSq}activate(){super.activate(),this.end()}onCancel(){this.resetProgress(),this.clearTimeouts()}resetProgress(){this.clearTimeouts(),this.tapsSoFar=0,this.currentMaxNumberOfPointers=0}};function Qt(n,t,e){return t in n?Object.defineProperty(n,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):n[t]=e,n}const So=500,_d=10,Bd=10;class Ud extends le{constructor(...t){super(...t),Qt(this,"minDurationMs",So),Qt(this,"defaultMaxDistSq",_d*Bd),Qt(this,"maxDistSq",this.defaultMaxDistSq),Qt(this,"numberOfPointers",1),Qt(this,"startX",0),Qt(this,"startY",0),Qt(this,"startTime",0),Qt(this,"previousTime",0),Qt(this,"activationTimeout",void 0)}init(t,e){this.config.enableContextMenu===void 0&&(this.config.enableContextMenu=!1),super.init(t,e)}transformNativeEvent(){return{...super.transformNativeEvent(),duration:Date.now()-this.startTime}}updateGestureConfig({enabled:t=!0,...e}){super.updateGestureConfig({enabled:t,...e}),this.config.minDurationMs!==void 0&&(this.minDurationMs=this.config.minDurationMs),this.config.maxDist!==void 0&&(this.maxDistSq=this.config.maxDist*this.config.maxDist),this.config.numberOfPointers!==void 0&&(this.numberOfPointers=this.config.numberOfPointers)}resetConfig(){super.resetConfig(),this.minDurationMs=So,this.maxDistSq=this.defaultMaxDistSq}onStateChange(t,e){clearTimeout(this.activationTimeout)}onPointerDown(t){this.isButtonInConfig(t.button)&&(this.tracker.addToTracker(t),super.onPointerDown(t),this.startX=t.x,this.startY=t.y,this.tryBegin(),this.tryActivate(),this.tryToSendTouchEvent(t))}onPointerAdd(t){if(super.onPointerAdd(t),this.tracker.addToTracker(t),this.tracker.getTrackedPointersCount()>this.numberOfPointers){this.fail();return}const e=this.tracker.getAbsoluteCoordsAverage();this.startX=e.x,this.startY=e.y,this.tryActivate()}onPointerMove(t){super.onPointerMove(t),this.tracker.track(t),this.checkDistanceFail()}onPointerUp(t){super.onPointerUp(t),this.tracker.removeFromTracker(t.pointerId),this.currentState===f.ACTIVE?this.end():this.fail()}onPointerRemove(t){super.onPointerRemove(t),this.tracker.removeFromTracker(t.pointerId),this.tracker.getTrackedPointersCount()<this.numberOfPointers&&this.getState()!==f.ACTIVE&&this.fail()}tryBegin(){this.currentState===f.UNDETERMINED&&(this.previousTime=Date.now(),this.startTime=this.previousTime,this.begin())}tryActivate(){this.tracker.getTrackedPointersCount()===this.numberOfPointers&&(this.minDurationMs>0?this.activationTimeout=setTimeout(()=>{this.activate()},this.minDurationMs):this.minDurationMs===0&&this.activate())}checkDistanceFail(){const t=this.tracker.getAbsoluteCoordsAverage(),e=t.x-this.startX,i=t.y-this.startY;e*e+i*i<=this.maxDistSq||(this.currentState===f.ACTIVE?this.cancel():this.fail())}}function It(n,t,e){return t in n?Object.defineProperty(n,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):n[t]=e,n}class Wd{constructor(t){It(this,"onScaleBegin",void 0),It(this,"onScale",void 0),It(this,"onScaleEnd",void 0),It(this,"focusX",void 0),It(this,"focusY",void 0),It(this,"currentSpan",void 0),It(this,"prevSpan",void 0),It(this,"initialSpan",void 0),It(this,"currentTime",void 0),It(this,"prevTime",void 0),It(this,"inProgress",!1),It(this,"spanSlop",void 0),It(this,"minSpan",void 0),this.onScaleBegin=t.onScaleBegin,this.onScale=t.onScale,this.onScaleEnd=t.onScaleEnd,this.spanSlop=Be*2,this.minSpan=0}onTouchEvent(t,e){this.currentTime=t.time;const i=t.eventType,s=e.getTrackedPointersCount(),r=i===P.UP||i===P.ADDITIONAL_POINTER_UP||i===P.CANCEL;if((i===P.DOWN||r)&&(this.inProgress&&(this.onScaleEnd(this),this.inProgress=!1,this.initialSpan=0),r))return!0;const a=i===P.DOWN||i===P.ADDITIONAL_POINTER_UP||i===P.ADDITIONAL_POINTER_DOWN,o=i===P.ADDITIONAL_POINTER_UP,l=o?t.pointerId:void 0,c=o?s-1:s,h=e.getAbsoluteCoordsSum(),d=h.x/c,g=h.y/c;let p=0,v=0;e.getData().forEach((z,M)=>{M!==l&&(p+=Math.abs(z.abosoluteCoords.x-d),v+=Math.abs(z.abosoluteCoords.y-g))});const E=p/c,y=v/c,L=E*2,V=y*2,w=Math.hypot(L,V),N=this.inProgress;return this.focusX=d,this.focusY=g,this.inProgress&&(w<this.minSpan||a)&&(this.onScaleEnd(this),this.inProgress=!1,this.initialSpan=w),a&&(this.initialSpan=this.prevSpan=this.currentSpan=w),!this.inProgress&&w>=this.minSpan&&(N||Math.abs(w-this.initialSpan)>this.spanSlop)&&(this.prevSpan=this.currentSpan=w,this.prevTime=this.currentTime,this.inProgress=this.onScaleBegin(this)),i!==P.MOVE||(this.currentSpan=w,this.inProgress&&!this.onScale(this))||(this.prevSpan=this.currentSpan,this.prevTime=this.currentTime),!0}getCurrentSpan(){return this.currentSpan}getFocusX(){return this.focusX}getFocusY(){return this.focusY}getTimeDelta(){return this.currentTime-this.prevTime}getScaleFactor(t){return t<2?1:this.prevSpan>0?this.currentSpan/this.prevSpan:1}}function xe(n,t,e){return t in n?Object.defineProperty(n,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):n[t]=e,n}class zd extends le{constructor(...t){super(...t),xe(this,"scale",1),xe(this,"velocity",0),xe(this,"startingSpan",0),xe(this,"spanSlop",Be),xe(this,"scaleDetectorListener",{onScaleBegin:e=>(this.startingSpan=e.getCurrentSpan(),!0),onScale:e=>{const i=this.scale;this.scale*=e.getScaleFactor(this.tracker.getTrackedPointersCount());const s=e.getTimeDelta();return s>0&&(this.velocity=(this.scale-i)/s),Math.abs(this.startingSpan-e.getCurrentSpan())>=this.spanSlop&&this.currentState===f.BEGAN&&this.activate(),!0},onScaleEnd:e=>{}}),xe(this,"scaleGestureDetector",new Wd(this.scaleDetectorListener))}init(t,e){super.init(t,e),this.setShouldCancelWhenOutside(!1)}updateGestureConfig({enabled:t=!0,...e}){super.updateGestureConfig({enabled:t,...e})}transformNativeEvent(){return{focalX:this.scaleGestureDetector.getFocusX(),focalY:this.scaleGestureDetector.getFocusY(),velocity:this.velocity,scale:this.scale}}onPointerDown(t){this.tracker.addToTracker(t),super.onPointerDown(t),this.tryToSendTouchEvent(t)}onPointerAdd(t){this.tracker.addToTracker(t),super.onPointerAdd(t),this.tryBegin(),this.scaleGestureDetector.onTouchEvent(t,this.tracker)}onPointerUp(t){super.onPointerUp(t),this.tracker.removeFromTracker(t.pointerId),this.currentState===f.ACTIVE&&(this.scaleGestureDetector.onTouchEvent(t,this.tracker),this.currentState===f.ACTIVE?this.end():this.fail())}onPointerRemove(t){super.onPointerRemove(t),this.scaleGestureDetector.onTouchEvent(t,this.tracker),this.tracker.removeFromTracker(t.pointerId),this.currentState===f.ACTIVE&&this.tracker.getTrackedPointersCount()<2&&this.end()}onPointerMove(t){this.tracker.getTrackedPointersCount()<2||(this.tracker.track(t),this.scaleGestureDetector.onTouchEvent(t,this.tracker),super.onPointerMove(t))}onPointerOutOfBounds(t){this.tracker.getTrackedPointersCount()<2||(this.tracker.track(t),this.scaleGestureDetector.onTouchEvent(t,this.tracker),super.onPointerOutOfBounds(t))}tryBegin(){this.currentState===f.UNDETERMINED&&(this.resetProgress(),this.begin())}activate(t){this.currentState!==f.ACTIVE&&this.resetProgress(),super.activate(t)}onReset(){this.resetProgress()}resetProgress(){this.currentState!==f.ACTIVE&&(this.velocity=0,this.scale=1)}}function Yt(n,t,e){return t in n?Object.defineProperty(n,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):n[t]=e,n}class qd{constructor(t){Yt(this,"onRotationBegin",void 0),Yt(this,"onRotation",void 0),Yt(this,"onRotationEnd",void 0),Yt(this,"currentTime",0),Yt(this,"previousTime",0),Yt(this,"previousAngle",0),Yt(this,"rotation",0),Yt(this,"anchorX",0),Yt(this,"anchorY",0),Yt(this,"isInProgress",!1),Yt(this,"keyPointers",[NaN,NaN]),this.onRotationBegin=t.onRotationBegin,this.onRotation=t.onRotation,this.onRotationEnd=t.onRotationEnd}updateCurrent(t,e){this.previousTime=this.currentTime,this.currentTime=t.time;const[i,s]=this.keyPointers,r=e.getLastAbsoluteCoords(i),a=e.getLastAbsoluteCoords(s),o=a.x-r.x,l=a.y-r.y;this.anchorX=(r.x+a.x)/2,this.anchorY=(r.y+a.y)/2;const c=-Math.atan2(l,o);this.rotation=Number.isNaN(this.previousAngle)?0:this.previousAngle-c,this.previousAngle=c,this.rotation>Math.PI?this.rotation-=Math.PI:this.rotation<-Math.PI&&(this.rotation+=Math.PI),this.rotation>Math.PI/2?this.rotation-=Math.PI:this.rotation<-Math.PI/2&&(this.rotation+=Math.PI)}finish(){this.isInProgress&&(this.isInProgress=!1,this.keyPointers=[NaN,NaN],this.onRotationEnd(this))}setKeyPointers(t){if(this.keyPointers[0]&&this.keyPointers[1])return;const e=t.getData().keys();this.keyPointers[0]=e.next().value,this.keyPointers[1]=e.next().value}onTouchEvent(t,e){switch(t.eventType){case P.DOWN:this.isInProgress=!1;break;case P.ADDITIONAL_POINTER_DOWN:if(this.isInProgress)break;this.isInProgress=!0,this.previousTime=t.time,this.previousAngle=NaN,this.setKeyPointers(e),this.updateCurrent(t,e),this.onRotationBegin(this);break;case P.MOVE:if(!this.isInProgress)break;this.updateCurrent(t,e),this.onRotation(this);break;case P.ADDITIONAL_POINTER_UP:if(!this.isInProgress)break;this.keyPointers.indexOf(t.pointerId)>=0&&this.finish();break;case P.UP:this.isInProgress&&this.finish();break}return!0}getTimeDelta(){return this.currentTime+this.previousTime}getAnchorX(){return this.anchorX}getAnchorY(){return this.anchorY}getRotation(){return this.rotation}reset(){this.keyPointers=[NaN,NaN],this.isInProgress=!1}}function Re(n,t,e){return t in n?Object.defineProperty(n,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):n[t]=e,n}const Kd=Math.PI/36;class jd extends le{constructor(...t){super(...t),Re(this,"rotation",0),Re(this,"velocity",0),Re(this,"cachedAnchorX",0),Re(this,"cachedAnchorY",0),Re(this,"rotationGestureListener",{onRotationBegin:e=>!0,onRotation:e=>{const i=this.rotation;this.rotation+=e.getRotation();const s=e.getTimeDelta();return s>0&&(this.velocity=(this.rotation-i)/s),Math.abs(this.rotation)>=Kd&&this.currentState===f.BEGAN&&this.activate(),!0},onRotationEnd:e=>{this.end()}}),Re(this,"rotationGestureDetector",new qd(this.rotationGestureListener))}init(t,e){super.init(t,e),this.setShouldCancelWhenOutside(!1)}updateGestureConfig({enabled:t=!0,...e}){super.updateGestureConfig({enabled:t,...e})}transformNativeEvent(){return{rotation:this.rotation?this.rotation:0,anchorX:this.getAnchorX(),anchorY:this.getAnchorY(),velocity:this.velocity?this.velocity:0}}getAnchorX(){const t=this.rotationGestureDetector.getAnchorX();return t||this.cachedAnchorX}getAnchorY(){const t=this.rotationGestureDetector.getAnchorY();return t||this.cachedAnchorY}onPointerDown(t){this.tracker.addToTracker(t),super.onPointerDown(t),this.tryToSendTouchEvent(t)}onPointerAdd(t){this.tracker.addToTracker(t),super.onPointerAdd(t),this.tryBegin(),this.rotationGestureDetector.onTouchEvent(t,this.tracker)}onPointerMove(t){this.tracker.getTrackedPointersCount()<2||(this.getAnchorX()&&(this.cachedAnchorX=this.getAnchorX()),this.getAnchorY()&&(this.cachedAnchorY=this.getAnchorY()),this.tracker.track(t),this.rotationGestureDetector.onTouchEvent(t,this.tracker),super.onPointerMove(t))}onPointerOutOfBounds(t){this.tracker.getTrackedPointersCount()<2||(this.getAnchorX()&&(this.cachedAnchorX=this.getAnchorX()),this.getAnchorY()&&(this.cachedAnchorY=this.getAnchorY()),this.tracker.track(t),this.rotationGestureDetector.onTouchEvent(t,this.tracker),super.onPointerOutOfBounds(t))}onPointerUp(t){super.onPointerUp(t),this.tracker.removeFromTracker(t.pointerId),this.rotationGestureDetector.onTouchEvent(t,this.tracker),this.currentState===f.ACTIVE&&(this.currentState===f.ACTIVE?this.end():this.fail())}onPointerRemove(t){super.onPointerRemove(t),this.rotationGestureDetector.onTouchEvent(t,this.tracker),this.tracker.removeFromTracker(t.pointerId)}tryBegin(){this.currentState===f.UNDETERMINED&&this.begin()}activate(t){super.activate()}onReset(){this.currentState!==f.ACTIVE&&(this.rotation=0,this.velocity=0,this.rotationGestureDetector.reset())}}const oa=1,la=2,ca=4,ua=8,Fe={RIGHT:oa,LEFT:la,UP:ca,DOWN:ua},mn={UP_RIGHT:ca|oa,DOWN_RIGHT:ua|oa,UP_LEFT:ca|la,DOWN_LEFT:ua|la};function on(n,t,e){return t in n?Object.defineProperty(n,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):n[t]=e,n}class Rt{constructor(t,e){on(this,"x",void 0),on(this,"y",void 0),on(this,"unitX",void 0),on(this,"unitY",void 0),on(this,"_magnitude",void 0),this.x=t,this.y=e,this._magnitude=Math.hypot(this.x,this.y);const i=this._magnitude>Rd;this.unitX=i?this.x/this._magnitude:0,this.unitY=i?this.y/this._magnitude:0}static fromDirection(t){var e;return(e=Jd.get(t))!==null&&e!==void 0?e:new Rt(0,0)}static fromVelocity(t,e){const i=t.getVelocity(e);return new Rt(i.x,i.y)}get magnitude(){return this._magnitude}computeSimilarity(t){return this.unitX*t.unitX+this.unitY*t.unitY}isSimilar(t,e){return this.computeSimilarity(t)>e}}const Jd=new Map([[Fe.LEFT,new Rt(-1,0)],[Fe.RIGHT,new Rt(1,0)],[Fe.UP,new Rt(0,-1)],[Fe.DOWN,new Rt(0,1)],[mn.UP_RIGHT,new Rt(1,-1)],[mn.DOWN_RIGHT,new Rt(1,1)],[mn.UP_LEFT,new Rt(-1,-1)],[mn.DOWN_LEFT,new Rt(-1,1)]]);function ha(n,{x:t,y:e}){const i=n.getBoundingClientRect();return t>=i.left&&t<=i.right&&e>=i.top&&e<=i.bottom}const bl=new Map([["mouse",At.MOUSE],["touch",At.TOUCH],["pen",At.STYLUS],["none",At.OTHER]]),$d=n=>n*Math.PI/180,Tl=n=>Math.cos($d(n/2));function Qd(n){var t;const e=getComputedStyle(n),i={scaleX:1,scaleY:1};if(e.scale!==void 0&&e.scale!=="none"){const r=e.scale.split(" ");r[0]&&(i.scaleX=parseFloat(r[0])),i.scaleY=r[1]?parseFloat(r[1]):parseFloat(r[0])}const s=(t=new RegExp(/matrix\((.+)\)/).exec(e.transform))===null||t===void 0?void 0:t[1];if(s){const r=s.split(", ");i.scaleX*=parseFloat(r[0]),i.scaleY*=parseFloat(r[3])}return i}function Zd(n){if(bl.get(n.pointerType)!==At.STYLUS)return;const e=n.azimuthAngle,i=n.altitudeAngle;if(n.tiltX===0&&n.tiltY===0){if(e===void 0||i===void 0)return{tiltX:0,tiltY:0,azimuthAngle:Math.PI/2,altitudeAngle:Math.PI/2,pressure:n.pressure};const{tiltX:a,tiltY:o}=ef(i,e);return{tiltX:a,tiltY:o,azimuthAngle:e,altitudeAngle:i,pressure:n.pressure}}const{altitudeAngle:s,azimuthAngle:r}=tf(n.tiltX,n.tiltY);return{tiltX:n.tiltX,tiltY:n.tiltY,azimuthAngle:r,altitudeAngle:s,pressure:n.pressure}}function tf(n,t){const e=n*Math.PI/180,i=t*Math.PI/180;let s=0;if(n===0)t>0?s=Math.PI/2:t<0&&(s=3*Math.PI/2);else if(t===0)n<0&&(s=Math.PI);else if(Math.abs(n)===90||Math.abs(t)===90)s=0;else{const a=Math.tan(e),o=Math.tan(i);s=Math.atan2(o,a),s<0&&(s+=2*Math.PI)}let r=0;return Math.abs(n)===90||Math.abs(t)===90?r=0:n===0?r=Math.PI/2-Math.abs(i):t===0?r=Math.PI/2-Math.abs(e):r=Math.atan(1/Math.sqrt(Math.pow(Math.tan(e),2)+Math.pow(Math.tan(i),2))),{altitudeAngle:r,azimuthAngle:s}}function ef(n,t){const e=180/Math.PI;let i=0,s=0;if(n===0&&((t===0||t===2*Math.PI)&&(i=Math.PI/2),t===Math.PI/2&&(s=Math.PI/2),t===Math.PI&&(i=-Math.PI/2),t===3*Math.PI/2&&(s=-Math.PI/2),t>0&&t<Math.PI/2&&(i=Math.PI/2,s=Math.PI/2),t>Math.PI/2&&t<Math.PI&&(i=-Math.PI/2,s=Math.PI/2),t>Math.PI&&t<3*Math.PI/2&&(i=-Math.PI/2,s=-Math.PI/2),t>3*Math.PI/2&&t<2*Math.PI&&(i=Math.PI/2,s=-Math.PI/2)),n!==0){const o=Math.tan(n);i=Math.atan(Math.cos(t)/o),s=Math.atan(Math.sin(t)/o)}const r=Math.round(i*e),a=Math.round(s*e);return{tiltX:r,tiltY:a}}const nf=["Circle","ClipPath","Ellipse","ForeignObject","G","Image","Line","Marker","Mask","Path","Pattern","Polygon","Polyline","Rect","Svg","Symbol","TSpan","Text","TextPath","Use"];function sf(n){const t=Object.getPrototypeOf(n).constructor.name;return nf.indexOf(t)>=0&&Object.hasOwn(n,"elementRef")}function be(n,t,e){return t in n?Object.defineProperty(n,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):n[t]=e,n}const rf=800,af=700,Cl=30,bo=Fe.RIGHT,To=1,of=Tl(Cl),lf=Tl(90-Cl);class cf extends le{constructor(...t){super(...t),be(this,"numberOfPointersRequired",To),be(this,"direction",bo),be(this,"maxDurationMs",rf),be(this,"minVelocity",af),be(this,"delayTimeout",void 0),be(this,"maxNumberOfPointersSimultaneously",0),be(this,"keyPointer",NaN)}init(t,e){super.init(t,e)}updateGestureConfig({enabled:t=!0,...e}){super.updateGestureConfig({enabled:t,...e}),this.config.direction&&(this.direction=this.config.direction),this.config.numberOfPointers&&(this.numberOfPointersRequired=this.config.numberOfPointers)}startFling(){this.begin(),this.maxNumberOfPointersSimultaneously=1,this.delayTimeout=setTimeout(()=>this.fail(),this.maxDurationMs)}tryEndFling(){const t=Rt.fromVelocity(this.tracker,this.keyPointer),e=(c,h)=>(c&this.direction)===c&&t.isSimilar(Rt.fromDirection(c),h),i=Object.values(Fe),s=Object.values(mn),r=i.map(c=>e(c,of)),a=s.map(c=>e(c,lf)),o=r.some(Boolean)||a.some(Boolean),l=t.magnitude>this.minVelocity;return this.maxNumberOfPointersSimultaneously===this.numberOfPointersRequired&&o&&l?(clearTimeout(this.delayTimeout),this.activate(),!0):!1}endFling(){this.tryEndFling()||this.fail()}onPointerDown(t){this.isButtonInConfig(t.button)&&(this.tracker.addToTracker(t),this.keyPointer=t.pointerId,super.onPointerDown(t),this.newPointerAction(),this.tryToSendTouchEvent(t))}onPointerAdd(t){this.tracker.addToTracker(t),super.onPointerAdd(t),this.newPointerAction()}newPointerAction(){this.currentState===f.UNDETERMINED&&this.startFling(),this.currentState===f.BEGAN&&(this.tryEndFling(),this.tracker.getTrackedPointersCount()>this.maxNumberOfPointersSimultaneously&&(this.maxNumberOfPointersSimultaneously=this.tracker.getTrackedPointersCount()))}pointerMoveAction(t){this.tracker.track(t),this.currentState===f.BEGAN&&this.tryEndFling()}onPointerMove(t){this.pointerMoveAction(t),super.onPointerMove(t)}onPointerOutOfBounds(t){this.pointerMoveAction(t),super.onPointerOutOfBounds(t)}onPointerUp(t){super.onPointerUp(t),this.onUp(t),this.keyPointer=NaN}onPointerRemove(t){super.onPointerRemove(t),this.onUp(t)}onUp(t){this.currentState===f.BEGAN&&this.endFling(),this.tracker.removeFromTracker(t.pointerId)}activate(t){super.activate(t),this.end()}resetConfig(){super.resetConfig(),this.numberOfPointersRequired=To,this.direction=bo}}function Ve(n,t,e){return t in n?Object.defineProperty(n,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):n[t]=e,n}let uf=class Dl extends le{constructor(...t){super(...t),Ve(this,"buttonRole",void 0),Ve(this,"shouldActivateOnStart",!1),Ve(this,"disallowInterruption",!1),Ve(this,"startX",0),Ve(this,"startY",0),Ve(this,"minDistSq",Be*Be)}init(t,e){if(super.init(t,e),this.setShouldCancelWhenOutside(!0),at.OS!=="web")return;const i=this.delegate.getView();this.restoreViewStyles(i),this.buttonRole=i.getAttribute("role")==="button"}updateGestureConfig({enabled:t=!0,...e}){super.updateGestureConfig({enabled:t,...e}),this.config.shouldActivateOnStart!==void 0&&(this.shouldActivateOnStart=this.config.shouldActivateOnStart),this.config.disallowInterruption!==void 0&&(this.disallowInterruption=this.config.disallowInterruption);const i=this.delegate.getView();this.restoreViewStyles(i)}restoreViewStyles(t){t&&(t.style.touchAction="auto",t.style.WebkitTouchCallout="auto")}resetConfig(){super.resetConfig()}onPointerDown(t){this.tracker.addToTracker(t),super.onPointerDown(t),this.newPointerAction(),this.tryToSendTouchEvent(t)}onPointerAdd(t){this.tracker.addToTracker(t),super.onPointerAdd(t),this.newPointerAction()}newPointerAction(){const t=this.tracker.getAbsoluteCoordsAverage();this.startX=t.x,this.startY=t.y,this.currentState===f.UNDETERMINED&&(this.begin(),this.buttonRole&&this.activate())}onPointerMove(t){this.tracker.track(t);const e=this.tracker.getAbsoluteCoordsAverage(),i=this.startX-e.x,s=this.startY-e.y;i*i+s*s>=this.minDistSq&&(this.buttonRole&&this.currentState===f.ACTIVE?this.cancel():!this.buttonRole&&this.currentState===f.BEGAN&&this.activate())}onPointerLeave(){(this.currentState===f.BEGAN||this.currentState===f.ACTIVE)&&this.cancel()}onPointerUp(t){super.onPointerUp(t),this.onUp(t)}onPointerRemove(t){super.onPointerRemove(t),this.onUp(t)}onUp(t){this.tracker.removeFromTracker(t.pointerId),this.tracker.getTrackedPointersCount()===0&&(this.currentState===f.ACTIVE?this.end():this.fail())}shouldRecognizeSimultaneously(t){if(super.shouldRecognizeSimultaneously(t))return!0;if(t instanceof Dl&&t.getState()===f.ACTIVE&&t.disallowsInterruption())return!1;const e=!this.disallowInterruption;return this.currentState===f.ACTIVE&&t.getState()===f.ACTIVE&&e?!1:this.currentState===f.ACTIVE&&e&&t.getTag()>0}shouldBeCancelledByOther(t){return!this.disallowInterruption}disallowsInterruption(){return this.disallowInterruption}isButton(){return this.buttonRole}};class hf extends le{init(t,e){super.init(t,e)}updateGestureConfig({enabled:t=!0,...e}){super.updateGestureConfig({enabled:t,...e})}onPointerDown(t){this.tracker.addToTracker(t),super.onPointerDown(t),this.begin(),this.tryToSendTouchEvent(t)}onPointerAdd(t){this.tracker.addToTracker(t),super.onPointerAdd(t)}onPointerMove(t){this.tracker.track(t),super.onPointerMove(t)}onPointerOutOfBounds(t){this.tracker.track(t),super.onPointerOutOfBounds(t)}onPointerUp(t){super.onPointerUp(t),this.tracker.removeFromTracker(t.pointerId)}onPointerRemove(t){super.onPointerRemove(t),this.tracker.removeFromTracker(t.pointerId)}}function df(n,t,e){return t in n?Object.defineProperty(n,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):n[t]=e,n}class ff extends le{constructor(...t){super(...t),df(this,"stylusData",void 0)}init(t,e){super.init(t,e)}transformNativeEvent(){return{...super.transformNativeEvent(),stylusData:this.stylusData}}updateGestureConfig({enabled:t=!0,...e}){super.updateGestureConfig({enabled:t,...e})}onPointerMoveOver(t){_t.getInstance().recordHandlerIfNotPresent(this),this.tracker.addToTracker(t),this.stylusData=t.stylusData,super.onPointerMoveOver(t),this.getState()===f.UNDETERMINED&&(this.begin(),this.activate())}onPointerMoveOut(t){this.tracker.removeFromTracker(t.pointerId),this.stylusData=t.stylusData,super.onPointerMoveOut(t),this.end()}onPointerMove(t){this.tracker.track(t),this.stylusData=t.stylusData,super.onPointerMove(t)}onPointerCancel(t){super.onPointerCancel(t),this.reset()}}const Ue=typeof setImmediate=="function"?setImmediate.bind(null):typeof requestAnimationFrame=="function"?requestAnimationFrame.bind(null):queueMicrotask.bind(null),Co={NativeViewGestureHandler:uf,PanGestureHandler:Gd,TapGestureHandler:Yd,LongPressGestureHandler:Ud,PinchGestureHandler:zd,RotationGestureHandler:jd,FlingGestureHandler:cf,ManualGestureHandler:hf,HoverGestureHandler:ff};function fe(n){if((n==null?void 0:n.viewTag)!==void 0)return fe(n.viewTag);if(n instanceof Element)return n.style.display==="contents"?fe(n.firstChild):n;if(sf(n))return n.elementRef.current;let t=n==null?void 0:n.current;for(;t&&t.style.display==="contents";)t=t.firstChild;return t}function xs(n,t,e){return t in n?Object.defineProperty(n,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):n[t]=e,n}class Va{constructor(t){xs(this,"view",void 0),xs(this,"pointersInBounds",[]),xs(this,"activePointersCounter",void 0),this.view=t,this.activePointersCounter=0}onPointerDown(t){}onPointerAdd(t){}onPointerUp(t){}onPointerRemove(t){}onPointerMove(t){}onPointerLeave(t){}onPointerEnter(t){}onPointerCancel(t){}onPointerOutOfBounds(t){}onPointerMoveOver(t){}onPointerMoveOut(t){}onWheel(t){}setOnPointerDown(t){this.onPointerDown=t}setOnPointerAdd(t){this.onPointerAdd=t}setOnPointerUp(t){this.onPointerUp=t}setOnPointerRemove(t){this.onPointerRemove=t}setOnPointerMove(t){this.onPointerMove=t}setOnPointerLeave(t){this.onPointerLeave=t}setOnPointerEnter(t){this.onPointerEnter=t}setOnPointerCancel(t){this.onPointerCancel=t}setOnPointerOutOfBounds(t){this.onPointerOutOfBounds=t}setOnPointerMoveOver(t){this.onPointerMoveOver=t}setOnPointerMoveOut(t){this.onPointerMoveOut=t}setOnWheel(t){this.onWheel=t}markAsInBounds(t){this.pointersInBounds.indexOf(t)>=0||this.pointersInBounds.push(t)}markAsOutOfBounds(t){const e=this.pointersInBounds.indexOf(t);e<0||this.pointersInBounds.splice(e,1)}resetManager(){this.activePointersCounter=0,this.pointersInBounds=[]}}function Ut(n,t,e){return t in n?Object.defineProperty(n,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):n[t]=e,n}const Rs=new Set(["SELECT","INPUT"]);class gf extends Va{constructor(t){super(t),Ut(this,"trackedPointers",new Set),Ut(this,"mouseButtonsMapper",new Map),Ut(this,"lastPosition",void 0),Ut(this,"pointerDownCallback",e=>{if(!ha(this.view,{x:e.clientX,y:e.clientY}))return;const i=this.mapEvent(e,P.DOWN),s=e.target;Rs.has(s.tagName)||s.setPointerCapture(i.pointerId),this.markAsInBounds(i.pointerId),this.trackedPointers.add(i.pointerId),++this.activePointersCounter>1?(i.eventType=P.ADDITIONAL_POINTER_DOWN,this.onPointerAdd(i)):this.onPointerDown(i)}),Ut(this,"pointerUpCallback",e=>{if(this.activePointersCounter===0)return;const i=this.mapEvent(e,P.UP),s=e.target;Rs.has(s.tagName)||s.releasePointerCapture(i.pointerId),this.markAsOutOfBounds(i.pointerId),this.trackedPointers.delete(i.pointerId),--this.activePointersCounter>0?(i.eventType=P.ADDITIONAL_POINTER_UP,this.onPointerRemove(i)):this.onPointerUp(i)}),Ut(this,"pointerMoveCallback",e=>{const i=this.mapEvent(e,P.MOVE),s=e.target;!s.hasPointerCapture(e.pointerId)&&!Rs.has(s.tagName)&&s.setPointerCapture(e.pointerId);const r=ha(this.view,{x:i.x,y:i.y}),a=this.pointersInBounds.indexOf(i.pointerId);r?a<0?(i.eventType=P.ENTER,this.onPointerEnter(i),this.markAsInBounds(i.pointerId)):this.onPointerMove(i):a>=0?(i.eventType=P.LEAVE,this.onPointerLeave(i),this.markAsOutOfBounds(i.pointerId)):this.onPointerOutOfBounds(i),this.lastPosition.x=e.x,this.lastPosition.y=e.y}),Ut(this,"pointerCancelCallback",e=>{const i=this.mapEvent(e,P.CANCEL);this.onPointerCancel(i),this.markAsOutOfBounds(i.pointerId),this.activePointersCounter=0,this.trackedPointers.clear()}),Ut(this,"pointerEnterCallback",e=>{const i=this.mapEvent(e,P.ENTER);this.onPointerMoveOver(i)}),Ut(this,"pointerLeaveCallback",e=>{const i=this.mapEvent(e,P.LEAVE);this.onPointerMoveOut(i)}),Ut(this,"lostPointerCaptureCallback",e=>{const i=this.mapEvent(e,P.CANCEL);this.trackedPointers.has(i.pointerId)&&(this.onPointerCancel(i),this.activePointersCounter=0,this.trackedPointers.clear())}),this.mouseButtonsMapper.set(0,ie.LEFT),this.mouseButtonsMapper.set(1,ie.MIDDLE),this.mouseButtonsMapper.set(2,ie.RIGHT),this.mouseButtonsMapper.set(3,ie.BUTTON_4),this.mouseButtonsMapper.set(4,ie.BUTTON_5),this.lastPosition={x:-1/0,y:-1/0}}registerListeners(){this.view.addEventListener("pointerdown",this.pointerDownCallback),this.view.addEventListener("pointerup",this.pointerUpCallback),this.view.addEventListener("pointermove",this.pointerMoveCallback),this.view.addEventListener("pointercancel",this.pointerCancelCallback),this.view.addEventListener("pointerenter",this.pointerEnterCallback),this.view.addEventListener("pointerleave",this.pointerLeaveCallback),this.view.addEventListener("lostpointercapture",this.lostPointerCaptureCallback)}unregisterListeners(){this.view.removeEventListener("pointerdown",this.pointerDownCallback),this.view.removeEventListener("pointerup",this.pointerUpCallback),this.view.removeEventListener("pointermove",this.pointerMoveCallback),this.view.removeEventListener("pointercancel",this.pointerCancelCallback),this.view.removeEventListener("pointerenter",this.pointerEnterCallback),this.view.removeEventListener("pointerleave",this.pointerLeaveCallback),this.view.removeEventListener("lostpointercapture",this.lostPointerCaptureCallback)}mapEvent(t,e){var i;const s=this.view.getBoundingClientRect(),{scaleX:r,scaleY:a}=Qd(this.view);return{x:t.clientX,y:t.clientY,offsetX:(t.clientX-s.left)/r,offsetY:(t.clientY-s.top)/a,pointerId:t.pointerId,eventType:e,pointerType:(i=bl.get(t.pointerType))!==null&&i!==void 0?i:At.OTHER,button:this.mouseButtonsMapper.get(t.button),time:t.timeStamp,stylusData:Zd(t)}}resetManager(){super.resetManager(),this.trackedPointers.clear()}}function ln(n,t,e){return t in n?Object.defineProperty(n,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):n[t]=e,n}class mf extends Va{constructor(...t){super(...t),ln(this,"activationKeys",["Enter"," "]),ln(this,"cancelationKeys",["Tab"]),ln(this,"isPressed",!1),ln(this,"keyDownCallback",e=>{if(this.cancelationKeys.indexOf(e.key)!==-1&&this.isPressed){this.dispatchEvent(e,P.CANCEL);return}this.activationKeys.indexOf(e.key)!==-1&&this.dispatchEvent(e,P.DOWN)}),ln(this,"keyUpCallback",e=>{this.activationKeys.indexOf(e.key)===-1||!this.isPressed||this.dispatchEvent(e,P.UP)})}dispatchEvent(t,e){if(!(t.target instanceof HTMLElement))return;const i=this.mapEvent(t,e);switch(e){case P.UP:this.isPressed=!1,this.onPointerUp(i);break;case P.DOWN:this.isPressed=!0,this.onPointerDown(i);break;case P.CANCEL:this.isPressed=!1,this.onPointerCancel(i);break}}registerListeners(){this.view.addEventListener("keydown",this.keyDownCallback),this.view.addEventListener("keyup",this.keyUpCallback)}unregisterListeners(){this.view.removeEventListener("keydown",this.keyDownCallback),this.view.removeEventListener("keyup",this.keyUpCallback)}mapEvent(t,e){const i=t.target.getBoundingClientRect(),s={x:(i==null?void 0:i.x)+(i==null?void 0:i.width)/2,y:(i==null?void 0:i.y)+(i==null?void 0:i.height)/2},r={x:(i==null?void 0:i.width)/2,y:(i==null?void 0:i.height)/2};return{x:s.x,y:s.y,offsetX:r.x,offsetY:r.y,pointerId:0,eventType:e,pointerType:At.KEY,time:t.timeStamp}}}function Vs(n,t,e){return t in n?Object.defineProperty(n,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):n[t]=e,n}class pf extends Va{constructor(...t){super(...t),Vs(this,"wheelDelta",{x:0,y:0}),Vs(this,"resetDelta",e=>{this.wheelDelta={x:0,y:0}}),Vs(this,"wheelCallback",e=>{this.wheelDelta.x+=e.deltaX,this.wheelDelta.y+=e.deltaY;const i=this.mapEvent(e);this.onWheel(i)})}registerListeners(){this.view.addEventListener("pointermove",this.resetDelta),this.view.addEventListener("wheel",this.wheelCallback)}unregisterListeners(){this.view.removeEventListener("pointermove",this.resetDelta),this.view.removeEventListener("wheel",this.wheelCallback)}mapEvent(t){return{x:t.clientX+this.wheelDelta.x,y:t.clientY+this.wheelDelta.y,offsetX:t.offsetX-t.deltaX,offsetY:t.offsetY-t.deltaY,pointerId:-1,eventType:P.MOVE,pointerType:At.OTHER,time:t.timeStamp,wheelDeltaY:t.wheelDeltaY}}resetManager(){super.resetManager()}}function cn(n,t,e){return t in n?Object.defineProperty(n,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):n[t]=e,n}class vf{constructor(){cn(this,"isInitialized",!1),cn(this,"view",void 0),cn(this,"gestureHandler",void 0),cn(this,"eventManagers",[]),cn(this,"defaultViewStyles",{userSelect:"",touchAction:""})}getView(){return this.view}init(t,e){if(!t)throw new Error(`Cannot find HTML Element for handler ${e.getTag()}`);this.isInitialized=!0,this.gestureHandler=e,this.view=fe(t),this.defaultViewStyles={userSelect:this.view.style.userSelect,touchAction:this.view.style.touchAction};const i=e.getConfig();this.setUserSelect(i.enabled),this.setTouchAction(i.enabled),this.setContextMenu(i.enabled),this.eventManagers.push(new gf(this.view)),this.eventManagers.push(new mf(this.view)),this.eventManagers.push(new pf(this.view)),this.eventManagers.forEach(s=>this.gestureHandler.attachEventManager(s))}isPointerInBounds({x:t,y:e}){return ha(this.view,{x:t,y:e})}measureView(){const t=this.view.getBoundingClientRect();return{pageX:t.left,pageY:t.top,width:t.width,height:t.height}}reset(){this.eventManagers.forEach(t=>t.resetManager())}tryResetCursor(){const t=this.gestureHandler.getConfig();t.activeCursor&&t.activeCursor!=="auto"&&this.gestureHandler.getState()===f.ACTIVE&&(this.view.style.cursor="auto")}shouldDisableContextMenu(t){return t.enableContextMenu===void 0&&this.gestureHandler.isButtonInConfig(ie.RIGHT)||t.enableContextMenu===!1}addContextMenuListeners(t){this.shouldDisableContextMenu(t)?this.view.addEventListener("contextmenu",this.disableContextMenu):t.enableContextMenu&&this.view.addEventListener("contextmenu",this.enableContextMenu)}removeContextMenuListeners(t){this.shouldDisableContextMenu(t)?this.view.removeEventListener("contextmenu",this.disableContextMenu):t.enableContextMenu&&this.view.removeEventListener("contextmenu",this.enableContextMenu)}disableContextMenu(t){t.preventDefault()}enableContextMenu(t){t.stopPropagation()}setUserSelect(t){const{userSelect:e}=this.gestureHandler.getConfig();this.view.style.userSelect=t?e??"none":this.defaultViewStyles.userSelect,this.view.style.webkitUserSelect=t?e??"none":this.defaultViewStyles.userSelect}setTouchAction(t){const{touchAction:e}=this.gestureHandler.getConfig();this.view.style.touchAction=t?e??"none":this.defaultViewStyles.touchAction,this.view.style.WebkitTouchCallout=t?e??"none":this.defaultViewStyles.touchAction}setContextMenu(t){const e=this.gestureHandler.getConfig();t?this.addContextMenuListeners(e):this.removeContextMenuListeners(e)}onEnabledChange(t){this.isInitialized&&(this.setUserSelect(t),this.setTouchAction(t),this.setContextMenu(t))}onBegin(){}onActivate(){const t=this.gestureHandler.getConfig();(!this.view.style.cursor||this.view.style.cursor==="auto")&&t.activeCursor&&(this.view.style.cursor=t.activeCursor)}onEnd(){this.tryResetCursor()}onCancel(){this.tryResetCursor()}onFail(){this.tryResetCursor()}destroy(t){this.removeContextMenuListeners(t),this.eventManagers.forEach(e=>{e.unregisterListeners()})}}let Do=!1;const Ot={handleSetJSResponder(n,t){console.warn("handleSetJSResponder: ",n,t)},handleClearJSResponder(){console.warn("handleClearJSResponder: ")},createGestureHandler(n,t,e){{if(!(n in Co))throw new Error(`react-native-gesture-handler: ${n} is not supported on web.`);const i=Co[n];xt.createGestureHandler(t,new i(new vf)),re.getInstance().configureInteractions(xt.getHandler(t),e)}this.updateGestureHandler(t,e)},attachGestureHandler(n,t,e,i){if(!(t instanceof Element||t instanceof Z.Component)){Do=!0;const r=xt.getHandler(n).constructor.name;throw new Error(`${r} with tag ${n} received child that is not valid HTML element.`)}xt.getHandler(n).init(t,i)},updateGestureHandler(n,t){xt.getHandler(n).updateGestureConfig(t),re.getInstance().configureInteractions(xt.getHandler(n),t)},getGestureHandlerNode(n){return xt.getHandler(n)},dropGestureHandler(n){Do||xt.dropGestureHandler(n)},flushOperations(){}};function Ef(){kd()}const wl=Z.createContext(!1);Y.create({container:{flex:1}});Y.create({container:{flex:1}});let yf=1;function Ol(){return yf++}function Sf(n,t){return n!==void 0&&(n!==Object(n)||!("__isNative"in n))&&t!=="onHandlerStateChange"&&t!=="onGestureEvent"}function Le(n,t,e={}){const i={...e};for(const s of t){let r=n[s];Sf(r,s)&&(s==="simultaneousHandlers"||s==="waitFor"?r=bf(n[s]):s==="hitSlop"&&typeof r!="object"&&(r={top:r,left:r,bottom:r,right:r}),i[s]=r)}return i}function bf(n){return n=bd(n),at.OS==="web"?n.map(({current:t})=>t).filter(t=>t):n.map(t=>{var e;return Hn[t]||((e=t.current)===null||e===void 0?void 0:e.handlerTag)||-1}).filter(t=>t>0)}let Ms=!1;function Ge(){Ms||(Ms=!0,Ue(()=>{Ot.flushOperations(),Ms=!1}))}const Ce={REANIMATED_WORKLET:1,NATIVE_ANIMATED_EVENT:2,JS_FUNCTION_OLD_API:3,JS_FUNCTION_NEW_API:4};var Hs,Fs,Xs;function St(n,t,e){return t in n?Object.defineProperty(n,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):n[t]=e,n}const ae=Cu,Tf={topOnGestureHandlerEvent:{registrationName:"onGestureHandlerEvent"},topOnGestureHandlerStateChange:{registrationName:"onGestureHandlerStateChange"}},Al={onGestureHandlerEvent:{registrationName:"onGestureHandlerEvent"},onGestureHandlerStateChange:{registrationName:"onGestureHandlerStateChange"},...Cd()&&at.OS==="android"&&Tf};ae.genericDirectEventTypes={...ae.genericDirectEventTypes,...Al};const Ls=(Hs=(Fs=ae.getViewManagerConfig)===null||Fs===void 0?void 0:Fs.call(ae,"getConstants"))!==null&&Hs!==void 0?Hs:(Xs=ae.getConstants)===null||Xs===void 0?void 0:Xs.call(ae);Ls&&(Ls.genericDirectEventTypes={...Ls.genericDirectEventTypes,...Al});const{setJSResponder:Cf=()=>{},clearJSResponder:Df=()=>{}}=ae;ae.setJSResponder=(n,t)=>{Ot.handleSetJSResponder(n,t),Cf(n,t)};ae.clearJSResponder=()=>{Ot.handleClearJSResponder(),Df()};let wf=!0;function wo(n){const t=e=>Array.isArray(e)?e.some(i=>i&&i.current===null):e&&e.current===null;return t(n.simultaneousHandlers)||t(n.waitFor)}const Of={[f.UNDETERMINED]:void 0,[f.BEGAN]:"onBegan",[f.FAILED]:"onFailed",[f.CANCELLED]:"onCancelled",[f.ACTIVE]:"onActivated",[f.END]:"onEnded"},Oo=1;function me({name:n,allowedProps:t=[],config:e={},transformProps:i,customNativeProps:s=[]}){class r extends u.Component{constructor(o){if(super(o),St(this,"handlerTag",void 0),St(this,"config",void 0),St(this,"propsRef",void 0),St(this,"isMountedRef",void 0),St(this,"viewNode",void 0),St(this,"viewTag",void 0),St(this,"inspectorToggleListener",void 0),St(this,"onGestureHandlerEvent",l=>{if(l.nativeEvent.handlerTag===this.handlerTag){if(typeof this.props.onGestureEvent=="function"){var c,h;(c=(h=this.props).onGestureEvent)===null||c===void 0||c.call(h,l)}}else{var d,g;(d=(g=this.props).onGestureHandlerEvent)===null||d===void 0||d.call(g,l)}}),St(this,"onGestureHandlerStateChange",l=>{if(l.nativeEvent.handlerTag===this.handlerTag){if(typeof this.props.onHandlerStateChange=="function"){var c,h;(c=(h=this.props).onHandlerStateChange)===null||c===void 0||c.call(h,l)}const p=l.nativeEvent.state,v=Of[p],E=v&&this.props[v];E&&typeof E=="function"&&E(l)}else{var d,g;(d=(g=this.props).onGestureHandlerStateChange)===null||d===void 0||d.call(g,l)}}),St(this,"refHandler",l=>{this.viewNode=l;const c=u.Children.only(this.props.children),{ref:h}=c;h!==null&&(typeof h=="function"?h(l):h.current=l)}),St(this,"createGestureHandler",l=>{this.config=l,Ot.createGestureHandler(n,this.handlerTag,l)}),St(this,"attachGestureHandler",l=>{if(this.viewTag=l,at.OS==="web")Ot.attachGestureHandler(this.handlerTag,l,Ce.JS_FUNCTION_OLD_API,this.propsRef);else{wd(this.handlerTag,{onGestureEvent:this.onGestureHandlerEvent,onGestureStateChange:this.onGestureHandlerStateChange});const c=(()=>{var h,d;const g=(h=this.props)===null||h===void 0?void 0:h.onGestureEvent,p=g&&("current"in g||"workletEventHandler"in g),v=(d=this.props)===null||d===void 0?void 0:d.onHandlerStateChange,E=v&&("current"in v||"workletEventHandler"in v);return p||E?Ce.REANIMATED_WORKLET:g&&"__isNative"in g?Ce.NATIVE_ANIMATED_EVENT:Ce.JS_FUNCTION_OLD_API})();Ot.attachGestureHandler(this.handlerTag,l,c)}Ge()}),St(this,"updateGestureHandler",l=>{this.config=l,Ot.updateGestureHandler(this.handlerTag,l),Ge()}),this.handlerTag=Ol(),this.config={},this.propsRef=u.createRef(),this.isMountedRef=u.createRef(),this.state={allowTouches:wf},o.id){if(Hn[o.id]!==void 0)throw new Error(`Handler with ID "${o.id}" already registered`);Hn[o.id]=this.handlerTag}}componentDidMount(){const o=this.props;this.isMountedRef.current=!0,wo(o)&&Ue(()=>{this.update(Oo)}),this.createGestureHandler(Le(i?i(this.props):this.props,[...t,...s],e)),this.attachGestureHandler(fe(this.viewNode))}componentDidUpdate(){const o=fe(this.viewNode);this.viewTag!==o&&this.attachGestureHandler(o),this.update(Oo)}componentWillUnmount(){var o;(o=this.inspectorToggleListener)===null||o===void 0||o.remove(),this.isMountedRef.current=!1,Ot.dropGestureHandler(this.handlerTag),Ge();const l=this.props.id;l&&delete Hn[l]}update(o){if(!this.isMountedRef.current)return;const l=this.props;if(wo(l)&&o>0)Ue(()=>{this.update(o-1)});else{const c=Le(i?i(this.props):this.props,[...t,...s],e);dl(this.config,c)||this.updateGestureHandler(c)}}setNativeProps(o){const l={...this.props,...o},c=Le(i?i(l):l,[...t,...s],e);this.updateGestureHandler(c)}render(){var o;let l=this.onGestureHandlerEvent;const{onGestureEvent:c,onGestureHandlerEvent:h}=this.props;if(c&&typeof c!="function"){if(h)throw new Error("Nesting touch handlers with native animated driver is not supported yet");l=c}else if(h&&typeof h!="function")throw new Error("Nesting touch handlers with native animated driver is not supported yet");let d=this.onGestureHandlerStateChange;const{onHandlerStateChange:g,onGestureHandlerStateChange:p}=this.props;if(g&&typeof g!="function"){if(p)throw new Error("Nesting touch handlers with native animated driver is not supported yet");d=g}else if(p&&typeof p!="function")throw new Error("Nesting touch handlers with native animated driver is not supported yet");const v={onGestureHandlerEvent:this.state.allowTouches?l:void 0,onGestureHandlerStateChange:this.state.allowTouches?d:void 0};this.propsRef.current=v;let E=null;try{E=u.Children.only(this.props.children)}catch{throw new Error(Sn(`${n} got more than one view as a child. If you want the gesture to work on multiple views, wrap them with a common parent and attach the gesture to that view.`))}let y=E.props.children;return u.cloneElement(E,{ref:this.refHandler,collapsable:!1,...xa()?{handlerType:n,handlerTag:this.handlerTag,enabled:this.props.enabled}:{},testID:(o=this.props.testID)!==null&&o!==void 0?o:E.props.testID,...v},y)}}return St(r,"displayName",n),St(r,"contextType",wl),r}const Pl=["maxDurationMs","maxDelayMs","numberOfTaps","maxDeltaX","maxDeltaY","maxDist","minPointers"],Af="TapGestureHandler",Nl=me({name:Af,allowedProps:[...ge,...Pl],config:{shouldCancelWhenOutside:!0}}),Ye={get forceTouchAvailable(){return!1}};function Pf(n,t,e){return t in n?Object.defineProperty(n,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):n[t]=e,n}const Il=["minForce","maxForce","feedbackOnActivation"];class kl extends Z.Component{componentDidMount(){console.warn(Sn("ForceTouchGestureHandler is not available on this platform. Please use ForceTouchGestureHandler.forceTouchAvailable to conditionally render other components that would provide a fallback behavior specific to your usecase"))}render(){return this.props.children}}Pf(kl,"forceTouchAvailable",!1);const Nf="ForceTouchGestureHandler",If=Ye!=null&&Ye.forceTouchAvailable?me({name:Nf,allowedProps:[...ge,...Il],config:{}}):kl;If.forceTouchAvailable=(Ye==null?void 0:Ye.forceTouchAvailable)||!1;const xl=["minDurationMs","maxDist","numberOfPointers"],kf="LongPressGestureHandler";me({name:kf,allowedProps:[...ge,...xl],config:{shouldCancelWhenOutside:!0}});const Rl=["activeOffsetY","activeOffsetX","failOffsetY","failOffsetX","minDist","minVelocity","minVelocityX","minVelocityY","minPointers","maxPointers","avgTouches","enableTrackpadTwoFingerGesture","activateAfterLongPress"],Vl=["activeOffsetYStart","activeOffsetYEnd","activeOffsetXStart","activeOffsetXEnd","failOffsetYStart","failOffsetYEnd","failOffsetXStart","failOffsetXEnd"],xf="PanGestureHandler",Ml=me({name:xf,allowedProps:[...ge,...Rl],config:{},transformProps:Vf,customNativeProps:Vl});function Rf(n){const t={...n};return n.activeOffsetX!==void 0&&(delete t.activeOffsetX,Array.isArray(n.activeOffsetX)?(t.activeOffsetXStart=n.activeOffsetX[0],t.activeOffsetXEnd=n.activeOffsetX[1]):n.activeOffsetX<0?t.activeOffsetXStart=n.activeOffsetX:t.activeOffsetXEnd=n.activeOffsetX),n.activeOffsetY!==void 0&&(delete t.activeOffsetY,Array.isArray(n.activeOffsetY)?(t.activeOffsetYStart=n.activeOffsetY[0],t.activeOffsetYEnd=n.activeOffsetY[1]):n.activeOffsetY<0?t.activeOffsetYStart=n.activeOffsetY:t.activeOffsetYEnd=n.activeOffsetY),n.failOffsetX!==void 0&&(delete t.failOffsetX,Array.isArray(n.failOffsetX)?(t.failOffsetXStart=n.failOffsetX[0],t.failOffsetXEnd=n.failOffsetX[1]):n.failOffsetX<0?t.failOffsetXStart=n.failOffsetX:t.failOffsetXEnd=n.failOffsetX),n.failOffsetY!==void 0&&(delete t.failOffsetY,Array.isArray(n.failOffsetY)?(t.failOffsetYStart=n.failOffsetY[0],t.failOffsetYEnd=n.failOffsetY[1]):n.failOffsetY<0?t.failOffsetYStart=n.failOffsetY:t.failOffsetYEnd=n.failOffsetY),t}function Vf(n){return Rf(n)}const Mf="PinchGestureHandler";me({name:Mf,allowedProps:ge,config:{}});const Hf="RotationGestureHandler";me({name:Hf,allowedProps:ge,config:{}});const Hl=["numberOfPointers","direction"],Ff="FlingGestureHandler";me({name:Ff,allowedProps:[...ge,...Hl],config:{}});const Fl=["shouldActivateOnStart","disallowInterruption"],Xl=[...ge,...Fl],Xf="NativeViewGestureHandler",Lf=me({name:Xf,allowedProps:Xl,config:{}});function zn(){return zn=Object.assign||function(n){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(n[i]=e[i])}return n},zn.apply(this,arguments)}const Gf=[...Xl,"onGestureHandlerEvent","onGestureHandlerStateChange"];function bn(n,t={}){var e;const i=u.forwardRef((s,r)=>{const a=Object.keys(s).reduce((c,h)=>(Gf.includes(h)&&(c[h]=s[h]),c),{...t}),o=u.useRef(),l=u.useRef();return u.useImperativeHandle(r,()=>{const c=l.current;return o.current&&c?(o.current.handlerTag=c.handlerTag,o.current):null},[o,l]),u.createElement(Lf,zn({},a,{ref:l}),u.createElement(n,zn({},s,{ref:o})))});return i.displayName=(n==null?void 0:n.displayName)||(n==null||(e=n.render)===null||e===void 0?void 0:e.name)||typeof n=="string"&&n||"ComponentWrapper",i}function un(n,t,e){return t in n?Object.defineProperty(n,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):n[t]=e,n}const X={UNDEFINED:0,BEGAN:1,START:2,UPDATE:3,CHANGE:4,END:5,FINALIZE:6,TOUCHES_DOWN:7,TOUCHES_MOVE:8,TOUCHES_UP:9,TOUCHES_CANCELLED:10};class Ll{}let Yf=0;class Ae extends Ll{constructor(){super(),un(this,"gestureId",-1),un(this,"handlerTag",-1),un(this,"handlerName",""),un(this,"config",{}),un(this,"handlers",{gestureId:-1,handlerTag:-1,isWorklet:[]}),this.gestureId=Yf++,this.handlers.gestureId=this.gestureId}addDependency(t,e){const i=this.config[t];this.config[t]=i?Array().concat(i,e):[e]}withRef(t){return this.config.ref=t,this}isWorklet(t){return t.__workletHash!==void 0}onBegin(t){return this.handlers.onBegin=t,this.handlers.isWorklet[X.BEGAN]=this.isWorklet(t),this}onStart(t){return this.handlers.onStart=t,this.handlers.isWorklet[X.START]=this.isWorklet(t),this}onEnd(t){return this.handlers.onEnd=t,this.handlers.isWorklet[X.END]=this.isWorklet(t),this}onFinalize(t){return this.handlers.onFinalize=t,this.handlers.isWorklet[X.FINALIZE]=this.isWorklet(t),this}onTouchesDown(t){return this.config.needsPointerData=!0,this.handlers.onTouchesDown=t,this.handlers.isWorklet[X.TOUCHES_DOWN]=this.isWorklet(t),this}onTouchesMove(t){return this.config.needsPointerData=!0,this.handlers.onTouchesMove=t,this.handlers.isWorklet[X.TOUCHES_MOVE]=this.isWorklet(t),this}onTouchesUp(t){return this.config.needsPointerData=!0,this.handlers.onTouchesUp=t,this.handlers.isWorklet[X.TOUCHES_UP]=this.isWorklet(t),this}onTouchesCancelled(t){return this.config.needsPointerData=!0,this.handlers.onTouchesCancelled=t,this.handlers.isWorklet[X.TOUCHES_CANCELLED]=this.isWorklet(t),this}enabled(t){return this.config.enabled=t,this}shouldCancelWhenOutside(t){return this.config.shouldCancelWhenOutside=t,this}hitSlop(t){return this.config.hitSlop=t,this}activeCursor(t){return this.config.activeCursor=t,this}mouseButton(t){return this.config.mouseButton=t,this}runOnJS(t){return this.config.runOnJS=t,this}simultaneousWithExternalGesture(...t){for(const e of t)this.addDependency("simultaneousWith",e);return this}requireExternalGestureToFail(...t){for(const e of t)this.addDependency("requireToFail",e);return this}blocksExternalGesture(...t){for(const e of t)this.addDependency("blocksHandlers",e);return this}withTestId(t){return this.config.testId=t,this}cancelsTouchesInView(t){return this.config.cancelsTouchesInView=t,this}initialize(){this.handlerTag=Ol(),this.handlers={...this.handlers,handlerTag:this.handlerTag},this.config.ref&&(this.config.ref.current=this)}toGestureArray(){return[this]}prepare(){}get shouldUseReanimated(){return this.config.runOnJS!==!0&&!this.handlers.isWorklet.includes(!1)&&!Dd()}}class qe extends Ae{onUpdate(t){return this.handlers.onUpdate=t,this.handlers.isWorklet[X.UPDATE]=this.isWorklet(t),this}onChange(t){return this.handlers.onChange=t,this.handlers.isWorklet[X.CHANGE]=this.isWorklet(t),this}manualActivation(t){return this.config.manualActivation=t,this}}const _f=Du(yd);var Gs;let Bt;try{Bt=_f}catch{Bt=void 0}(Gs=Bt)!==null&&Gs!==void 0&&Gs.useSharedValue||(Bt=void 0);Bt!==void 0&&!Bt.setGestureState&&(Bt.setGestureState=()=>{"worklet";console.warn(Sn("Please use newer version of react-native-reanimated in order to control state of the gestures."))});function Bf(n,t){"worklet";switch(n){case X.BEGAN:return t.onBegin;case X.START:return t.onStart;case X.UPDATE:return t.onUpdate;case X.CHANGE:return t.onChange;case X.END:return t.onEnd;case X.FINALIZE:return t.onFinalize;case X.TOUCHES_DOWN:return t.onTouchesDown;case X.TOUCHES_MOVE:return t.onTouchesMove;case X.TOUCHES_UP:return t.onTouchesUp;case X.TOUCHES_CANCELLED:return t.onTouchesCancelled}}function Uf(n){"worklet";switch(n){case se.TOUCHES_DOWN:return X.TOUCHES_DOWN;case se.TOUCHES_MOVE:return X.TOUCHES_MOVE;case se.TOUCHES_UP:return X.TOUCHES_UP;case se.TOUCHES_CANCELLED:return X.TOUCHES_CANCELLED}return X.UNDEFINED}function Zt(n,t,e,...i){"worklet";const s=Bf(n,t);t.isWorklet[n]?s==null||s(e,...i):s&&console.warn(Sn("Animated gesture callback must be a worklet"))}function Wf(n){"worklet";return n.oldState!=null}function zf(n){"worklet";return n.eventType!=null}function qf(n,t){if(!Bt)return;const e=Bt.useSharedValue(null),i=Bt.useSharedValue([]),s=[],r=o=>{"worklet";const l=e.value;if(l)for(let h=0;h<l.length;h++){const d=l[h];if(o.handlerTag===d.handlerTag){if(Wf(o))o.oldState===f.UNDETERMINED&&o.state===f.BEGAN?Zt(X.BEGAN,d,o):(o.oldState===f.BEGAN||o.oldState===f.UNDETERMINED)&&o.state===f.ACTIVE?(Zt(X.START,d,o),i.value[d.handlerTag]=void 0):o.oldState!==o.state&&o.state===f.END?(o.oldState===f.ACTIVE&&Zt(X.END,d,o,!0),Zt(X.FINALIZE,d,o,!0)):(o.state===f.FAILED||o.state===f.CANCELLED)&&o.state!==o.oldState&&(o.oldState===f.ACTIVE&&Zt(X.END,d,o,!1),Zt(X.FINALIZE,d,o,!1));else if(zf(o))s[h]||(s[h]=pl.create(o.handlerTag)),o.eventType!==se.UNDETERMINED&&Zt(Uf(o.eventType),d,o,s[h]);else if(Zt(X.UPDATE,d,o),d.onChange&&d.changeEventCalculator){var c;Zt(X.CHANGE,d,(c=d.changeEventCalculator)===null||c===void 0?void 0:c.call(d,o,i.value[d.handlerTag])),i.value[d.handlerTag]=o}}}},a=Bt.useEvent(r,["onGestureHandlerStateChange","onGestureHandlerEvent"],t);n.animatedEventHandler=a,n.animatedHandlers=e}function Kf(n,t,e){return t in n?Object.defineProperty(n,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):n[t]=e,n}let Ao;(function(n){n[n.NONE=0]="NONE",n[n.LIFT=1]="LIFT",n[n.HIGHLIGHT=2]="HIGHLIGHT"})(Ao||(Ao={}));const jf=["hoverEffect"];function Jf(n,t){"worklet";let e;return t===void 0?e={changeX:n.x,changeY:n.y}:e={changeX:n.x-t.x,changeY:n.y-t.y},{...n,...e}}class $f extends qe{constructor(){super(),Kf(this,"config",{}),this.handlerName="HoverGestureHandler"}effect(t){return this.config.hoverEffect=t,this}onChange(t){return this.handlers.changeEventCalculator=Jf,super.onChange(t)}}const da=[...Ld,...Pl,...Rl,...Vl,...xl,...Il,...Hl,...jf,...Fl];function Qf(n){if(typeof n=="number")return n;if(n instanceof Ae)return n.handlerTag;var t,e;return(t=(e=n.current)===null||e===void 0?void 0:e.handlerTag)!==null&&t!==void 0?t:-1}function Ys(n){var t,e;return(t=n==null||(e=n.map(Qf))===null||e===void 0?void 0:e.filter(i=>i>0))!==null&&t!==void 0?t:[]}function Gl(n){const t=Ys(n.config.requireToFail),e=Ys(n.config.simultaneousWith),i=Ys(n.config.blocksHandlers);return{waitFor:t,simultaneousHandlers:e,blocksHandlers:i}}function Zf(){const[n,t]=u.useState(!1);return u.useCallback(()=>{t(!n)},[n,t])}function tg(){return u.useRef({onGestureHandlerEvent:n=>{Wn(n.nativeEvent)},onGestureHandlerStateChange:n=>{Wn(n.nativeEvent)}})}function Yl({preparedGesture:n,gestureConfig:t,gesturesToAttach:e,viewTag:i,webEventHandlersRef:s}){t.initialize(),Ue(()=>{n.isMounted&&t.prepare()});for(const r of e)Ot.createGestureHandler(r.handlerName,r.handlerTag,Le(r.config,da)),ml(r.handlerTag,r,r.config.testId);Ue(()=>{if(n.isMounted){for(const r of e)Ot.updateGestureHandler(r.handlerTag,Le(r.config,da,Gl(r)));Ge()}});for(const r of e){const a=r.shouldUseReanimated?Ce.REANIMATED_WORKLET:Ce.JS_FUNCTION_NEW_API;at.OS==="web"?Ot.attachGestureHandler(r.handlerTag,i,Ce.JS_FUNCTION_OLD_API,s):Ot.attachGestureHandler(r.handlerTag,i,a)}if(n.attachedGestures=e,n.animatedHandlers){const r=a=>a.shouldUseReanimated;n.animatedHandlers.value=e.filter(r).map(a=>a.handlers)}}function _l(n,t){if(t.length!==n.attachedGestures.length)return!0;for(let e=0;e<t.length;e++)if(t[e].handlerName!==n.attachedGestures[e].handlerName||t[e].shouldUseReanimated!==n.attachedGestures[e].shouldUseReanimated)return!0;return!1}function Bl(n){for(const t of n.attachedGestures)Ot.dropGestureHandler(t.handlerTag),Od(t.handlerTag,t.config.testId);Ge()}const Ul=u.forwardRef(({children:n},t)=>{try{var e;const i=Z.Children.only(n);return((e=Object.getPrototypeOf(i==null?void 0:i.type))===null||e===void 0?void 0:e.name)==="WebShape"?Z.cloneElement(i,{ref:t},i.props.children):Z.createElement("div",{ref:t,style:{display:"contents"}},i)}catch{throw new Error(Sn("GestureDetector got more than one view as a child. If you want the gesture to work on multiple views, wrap them with a common parent and attach the gesture to that view."))}}),eg=Ul;function ng(n,t,e){t.prepare();for(let i=0;i<e.length;i++){const s=n.attachedGestures[i];e[i].handlerTag!==s.handlerTag&&(e[i].handlerTag=s.handlerTag,e[i].handlers.handlerTag=s.handlerTag)}Ue(()=>{if(!n.isMounted)return;let i=n.attachedGestures.length!==e.length;for(let s=0;s<e.length;s++){const r=n.attachedGestures[s];r.handlers.gestureId!==e[s].handlers.gestureId&&(e[s].shouldUseReanimated||r.shouldUseReanimated)&&(i=!0),r.config=e[s].config,r.handlers=e[s].handlers,Ot.updateGestureHandler(r.handlerTag,Le(r.config,da,Gl(r))),ml(r.handlerTag,r,r.config.testId)}if(n.animatedHandlers&&i){const s=n.attachedGestures.filter(r=>r.shouldUseReanimated).map(r=>r.handlers);n.animatedHandlers.value=s}Ge()})}function ig(n,t,e,i,s){const r=Zf();return u.useCallback(o=>{const l=fe(n.viewRef),c=l!==n.previousViewTag;c||_l(t,e)?(n.viewRef,Bl(t),Yl({preparedGesture:t,gestureConfig:i,gesturesToAttach:e,webEventHandlersRef:s,viewTag:l}),c&&(n.previousViewTag=l,n.forceRebuildReanimatedEvent=!0,r())):o||ng(t,i,e)},[r,i,e,t,n,s])}function sg(n,t){return u.useCallback(i=>{i!==null&&(n.viewRef=i,n.previousViewTag===-1&&(n.previousViewTag=fe(n.viewRef)),n.firstRender||t(!0))},[n,t])}function rg(n,t){const e=["userSelect","enableContextMenu","touchAction"];for(const i of e){const s=n[i];if(s!==void 0)for(const r of t.toGestureArray()){const a=r.config;a[i]=s}}}const cs=n=>{u.useContext(wl);const t=n.gesture;rg(n,t);const e=u.useMemo(()=>t.toGestureArray(),[t]),i=e.some(h=>h.shouldUseReanimated),s=tg(),r=u.useRef({firstRender:!0,viewRef:null,previousViewTag:-1,forceRebuildReanimatedEvent:!1}).current,a=Z.useRef({attachedGestures:[],animatedEventHandler:null,animatedHandlers:null,shouldUseReanimated:i,isMounted:!1}).current,o=ig(r,a,e,t,s),l=sg(r,o),c=r.firstRender||r.forceRebuildReanimatedEvent||_l(a,e);return r.forceRebuildReanimatedEvent=!1,qf(a,c),u.useLayoutEffect(()=>{const h=fe(r.viewRef);return a.isMounted=!0,Yl({preparedGesture:a,gestureConfig:t,gesturesToAttach:e,webEventHandlersRef:s,viewTag:h}),()=>{a.isMounted=!1,Bl(a)}},[]),u.useEffect(()=>{r.firstRender?r.firstRender=!1:o()},[n]),i?Z.createElement(eg,{ref:l,onGestureHandlerEvent:a.animatedEventHandler},n.children):Z.createElement(Ul,{ref:l},n.children)};function ag(n,t,e){return t in n?Object.defineProperty(n,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):n[t]=e,n}class og extends Ae{constructor(){super(),ag(this,"config",{}),this.handlerName="FlingGestureHandler"}numberOfPointers(t){return this.config.numberOfPointers=t,this}direction(t){return this.config.direction=t,this}}function lg(n,t,e){return t in n?Object.defineProperty(n,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):n[t]=e,n}function cg(n,t){"worklet";let e;return t===void 0?e={forceChange:n.force}:e={forceChange:n.force-t.force},{...n,...e}}class ug extends qe{constructor(){super(),lg(this,"config",{}),this.handlerName="ForceTouchGestureHandler"}minForce(t){return this.config.minForce=t,this}maxForce(t){return this.config.maxForce=t,this}feedbackOnActivation(t){return this.config.feedbackOnActivation=t,this}onChange(t){return this.handlers.changeEventCalculator=cg,super.onChange(t)}}function _s(n,t,e){return t in n?Object.defineProperty(n,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):n[t]=e,n}function Po(n,t){return n===void 0?[...t]:[...n,...t]}class Tn extends Ll{constructor(...t){super(),_s(this,"gestures",[]),_s(this,"simultaneousGestures",[]),_s(this,"requireGesturesToFail",[]),this.gestures=t}prepareSingleGesture(t,e,i){if(t instanceof Ae){const s={...t.config};s.simultaneousWith=Po(s.simultaneousWith,e),s.requireToFail=Po(s.requireToFail,i),t.config=s}else t instanceof Tn&&(t.simultaneousGestures=e,t.requireGesturesToFail=i,t.prepare())}prepare(){for(const t of this.gestures)this.prepareSingleGesture(t,this.simultaneousGestures,this.requireGesturesToFail)}initialize(){for(const t of this.gestures)t.initialize()}toGestureArray(){return this.gestures.flatMap(t=>t.toGestureArray())}}class hg extends Tn{prepare(){const t=this.gestures.map(e=>this.gestures.filter(i=>i!==e).flatMap(i=>i.toGestureArray()));for(let e=0;e<this.gestures.length;e++)this.prepareSingleGesture(this.gestures[e],t[e],this.requireGesturesToFail)}}class dg extends Tn{prepare(){const t=this.gestures.map(i=>i.toGestureArray());let e=[];for(let i=0;i<this.gestures.length;i++)this.prepareSingleGesture(this.gestures[i],this.simultaneousGestures,this.requireGesturesToFail.concat(e)),e=e.concat(t[i])}}function fg(n,t,e){return t in n?Object.defineProperty(n,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):n[t]=e,n}class gg extends Ae{constructor(){super(),fg(this,"config",{}),this.handlerName="LongPressGestureHandler",this.shouldCancelWhenOutside(!0)}minDuration(t){return this.config.minDurationMs=t,this}maxDistance(t){return this.config.maxDist=t,this}numberOfPointers(t){return this.config.numberOfPointers=t,this}}function mg(n,t,e){return t in n?Object.defineProperty(n,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):n[t]=e,n}function pg(n,t){"worklet";let e;return t===void 0?e={changeX:n.translationX,changeY:n.translationY}:e={changeX:n.translationX-t.translationX,changeY:n.translationY-t.translationY},{...n,...e}}class vg extends qe{constructor(){super(),mg(this,"config",{}),this.handlerName="PanGestureHandler"}activeOffsetY(t){return Array.isArray(t)?(this.config.activeOffsetYStart=t[0],this.config.activeOffsetYEnd=t[1]):t<0?this.config.activeOffsetYStart=t:this.config.activeOffsetYEnd=t,this}activeOffsetX(t){return Array.isArray(t)?(this.config.activeOffsetXStart=t[0],this.config.activeOffsetXEnd=t[1]):t<0?this.config.activeOffsetXStart=t:this.config.activeOffsetXEnd=t,this}failOffsetY(t){return Array.isArray(t)?(this.config.failOffsetYStart=t[0],this.config.failOffsetYEnd=t[1]):t<0?this.config.failOffsetYStart=t:this.config.failOffsetYEnd=t,this}failOffsetX(t){return Array.isArray(t)?(this.config.failOffsetXStart=t[0],this.config.failOffsetXEnd=t[1]):t<0?this.config.failOffsetXStart=t:this.config.failOffsetXEnd=t,this}minPointers(t){return this.config.minPointers=t,this}maxPointers(t){return this.config.maxPointers=t,this}minDistance(t){return this.config.minDist=t,this}minVelocity(t){return this.config.minVelocity=t,this}minVelocityX(t){return this.config.minVelocityX=t,this}minVelocityY(t){return this.config.minVelocityY=t,this}averageTouches(t){return this.config.avgTouches=t,this}enableTrackpadTwoFingerGesture(t){return this.config.enableTrackpadTwoFingerGesture=t,this}activateAfterLongPress(t){return this.config.activateAfterLongPress=t,this}onChange(t){return this.handlers.changeEventCalculator=pg,super.onChange(t)}}function Eg(n,t){"worklet";let e;return t===void 0?e={scaleChange:n.scale}:e={scaleChange:n.scale/t.scale},{...n,...e}}class yg extends qe{constructor(){super(),this.handlerName="PinchGestureHandler"}onChange(t){return this.handlers.changeEventCalculator=Eg,super.onChange(t)}}function Sg(n,t){"worklet";let e;return t===void 0?e={rotationChange:n.rotation}:e={rotationChange:n.rotation-t.rotation},{...n,...e}}class bg extends qe{constructor(){super(),this.handlerName="RotationGestureHandler"}onChange(t){return this.handlers.changeEventCalculator=Sg,super.onChange(t)}}function Tg(n,t,e){return t in n?Object.defineProperty(n,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):n[t]=e,n}class Cg extends Ae{constructor(){super(),Tg(this,"config",{}),this.handlerName="TapGestureHandler",this.shouldCancelWhenOutside(!0)}minPointers(t){return this.config.minPointers=t,this}numberOfTaps(t){return this.config.numberOfTaps=t,this}maxDistance(t){return this.config.maxDist=t,this}maxDuration(t){return this.config.maxDurationMs=t,this}maxDelay(t){return this.config.maxDelayMs=t,this}maxDeltaX(t){return this.config.maxDeltaX=t,this}maxDeltaY(t){return this.config.maxDeltaY=t,this}}function Dg(n,t,e){return t in n?Object.defineProperty(n,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):n[t]=e,n}class wg extends Ae{constructor(){super(),Dg(this,"config",{}),this.handlerName="NativeViewGestureHandler"}shouldActivateOnStart(t){return this.config.shouldActivateOnStart=t,this}disallowInterruption(t){return this.config.disallowInterruption=t,this}}function Og(n,t){"worklet";return n}class Ag extends qe{constructor(){super(),this.handlerName="ManualGestureHandler"}onChange(t){return this.handlers.changeEventCalculator=Og,super.onChange(t)}}const us={Tap:()=>new Cg,Pan:()=>new vg,Pinch:()=>new yg,Rotation:()=>new bg,Fling:()=>new og,LongPress:()=>new gg,ForceTouch:()=>new ug,Native:()=>new wg,Manual:()=>new Ag,Hover:()=>new $f,Race:(...n)=>new Tn(...n),Simultaneous(...n){return new hg(...n)},Exclusive(...n){return new dg(...n)}};function fa(){return fa=Object.assign||function(n){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(n[i]=e[i])}return n},fa.apply(this,arguments)}const Pg=u.forwardRef((n,t)=>u.createElement(Pt,fa({ref:t,accessibilityRole:"button"},n)));function We(){return We=Object.assign||function(n){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(n[i]=e[i])}return n},We.apply(this,arguments)}function Dt(n,t,e){return t in n?Object.defineProperty(n,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):n[t]=e,n}const Ng=bn(Pg,{shouldCancelWhenOutside:!1,shouldActivateOnStart:!1});class Wl extends u.Component{constructor(t){super(t),Dt(this,"lastActive",void 0),Dt(this,"longPressTimeout",void 0),Dt(this,"longPressDetected",void 0),Dt(this,"handleEvent",({nativeEvent:e})=>{const{state:i,oldState:s,pointerInside:r}=e,a=r&&i===f.ACTIVE;a!==this.lastActive&&this.props.onActiveStateChange&&this.props.onActiveStateChange(a),!this.longPressDetected&&s===f.ACTIVE&&i!==f.CANCELLED&&this.lastActive&&this.props.onPress&&this.props.onPress(r),!this.lastActive&&i===(at.OS!=="android"?f.ACTIVE:f.BEGAN)&&r?(this.longPressDetected=!1,this.props.onLongPress&&(this.longPressTimeout=setTimeout(this.onLongPress,this.props.delayLongPress))):i===f.ACTIVE&&!r&&this.longPressTimeout!==void 0?(clearTimeout(this.longPressTimeout),this.longPressTimeout=void 0):this.longPressTimeout!==void 0&&(i===f.END||i===f.CANCELLED||i===f.FAILED)&&(clearTimeout(this.longPressTimeout),this.longPressTimeout=void 0),this.lastActive=a}),Dt(this,"onLongPress",()=>{var e,i;this.longPressDetected=!0,(e=(i=this.props).onLongPress)===null||e===void 0||e.call(i)}),Dt(this,"onHandlerStateChange",e=>{var i,s;(i=(s=this.props).onHandlerStateChange)===null||i===void 0||i.call(s,e),this.handleEvent(e)}),Dt(this,"onGestureEvent",e=>{var i,s;(i=(s=this.props).onGestureEvent)===null||i===void 0||i.call(s,e),this.handleEvent(e)}),this.lastActive=!1,this.longPressDetected=!1}render(){const{rippleColor:t,style:e,...i}=this.props;return u.createElement(Ng,We({ref:this.props.innerRef,rippleColor:Tu(t),style:[e,at.OS==="ios"&&{cursor:void 0}]},i,{onGestureEvent:this.onGestureEvent,onHandlerStateChange:this.onHandlerStateChange}))}}Dt(Wl,"defaultProps",{delayLongPress:600});const Ma=u.forwardRef((n,t)=>u.createElement(Wl,We({innerRef:t},n))),Ig=R.createAnimatedComponent(Ma),kg=Y.create({underlay:{position:"absolute",left:0,right:0,bottom:0,top:0}});class xg extends u.Component{constructor(t){super(t),Dt(this,"opacity",void 0),Dt(this,"onActiveStateChange",e=>{var i,s;at.OS!=="android"&&this.opacity.setValue(e?this.props.activeOpacity:0),(i=(s=this.props).onActiveStateChange)===null||i===void 0||i.call(s,e)}),this.opacity=new R.Value(0)}render(){const{children:t,style:e,...i}=this.props,s=Y.flatten(e??{});return u.createElement(Ma,We({},i,{ref:this.props.innerRef,style:s,onActiveStateChange:this.onActiveStateChange}),u.createElement(R.View,{style:[kg.underlay,{opacity:this.opacity,backgroundColor:this.props.underlayColor,borderRadius:s.borderRadius,borderTopLeftRadius:s.borderTopLeftRadius,borderTopRightRadius:s.borderTopRightRadius,borderBottomLeftRadius:s.borderBottomLeftRadius,borderBottomRightRadius:s.borderBottomRightRadius}]}),t)}}Dt(xg,"defaultProps",{activeOpacity:.105,underlayColor:"black"});class Rg extends u.Component{constructor(t){super(t),Dt(this,"opacity",void 0),Dt(this,"onActiveStateChange",e=>{var i,s;at.OS!=="android"&&this.opacity.setValue(e?this.props.activeOpacity:1),(i=(s=this.props).onActiveStateChange)===null||i===void 0||i.call(s,e)}),this.opacity=new R.Value(1)}render(){const{children:t,style:e,innerRef:i,...s}=this.props;return u.createElement(Ig,We({},s,{innerRef:i,onActiveStateChange:this.onActiveStateChange,style:[e,at.OS==="ios"&&{opacity:this.opacity}]}),t)}}Dt(Rg,"defaultProps",{activeOpacity:.3,borderless:!0});function qn(){return qn=Object.assign||function(n){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(n[i]=e[i])}return n},qn.apply(this,arguments)}function Wt(n,t,e){return t in n?Object.defineProperty(n,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):n[t]=e,n}const q={UNDETERMINED:0,BEGAN:1,MOVED_OUTSIDE:2};class Pe extends u.Component{constructor(...t){super(...t),Wt(this,"pressInTimeout",void 0),Wt(this,"pressOutTimeout",void 0),Wt(this,"longPressTimeout",void 0),Wt(this,"longPressDetected",!1),Wt(this,"pointerInside",!0),Wt(this,"STATE",q.UNDETERMINED),Wt(this,"onGestureEvent",({nativeEvent:{pointerInside:e}})=>{this.pointerInside!==e&&(e?this.onMoveIn():this.onMoveOut()),this.pointerInside=e}),Wt(this,"onHandlerStateChange",({nativeEvent:e})=>{const{state:i}=e;if(i===f.CANCELLED||i===f.FAILED)this.moveToState(q.UNDETERMINED);else if(i===(at.OS!=="android"?f.ACTIVE:f.BEGAN)&&this.STATE===q.UNDETERMINED)this.handlePressIn();else if(i===f.END){const a=!this.longPressDetected&&this.STATE!==q.MOVED_OUTSIDE&&this.pressOutTimeout===null;if(this.handleGoToUndetermined(),a){var s,r;(s=(r=this.props).onPress)===null||s===void 0||s.call(r)}}}),Wt(this,"onLongPressDetected",()=>{var e,i;this.longPressDetected=!0,(e=(i=this.props).onLongPress)===null||e===void 0||e.call(i)})}handlePressIn(){if(this.props.delayPressIn?this.pressInTimeout=setTimeout(()=>{this.moveToState(q.BEGAN),this.pressInTimeout=null},this.props.delayPressIn):this.moveToState(q.BEGAN),this.props.onLongPress){const t=(this.props.delayPressIn||0)+(this.props.delayLongPress||0);this.longPressTimeout=setTimeout(this.onLongPressDetected,t)}}handleMoveOutside(){this.props.delayPressOut?this.pressOutTimeout=this.pressOutTimeout||setTimeout(()=>{this.moveToState(q.MOVED_OUTSIDE),this.pressOutTimeout=null},this.props.delayPressOut):this.moveToState(q.MOVED_OUTSIDE)}handleGoToUndetermined(){clearTimeout(this.pressOutTimeout),this.props.delayPressOut?this.pressOutTimeout=setTimeout(()=>{this.STATE===q.UNDETERMINED&&this.moveToState(q.BEGAN),this.moveToState(q.UNDETERMINED),this.pressOutTimeout=null},this.props.delayPressOut):(this.STATE===q.UNDETERMINED&&this.moveToState(q.BEGAN),this.moveToState(q.UNDETERMINED))}componentDidMount(){this.reset()}reset(){this.longPressDetected=!1,this.pointerInside=!0,clearTimeout(this.pressInTimeout),clearTimeout(this.pressOutTimeout),clearTimeout(this.longPressTimeout),this.pressOutTimeout=null,this.longPressTimeout=null,this.pressInTimeout=null}moveToState(t){var e,i;if(t!==this.STATE){if(t===q.BEGAN){var s,r;(s=(r=this.props).onPressIn)===null||s===void 0||s.call(r)}else if(t===q.MOVED_OUTSIDE){var a,o;(a=(o=this.props).onPressOut)===null||a===void 0||a.call(o)}else if(t===q.UNDETERMINED&&(this.reset(),this.STATE===q.BEGAN)){var l,c;(l=(c=this.props).onPressOut)===null||l===void 0||l.call(c)}(e=(i=this.props).onStateChange)===null||e===void 0||e.call(i,this.STATE,t),this.STATE=t}}componentWillUnmount(){this.reset()}onMoveIn(){this.STATE===q.MOVED_OUTSIDE&&this.moveToState(q.BEGAN)}onMoveOut(){clearTimeout(this.longPressTimeout),this.longPressTimeout=null,this.STATE===q.BEGAN&&this.handleMoveOutside()}render(){var t,e;const i=(t=typeof this.props.hitSlop=="number"?{top:this.props.hitSlop,left:this.props.hitSlop,bottom:this.props.hitSlop,right:this.props.hitSlop}:this.props.hitSlop)!==null&&t!==void 0?t:void 0,s={accessible:this.props.accessible!==!1,accessibilityLabel:this.props.accessibilityLabel,accessibilityHint:this.props.accessibilityHint,accessibilityRole:this.props.accessibilityRole,accessibilityState:this.props.accessibilityState,accessibilityActions:this.props.accessibilityActions,onAccessibilityAction:this.props.onAccessibilityAction,nativeID:this.props.nativeID,onLayout:this.props.onLayout};return u.createElement(Ma,qn({style:this.props.containerStyle,onHandlerStateChange:this.props.disabled?void 0:this.onHandlerStateChange,onGestureEvent:this.onGestureEvent,hitSlop:i,userSelect:this.props.userSelect,shouldActivateOnStart:this.props.shouldActivateOnStart,disallowInterruption:this.props.disallowInterruption,testID:this.props.testID,touchSoundDisabled:(e=this.props.touchSoundDisabled)!==null&&e!==void 0?e:!1,enabled:!this.props.disabled},this.props.extraButtonProps),u.createElement(R.View,qn({},s,{style:this.props.style}),this.props.children))}}Wt(Pe,"defaultProps",{delayLongPress:600,extraButtonProps:{rippleColor:"transparent",exclusive:!0}});function ga(){return ga=Object.assign||function(n){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(n[i]=e[i])}return n},ga.apply(this,arguments)}const Vg=u.forwardRef((n,t)=>u.createElement(Pe,ga({ref:t},n)));Vg.defaultProps=Pe.defaultProps;function ma(){return ma=Object.assign||function(n){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(n[i]=e[i])}return n},ma.apply(this,arguments)}function pn(n,t,e){return t in n?Object.defineProperty(n,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):n[t]=e,n}class Mg extends u.Component{constructor(...t){super(...t),pn(this,"getChildStyleOpacityWithDefault",()=>{const e=Y.flatten(this.props.style)||{};return e.opacity==null?1:e.opacity.valueOf()}),pn(this,"opacity",new R.Value(this.getChildStyleOpacityWithDefault())),pn(this,"setOpacityTo",(e,i)=>{var s;R.timing(this.opacity,{toValue:e,duration:i,easing:lo.inOut(lo.quad),useNativeDriver:(s=this.props.useNativeAnimations)!==null&&s!==void 0?s:!0}).start()}),pn(this,"onStateChange",(e,i)=>{i===q.BEGAN?this.setOpacityTo(this.props.activeOpacity,0):(i===q.UNDETERMINED||i===q.MOVED_OUTSIDE)&&this.setOpacityTo(this.getChildStyleOpacityWithDefault(),150)})}render(){const{style:t={},...e}=this.props;return u.createElement(Pe,ma({},e,{style:[t,{opacity:this.opacity}],onStateChange:this.onStateChange}),this.props.children?this.props.children:u.createElement(Pt,null))}}pn(Mg,"defaultProps",{...Pe.defaultProps,activeOpacity:.2});function pa(){return pa=Object.assign||function(n){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(n[i]=e[i])}return n},pa.apply(this,arguments)}function vn(n,t,e){return t in n?Object.defineProperty(n,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):n[t]=e,n}class Hg extends u.Component{constructor(t){super(t),vn(this,"showUnderlay",()=>{var e,i;this.hasPressHandler()&&(this.setState({extraChildStyle:{opacity:this.props.activeOpacity},extraUnderlayStyle:{backgroundColor:this.props.underlayColor}}),(e=(i=this.props).onShowUnderlay)===null||e===void 0||e.call(i))}),vn(this,"hasPressHandler",()=>this.props.onPress||this.props.onPressIn||this.props.onPressOut||this.props.onLongPress),vn(this,"hideUnderlay",()=>{var e,i;this.setState({extraChildStyle:null,extraUnderlayStyle:null}),(e=(i=this.props).onHideUnderlay)===null||e===void 0||e.call(i)}),vn(this,"onStateChange",(e,i)=>{i===q.BEGAN?this.showUnderlay():(i===q.UNDETERMINED||i===q.MOVED_OUTSIDE)&&this.hideUnderlay()}),this.state={extraChildStyle:null,extraUnderlayStyle:null}}renderChildren(){if(!this.props.children)return u.createElement(Pt,null);const t=u.Children.only(this.props.children);return u.cloneElement(t,{style:Y.compose(t.props.style,this.state.extraChildStyle)})}render(){const{style:t={},...e}=this.props,{extraUnderlayStyle:i}=this.state;return u.createElement(Pe,pa({},e,{style:[t,i],onStateChange:this.onStateChange}),this.renderChildren())}}vn(Hg,"defaultProps",{...Pe.defaultProps,activeOpacity:.85,delayPressOut:100,underlayColor:"black"});bn(tl,{disallowInterruption:!1});bn(Wu,{shouldCancelWhenOutside:!1,shouldActivateOnStart:!0,disallowInterruption:!0});const Fg=bn(Qo);bn(Pt);function va(){return va=Object.assign||function(n){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(n[i]=e[i])}return n},va.apply(this,arguments)}function ut(n,t,e){return t in n?Object.defineProperty(n,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):n[t]=e,n}const No=.05;class Xg extends u.Component{constructor(t){super(t),ut(this,"onGestureEvent",void 0),ut(this,"transX",void 0),ut(this,"showLeftAction",void 0),ut(this,"leftActionTranslate",void 0),ut(this,"showRightAction",void 0),ut(this,"rightActionTranslate",void 0),ut(this,"updateAnimatedEvent",(i,s)=>{const{friction:r,overshootFriction:a}=i,{dragX:o,rowTranslation:l,leftWidth:c=0,rowWidth:h=0}=s,{rightOffset:d=h}=s,g=Math.max(0,h-d),{overshootLeft:p=c>0,overshootRight:v=g>0}=i,E=R.add(l,o.interpolate({inputRange:[0,r],outputRange:[0,1]})).interpolate({inputRange:[-g-1,-g,c,c+1],outputRange:[-g-(v?1/a:0),-g,c,c+(p?1/a:0)]});this.transX=E,this.showLeftAction=c>0?E.interpolate({inputRange:[-1,0,c],outputRange:[0,0,1]}):new R.Value(0),this.leftActionTranslate=this.showLeftAction.interpolate({inputRange:[0,Number.MIN_VALUE],outputRange:[-1e4,0],extrapolate:"clamp"}),this.showRightAction=g>0?E.interpolate({inputRange:[-g,0,1],outputRange:[1,0,0]}):new R.Value(0),this.rightActionTranslate=this.showRightAction.interpolate({inputRange:[0,Number.MIN_VALUE],outputRange:[-1e4,0],extrapolate:"clamp"})}),ut(this,"onTapHandlerStateChange",({nativeEvent:i})=>{i.oldState===f.ACTIVE&&this.close()}),ut(this,"onHandlerStateChange",i=>{if(i.nativeEvent.oldState===f.ACTIVE&&this.handleRelease(i),i.nativeEvent.state===f.ACTIVE){const{velocityX:l,translationX:c}=i.nativeEvent,{rowState:h}=this.state,{friction:d}=this.props,g=(c+No*l)/d,p=h===-1?"right":h===1||g>0?"left":"right";if(h===0){var s,r;(s=(r=this.props).onSwipeableOpenStartDrag)===null||s===void 0||s.call(r,p)}else{var a,o;(a=(o=this.props).onSwipeableCloseStartDrag)===null||a===void 0||a.call(o,p)}}}),ut(this,"handleRelease",i=>{const{velocityX:s,translationX:r}=i.nativeEvent,{leftWidth:a=0,rowWidth:o=0,rowState:l}=this.state,{rightOffset:c=o}=this.state,h=o-c,{friction:d,leftThreshold:g=a/2,rightThreshold:p=h/2}=this.props,v=this.currentOffset()+r/d,E=(r+No*s)/d;let y=0;l===0?E>g?y=a:E<-p&&(y=-h):l===1?E>-g&&(y=a):E<p&&(y=-h),this.animateRow(v,y,s/d)}),ut(this,"animateRow",(i,s,r)=>{const{dragX:a,rowTranslation:o}=this.state;if(a.setValue(0),o.setValue(i),this.setState({rowState:Math.sign(s)}),R.spring(o,{restSpeedThreshold:1.7,restDisplacementThreshold:.4,velocity:r,bounciness:0,toValue:s,useNativeDriver:this.props.useNativeAnimations,...this.props.animationOptions}).start(({finished:V})=>{if(V)if(s>0){var w,N,z,M;(w=(N=this.props).onSwipeableLeftOpen)===null||w===void 0||w.call(N),(z=(M=this.props).onSwipeableOpen)===null||z===void 0||z.call(M,"left",this)}else if(s<0){var K,x,k,_;(K=(x=this.props).onSwipeableRightOpen)===null||K===void 0||K.call(x),(k=(_=this.props).onSwipeableOpen)===null||k===void 0||k.call(_,"right",this)}else{var G,I;const tt=i>0?"left":"right";(G=(I=this.props).onSwipeableClose)===null||G===void 0||G.call(I,tt,this)}}),s>0){var l,c,h,d;(l=(c=this.props).onSwipeableLeftWillOpen)===null||l===void 0||l.call(c),(h=(d=this.props).onSwipeableWillOpen)===null||h===void 0||h.call(d,"left")}else if(s<0){var g,p,v,E;(g=(p=this.props).onSwipeableRightWillOpen)===null||g===void 0||g.call(p),(v=(E=this.props).onSwipeableWillOpen)===null||v===void 0||v.call(E,"right")}else{var y,L;const V=i>0?"left":"right";(y=(L=this.props).onSwipeableWillClose)===null||y===void 0||y.call(L,V)}}),ut(this,"onRowLayout",({nativeEvent:i})=>{this.setState({rowWidth:i.layout.width})}),ut(this,"currentOffset",()=>{const{leftWidth:i=0,rowWidth:s=0,rowState:r}=this.state,{rightOffset:a=s}=this.state,o=s-a;return r===1?i:r===-1?-o:0}),ut(this,"close",()=>{this.animateRow(this.currentOffset(),0)}),ut(this,"openLeft",()=>{const{leftWidth:i=0}=this.state;this.animateRow(this.currentOffset(),i)}),ut(this,"openRight",()=>{const{rowWidth:i=0}=this.state,{rightOffset:s=i}=this.state,r=i-s;this.animateRow(this.currentOffset(),-r)}),ut(this,"reset",()=>{const{dragX:i,rowTranslation:s}=this.state;i.setValue(0),s.setValue(0),this.setState({rowState:0})});const e=new R.Value(0);this.state={dragX:e,rowTranslation:new R.Value(0),rowState:0,leftWidth:void 0,rightOffset:void 0,rowWidth:void 0},this.updateAnimatedEvent(t,this.state),this.onGestureEvent=R.event([{nativeEvent:{translationX:e}}],{useNativeDriver:t.useNativeAnimations})}shouldComponentUpdate(t,e){return(this.props.friction!==t.friction||this.props.overshootLeft!==t.overshootLeft||this.props.overshootRight!==t.overshootRight||this.props.overshootFriction!==t.overshootFriction||this.state.leftWidth!==e.leftWidth||this.state.rightOffset!==e.rightOffset||this.state.rowWidth!==e.rowWidth)&&this.updateAnimatedEvent(t,e),!0}render(){const{rowState:t}=this.state,{children:e,renderLeftActions:i,renderRightActions:s,dragOffsetFromLeftEdge:r=10,dragOffsetFromRightEdge:a=10}=this.props,o=i&&u.createElement(R.View,{style:[Bs.leftActions,{transform:[{translateX:this.leftActionTranslate}]}]},i(this.showLeftAction,this.transX,this),u.createElement(Pt,{onLayout:({nativeEvent:c})=>this.setState({leftWidth:c.layout.x})})),l=s&&u.createElement(R.View,{style:[Bs.rightActions,{transform:[{translateX:this.rightActionTranslate}]}]},s(this.showRightAction,this.transX,this),u.createElement(Pt,{onLayout:({nativeEvent:c})=>this.setState({rightOffset:c.layout.x})}));return u.createElement(Ml,va({activeOffsetX:[-a,r],touchAction:"pan-y"},this.props,{onGestureEvent:this.onGestureEvent,onHandlerStateChange:this.onHandlerStateChange}),u.createElement(R.View,{onLayout:this.onRowLayout,style:[Bs.container,this.props.containerStyle]},o,l,u.createElement(Nl,{enabled:t!==0,touchAction:"pan-y",onHandlerStateChange:this.onTapHandlerStateChange},u.createElement(R.View,{pointerEvents:t===0?"auto":"box-only",style:[{transform:[{translateX:this.transX}]},this.props.childrenContainerStyle]},e))))}}ut(Xg,"defaultProps",{friction:1,overshootFriction:1,useNativeAnimations:!0});const Bs=Y.create({container:{overflow:"hidden"},leftActions:{...Y.absoluteFillObject,flexDirection:Ks.isRTL?"row-reverse":"row"},rightActions:{...Y.absoluteFillObject,flexDirection:Ks.isRTL?"row":"row-reverse"}});function et(n,t,e){return t in n?Object.defineProperty(n,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):n[t]=e,n}const Lg=.05,hn="Idle",Us="Dragging",Io="Settling";class zl extends u.Component{constructor(t){super(t),et(this,"openValue",void 0),et(this,"onGestureEvent",void 0),et(this,"accessibilityIsModalView",u.createRef()),et(this,"pointerEventsView",u.createRef()),et(this,"panGestureHandler",u.createRef()),et(this,"drawerShown",!1),et(this,"updateAnimatedEvent",(r,a)=>{const{drawerPosition:o,drawerWidth:l,drawerType:c}=r,{dragX:h,touchX:d,drawerTranslation:g,containerWidth:p}=a;let v=h,E=d;o!=="left"?(v=R.multiply(new R.Value(-1),h),E=R.add(new R.Value(p),R.multiply(new R.Value(-1),d)),d.setValue(p)):d.setValue(0);let y=v;if(c==="front"){const w=R.add(E,R.multiply(new R.Value(-1),v)).interpolate({inputRange:[l-1,l,l+1],outputRange:[0,0,1]});y=R.add(v,w)}this.openValue=R.add(y,g).interpolate({inputRange:[0,l],outputRange:[0,1],extrapolate:"clamp"});const L={useNativeDriver:r.useNativeAnimations};this.props.onDrawerSlide&&(L.listener=V=>{var w,N;const M=Math.floor(Math.abs(V.nativeEvent.translationX))/this.state.containerWidth;(w=(N=this.props).onDrawerSlide)===null||w===void 0||w.call(N,M)}),this.onGestureEvent=R.event([{nativeEvent:{translationX:h,x:d}}],L)}),et(this,"handleContainerLayout",({nativeEvent:r})=>{this.setState({containerWidth:r.layout.width})}),et(this,"emitStateChanged",(r,a)=>{var o,l;(o=(l=this.props).onDrawerStateChanged)===null||o===void 0||o.call(l,r,a)}),et(this,"openingHandlerStateChange",({nativeEvent:r})=>{r.oldState===f.ACTIVE?this.handleRelease({nativeEvent:r}):r.state===f.ACTIVE&&(this.emitStateChanged(Us,!1),this.setState({drawerState:Us}),this.props.keyboardDismissMode==="on-drag"&&_n.dismiss(),this.props.hideStatusBar&&js.setHidden(!0,this.props.statusBarAnimation||"slide"))}),et(this,"onTapHandlerStateChange",({nativeEvent:r})=>{this.drawerShown&&r.oldState===f.ACTIVE&&this.props.drawerLockMode!=="locked-open"&&this.closeDrawer()}),et(this,"handleRelease",({nativeEvent:r})=>{const{drawerWidth:a,drawerPosition:o,drawerType:l}=this.props,{containerWidth:c}=this.state;let{translationX:h,velocityX:d,x:g}=r;o!=="left"&&(h=-h,g=c-g,d=-d);const p=g-h;let v=0;l==="front"&&(v=p>a?p-a:0);const E=h+v+(this.drawerShown?a:0);E+Lg*d>a/2?this.animateDrawer(E,a,d):this.animateDrawer(E,0,d)}),et(this,"updateShowing",r=>{var a,o,l;this.drawerShown=r,(a=this.accessibilityIsModalView.current)===null||a===void 0||a.setNativeProps({accessibilityViewIsModal:r}),(o=this.pointerEventsView.current)===null||o===void 0||o.setNativeProps({pointerEvents:r?"auto":"none"});const{drawerPosition:c,minSwipeDistance:h,edgeWidth:d}=this.props,g=c==="left",p=(g?1:-1)*(this.drawerShown?-1:1),v=g?{left:0,width:r?void 0:d}:{right:0,width:r?void 0:d};(l=this.panGestureHandler.current)===null||l===void 0||l.setNativeProps({hitSlop:v,activeOffsetX:p*h})}),et(this,"animateDrawer",(r,a,o,l)=>{if(this.state.dragX.setValue(0),this.state.touchX.setValue(this.props.drawerPosition==="left"?0:this.state.containerWidth),r!=null){let h=r;this.props.useNativeAnimations&&(r<a&&o>0?h=Math.min(r+o/60,a):r>a&&o<0&&(h=Math.max(r+o/60,a))),this.state.drawerTranslation.setValue(h)}const c=a!==0;this.updateShowing(c),this.emitStateChanged(Io,c),this.setState({drawerState:Io}),this.props.hideStatusBar&&js.setHidden(c,this.props.statusBarAnimation||"slide"),R.spring(this.state.drawerTranslation,{velocity:o,bounciness:0,toValue:a,useNativeDriver:this.props.useNativeAnimations,speed:l??void 0}).start(({finished:h})=>{if(h)if(this.emitStateChanged(hn,c),this.setState({drawerOpened:c}),this.state.drawerState!==Us&&this.setState({drawerState:hn}),c){var d,g;(d=(g=this.props).onDrawerOpen)===null||d===void 0||d.call(g)}else{var p,v;(p=(v=this.props).onDrawerClose)===null||p===void 0||p.call(v)}})}),et(this,"openDrawer",(r={})=>{this.animateDrawer(void 0,this.props.drawerWidth,r.velocity?r.velocity:0,r.speed),this.forceUpdate()}),et(this,"closeDrawer",(r={})=>{this.animateDrawer(void 0,0,r.velocity?r.velocity:0,r.speed),this.forceUpdate()}),et(this,"renderOverlay",()=>{qs(this.openValue,"should be set");let r;this.state.drawerState!==hn?r=this.openValue:r=this.state.drawerOpened?1:0;const a={opacity:r,backgroundColor:this.props.overlayColor};return u.createElement(Nl,{onHandlerStateChange:this.onTapHandlerStateChange},u.createElement(R.View,{pointerEvents:this.drawerShown?"auto":"none",ref:this.pointerEventsView,style:[dn.overlay,a]}))}),et(this,"renderDrawer",()=>{const{drawerBackgroundColor:r,drawerWidth:a,drawerPosition:o,drawerType:l,drawerContainerStyle:c,contentContainerStyle:h}=this.props,d=o==="left",g=l!=="back",p=l!=="front",v=Ks.isRTL?d:!d,E={backgroundColor:r,width:a},y=this.openValue;qs(y,"should be set");let L;p&&(L={transform:[{translateX:y.interpolate({inputRange:[0,1],outputRange:d?[0,a]:[0,-a],extrapolate:"clamp"})}]});let V=0;if(g){const N=d?-a:a;this.state.drawerState!==hn?V=y.interpolate({inputRange:[0,1],outputRange:[N,0],extrapolate:"clamp"}):V=this.state.drawerOpened?0:N}const w={transform:[{translateX:V}],flexDirection:v?"row-reverse":"row"};return u.createElement(R.View,{style:dn.main,onLayout:this.handleContainerLayout},u.createElement(R.View,{style:[l==="front"?dn.containerOnBack:dn.containerInFront,L,h],importantForAccessibility:this.drawerShown?"no-hide-descendants":"yes"},typeof this.props.children=="function"?this.props.children(this.openValue):this.props.children,this.renderOverlay()),u.createElement(R.View,{pointerEvents:"box-none",ref:this.accessibilityIsModalView,accessibilityViewIsModal:this.drawerShown,style:[dn.drawerContainer,w,c]},u.createElement(Pt,{style:E},this.props.renderNavigationView(this.openValue))))}),et(this,"setPanGestureRef",r=>{var a,o;this.panGestureHandler.current=r,(a=(o=this.props).onGestureRef)===null||a===void 0||a.call(o,r)});const e=new R.Value(0),i=new R.Value(0),s=new R.Value(0);this.state={dragX:e,touchX:i,drawerTranslation:s,containerWidth:0,drawerState:hn,drawerOpened:!1},this.updateAnimatedEvent(t,this.state)}shouldComponentUpdate(t,e){return(this.props.drawerPosition!==t.drawerPosition||this.props.drawerWidth!==t.drawerWidth||this.props.drawerType!==t.drawerType||this.state.containerWidth!==e.containerWidth)&&this.updateAnimatedEvent(t,e),!0}render(){const{drawerPosition:t,drawerLockMode:e,edgeWidth:i,minSwipeDistance:s}=this.props,r=t==="left",a=(r?1:-1)*(this.drawerShown?-1:1),o=r?{left:0,width:this.drawerShown?void 0:i}:{right:0,width:this.drawerShown?void 0:i};return u.createElement(Ml,{userSelect:this.props.userSelect,activeCursor:this.props.activeCursor,mouseButton:this.props.mouseButton,enableContextMenu:this.props.enableContextMenu,ref:this.setPanGestureRef,hitSlop:o,activeOffsetX:a*s,failOffsetY:[-15,15],onGestureEvent:this.onGestureEvent,onHandlerStateChange:this.openingHandlerStateChange,enableTrackpadTwoFingerGesture:this.props.enableTrackpadTwoFingerGesture,enabled:e!=="locked-closed"&&e!=="locked-open"},this.renderDrawer())}}et(zl,"defaultProps",{drawerWidth:200,drawerPosition:"left",useNativeAnimations:!0,drawerType:"front",edgeWidth:20,minSwipeDistance:3,overlayColor:"rgba(0, 0, 0, 0.7)",drawerLockMode:"unlocked",enableTrackpadTwoFingerGesture:!1});et(zl,"positions",{Left:"left",Right:"right"});const dn=Y.create({drawerContainer:{...Y.absoluteFillObject,zIndex:1001,flexDirection:"row"},containerInFront:{...Y.absoluteFillObject,zIndex:1002},containerOnBack:{...Y.absoluteFillObject},main:{flex:1,zIndex:0,overflow:"hidden"},overlay:{...Y.absoluteFillObject,zIndex:1e3}});Ef();const{height:ql,width:Gg}=$o.get("window"),{height:Yg,width:IE}=$o.get("screen");var Ct=function(n){return n[n.UNDETERMINED=0]="UNDETERMINED",n[n.SCROLLABLE=1]="SCROLLABLE",n[n.HANDLE=2]="HANDLE",n[n.CONTENT=3]="CONTENT",n}(Ct||{}),te=function(n){return n[n.CLOSED=0]="CLOSED",n[n.OPENED=1]="OPENED",n[n.EXTENDED=2]="EXTENDED",n[n.OVER_EXTENDED=3]="OVER_EXTENDED",n[n.FILL_PARENT=4]="FILL_PARENT",n}(te||{}),wt=function(n){return n[n.LOCKED=0]="LOCKED",n[n.UNLOCKED=1]="UNLOCKED",n[n.UNDETERMINED=2]="UNDETERMINED",n}(wt||{}),Kt=function(n){return n[n.UNDETERMINED=0]="UNDETERMINED",n[n.VIEW=1]="VIEW",n[n.FLATLIST=2]="FLATLIST",n[n.SCROLLVIEW=3]="SCROLLVIEW",n[n.SECTIONLIST=4]="SECTIONLIST",n[n.VIRTUALIZEDLIST=5]="VIRTUALIZEDLIST",n}(Kt||{}),vt=function(n){return n[n.UNDETERMINED=0]="UNDETERMINED",n[n.RUNNING=1]="RUNNING",n[n.STOPPED=2]="STOPPED",n[n.INTERRUPTED=3]="INTERRUPTED",n}(vt||{}),nt=function(n){return n[n.NONE=0]="NONE",n[n.MOUNT=1]="MOUNT",n[n.GESTURE=2]="GESTURE",n[n.USER=3]="USER",n[n.CONTAINER_RESIZE=4]="CONTAINER_RESIZE",n[n.SNAP_POINT_CHANGE=5]="SNAP_POINT_CHANGE",n[n.KEYBOARD=6]="KEYBOARD",n}(nt||{}),Gn=function(n){return n[n.TIMING=0]="TIMING",n[n.SPRING=1]="SPRING",n}(Gn||{}),$=function(n){return n[n.UNDETERMINED=0]="UNDETERMINED",n[n.SHOWN=1]="SHOWN",n[n.HIDDEN=2]="HIDDEN",n}($||{}),Ea=function(n){return n[n.PROVIDED=0]="PROVIDED",n[n.DYNAMIC=1]="DYNAMIC",n}(Ea||{});const _g=it.out(it.exp),Bg=250,Ug={damping:500,stiffness:1e3,mass:3,overshootClamping:!0,restDisplacementThreshold:10,restSpeedThreshold:10},Wg={duration:Bg,easing:_g},zg=at.OS==="ios"?Ug:Wg,qg={[wt.UNDETERMINED]:0,[wt.LOCKED]:0,[wt.UNLOCKED]:at.select({ios:.998,android:.985,default:1})},ee={interactive:"interactive",extend:"extend",fillParent:"fillParent"},ya={none:"none",restore:"restore"},Sa={adjustPan:"adjustPan",adjustResize:"adjustResize"},Kl=u.createContext(null),Kg=Kl.Provider,jl=u.createContext(null),jg=jl.Provider,Jl=u.createContext(null),$l=u.createContext(null),Jg=u.createContext(null);Jg.Provider;const Ql=u.createContext(null);Ql.Provider;const Zl=()=>{const n=u.useContext(Kl);if(n===null)throw"'useBottomSheet' cannot be used out of the BottomSheet!";return n};function Ft(n){const t=u.useContext(jl);if(t===null)throw"'useBottomSheetInternal' cannot be used out of the BottomSheet!";return t}function $g(n){const t=u.useContext(Ql);if(t===null)throw"'BottomSheetModalInternalContext' cannot be null!";return t}const Qg=()=>{const n=u.useRef(null),t=u.useRef(null),e=H(Kt.UNDETERMINED),i=H(0),s=H(wt.UNDETERMINED),r=H(!1),a=u.useCallback(l=>{var h;(((h=n.current)==null?void 0:h.id)??null)!==l.id&&(n.current&&(t.current=n.current),n.current=l)},[]),o=u.useCallback(l=>{var d;let c;try{c=ka(l.current)}catch{return}const h=((d=n.current)==null?void 0:d.id)??null;c===h&&(n.current=t.current)},[]);return{scrollableRef:n,animatedScrollableType:e,animatedScrollableContentOffsetY:i,animatedScrollableOverrideState:s,isScrollableRefreshable:r,setScrollableRef:a,removeScrollableRef:o}},Zg=(n,t,e,i,s=u.useEffect)=>{const{animatedScrollableType:r,animatedScrollableContentOffsetY:a,isContentHeightFixed:o,isScrollableRefreshable:l,setScrollableRef:c,removeScrollableRef:h}=Ft(),d=u.useCallback(()=>{a.value=e.value,r.value=t,l.value=i,o.value=!1;const g=ka(n.current);return g?c({id:g,node:n}):console.warn("Couldn't find the scrollable node handle id!"),()=>{h(n)}},[n,t,i,r,a,e,l,o,c,h]);s(d)},tm=(n,t)=>{const e=u.useRef(null),i=H(0),{animatedScrollableState:s,animatedAnimationState:r,animatedScrollableContentOffsetY:a}=Ft();return u.useEffect(()=>{const o=ka(e.current);let l=0,c=!1,h=!1,d=0;function g(y){y.touches.length===1&&(o.scrollTop,d=y.touches[0].clientY,h=l<=0)}function p(y){return s.value===wt.LOCKED||h&&(h=!1,y.touches[0].clientY-d>0)?y.preventDefault():!0}function v(){if(s.value===wt.LOCKED){o.scroll({top:0,left:0,behavior:"instant"}),i.value=0;return}}function E(y){return l=o.scrollTop,r.value!==vt.RUNNING&&(i.value=Math.max(0,l),a.value=Math.max(0,l)),l<=0?(y.preventDefault(),y.stopPropagation(),!1):!0}try{window.addEventListener("test",null,{get passive(){c=!0}})}catch{}return o.addEventListener("touchstart",g,c?{passive:!0}:!1),o.addEventListener("touchmove",p,c?{passive:!1}:!1),o.addEventListener("touchend",v,c?{passive:!1}:!1),o.addEventListener("scroll",E,c?{passive:!1}:!1),()=>{window.removeEventListener("test",null),o.removeEventListener("touchstart",g),o.removeEventListener("touchmove",p),o.removeEventListener("touchend",v),o.removeEventListener("scroll",E)}},[r,a,s,i]),{scrollHandler:t,scrollableRef:e,scrollableContentOffsetY:i}},ko=(n,t,e,i,s,r,a)=>{const o=mt(d=>{t.value=f.BEGAN,e.value=n,i(n,d)},[t,e,n,i]),l=mt(d=>{e.value===n&&(t.value=d.state,s(n,d))},[t,e,n,s]),c=mt(d=>{e.value===n&&(t.value=d.state,e.value=Ct.UNDETERMINED,r(n,d))},[t,e,n,r]),h=mt(d=>{e.value===n&&(t.value=d.state,e.value=Ct.UNDETERMINED,a(n,d))},[t,e,n,a]);return{handleOnStart:o,handleOnChange:l,handleOnEnd:c,handleOnFinalize:h}},em=(n,t,e)=>{"worklet";return Math.min(Math.max(t,n),e)},nm=(n,t,e)=>{"worklet";const i=n+.2*t,s=e.map(a=>Math.abs(i-a)),r=Math.min.apply(null,s);return e.filter(a=>Math.abs(i-a)===r)[0]},im={initialPosition:0,initialTranslationY:0,initialKeyboardState:$.UNDETERMINED,isScrollablePositionLocked:!1},sm=we(_n.dismiss),rm=n=>{"worklet";Object.keys(n).map(t=>{n[t]=void 0})},am=()=>{const{animatedPosition:n,animatedSnapPoints:t,animatedKeyboardState:e,animatedKeyboardHeight:i,animatedContainerHeight:s,animatedScrollableType:r,animatedHighestSnapPoint:a,animatedClosedPosition:o,animatedScrollableContentOffsetY:l,enableOverDrag:c,enablePanDownToClose:h,overDragResistanceFactor:d,isInTemporaryPosition:g,isScrollableRefreshable:p,animateToPosition:v,stopAnimation:E}=Ft(),y=H({...im}),L=mt(function(M,{translationY:K}){E(),y.value={...y.value,initialPosition:n.value,initialKeyboardState:e.value,initialTranslationY:K},l.value>0&&(y.value.isScrollablePositionLocked=!0)},[E,n,e,l]),V=mt(function(M,{translationY:K}){let x=a.value;K=K-y.value.initialTranslationY,g.value&&y.value.initialKeyboardState===$.SHOWN&&(x=y.value.initialPosition),g.value&&y.value.initialPosition<x&&(x=y.value.initialPosition);const k=h?s.value:t.value[0];if(M===Ct.CONTENT&&p.value&&n.value===x)return;const _=y.value.initialPosition===x&&M===Ct.CONTENT||!y.value.isScrollablePositionLocked?l.value*-1:0,G=y.value.initialPosition+K,I=G+_,tt=em(I,x,k);if(y.value.isScrollablePositionLocked&&M===Ct.CONTENT&&n.value===x&&(y.value.isScrollablePositionLocked=!1),c){if((M===Ct.HANDLE||r.value===Kt.VIEW)&&G<x){const rt=x-Math.sqrt(1+(x-G))*d;n.value=rt;return}if(M===Ct.HANDLE&&G>k){const rt=k+Math.sqrt(1+(G-k))*d;n.value=rt;return}if(M===Ct.CONTENT&&G+_>k){const rt=k+Math.sqrt(1+(G+_-k))*d;n.value=rt;return}}n.value=tt},[c,h,d,g,p,a,s,t,n,r,l]),w=mt(function(M,{translationY:K,absoluteY:x,velocityY:k}){const _=a.value,G=n.value===_;if(M===Ct.CONTENT&&p.value&&G)return;if(g.value&&y.value.initialPosition>=n.value){y.value.initialPosition>n.value&&v(y.value.initialPosition,nt.GESTURE,k/2);return}const I=r.value!==Kt.UNDETERMINED&&r.value!==Kt.VIEW;y.value.initialKeyboardState===$.SHOWN&&n.value>y.value.initialPosition&&(at.OS==="ios"&&I&&x>ql-i.value||sm()),g.value&&(g.value=!1);const tt=t.value.slice();h&&tt.unshift(o.value);const rt=nm(K+y.value.initialPosition,k,tt);rt===n.value||M===Ct.CONTENT&&l.value>0&&G||v(rt,nt.GESTURE,k/2)},[h,g,p,o,a,i,n,r,t,l,v]),N=mt(function(){rm(y)},[y]);return{handleOnStart:L,handleOnChange:V,handleOnEnd:w,handleOnFinalize:N}},xo={KEYBOARD_SHOW:at.select({ios:"keyboardWillShow",android:"keyboardDidShow",default:""}),KEYBOARD_HIDE:at.select({ios:"keyboardWillHide",android:"keyboardDidHide",default:""})},om=()=>{const n=H(!1),t=H($.UNDETERMINED),e=H(0),i=H("keyboard"),s=H(500),r=H([]),a=mt((o,l,c,h)=>{if(o===$.SHOWN&&!n.value){r.value=[o,l,c,h];return}e.value=o===$.SHOWN?l:e.value,s.value=c,i.value=h,t.value=o,r.value=[]},[]);return u.useEffect(()=>{const o=d=>{Ht(a)($.SHOWN,d.endCoordinates.height,d.duration,d.easing)},l=d=>{Ht(a)($.HIDDEN,d.endCoordinates.height,d.duration,d.easing)},c=_n.addListener(xo.KEYBOARD_SHOW,o),h=_n.addListener(xo.KEYBOARD_HIDE,l);return()=>{c.remove(),h.remove()}},[a]),ne(()=>n.value,o=>{const l=r.value;o&&l.length>0&&a(l[0],l[1],l[2],l[3])},[]),{state:t,height:e,animationEasing:i,animationDuration:s,shouldHandleKeyboardEvents:n}};function lm(n){const t=u.useRef();return u.useLayoutEffect(()=>{t.current=n}),u.useEffect(()=>()=>{t.current=void 0},[]),u.useCallback((...e)=>{var i;return(i=t.current)==null?void 0:i.call(t,...e)},[])}const cm=2.5,um=!0,hm=!0,dm=!0,fm=!1,gm=!0,mm=!0,pm=ee.interactive,vm=ya.none,Em=Sa.adjustPan,Me=Number.NEGATIVE_INFINITY,Yn=-999,Te=-999,ym={top:0,bottom:0,left:0,right:0},ba=-999,Sm=Yg,bm=!0,Tm="Bottom Sheet",Cm="adjustable",tc=(n,t)=>{"worklet";let e=n;return typeof e=="string"&&(e=Number(e.split("%")[0])*t/100),Math.max(0,t-e)},Ro=({point:n,configs:t,velocity:e=0,overrideReduceMotion:i,onComplete:s})=>{"worklet";return t||(t=zg),i&&(t.reduceMotion=i),("duration"in t||"easing"in t?Gn.TIMING:Gn.SPRING)===Gn.TIMING?S(n,t,s):Jo(n,Object.assign({velocity:e},t),s)},Dm=(n,t)=>{"worklet";switch(n){case"easeIn":return{easing:it.in(it.ease),duration:t};case"easeOut":return{easing:it.out(it.ease),duration:t};case"easeInEaseOut":return{easing:it.inOut(it.ease),duration:t};case"linear":return{easing:it.linear,duration:t};case"keyboard":return{damping:500,stiffness:1e3,mass:3,overshootClamping:!0,restDisplacementThreshold:10,restSpeedThreshold:10}}};let Ha=()=>{};Object.freeze(Ha);const wm=(n,t,e,i,s,r,a)=>{const o=H(-1),l=kt(()=>{if(!(t.value!==Te))return[Yn];let g=(n?"value"in n?n.value:n:[]).map(v=>tc(v,t.value));if(!r)return g;if(i.value===ba)return[Yn];if(e.value===Te)return[Yn];const p=t.value-Math.min(e.value+i.value+s.value,a!==void 0?a:t.value);return g.includes(p)||g.push(p),g=g.sort((v,E)=>E-v),o.value=g.indexOf(p),g},[n,t,i,e,s,r,a,o]),c=kt(()=>{if(r)return!0;const h=n?"value"in n?n.value:n:[];return!!(h.length&&h.find(d=>typeof d=="string"))});return[l,o,c]},Vn=n=>{const t=u.useRef(null),e=u.useRef(null);return n&&typeof n=="object"&&"value"in n||(e.current===null?(t.current=n,typeof n=="object"?e.current=_e({...n}):e.current=_e(n)):t.current!==n&&(e.current.value=n)),u.useEffect(()=>()=>{e.current&&Pa(e.current)},[]),e.current??n},ec=()=>{const n=u.useContext(Jl);if(n===null)throw"'useBottomSheetGestureHandlers' cannot be used out of the BottomSheet!";return n},Om=Y.create({container:{position:"absolute",top:0,left:0,right:0,bottom:0}}),Am=({animatedIndex:n,animatedPosition:t,backdropComponent:e})=>e?D.jsx(e,{animatedIndex:n,animatedPosition:t,style:Om.container}):null,nc=u.memo(Am);nc.displayName="BottomSheetBackdropContainer";const Pm=Y.create({container:{backgroundColor:"white",borderRadius:15}}),Nm=({pointerEvents:n,style:t})=>D.jsx(Pt,{pointerEvents:n,accessible:!0,accessibilityRole:"adjustable",accessibilityLabel:"Bottom Sheet",style:[Pm.container,t]}),ic=u.memo(Nm);ic.displayName="BottomSheetBackground";const Im=Y.create({container:{position:"absolute",top:0,left:0,right:0,bottom:0}}),km=({animatedIndex:n,animatedPosition:t,backgroundComponent:e,backgroundStyle:i})=>{const s=e||ic,r=u.useMemo(()=>Y.flatten([Im.container,i]),[i]);return e===null?null:D.jsx(s,{pointerEvents:"none",animatedIndex:n,animatedPosition:t,style:r})},sc=u.memo(km);sc.displayName="BottomSheetBackgroundContainer";const xm=Y.create({container:{position:"absolute",left:0,right:0,bottom:0,top:0}});function Rm({containerHeight:n,containerOffset:t,topInset:e=0,bottomInset:i=0,shouldCalculateHeight:s=!0,detached:r,style:a,children:o}){const l=u.useRef(null),c=u.useMemo(()=>[a,xm.container,{top:e,bottom:i,overflow:r?"visible":"hidden"}],[a,r,e,i]),h=u.useCallback(function({nativeEvent:{layout:{height:g}}}){var p;n.value=g,(p=l.current)==null||p.measure((v,E,y,L,V,w)=>{t.value&&(t.value={top:w??0,left:0,right:0,bottom:Math.max(0,ql-((w??0)+g+(js.currentHeight??0)))})}),Ha({component:Fa.displayName,method:"handleContainerLayout",category:"layout",params:{height:g}})},[n,t]);return D.jsx(Pt,{ref:l,pointerEvents:"box-none",onLayout:s?h:void 0,style:c,children:o})}const Fa=u.memo(Rm);Fa.displayName="BottomSheetContainer";const Vm=({nativeGestureRef:n,refreshControlGestureRef:t,style:e,children:i,...s})=>{const{enableContentPanningGesture:r,simultaneousHandlers:a,waitFor:o,activeOffsetX:l,activeOffsetY:c,failOffsetX:h,failOffsetY:d}=Ft(),{contentPanGestureHandler:g}=ec(),p=u.useMemo(()=>{const E=[];return n&&E.push(n),t&&E.push(t),a&&(Array.isArray(a)?E.push(...a):E.push(a)),E},[a,n,t]),v=u.useMemo(()=>{let E=us.Pan().enabled(r).shouldCancelWhenOutside(!1).runOnJS(!1).onStart(g.handleOnStart).onChange(g.handleOnChange).onEnd(g.handleOnEnd).onFinalize(g.handleOnFinalize);return o&&(E=E.requireExternalGestureToFail(o)),p&&(E=E.simultaneousWithExternalGesture(p)),l&&(E=E.activeOffsetX(l)),c&&(E=E.activeOffsetY(c)),h&&(E=E.failOffsetX(h)),d&&(E=E.failOffsetY(d)),E},[l,c,r,h,d,p,o,g.handleOnChange,g.handleOnEnd,g.handleOnFinalize,g.handleOnStart]);return D.jsx(cs,{gesture:v,children:D.jsx($l.Provider,{value:v,children:D.jsx(pt.View,{style:e,...s,children:i})})})},rc=u.memo(Vm);rc.displayName="BottomSheetDraggableView";const Mm=({footerComponent:n})=>{const{animatedContainerHeight:t,animatedHandleHeight:e,animatedFooterHeight:i,animatedPosition:s,animatedKeyboardState:r,animatedKeyboardHeightInContainer:a}=Ft(),o=kt(()=>{const l=a.value;let c=Math.max(0,t.value-s.value);return r.value===$.SHOWN&&(c=c-l),c=c-i.value-e.value,c},[a,t,s,r,i,e]);return D.jsx(n,{animatedFooterPosition:o})},ac=u.memo(Mm);ac.displayName="BottomSheetFooterContainer";const Hm=({gestureEventsHandlersHook:n=am,children:t})=>{const e=H(Ct.UNDETERMINED),{animatedContentGestureState:i,animatedHandleGestureState:s}=Ft(),{handleOnStart:r,handleOnChange:a,handleOnEnd:o,handleOnFinalize:l}=n(),c=ko(Ct.CONTENT,i,e,r,a,o,l),h=ko(Ct.HANDLE,s,e,r,a,o,l),d=u.useMemo(()=>({contentPanGestureHandler:c,handlePanGestureHandler:h,animatedGestureSource:e}),[c,h,e]);return D.jsx(Jl.Provider,{value:d,children:t})},Fm=!0,Xm="adjustable",Lm="Bottom sheet handle",Gm="Drag up or down to extend or minimize the bottom sheet",Vo=Y.create({container:{padding:10},indicator:{alignSelf:"center",width:7.5*Gg/100,height:4,borderRadius:4,backgroundColor:"rgba(0, 0, 0, 0.75)"}}),Ym=({style:n,indicatorStyle:t,children:e,accessible:i=Fm,accessibilityRole:s=Xm,accessibilityLabel:r=Lm,accessibilityHint:a=Gm})=>{const o=u.useMemo(()=>[Vo.container,Array.isArray(n)?n:[n]],[n]),l=u.useMemo(()=>[Vo.indicator,Array.isArray(t)?t:[t]],[t]);return D.jsxs(pt.View,{style:o,accessible:i??void 0,accessibilityRole:s??void 0,accessibilityLabel:r??void 0,accessibilityHint:a??void 0,children:[D.jsx(pt.View,{style:l}),e]})},Xa=u.memo(Ym);Xa.displayName="BottomSheetHandle";const _m=Y.create({container:{cursor:"grab"}});function Bm({animatedIndex:n,animatedPosition:t,simultaneousHandlers:e,enableHandlePanningGesture:i=hm,handleHeight:s,handleComponent:r,handleStyle:a,handleIndicatorStyle:o}){const{activeOffsetX:l,activeOffsetY:c,failOffsetX:h,failOffsetY:d,waitFor:g,simultaneousHandlers:p}=Ft(),{handlePanGestureHandler:v}=ec(),E=u.useMemo(()=>{const w=[];return e&&w.push(e),p&&(Array.isArray(p)?w.push(...p):w.push(p)),w},[p,e]),y=u.useMemo(()=>{let w=us.Pan().enabled(i).shouldCancelWhenOutside(!1).runOnJS(!1).onStart(v.handleOnStart).onChange(v.handleOnChange).onEnd(v.handleOnEnd).onFinalize(v.handleOnFinalize);return g&&(w=w.requireExternalGestureToFail(g)),E&&(w=w.simultaneousWithExternalGesture(E)),l&&(w=w.activeOffsetX(l)),c&&(w=w.activeOffsetY(c)),h&&(w=w.failOffsetX(h)),d&&(w=w.failOffsetY(d)),w},[l,c,i,h,d,E,g,v.handleOnChange,v.handleOnEnd,v.handleOnFinalize,v.handleOnStart]),L=u.useCallback(function({nativeEvent:{layout:{height:N}}}){s.value=N},[s]),V=r===void 0?Xa:r;return V!==null?D.jsx(cs,{gesture:y,children:D.jsx(pt.View,{onLayout:L,style:_m.container,children:D.jsx(V,{animatedIndex:n,animatedPosition:t,style:a,indicatorStyle:o})},"BottomSheetHandleContainer")}):null}const oc=u.memo(Bm);oc.displayName="BottomSheetHandleContainer";const Ws=Y.create({container:{flexDirection:"column-reverse",position:"absolute",top:0,left:0,right:0},contentContainer:{overflow:"visible"},contentMaskContainer:{overflow:"hidden"}});pt.addWhitelistedUIProps({decelerationRate:!0});const Um=u.forwardRef(function(t,e){const{animationConfigs:i,index:s=0,snapPoints:r,animateOnMount:a=gm,enableContentPanningGesture:o=um,enableHandlePanningGesture:l,enableOverDrag:c=dm,enablePanDownToClose:h=fm,enableDynamicSizing:d=mm,overDragResistanceFactor:g=cm,overrideReduceMotion:p,style:v,containerStyle:E,backgroundStyle:y,handleStyle:L,handleIndicatorStyle:V,gestureEventsHandlersHook:w,keyboardBehavior:N=pm,keyboardBlurBehavior:z=vm,android_keyboardInputMode:M=Em,containerHeight:K,containerOffset:x,topInset:k=0,bottomInset:_=0,maxDynamicContentSize:G,animatedPosition:I,animatedIndex:tt,simultaneousHandlers:rt,waitFor:st,activeOffsetX:pe,activeOffsetY:Xt,failOffsetX:ve,failOffsetY:Cn,onChange:Ke,onClose:je,onAnimate:Je,$modal:jt=!1,detached:Ee=!1,handleComponent:$e,backdropComponent:ds,backgroundComponent:fs,footerComponent:Dn,children:wn,accessible:gs=bm,accessibilityLabel:ms=Tm,accessibilityRole:ps=Cm}=t,B=Vn(K??Te),T=kt(()=>{const O=k+_;return jt?B.value-O:B.value},[k,_,jt,B]),Jt=Vn(x??ym),bt=Vn(ba),vs=H(0),Qe=H(Te),[J,_a]=wm(r,T,Qe,bt,vs,d,G),Ne=kt(()=>J.value[J.value.length-1],[J]),Lt=kt(()=>{let O=T.value;return(jt||Ee)&&(O=T.value+_),O},[T,jt,Ee,_]),Ie=kt(()=>T.value-Ne.value,[T,Ne]),Nt=Vn(a?-1:s),U=H(Sm),ot=H(Me),ht=H(Me),ce=H(!1),Ba=H(!1),Et=kt(()=>{let O=!1;(K!==null||K!==void 0)&&(O=!0),T.value!==Te&&(O=!0);let b=!1;$e===null&&(bt.value=0,b=!0),bt.value!==ba&&(b=!0);let A=!1;return J.value[0]!==Yn&&(A=!0),O&&b&&A},[K,T,bt,J,$e]),j=H(!1),yt=H(!1),On=H(!1),ye=H(f.UNDETERMINED),Se=H(f.UNDETERMINED),{animatedScrollableType:Ua,animatedScrollableContentOffsetY:Wa,animatedScrollableOverrideState:Ze,isScrollableRefreshable:za,setScrollableRef:qa,removeScrollableRef:Ka}=Qg(),{state:Vt,height:Es,animationDuration:yc,animationEasing:Sc,shouldHandleKeyboardEvents:ja}=om(),Gt=H(0),Ja=rl(),An=u.useMemo(()=>!p||p===Xe.System?Ja:p===Xe.Always,[Ja,p]),lt=H(vt.UNDETERMINED),$t=H(nt.MOUNT),tn=kt(()=>{if(U.value>=Lt.value)return te.CLOSED;const O=T.value-Ie.value;if(U.value===O)return te.EXTENDED;const b=Gt.value,A=Math.max(0,T.value-(Ie.value+b));return N===ee.interactive&&j.value&&U.value===A?te.EXTENDED:U.value===0?te.FILL_PARENT:U.value<O?te.OVER_EXTENDED:te.OPENED},[Lt,T,Gt,U,Ie,j,N]),$a=kt(()=>o?Ze.value!==wt.UNDETERMINED?Ze.value:tn.value===te.FILL_PARENT||tn.value===te.EXTENDED||Vt.value===$.SHOWN&&lt.value===vt.RUNNING?wt.UNLOCKED:wt.LOCKED:wt.UNLOCKED,[o,lt,Vt,Ze,tn]),Qa=kt(()=>{const O=Gt.value,b=Math.max(0,bt.value);let A=Ie.value-b;if(N===ee.extend&&Vt.value===$.SHOWN)A=A-O;else if(N===ee.fillParent&&j.value)Vt.value===$.SHOWN?A=T.value-b-O:A=T.value-b;else if(N===ee.interactive&&j.value){const F=A+O;Vt.value===$.SHOWN?O+Ie.value>T.value&&(A=T.value-O-b):F+b>T.value?A=T.value-b:A=F}return Math.max(A,0)},[T,bt,Gt,Vt,Ie,j,N]),Mt=kt(()=>{const O=J.value.slice().reverse(),b=J.value.slice().map((F,dt)=>dt).reverse();O.push(T.value),b.push(-1);const A=Et.value?Ia(U.value,O,b,Na.CLAMP):-1;return M===Sa.adjustResize&&$t.value===nt.KEYBOARD&&lt.value===vt.RUNNING&&j.value?Math.max(Nt.value,A):$t.value===nt.SNAP_POINT_CHANGE&&lt.value===vt.RUNNING?ht.value:A},[M,$t,lt,T,Nt,ht,U,J,j,Et]),Za=u.useCallback(function(b,A){Ke&&Ke(b,A,b===_a.value?Ea.DYNAMIC:Ea.PROVIDED)},[Ke,Nt,_a]),to=u.useCallback(function(b){Je&&b!==Nt.value&&Je(Nt.value,b)},[Je,Nt]),Pn=mt(()=>{Pa(U),$t.value=nt.NONE,lt.value=vt.STOPPED},[U,lt,$t]),bc=mt(function(b){b&&($t.value===nt.MOUNT&&(ce.value=!0),yt.value=!1,$t.value=nt.NONE,lt.value=vt.STOPPED,ot.value=Me,ht.value=Me,On.value=!1)}),ct=mt(function(b,A,F=0,dt){if(b===U.value||b===void 0||lt.value===vt.RUNNING&&b===ot.value)return;lt.value===vt.RUNNING&&Pn(),lt.value=vt.RUNNING,$t.value=A,ot.value=b;let ue=0;Vt.value===$.SHOWN&&(ue=Gt.value),ht.value=J.value.indexOf(b+ue),we(to)(ht.value),U.value=Ro({point:b,configs:dt||i,velocity:F,overrideReduceMotion:p,onComplete:bc})},[to,i,p]),en=mt(function(b){b===U.value||b===void 0||lt.value===vt.RUNNING&&b===ot.value||(ot.value=b,ht.value=J.value.indexOf(b),Pn(),U.value=b,On.value=!1)},[]),ys=mt(function(b){"worklet";const A=Nt.value,F=J.value,dt=Vt.value,ue=Ne.value;if(b===nt.KEYBOARD&&z===ya.restore&&dt===$.HIDDEN&&ye.value!==f.ACTIVE&&Se.value!==f.ACTIVE)return j.value=!1,F[A];if(N===ee.extend&&dt===$.SHOWN)return ue;if(N===ee.fillParent&&dt===$.SHOWN)return j.value=!0,0;if(N===ee.interactive&&dt===$.SHOWN&&!(at.OS==="android"&&M==="adjustResize")){j.value=!0;const ws=Gt.value;return Math.max(0,ue-ws)}return j.value?U.value:ce.value?F[A]:s===-1?Lt.value:F[s]},[ye,Nt,Se,Ne,Gt,Vt,U,J,j,ce,N,z,s]),eo=mt(function(b,A){if(yt.value&&b!==nt.USER||!Et.value)return;const F=ys(b);if(!ce.value){a?ct(F,nt.MOUNT,void 0,A):(en(F),ce.value=!0);return}if(lt.value===vt.RUNNING){if(ht.value===-1&&!j.value){en(Lt.value);return}if(ht.value!==Nt.value){ct(J.value[ht.value],b,void 0,A);return}}if(lt.value!==vt.RUNNING&&Nt.value===-1){if(An&&J.value[Mt.value]!==U.value)return;en(Lt.value);return}if(On.value){en(F);return}ct(F,b,void 0,A)},[ys,ct,en,An]),nn=u.useCallback(function(b,A){const F=J.value;qs(b>=-1&&b<=F.length-1,`'index' was provided but out of the provided snap points range! expected value to be between -1, ${F.length-1}`);const dt=F[b];!Et.value||b===ht.value||dt===ot.value||yt.value||(j.value=!1,Ht(ct)(dt,nt.USER,0,A))},[ct,Et,j,yt,J,ot,ht]),Ss=mt(function(b,A){const F=tc(b,T.value);!Et||F===ot.value||yt.value||(j.value=!0,Ht(ct)(F,nt.USER,0,A))},[ct,_,k,Et,yt,T,U]),bs=u.useCallback(function(b){const A=Lt.value;!Et.value||A===ot.value||yt.value||(j.value=!1,Ht(ct)(A,nt.USER,0,b))},[ct,yt,Et,j,ot,Lt]),Ts=u.useCallback(function(b){const A=Lt.value;A===ot.value||yt.value||(j.value=!1,yt.value=!0,Ht(ct)(A,nt.USER,0,b))},[ct,yt,j,ot,Lt]),Cs=u.useCallback(function(b){const A=J.value,F=A[A.length-1];!Et.value||A.length-1===ht.value||F===ot.value||yt.value||(j.value=!1,Ht(ct)(F,nt.USER,0,b))},[ct,j,Et,yt,J,ot,ht]),Ds=u.useCallback(function(b){const A=J.value[0];!Et||ht.value===0||A===ot.value||yt.value||(j.value=!1,Ht(ct)(A,nt.USER,0,b))},[ct,yt,Et,j,J,ot,ht]);u.useImperativeHandle(e,()=>({snapToIndex:nn,snapToPosition:Ss,expand:Cs,collapse:Ds,close:bs,forceClose:Ts}));const Tc=u.useMemo(()=>({enableContentPanningGesture:o,enableDynamicSizing:d,overDragResistanceFactor:g,enableOverDrag:c,enablePanDownToClose:h,animatedAnimationState:lt,animatedSheetState:tn,animatedScrollableState:$a,animatedScrollableOverrideState:Ze,animatedContentGestureState:ye,animatedHandleGestureState:Se,animatedKeyboardState:Vt,animatedScrollableType:Ua,animatedIndex:Mt,animatedPosition:U,animatedContentHeight:Qe,animatedClosedPosition:Lt,animatedHandleHeight:bt,animatedFooterHeight:vs,animatedKeyboardHeight:Es,animatedKeyboardHeightInContainer:Gt,animatedContainerHeight:T,animatedSnapPoints:J,animatedHighestSnapPoint:Ne,animatedScrollableContentOffsetY:Wa,isInTemporaryPosition:j,isContentHeightFixed:Ba,isScrollableRefreshable:za,shouldHandleKeyboardEvents:ja,simultaneousHandlers:rt,waitFor:st,activeOffsetX:pe,activeOffsetY:Xt,failOffsetX:ve,failOffsetY:Cn,animateToPosition:ct,stopAnimation:Pn,setScrollableRef:qa,removeScrollableRef:Ka}),[Mt,U,Qe,Ua,ye,Se,Lt,vs,T,bt,lt,Vt,Es,Gt,tn,Ne,$a,Ze,J,ja,Wa,za,Ba,j,o,g,c,h,d,rt,st,pe,Xt,ve,Cn,qa,Ka,ct,Pn]),Cc=u.useMemo(()=>({animatedIndex:Mt,animatedPosition:U,snapToIndex:nn,snapToPosition:Ss,expand:Cs,collapse:Ds,close:bs,forceClose:Ts}),[Mt,U,nn,Ss,Cs,Ds,bs,Ts]),no=qt(()=>({opacity:at.OS==="android"&&Mt.value===-1?0:1,transform:[{translateY:U.value}]}),[U,Mt]),Dc=u.useMemo(()=>[v,Ws.container,no],[v,no]),io=qt(()=>d&&Qe.value===Te?{}:{height:Ro({point:Qa.value,configs:i,overrideReduceMotion:p})},[d,Qe,Qa,p,i]),wc=u.useMemo(()=>[Ws.contentContainer,io],[io]),so=qt(()=>Ee?{overflow:"visible"}:{paddingBottom:T.value},[T,Ee]),Oc=u.useMemo(()=>[Ws.contentMaskContainer,so],[so]);ne(()=>T.value,(O,b)=>{O!==Te&&(On.value=O!==b)}),ne(()=>J.value,(O,b)=>{JSON.stringify(O)===JSON.stringify(b)&&ce.value||Et.value&&eo(nt.SNAP_POINT_CHANGE)},[Et,J]),ne(()=>({_keyboardState:Vt.value,_keyboardHeight:Es.value}),(O,b)=>{const{_keyboardState:A,_keyboardHeight:F}=O,dt=b==null?void 0:b._keyboardState,ue=b==null?void 0:b._keyboardHeight;if(A===dt&&F===ue||A===$.UNDETERMINED||A===$.HIDDEN&&lt.value===vt.RUNNING&&$t.value===nt.GESTURE||(Gt.value=F===0?0:Math.abs(jt?F-Math.abs(_-Jt.value.bottom):F-Jt.value.bottom),at.OS==="android"&&M===Sa.adjustResize&&(Gt.value=0,N===ee.interactive))||ye.value===f.ACTIVE||ye.value===f.BEGAN||Se.value===f.ACTIVE||Se.value===f.BEGAN||A===$.HIDDEN&&z===ya.none)return;const Pc=Dm(Sc.value,yc.value);eo(nt.KEYBOARD,Pc)},[jt,_,N,z,M,Jt,ys]),ne(()=>U.value,O=>{I&&(I.value=O+k)},[]),ne(()=>Mt.value,O=>{tt&&(tt.value=O)},[]),ne(()=>({_animatedIndex:Mt.value,_animatedPosition:U.value,_animationState:lt.value,_contentGestureState:ye.value,_handleGestureState:Se.value}),({_animatedIndex:O,_animatedPosition:b,_animationState:A,_contentGestureState:F,_handleGestureState:dt})=>{A!==vt.STOPPED||ot.value!==Me&&ht.value!==Me&&(b!==ot.value||O!==ht.value)||O%1!==0||!((F===f.END||F===f.UNDETERMINED||F===f.CANCELLED)&&(dt===f.END||dt===f.UNDETERMINED||dt===f.CANCELLED))||An&&O===Nt.value&&J.value[O]!==b||(O!==Nt.value&&(Nt.value=O,we(Za)(O,b)),O===-1&&je&&we(je)())},[An,Za,je]),u.useEffect(()=>{ce.value&&nn(s)},[s,ce,nn]);const Ac=o?rc:pt.View;return D.jsx(Kg,{value:Cc,children:D.jsx(jg,{value:Tc,children:D.jsxs(Hm,{gestureEventsHandlersHook:w,children:[D.jsx(nc,{animatedIndex:Mt,animatedPosition:U,backdropComponent:ds},"BottomSheetBackdropContainer"),D.jsx(Fa,{shouldCalculateHeight:!jt,containerHeight:B,containerOffset:Jt,topInset:k,bottomInset:_,detached:Ee,style:E,children:D.jsxs(pt.View,{style:Dc,children:[D.jsx(sc,{animatedIndex:Mt,animatedPosition:U,backgroundComponent:fs,backgroundStyle:y},"BottomSheetBackgroundContainer"),D.jsxs(pt.View,{pointerEvents:"box-none",style:Oc,accessible:gs??void 0,accessibilityRole:ps??void 0,accessibilityLabel:ms??void 0,children:[D.jsx(Ac,{style:wc,children:wn},"BottomSheetRootDraggableView"),Dn&&D.jsx(ac,{footerComponent:Dn})]}),D.jsx(oc,{animatedIndex:Mt,animatedPosition:U,handleHeight:bt,enableHandlePanningGesture:l,enableOverDrag:c,enablePanDownToClose:h,overDragResistanceFactor:g,keyboardBehavior:N,handleComponent:$e,handleStyle:L,handleIndicatorStyle:V},"BottomSheetHandleContainer")]})},"BottomSheetContainer")]})})})}),La=u.memo(Um);La.displayName="BottomSheet";var zt;(function(n){n[n.REGISTER_HOST=0]="REGISTER_HOST",n[n.DEREGISTER_HOST=1]="DEREGISTER_HOST",n[n.ADD_UPDATE_PORTAL=2]="ADD_UPDATE_PORTAL",n[n.REMOVE_PORTAL=3]="REMOVE_PORTAL"})(zt||(zt={}));const Wm={},lc=u.createContext(null),cc=u.createContext(null),Ga=(n="root")=>{const t=u.useContext(cc);if(t===null)throw new Error("'PortalDispatchContext' cannot be null, please add 'PortalProvider' to the root component.");const e=u.useCallback(()=>{t({type:zt.REGISTER_HOST,hostName:n})},[]),i=u.useCallback(()=>{t({type:zt.DEREGISTER_HOST,hostName:n})},[]),s=u.useCallback((a,o)=>{t({type:zt.ADD_UPDATE_PORTAL,hostName:n,portalName:a,node:o})},[]),r=u.useCallback(a=>{t({type:zt.REMOVE_PORTAL,hostName:n,portalName:a})},[]);return{registerHost:e,deregisterHost:i,addPortal:s,updatePortal:s,removePortal:r}},zm=({name:n,hostName:t,handleOnMount:e,handleOnUnmount:i,handleOnUpdate:s,children:r})=>{const{addPortal:a,removePortal:o}=Ga(t),l=u.useMemo(()=>n||zu(),[n]),c=u.useRef(),h=u.useRef(),d=u.useRef(),g=u.useCallback(()=>{e?e(()=>a(l,r)):a(l,r)},[e,a]);c.current=g;const p=u.useCallback(()=>{i?i(()=>o(l)):o(l)},[i,o]);h.current=p;const v=u.useCallback(()=>{s?s(()=>a(l,r)):a(l,r)},[s,a,r]);return d.current=v,u.useEffect(()=>{var E;return(E=c.current)===null||E===void 0||E.call(c),()=>{var y;(y=h.current)===null||y===void 0||y.call(h),c.current=void 0,h.current=void 0,d.current=void 0}},[]),u.useEffect(()=>{var E;(E=d.current)===null||E===void 0||E.call(d)},[r]),null},uc=u.memo(zm);uc.displayName="Portal";const qm=n=>{const t=u.useContext(lc);if(t===null)throw new Error("'PortalStateContext' cannot be null, please add 'PortalProvider' to the root component.");return t[n]||[]},Km=({name:n})=>{const t=qm(n),{registerHost:e,deregisterHost:i}=Ga(n);return u.useEffect(()=>(e(),()=>{i()}),[]),Z.createElement(Z.Fragment,null,t.map(s=>s.node))},hc=u.memo(Km);hc.displayName="PortalHost";const jm=!1;let Ya=()=>{};jm&&(Ya=({component:n,method:t,params:e})=>{});Object.freeze(Ya);const dc=(n,t)=>(t in n||(n[t]=[]),n),Jm=(n,t)=>(delete n[t],n),$m=(n,t,e,i)=>{t in n||(n=dc(n,t));const s=n[t].findIndex(r=>r.name===e);return s!==-1?n[t][s].node=i:n[t].push({name:e,node:i}),n},fc=(n,t,e)=>{if(!(t in n))return Ya({component:gc.name,method:fc.name,params:"Failed to remove portal '".concat(e,"', '").concat(t,"' was not registered!")}),n;const i=n[t].findIndex(s=>s.name===e);return i!==-1&&n[t].splice(i,1),n},gc=(n,t)=>{const{type:e}=t;let i={...n};switch(e){case zt.REGISTER_HOST:return dc(i,t.hostName);case zt.DEREGISTER_HOST:return Jm(i,t.hostName);case zt.ADD_UPDATE_PORTAL:return $m(i,t.hostName,t.portalName,t.node);case zt.REMOVE_PORTAL:return fc(i,t.hostName,t.portalName);default:return n}},Qm=({rootHostName:n="root",shouldAddRootHost:t=!0,children:e})=>{const[i,s]=u.useReducer(gc,Wm);return Z.createElement(cc.Provider,{value:s},Z.createElement(lc.Provider,{value:i},e,t&&Z.createElement(hc,{name:n})))},Zm=u.memo(Qm);Zm.displayName="PortalProvider";let zs=0;const tp=()=>(zs=(zs+1)%Number.MAX_SAFE_INTEGER,zs),ep="switch",np=!0,Mo={mount:!1,data:void 0};function ip(n,t){const{name:e,stackBehavior:i=ep,enableDismissOnClose:s=np,onDismiss:r,onAnimate:a,index:o=0,snapPoints:l,enablePanDownToClose:c=!0,animateOnMount:h=!0,containerComponent:d=Z.Fragment,onChange:g,children:p,...v}=n,[{mount:E,data:y},L]=u.useState(Mo),{containerHeight:V,containerOffset:w,mountSheet:N,unmountSheet:z,willUnmountSheet:M}=$g(),{removePortal:K}=Ga(),x=u.useRef(null),k=u.useRef(h?-1:o),_=u.useRef(null),G=u.useRef(-1),I=u.useRef(!1),tt=u.useRef(!1),rt=u.useRef(!1);rt.current=E;const st=u.useMemo(()=>e||`bottom-sheet-modal-${tp()}`,[e]),pe=u.useCallback(function B(){Ha({component:mc.name,method:B.name}),k.current=-1,G.current=-1,I.current=!1,rt.current=!1,tt.current=!1},[]),Xt=u.useCallback(function(){const T=rt.current;pe(),z(st),K(st),T&&L(Mo),r&&r()},[st,pe,z,K,r]),ve=u.useCallback((...B)=>{var T;I.current||(T=x.current)==null||T.snapToIndex(...B)},[]),Cn=u.useCallback((...B)=>{var T;I.current||(T=x.current)==null||T.snapToPosition(...B)},[]),Ke=u.useCallback((...B)=>{var T;I.current||(T=x.current)==null||T.expand(...B)},[]),je=u.useCallback((...B)=>{var T;I.current||(T=x.current)==null||T.collapse(...B)},[]),Je=u.useCallback((...B)=>{var T;I.current||(T=x.current)==null||T.close(...B)},[]),jt=u.useCallback((...B)=>{var T;I.current||(T=x.current)==null||T.forceClose(...B)},[]),Ee=u.useCallback(function(T){requestAnimationFrame(()=>{L({mount:!0,data:T}),N(st,t,i)})},[st,i,N]),$e=u.useCallback(function(T){var bt;const Jt=_.current!=null;if(!(k.current===-1&&I.current===!1&&!Jt)){if(!Jt&&(I.current||k.current===-1&&c)){Xt();return}M(st),tt.current=!0,(bt=x.current)==null||bt.forceClose(T)}},[M,Xt,st,c]),ds=u.useCallback(function(){var T;I.current||(I.current=!0,k.current===-1?G.current=o:G.current=k.current,(T=x.current)==null||T.close())},[o]),fs=u.useCallback(function(){var T;!I.current||tt.current||(I.current=!1,(T=x.current)==null||T.snapToIndex(G.current))},[]),Dn=u.useCallback(function(){var T;if(!(k.current===-1&&I.current===!1)){if(rt.current=!1,tt.current=!0,I.current){Xt();return}M(st),(T=x.current)==null||T.close()}},[st,Xt,M]),wn=u.useCallback(function(T){rt.current&&T()},[]),gs=u.useCallback(function(T,Jt,bt){k.current=T,_.current=null,g&&g(T,Jt,bt)},[g]),ms=u.useCallback((B,T)=>{_.current=T,a&&a(B,T)},[a]),ps=u.useCallback(function(){I.current||s&&Xt()},[s,Xt]);return u.useImperativeHandle(t,()=>({snapToIndex:ve,snapToPosition:Cn,expand:Ke,collapse:je,close:Je,forceClose:jt,dismiss:$e,present:Ee,minimize:ds,restore:fs})),E?D.jsx(uc,{name:st,handleOnMount:wn,handleOnUpdate:wn,handleOnUnmount:Dn,children:D.jsx(d,{children:u.createElement(La,{...v,ref:x,key:st,index:o,snapPoints:l,enablePanDownToClose:c,animateOnMount:h,containerHeight:V,containerOffset:w,onChange:gs,onClose:ps,onAnimate:ms,$modal:!0},typeof p=="function"?D.jsx(p,{data:y}):p)},st)},st):null}const mc=u.memo(u.forwardRef(ip));mc.displayName="BottomSheetModal";function sp({scrollableGesture:n,children:t}){return n?D.jsx(cs,{gesture:n,children:t}):t}const rp=()=>navigator.userAgent.indexOf("Safari")>-1,ap=u.forwardRef(function({nativeGesture:t,ScrollableComponent:e,animatedProps:i,setContentSize:s,onLayout:r,...a},o){const l=u.useRef(!1),c=u.useCallback(d=>D.jsx(pt.ScrollView,{...d,animatedProps:i}),[i]),h=u.useCallback(d=>{if(r&&r(d),!l.current){if(l.current=!0,!rp())return;window.requestAnimationFrame(()=>{s(d.nativeEvent.target.clientHeight)})}},[r,s]);return D.jsx(sp,{scrollableGesture:t,children:D.jsx(e,{ref:o,...a,onLayout:h,renderScrollComponent:c})})});function op(){const{enableDynamicSizing:n,animatedContentHeight:t}=Ft();return{setContentSize:u.useCallback(i=>{n&&(t.value=i)},[n,t])}}function hs(n,t){return u.forwardRef((e,i)=>{const{focusHook:s,scrollEventsHandlersHook:r,enableFooterMarginAdjustment:a=!1,overScrollMode:o="never",keyboardDismissMode:l="interactive",showsVerticalScrollIndicator:c=!0,style:h,refreshing:d,onRefresh:g,progressViewOffset:p,refreshControl:v,onScroll:E,onScrollBeginDrag:y,onScrollEndDrag:L,onContentSizeChange:V,...w}=e,N=u.useContext($l),{scrollableRef:z,scrollableContentOffsetY:M,scrollHandler:K}=tm(r,E),{animatedFooterHeight:x,animatedScrollableState:k,enableContentPanningGesture:_}=Ft(),{setContentSize:G}=op();if(!N&&_)throw"'Scrollable' cannot be used out of the BottomSheet!";const I=ls(()=>({decelerationRate:qg[k.value],showsVerticalScrollIndicator:c&&k.value===wt.UNLOCKED}),[k,c]),tt=u.useMemo(()=>N?us.Native().simultaneousWithExternalGesture(N).shouldCancelWhenOutside(!1):void 0,[N]),rt=lm((Xt,ve)=>{G(ve),V&&V(Xt,ve)}),st=qt(()=>({marginBottom:a?x.value:0}),[x,a]),pe=u.useMemo(()=>a?[...h?"length"in h?h:[h]:[],st]:h,[a,h,st]);return u.useImperativeHandle(i,()=>z.current),Zg(z,n,M,g!==void 0,s),D.jsx(ap,{ref:z,nativeGesture:tt,animatedProps:I,overScrollMode:o,keyboardDismissMode:l,refreshing:d,scrollEventThrottle:16,progressViewOffset:p,style:pe,onRefresh:g,onScroll:K,onContentSizeChange:rt,setContentSize:G,ScrollableComponent:t,refreshControl:v,...w})})}const lp=pt.createAnimatedComponent(_u),cp=hs(Kt.SECTIONLIST,lp),up=u.memo(cp);up.displayName="BottomSheetSectionList";const hp=pt.createAnimatedComponent(Bu),dp=hs(Kt.FLATLIST,hp),fp=u.memo(dp);fp.displayName="BottomSheetFlatList";const gp=pt.createAnimatedComponent(tl),mp=hs(Kt.SCROLLVIEW,gp),pc=u.memo(mp);pc.displayName="BottomSheetScrollView";const pp=pt.createAnimatedComponent(Uu),vp=hs(Kt.VIRTUALIZEDLIST,pp),Ep=u.memo(vp);Ep.displayName="BottomSheetVirtualizedList";let yp;try{yp=require("@shopify/flash-list")}catch{}Y.create({container:{flex:1,overflow:"visible"}});function Sp({focusHook:n=u.useEffect,enableFooterMarginAdjustment:t=!1,onLayout:e,style:i,children:s,...r}){const{animatedScrollableContentOffsetY:a,animatedScrollableType:o,animatedFooterHeight:l,enableDynamicSizing:c,animatedContentHeight:h}=Ft(),d=u.useMemo(()=>Y.flatten(i),[i]),g=qt(()=>{if(!t)return d??{};const E=typeof(d==null?void 0:d.marginBottom)=="number"?d.marginBottom:0;return{...d??{},marginBottom:E+l.value}},[d,t,l]),p=u.useCallback(()=>{a.value=0,o.value=Kt.VIEW},[a,o]),v=u.useCallback(E=>{c&&(h.value=E.nativeEvent.layout.height),e&&e(E)},[e,h,c]);return n(p),D.jsx(pt.View,{...r,onLayout:v,style:g,children:s})}const vc=u.memo(Sp);vc.displayName="BottomSheetView";const bp=u.forwardRef(({onFocus:n,onBlur:t,...e},i)=>{const{shouldHandleKeyboardEvents:s}=Ft(),r=u.useCallback(o=>{s.value=!0,n&&n(o)},[n,s]),a=u.useCallback(o=>{s.value=!1,t&&t(o)},[t,s]);return u.useEffect(()=>()=>{s.value=!1},[s]),D.jsx(Fg,{ref:i,onFocus:r,onBlur:a,...e})}),Tp=u.memo(bp);Tp.displayName="BottomSheetTextInput";const Cp=.5,Dp=1,wp=0,Op=!1,Ap="close",Pp=!0,Np="button",Ip="Bottom sheet backdrop",kp="Tap to close the bottom sheet",xp=Y.create({container:{backgroundColor:"black"}}),Rp=({animatedIndex:n,opacity:t,appearsOnIndex:e,disappearsOnIndex:i,enableTouchThrough:s,pressBehavior:r=Ap,onPress:a,style:o,children:l,accessible:c=Pp,accessibilityRole:h=Np,accessibilityLabel:d=Ip,accessibilityHint:g=kp})=>{const{snapToIndex:p,close:v}=Zl(),E=u.useRef(!1),y=t??Cp,L=e??Dp,V=i??wp,w=s??Op,[N,z]=u.useState(w?"none":"auto"),M=u.useCallback(()=>{a==null||a(),r==="close"?v():r==="collapse"?p(V):typeof r=="number"&&p(r)},[p,v,V,r,a]),K=u.useCallback(I=>{E.current&&z(I?"none":"auto")},[]),x=u.useMemo(()=>us.Tap().onEnd(()=>{we(M)()}),[M]),k=qt(()=>({opacity:Ia(n.value,[-1,V,L],[0,0,y],Na.CLAMP),flex:1}),[n,L,V,y]),_=u.useMemo(()=>[xp.container,o,k],[o,k]);ne(()=>n.value<=V,(I,tt)=>{I!==tt&&we(K)(I)},[V]),u.useEffect(()=>(E.current=!0,()=>{E.current=!1}),[]);const G=D.jsx(pt.View,{style:_,pointerEvents:N,accessible:c??void 0,accessibilityRole:h??void 0,accessibilityLabel:d??void 0,accessibilityHint:g||`Tap to ${typeof r=="string"?r:"move"} the Bottom Sheet`,children:l});return r!=="none"?D.jsx(cs,{gesture:x,children:G}):G},Ec=u.memo(Rp);Ec.displayName="BottomSheetBackdrop";const Vp=Y.create({container:{position:"absolute",top:0,left:0,right:0,zIndex:9999,pointerEvents:"box-none"}});function Mp({animatedFooterPosition:n,bottomInset:t=0,style:e,children:i}){const{animatedFooterHeight:s,animatedKeyboardState:r}=Ft(),a=qt(()=>{let c=n.value;return r.value!==$.SHOWN&&(c=c-t),{transform:[{translateY:Math.max(0,c)}]}},[t,r,n]),o=u.useMemo(()=>[Vp.container,e,a],[e,a]),l=u.useCallback(({nativeEvent:{layout:{height:c}}})=>{s.value=c},[s]);return i!==null?D.jsx(pt.View,{onLayout:l,style:o,children:i}):null}const Hp=u.memo(Mp);Hp.displayName="BottomSheetFooter";const Ta=({bottom:n,children:t,flex:e,left:i,right:s,top:r,...a})=>{const o=Zo(),l=u.useMemo(()=>Fp(o,{bottom:n,left:i,right:s,top:r},e),[n,e,o,i,s,r]);return D.jsx(Pt,{style:l.insets,...a,children:t})},Fp=(n,{bottom:t,left:e,right:i,top:s},r)=>Y.create({insets:{flex:r,paddingBottom:t?n.bottom:void 0,paddingLeft:e?n.left:void 0,paddingRight:i?n.right:void 0,paddingTop:s?n.top:void 0}});try{Ta.displayName="SafeArea",Ta.__docgenInfo={description:"A utility container that will add insets only to the specified sides. This is for real edge cases ;-)",displayName:"SafeArea",props:{bottom:{defaultValue:null,description:"",name:"bottom",required:!1,type:{name:"boolean"}},left:{defaultValue:null,description:"",name:"left",required:!1,type:{name:"boolean"}},right:{defaultValue:null,description:"",name:"right",required:!1,type:{name:"boolean"}},top:{defaultValue:null,description:"",name:"top",required:!1,type:{name:"boolean"}},flex:{defaultValue:null,description:"",name:"flex",required:!1,type:{name:"number"}}}}}catch{}const Xp=n=>D.jsx(Ec,{accessibilityHint:"Dubbeltik om te sluiten",accessibilityLabel:"Sluiten",appearsOnIndex:0,disappearsOnIndex:-1,...n}),Lp=n=>D.jsx(Xa,{accessibilityHint:"Veeg omlaag om te sluiten",accessibilityLabel:"Sluiten",...n}),Gp=({style:n,...t})=>{const e=bu(Yp);return D.jsx(Pt,{...t,accessible:!1,style:[e.container,n]})},Yp=({color:n,border:t})=>Y.create({container:{backgroundColor:n.bottomSheet.background,borderRadius:t.radius.lg}}),_p=()=>{const{close:n,isOpen:t,open:e}=Ku(),{setHideContentFromAccessibility:i}=Yu(),s=u.useRef(null);qu(n);const r=u.useCallback(a=>{const o=a!==-1;o!==t&&(o?e():n())},[n,t,e]);return u.useEffect(()=>{var a,o;t?(a=s.current)==null||a.expand():(o=s.current)==null||o.close(),i(t)},[t,i]),{isOpen:t,onChange:r,ref:s}},Ca=({children:n,flex:t,onChange:e,scroll:i,snapPoints:s,testID:r,...a})=>{const{onChange:o,ref:l}=_p(),{top:c}=Zo(),h=i?pc:vc,d=Bp(t);return D.jsx(La,{accessible:!1,backdropComponent:Xp,backgroundComponent:Gp,enableDynamicSizing:!0,enablePanDownToClose:!0,handleComponent:Lp,index:-1,onChange:(g,p,v)=>{o(g),e==null||e(g,p,v)},ref:l,snapPoints:s,topInset:c,...a,children:D.jsx(h,{style:d.container,testID:r,children:D.jsx(Ta,{bottom:!0,flex:t,left:!0,right:!0,testID:r,children:n})})})},Bp=n=>Y.create({container:{flex:n}});try{Ca.displayName="BottomSheet",Ca.__docgenInfo={description:"To autofocus on an element within the bottom sheet, use the `useSetBottomSheetElementFocus` hook.",displayName:"BottomSheet",props:{activeOffsetX:{defaultValue:null,description:"",name:"activeOffsetX",required:!1,type:{name:"number | [activeOffsetXStart: number, activeOffsetXEnd: number]"}},activeOffsetY:{defaultValue:null,description:"",name:"activeOffsetY",required:!1,type:{name:"number | [activeOffsetYStart: number, activeOffsetYEnd: number]"}},failOffsetY:{defaultValue:null,description:"",name:"failOffsetY",required:!1,type:{name:"number | [failOffsetYStart: number, failOffsetYEnd: number]"}},failOffsetX:{defaultValue:null,description:"",name:"failOffsetX",required:!1,type:{name:"number | [failOffsetXStart: number, failOffsetXEnd: number]"}},simultaneousHandlers:{defaultValue:null,description:"",name:"simultaneousHandlers",required:!1,type:{name:"GestureType | RefObject<GestureType> | RefObject<ComponentType<{}>> | undefined"}},waitFor:{defaultValue:null,description:"",name:"waitFor",required:!1,type:{name:"GestureType | RefObject<GestureType> | RefObject<ComponentType<{}>> | undefined"}},flex:{defaultValue:null,description:"",name:"flex",required:!1,type:{name:"number"}},scroll:{defaultValue:null,description:"",name:"scroll",required:!1,type:{name:"boolean"}},snapPoints:{defaultValue:null,description:"",name:"snapPoints",required:!1,type:{name:"(string | number)[]"}},testID:{defaultValue:null,description:"",name:"testID",required:!0,type:{name:"string"}}}}}catch{}const Up=()=>{const{close:n}=Zl(),{handleSubmit:t,reset:e}=eh(),{addLicensePlate:i}=u.useContext(rh),{currentPermit:s}=el(),{secureParkingAccount:r}=sh(),[a]=ih(),o=t(l=>{const{vehicle_id:c,visitor_name:h}=l;!s||!r||(h?a({accessToken:r.accessToken,report_code:s.report_code.toString(),vehicle_id:c,visitor_name:h}).unwrap().then(d=>{i({vehicle_id:d.vehicle_id,visitor_name:d.visitor_name}),n()}):(i({vehicle_id:c.toUpperCase()}),n()),e())});return D.jsx(nh,{label:"Gereed",onPress:o,testID:"ParkingSessionAddLicensePlateSubmitButton",variant:"secondary"})},Wp=()=>{const{currentPermit:n,isLoading:t}=el();if(t)return D.jsx(Ju,{testID:"ParkingSessionLicensePlateBottomSheetPleaseWait"});if(!n)return D.jsx($u,{testID:"ParkingSessionLicensePlateBottomSheetSomethingWentWrong"});const{forced_license_plate_list:e}=n;return D.jsx(ju,{grow:!0,children:D.jsx(Zu,{children:D.jsxs(Qu,{grow:1,gutter:"lg",children:[!e&&D.jsx(th,{}),!e&&D.jsx(Up,{}),D.jsx(ah,{})]})})})},zp=()=>D.jsx(Ca,{flex:1,scroll:!0,snapPoints:["100%"],testID:"ParkingSelectPermitBottomSheet",children:D.jsx(Wp,{})}),kE={component:zp},Mn={};var Ho,Fo,Xo;Mn.parameters={...Mn.parameters,docs:{...(Ho=Mn.parameters)==null?void 0:Ho.docs,source:{originalSource:"{}",...(Xo=(Fo=Mn.parameters)==null?void 0:Fo.docs)==null?void 0:Xo.source}}};const xE=["Default"];export{Mn as Default,xE as __namedExportsOrder,kE as default};
