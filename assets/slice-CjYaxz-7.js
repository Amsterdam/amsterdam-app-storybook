import{u as n,c as k,R as t}from"./useThemable-DhqiuDXa.js";import{r as i}from"./index-B-xgG2PE.js";import{u as a}from"./useDispatch-jiStvVFn.js";import"./dayjs-C6sMkNK9.js";const p={accessTokens:{},accounts:{},currentPermitReportCode:void 0,isLoggingOut:!1,isLoginStepsActive:!1,currentAccount:void 0,shouldShowLoginScreen:!1,visitorVehicleId:void 0,walletBalanceIncreaseStartBalance:void 0,walletBalanceIncreaseStartedAt:void 0},r=k({name:t.parking,initialState:p,reducers:{removeParkingAccount:e=>{e.currentAccount&&(delete e.accessTokens[e.currentAccount],delete e.accounts[e.currentAccount],e.currentAccount=Object.keys(e.accounts)[0],e.currentPermitReportCode=void 0,e.visitorVehicleId=void 0)},setAccessToken:(e,{payload:c})=>{e.accessTokens[c.reportCode]={accessToken:c.accessToken,accessTokenExpiration:c.accessTokenExpiration}},setCurrentPermitReportCode:(e,{payload:c})=>{e.currentPermitReportCode=c},setIsLoggingOut:(e,{payload:c})=>{e.isLoggingOut=c},setLoginStepsActive:(e,{payload:c})=>{e.isLoginStepsActive=c},setShouldShowLoginScreen:(e,{payload:c})=>{e.shouldShowLoginScreen=c},setVisitorVehicleId:(e,{payload:c})=>{e.visitorVehicleId=c},setParkingAccount:(e,{payload:c})=>{e.accounts[c.reportCode]=c},setParkingAccountPermits:(e,{payload:c})=>{e.currentAccount&&(e.accounts[e.currentAccount].permits=c)},setCurrentAccount:(e,{payload:c})=>{e.currentAccount=c},setWalletBalanceIncreaseStartedAt:(e,{payload:c})=>{e.walletBalanceIncreaseStartedAt=c},setWalletBalanceIncreaseStartBalance:(e,{payload:c})=>{e.walletBalanceIncreaseStartBalance=c}}}),{setIsLoggingOut:L,setLoginStepsActive:P,setShouldShowLoginScreen:V,setWalletBalanceIncreaseStartBalance:B,setWalletBalanceIncreaseStartedAt:f}=r.actions,d=e=>{var c;return e[t.parking].currentAccount?(c=e[t.parking].accessTokens[e[t.parking].currentAccount])==null?void 0:c.accessToken:void 0},A=e=>{var c;return e[t.parking].currentAccount?(c=e[t.parking].accessTokens[e[t.parking].currentAccount])==null?void 0:c.accessTokenExpiration:void 0},S=e=>e[t.parking].currentPermitReportCode,w=e=>e[t.parking].isLoginStepsActive,h=e=>e[t.parking].visitorVehicleId,v=e=>e[t.parking].currentAccount?e[t.parking].accounts[e[t.parking].currentAccount]:void 0,x=()=>{const e=a(),c=n(d),s=n(A),o=i.useCallback((u,l,g)=>e(r.actions.setAccessToken({reportCode:u,accessToken:l,accessTokenExpiration:g})),[e]);return{accessToken:c,setAccessToken:o,accessTokenExpiration:s}},R=()=>n(v),E=()=>n(S),O=()=>{const e=a(),c=n(h),s=i.useCallback(o=>e(r.actions.setVisitorVehicleId(o)),[e]);return{visitorVehicleId:c,setVisitorVehicleId:s}};export{O as a,w as b,P as c,x as d,V as e,A as f,d as g,E as h,r as p,v as s,R as u};
