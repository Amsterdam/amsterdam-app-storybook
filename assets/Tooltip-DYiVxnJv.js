import{j as s}from"./jsx-runtime-Bxcv0yjW.js";import{r as i}from"./index-mfbfsM12.js";import"./usePiwikTrackCustomEventFromProps-BQaL6XvS.js";import"./index-8JwjhRSi.js";import{u as D}from"./index-C3bJM-gU.js";import{P as L}from"./PressableBase-CPU35BDr.js";import{T as W,P as $}from"./Triangle-Amn4R_mH.js";import{C as k}from"./Center-CqG4tBOn.js";import{P as d,D as m}from"./types-BJ_48vsK.js";import{u as w}from"./useThemable-CjWxbHxI.js";import{V as I}from"./index-BDsvWohO.js";import{s as g}from"./index-CEE--Juu.js";import{S as A}from"./SingleSelectable-Bg8zzmoU.js";import{C as j}from"./Column-DVJ0Grcf.js";import{P as B}from"./Paragraph-CKYtcIcp.js";import{F as H}from"./Fader-BysHR2L8.js";import{R as M}from"./Row-BXpfxHoR.js";import{u as Y}from"./useAccessibilityFocus-Djl26ZxP.js";import{I as z}from"./Animated-C23eizOh.js";const G=i.createContext(void 0),J=i.createContext(void 0);function C(){const e=i.useContext(G),t=i.useContext(J);if(t===void 0&&e===void 0)throw new Error("Couldn't find a navigation object. Is your component inside NavigationContainer?");return t??e}function K(){const e=C(),[t,a]=i.useState(e.isFocused),o=e.isFocused();return t!==o&&a(o),i.useEffect(()=>{const r=e.addListener("focus",()=>a(!0)),n=e.addListener("blur",()=>a(!1));return()=>{r(),n()}},[e]),i.useDebugValue(o),o}const O=e=>new Promise(t=>{e.measureInWindow((a,o,r,n)=>{t({x:a,height:n,width:r,y:o})})}),Ve=(e,t)=>{const{height:a,y:o}=e,{height:r,y:n}=t;return n>o&&n+r<o+a},Q=e=>{const t=K(),a=D(),[o,r]=i.useState(),n=i.useCallback(()=>{t&&O(e.current).then(({x:l,y:p,width:c,height:u})=>{l===0&&p===0&&c===0&&u===0?setTimeout(n,500):r({x:l,y:p,width:c,height:u})})},[t,e]);return i.useEffect(n,[t,n,a]),{layout:o,measureTarget:n}},U=e=>({[d.above]:m.down,[d.below]:m.up,[d.before]:m.right,[d.after]:m.left})[e],X=e=>e?e.x+e.width/2:0,Z=({children:e,direction:t,productTourTipTargetLayout:a})=>t===m.left||t===m.right||!a?s.jsx(k,{children:e}):s.jsx(s.Fragment,{children:e}),x=({placement:e,productTourTipTargetLayout:t})=>{const a=U(e),o=w(ee(X(t)));return s.jsx(Z,{direction:a,productTourTipTargetLayout:t,children:s.jsx(I,{style:o.pointer,children:s.jsx(W,{direction:a})})})},ee=e=>({size:t})=>g.create({pointer:{marginLeft:e?e-$.width/2-t.spacing.xl:void 0}});try{x.displayName="Pointer",x.__docgenInfo={description:"",displayName:"Pointer",props:{placement:{defaultValue:null,description:"",name:"placement",required:!0,type:{name:"enum",value:[{value:'"above"'},{value:'"after"'},{value:'"before"'},{value:'"below"'}]}},productTourTipTargetLayout:{defaultValue:null,description:"",name:"productTourTipTargetLayout",required:!1,type:{name:"LayoutRectangle"}}}}}catch{}const h=({testID:e,text:t})=>{const a=w(te),o=typeof t=="string"?[t]:t;return s.jsx(A,{accessibilityRole:"text",accessible:!1,style:a.tooltip,testID:`${e}Content`,children:s.jsx(j,{gutter:"sm",children:o.map((r,n)=>s.jsx(B,{color:"inverse",testID:`${e}Paragraph${n}`,variant:"small",children:r},r))})})},te=({color:e,size:t})=>g.create({tooltip:{padding:t.spacing.md,backgroundColor:e.tooltip.background}});try{h.displayName="TooltipContent",h.__docgenInfo={description:"",displayName:"TooltipContent",props:{text:{defaultValue:null,description:"",name:"text",required:!0,type:{name:"string | string[]"}},testID:{defaultValue:null,description:"",name:"testID",required:!0,type:{name:"string"}}}}}catch{}const _=i.forwardRef(({extraSpace:e,isPositioned:t,leftPosition:a,placement:o,productTourTipTargetLayout:r,fadeIn:n,fadeInDuration:l,startFadeIn:p,...c},u)=>{const{width:v}=D(),f=w(ne({extraSpace:e,isPositioned:t,leftPosition:a,placement:o,productTourTipTargetLayout:r,windowWidth:v}));return n?s.jsx(H,{...c,duration:l,ref:u,shouldAnimate:p,style:f.tooltipWrapper}):s.jsx(I,{...c,ref:u,style:f.tooltipWrapper})}),ne=({extraSpace:e,isPositioned:t,leftPosition:a,placement:o,productTourTipTargetLayout:r,windowWidth:n})=>({size:l,z:p})=>{const c=()=>{if(!r)return{position:"relative"};const u=r.height+(e?l.spacing[e]:0);return{left:-a,right:0,position:"absolute",...o===d.above?{bottom:u}:{top:u}}};return g.create({tooltipWrapper:{display:t?"flex":"none",width:r?n:void 0,paddingHorizontal:r?l.spacing.xl:void 0,...c(),zIndex:p.tooltip}})};try{_.displayName="TooltipWrapper",_.__docgenInfo={description:"",displayName:"TooltipWrapper",props:{extraSpace:{defaultValue:null,description:"Extra space to set between target and tooltip",name:"extraSpace",required:!1,type:{name:"enum",value:[{value:'"no"'},{value:'"xs"'},{value:'"sm"'},{value:'"md"'},{value:'"lg"'},{value:'"xl"'},{value:'"xxl"'}]}},fadeIn:{defaultValue:null,description:"Determines whether the tooltip fades in and out. Default is 300 ms.",name:"fadeIn",required:!1,type:{name:"boolean"}},fadeInDuration:{defaultValue:null,description:"Duration of the fade-in animation in milliseconds, only works when fade = true",name:"fadeInDuration",required:!1,type:{name:"number"}},isPositioned:{defaultValue:null,description:"",name:"isPositioned",required:!0,type:{name:"boolean"}},leftPosition:{defaultValue:null,description:"",name:"leftPosition",required:!0,type:{name:"number"}},placement:{defaultValue:null,description:"",name:"placement",required:!0,type:{name:"enum",value:[{value:'"above"'},{value:'"after"'},{value:'"before"'},{value:'"below"'}]}},productTourTipTargetLayout:{defaultValue:null,description:"",name:"productTourTipTargetLayout",required:!1,type:{name:"LayoutRectangle"}},startFadeIn:{defaultValue:null,description:"",name:"startFadeIn",required:!1,type:{name:"boolean"}}}}}catch{}const ae=()=>C(),oe=e=>{const t=ae();i.useEffect(()=>t.addListener("blur",e),[e,t])},q=i.forwardRef(({accessibilityLabel:e,accessibilityLanguage:t="nl-NL",extraSpace:a,fadeIn:o,fadeInDuration:r,placement:n,productTourTipTargetLayout:l,onPress:p,startFadeIn:c,testID:u,text:v},f)=>{const T=Y(),[F,N]=i.useState(0),[S,P]=i.useState(!1),R=re(!!l),V=i.useRef(null),{layout:b,measureTarget:E}=Q(V);i.useEffect(()=>{b&&z.runAfterInteractions(()=>{N(b.x),P(!0)})},[b]),oe(()=>P(!1));const y=s.jsx(x,{placement:n,productTourTipTargetLayout:l});return s.jsx(I,{collapsable:!1,onLayout:E,ref:V,style:R.container,children:s.jsx(_,{extraSpace:a,fadeIn:o,fadeInDuration:r,isPositioned:S,leftPosition:F,placement:n,productTourTipTargetLayout:l,ref:f,startFadeIn:c,children:s.jsx(L,{accessibilityLabel:e,accessibilityLanguage:t,accessibilityRole:"alert",onPress:p,ref:T,testID:u,children:s.jsxs(M,{children:[n===d.after&&y,s.jsxs(j,{grow:1,children:[n===d.below&&y,s.jsx(h,{testID:u,text:v}),n===d.above&&y]}),n===d.before&&y]})})})})}),re=e=>g.create({container:{position:e?"absolute":void 0}});try{q.displayName="Tooltip",q.__docgenInfo={description:"",displayName:"Tooltip",props:{onPress:{defaultValue:null,description:"",name:"onPress",required:!0,type:{name:"() => void"}},text:{defaultValue:null,description:"",name:"text",required:!0,type:{name:"string | string[]"}},extraSpace:{defaultValue:null,description:"Extra space to set between target and tooltip",name:"extraSpace",required:!1,type:{name:"enum",value:[{value:'"no"'},{value:'"xs"'},{value:'"sm"'},{value:'"md"'},{value:'"lg"'},{value:'"xl"'},{value:'"xxl"'}]}},fadeIn:{defaultValue:null,description:"Determines whether the tooltip fades in and out. Default is 300 ms.",name:"fadeIn",required:!1,type:{name:"boolean"}},fadeInDuration:{defaultValue:null,description:"Duration of the fade-in animation in milliseconds, only works when fade = true",name:"fadeInDuration",required:!1,type:{name:"number"}},placement:{defaultValue:null,description:"",name:"placement",required:!0,type:{name:"enum",value:[{value:'"above"'},{value:'"after"'},{value:'"before"'},{value:'"below"'}]}},productTourTipTargetLayout:{defaultValue:null,description:"",name:"productTourTipTargetLayout",required:!1,type:{name:"LayoutRectangle"}},startFadeIn:{defaultValue:null,description:"",name:"startFadeIn",required:!1,type:{name:"boolean"}},testID:{defaultValue:null,description:"",name:"testID",required:!0,type:{name:"string"}}}}}catch{}export{G as N,q as T,J as a,Q as b,Ve as c,oe as d,O as m,C as u};
