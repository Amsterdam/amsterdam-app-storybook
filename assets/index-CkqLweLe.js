import{i as d}from"./index-DSI0shHu.js";import{E as o}from"./NativeEventEmitter-MQ3wzVGe.js";import{c as n}from"./index-kbHxBZ_W.js";var r=n&&!document.hasOwnProperty("hidden")&&document.hasOwnProperty("webkitHidden"),v=["change","memoryWarning"],u=r?"webkitvisibilitychange":"visibilitychange",s=r?"webkitVisibilityState":"visibilityState",a={BACKGROUND:"background",ACTIVE:"active"},e=null;class i{static get currentState(){if(!i.isAvailable)return a.ACTIVE;switch(document[s]){case"hidden":case"prerender":case"unloaded":return a.BACKGROUND;default:return a.ACTIVE}}static addEventListener(t,c){if(i.isAvailable&&(d(v.indexOf(t)!==-1,'Trying to subscribe to unknown event: "%s"',t),t==="change"))return e||(e=new o,document.addEventListener(u,()=>{e&&e.emit("change",i.currentState)},!1)),e.addListener(t,c)}}i.isAvailable=n&&!!document[s];export{i as A};
