import{r as u}from"./index-76fb7be0.js";import{j as x}from"./useThemable-92ccb80b.js";import{N as p}from"./NativeEventEmitter-a1a31b1f.js";import{N as g}from"./index-3b3c9879.js";import{a as _}from"./_commonjsHelpers-de833af9.js";import{P as i}from"./index-102134d3.js";import{u as B}from"./index-87dfdaaa.js";new p(g.RNDeviceInfo);const d=new p(g.RNDeviceInfo);let l=!1,h=-1,c={};const f=e=>{const{level:t,charging:o,chargingtime:n,dischargingtime:r}=e;return{batteryLevel:t,lowPowerMode:!1,batteryState:t===1?"full":o?"charging":"unplugged",chargingtime:n,dischargingtime:r}},w=()=>window.performance&&window.performance.memory?window.performance.memory.jsHeapSizeLimit:-1,S=()=>document.referrer,P=()=>!!navigator.onLine,D=()=>window.navigator.userAgent,I=()=>!!navigator.geolocation,M=()=>navigator.deviceMemory?navigator.deviceMemory*1e9:-1,C=()=>window.performance&&window.performance.memory?window.performance.memory.usedJSHeapSize:-1,R=()=>{typeof navigator>"u"||!navigator.getBattery||navigator.getBattery().then(e=>{l=e.charging,e.addEventListener("chargingchange",()=>{const{charging:t}=e;l=t,c=f(e),d.emit("RNDeviceInfo_powerStateDidChange",c)}),e.addEventListener("levelchange",()=>{const{level:t}=e;h=t,c=f(e),d.emit("RNDeviceInfo_batteryLevelDidChange",t),t<.2&&d.emit("RNDeviceInfo_batteryLevelIsLow",t)})})},T=()=>{const e=window.navigator.userAgent,t=window.navigator.platform,o=["Macintosh","MacIntel","MacPPC","Mac68K"],n=["Win32","Win64","Windows","WinCE"],r=["iPhone","iPad","iPod"];let a=t;return o.indexOf(t)!==-1?a="Mac OS":r.indexOf(t)!==-1?a="iOS":n.indexOf(t)!==-1?a="Windows":/Android/.test(e)?a="Android":!a&&/Linux/.test(t)&&(a="Linux"),a};R();const E=async()=>S(),k=async()=>D(),A=async()=>navigator.getBattery?navigator.getBattery().then(e=>e.charging):!1,U=()=>l,F=async()=>navigator.mediaDevices&&navigator.mediaDevices.enumerateDevices?navigator.mediaDevices.enumerateDevices().then(e=>!!e.find(t=>t.kind==="videoinput")):!1,j=()=>(console.log("[react-native-device-info] isCameraPresentSync not supported - please use isCameraPresent"),!1),q=async()=>navigator.getBattery?navigator.getBattery().then(e=>e.level):-1,W=()=>h,V=async()=>I(),z=async()=>P(),$=async()=>T(),G=async()=>navigator.storage&&navigator.storage.estimate?navigator.storage.estimate().then(({quota:e})=>e):-1,H=()=>(console.log("[react-native-device-info] getTotalDiskCapacitySync not supported - please use getTotalDiskCapacity"),-1),J=async()=>navigator.storage&&navigator.storage.estimate?navigator.storage.estimate().then(({quota:e,usage:t})=>e-t):-1,X=()=>(console.log("[react-native-device-info] getFreeDiskStorageSync not supported - please use getFreeDiskStorage"),-1),Y=async()=>w(),Q=async()=>C(),Z=async()=>M(),K=async()=>navigator.getBattery?navigator.getBattery().then(e=>f(e)):{},ee=()=>c,te=Object.freeze(Object.defineProperty({__proto__:null,getBaseOs:$,getBatteryLevel:q,getBatteryLevelSync:W,getFreeDiskStorage:J,getFreeDiskStorageSync:X,getInstallReferrer:E,getInstallReferrerSync:S,getMaxMemory:Y,getMaxMemorySync:w,getPowerState:K,getPowerStateSync:ee,getTotalDiskCapacity:G,getTotalDiskCapacitySync:H,getTotalMemory:Z,getTotalMemorySync:M,getUsedMemory:Q,getUsedMemorySync:C,getUserAgent:k,getUserAgentSync:D,isAirplaneMode:z,isAirplaneModeSync:P,isBatteryCharging:A,isBatteryChargingSync:U,isCameraPresent:F,isCameraPresentSync:j,isLocationEnabled:V,isLocationEnabledSync:I},Symbol.toStringTag,{value:"Module"})),ne=_(te);let m=g.RNDeviceInfo;(i.OS==="web"||i.OS==="dom")&&(m=ne);if(!m&&(i.OS==="android"||i.OS==="ios"||i.OS==="web"||i.OS==="dom"))throw new Error("react-native-device-info: NativeModule.RNDeviceInfo is null. To fix this issue try these steps:\n  • For react-native <= 0.59: Run `react-native link react-native-device-info` in the project root.\n  • Rebuild and re-run the app.\n  • If you are using CocoaPods on iOS, run `pod install` in the `ios` directory and then rebuild and re-run the app. You may also need to re-open Xcode to get the new pods.\n  If none of these fix the issue, please open an issue on the Github repository: https://github.com/react-native-device-info/react-native-device-info");const v=m;let s={};function N(e,t,o){let n={};return e.filter(r=>i.OS==r).forEach(r=>n[r]=t),i.select({...n,default:o})}function b({getter:e,supportedPlatforms:t,defaultValue:o,memoKey:n}){if(n&&s[n]!=null)return s[n];{const r=N(t,e,()=>o)();return n&&(s[n]=r),r}}async function re({getter:e,supportedPlatforms:t,defaultValue:o,memoKey:n}){if(n&&s[n]!=null)return s[n];{const r=await N(t,e,()=>Promise.resolve(o))();return n&&(s[n]=r),r}}function oe({syncGetter:e,...t}){return[()=>re(t),()=>b({...t,getter:e})]}const[fe,ve]=oe({memoKey:"uniqueId",supportedPlatforms:["android","ios","windows"],getter:()=>v.getUniqueId(),syncGetter:()=>v.getUniqueIdSync(),defaultValue:"unknown"}),ie=()=>b({defaultValue:!1,supportedPlatforms:["android","ios","windows"],memoKey:"tablet",getter:()=>v.isTablet});new p(g.RNDeviceInfo);const L={fontScale:1,height:640,isLandscape:!1,isPortrait:!0,isTablet:!1,isTallPhone:!0,scale:1,width:360},O=u.createContext(L),y=({children:e})=>{const[t,o]=u.useState(L),n=B();return u.useEffect(()=>{o({isLandscape:n.height<n.width,isPortrait:n.height>=n.width,isTablet:ie(),isTallPhone:n.height/n.width>2,...n})},[n]),x(O.Provider,{value:t,children:e})};try{y.displayName="DeviceProvider",y.__docgenInfo={description:"",displayName:"DeviceProvider",props:{}}}catch{}const pe=()=>u.useContext(O);export{y as D,ve as g,pe as u};
