import{a8 as u,a9 as c,r as h,a6 as r,ad as f,ae as x,j as s,S as j,n as p,o,f as k,P as v,R as S,g as D,af as I}from"./iframe-Bfbvpq6X.js";import{P as _}from"./PleaseWait-D8xqQdt8.js";import{u as R,a as W,b as E}from"./useGetParkingSessions-CKs9iUrt.js";const B=()=>{const{navigate:l}=u(),{parkingSessions:e,isLoading:d,isError:m,refetch:a}=R(c.planned);h.useEffect(()=>{e!=null&&e.some(t=>!t.ps_right_id)&&a()},[e,a]),W(a,e!=null&&e.some(t=>"is_paid"in t&&!t.is_paid)?15e3:0);const i=e!=null&&e.length?e.reduce((t,P)=>{const n=r(P.start_date_time);return n.isAfter(t)?t:n},r(e[0].start_date_time)):void 0,g=f();return E(()=>{g(x.util.invalidateTags(["ParkingSessions"]))},e!=null&&e.length?Math.max((i==null?void 0:i.endOf("minute").diff(r(),"milliseconds"))??0,3e4):0),d?s.jsx(_,{testID:"ParkingPermitSessionsPlannedPleaseWait"}):m?s.jsx(j,{testID:"ParkingPlannedSessionsSummarySomethingWentWrong"}):e!=null&&e.length?s.jsx(v,{accessibilityLabel:`${e.length} geplande parkeersessies`,onPress:()=>l(I.parkingPlannedSessions),testID:"ParkingPermitSessionsPlannedBadgeButton",children:s.jsxs(S,{gutter:"sm",children:[s.jsx(o,{color:"link",level:"h5",testID:"ParkingPermitSessionsPlannedTitle",text:"Gepland"}),s.jsx(D,{color:"info",testID:"ParkingPermitSessionsPlannedBadge",value:e.length})]})}):s.jsxs(p,{gutter:"sm",children:[s.jsx(o,{level:"h5",testID:"ParkingPermitSessionsPlannedTitle",text:"Gepland"}),s.jsx(k,{testID:"ParkingPermitSessionsPlannedNoPlannedPhrase",children:"Er zijn geen geplande parkeersessies."})]})};export{B as P};
