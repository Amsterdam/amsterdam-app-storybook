import{j as _,S as W}from"./index-1401012c.js";import{r as m}from"./index-76fb7be0.js";import{B as z}from"./Box-35580222.js";import{b as F,c as j,d as B}from"./development-b3263d0e.js";import{n as w,g as H}from"./getCurrentModuleSlugFromNavigationRootState-db2d92d1.js";import{V as $,a as G,P as Y,b as X,c as J,d as Q}from"./index-3724536f.js";import{u as L}from"./useSentry-0179f7be.js";import{P as Z}from"./invariant-f1a82cf7.js";import{N as O}from"./index-d983c834.js";import{S as y,s as D}from"./logging-456718cc.js";import{a as ee}from"./useThemable-27d8c265.js";import{P as te}from"./index-393588f7.js";var M=(e=>(e[e.searchTerm=3]="searchTerm",e[e.searchResultAmount=4]="searchResultAmount",e[e.searchType=5]="searchType",e[e.searchResultTitle=6]="searchResultTitle",e[e.searchResultUrl=7]="searchResultUrl",e[e.searchResultType=8]="searchResultType",e[e.searchResultSelected=9]="searchResultSelected",e[e.contentTitle=10]="contentTitle",e[e.contentSubject=11]="contentSubject",e[e.contentTeam=12]="contentTeam",e[e.contentPublicationDate=13]="contentPublicationDate",e[e.contentType=14]="contentType",e[e.userIntext=15]="userIntext",e[e.searchMachine=16]="searchMachine",e[e.pageType=17]="pageType",e[e.contentId=20]="contentId",e))(M||{}),R=(e=>(e[e.userType=1]="userType",e[e.userCity=2]="userCity",e[e.appVersion=18]="appVersion",e[e.appVersionWithBuild=19]="appVersionWithBuild",e[e.reduceMotionEnabled=21]="reduceMotionEnabled",e[e.screenReaderEnabled=22]="screenReaderEnabled",e[e.accessibilityServiceEnabled=23]="accessibilityServiceEnabled",e[e.boldTextEnabled=24]="boldTextEnabled",e[e.grayscaleEnabled=25]="grayscaleEnabled",e[e.invertColorsEnabled=26]="invertColorsEnabled",e[e.reduceTransparencyEnabled=27]="reduceTransparencyEnabled",e[e.fontScale=28]="fontScale",e[e.isLandscape=29]="isLandscape",e[e.isPortrait=30]="isPortrait",e[e.isTablet=31]="isTablet",e[e.hasCameraPermission=32]="hasCameraPermission",e[e.hasPhotosPermission=33]="hasPhotosPermission",e[e.hasLocationPermission=34]="hasLocationPermission",e[e.hasNotificationPermission=35]="hasNotificationPermission",e))(R||{}),S=(e=>(e.accessibilityChange="accessibilityChange",e.addressAdd="addressAdd",e.addressChange="addressChange",e.buttonPress="buttonPress",e.deviceInfoChange="deviceInfoChange",e.startUp="startUp",e.toForeground="toForeground",e))(S||{}),E=(e=>(e.alreadyInitialized="Piwik Pro SDK has been already initialized",e.missingEnvVars="PIWIK_PRO_URL or PIWIK_PRO_ID are not defined in env",e))(E||{});const ae=(e,t)=>!(t!=null&&t.id)&&typeof(t==null?void 0:t.id)!="number"?e:{...e,[M.contentId]:t.id.toString()},re=e=>(e==null?void 0:e.screenTitle)??(e==null?void 0:e.screenHeaderTitle),ne=e=>{if(e)return Object.keys(e).filter(t=>e[t]!==void 0).reduce((t,a)=>({...t,[a]:e[a]}),{})},ce={[R.appVersion]:$,[R.appVersionWithBuild]:G},h=e=>ne({...e,...ce});function ue(e){if(!Number.isInteger(e))throw new Error("Parameter must be an integer number")}function b(e){e&&Object.entries(e).forEach(t=>{let[a,u]=t;const l=parseInt(a,10);if(a!==l.toString())throw new Error("ID (key) must be an integer");if(l<1)throw new Error("ID (key) must be an integer greater than 0")})}function v(e){e.forEach(t=>{let a=t.customDimensions;if(a){if(Object.keys(a).length>20)throw new Error("Max 20 product custom dimensions, 20 is max ID.");b(a)}})}function le(e){if(!/^[0-9a-f]{16}$/.test(e))throw new Error(`Visitor ID ${e} has invalid format. The format must match the regular expression: ^[0-9a-f]{16}$`)}const se="1.1.0",oe=`The package 'react-native-piwik-pro-sdk' doesn't seem to be linked. Make sure: 

`+Z.select({ios:`- You have run 'pod install'
`,default:""})+`- You rebuilt the app after installing the package
- You are not using Expo managed workflow
`,r=O.PiwikProSdk?O.PiwikProSdk:new Proxy({},{get(){throw new Error(oe)}});async function ie(e,t){return await r.init(e,t,se)}async function de(e,t){return c(t),await r.trackScreen(e,t)}async function fe(e,t,a){return c(a),await r.trackCustomEvent(e,t,a)}async function me(e,t){return c(t),await r.trackException(e,t)}async function ye(e,t,a){return c(a),await r.trackSocialInteraction(e,t,a)}async function ve(e,t){return c(t),await r.trackDownload(e,t)}async function ge(){return await r.trackApplicationInstall()}async function he(e,t){return c(t),await r.trackOutlink(e,t)}async function pe(e,t){return c(t),await r.trackSearch(e,t)}async function be(e,t){return c(t),await r.trackImpression(e,t)}async function Ie(e,t,a){return c(a),await r.trackInteraction(e,t,a)}async function Ee(e,t){return c(t),await r.trackGoal(e,t)}async function Ce(e,t,a){return await r.trackEcommerce(e,t,a)}async function Te(e,t){return c(t),v(e),await r.trackEcommerceProductDetailView(e,t)}async function xe(e,t,a){return c(a),v(e),await r.trackEcommerceCartUpdate(e,t,a)}async function _e(e,t){return c(t),v(e),await r.trackEcommerceAddToCart(e,t)}async function Re(e,t){return c(t),v(e),await r.trackEcommerceRemoveFromCart(e,t)}async function Ve(e,t,a,u){return c(u),v(a),await r.trackEcommerceOrder(e,t,a,u)}async function ke(e){return await r.trackCampaign(e)}async function we(e){if(Array.isArray(e)){if(!e.length)throw new Error("Profile attributes cannot be an empty array");return await r.trackProfileAttributes(e)}return await r.trackProfileAttributes([e])}async function Oe(){return await r.getProfileAttributes()}async function Ne(e){return await r.checkAudienceMembership(e)}async function Ue(e){return await r.setUserId(e)}async function Ae(){return await r.getUserId()}async function Pe(e){return await r.setUserEmail(e)}async function Le(){return await r.getUserEmail()}async function Me(e){return le(e),await r.setVisitorId(e)}async function Se(){return await r.getVisitorId()}async function qe(e){return await r.setSessionTimeout(e)}async function Ke(){return await r.getSessionTimeout()}async function We(){return await r.startNewSession()}async function ze(){return await r.dispatch()}async function Fe(e){return ue(e),await r.setDispatchInterval(e)}async function je(){return await r.getDispatchInterval()}async function Be(e){return await r.setIncludeDefaultCustomVariables(e)}async function He(){return await r.getIncludeDefaultCustomVariables()}async function $e(e){return await r.setAnonymizationState(e)}async function Ge(){return await r.isAnonymizationOn()}async function Ye(e){return await r.setOptOut(e)}async function Xe(e){return await r.setDryRun(e)}async function Je(){return await r.getDryRun()}async function Qe(){return await r.getOptOut()}async function Ze(e){return await r.setPrefixing(e)}async function De(){return await r.isPrefixingOn()}function c(e){b(e==null?void 0:e.customDimensions),b(e==null?void 0:e.visitCustomVariables),b(e==null?void 0:e.screenCustomVariables)}const I={init:ie,trackScreen:de,trackCustomEvent:fe,trackException:me,trackSocialInteraction:ye,trackDownload:ve,trackApplicationInstall:ge,trackOutlink:he,trackSearch:pe,trackImpression:be,trackInteraction:Ie,trackGoal:Ee,trackEcommerce:Ce,trackEcommerceProductDetailView:Te,trackEcommerceCartUpdate:xe,trackEcommerceAddToCart:_e,trackEcommerceRemoveFromCart:Re,trackEcommerceOrder:Ve,trackCampaign:ke,trackProfileAttributes:we,getProfileAttributes:Oe,checkAudienceMembership:Ne,setUserId:Ue,getUserId:Ae,setUserEmail:Pe,getUserEmail:Le,setVisitorId:Me,getVisitorId:Se,setSessionTimeout:qe,getSessionTimeout:Ke,startNewSession:We,dispatch:ze,setDispatchInterval:Fe,getDispatchInterval:je,setIncludeDefaultCustomVariables:Be,getIncludeDefaultCustomVariables:He,setAnonymizationState:$e,isAnonymizationOn:Ge,setOptOut:Ye,getOptOut:Qe,setDryRun:Xe,getDryRun:Je,setPrefixing:Ze,isPrefixingOn:De},[N,U]=F?[Y,X]:[J,Q],et=async()=>!N||!U?Promise.reject(E.missingEnvVars):(await I.init(N,U),await I.trackApplicationInstall(),await I.setIncludeDefaultCustomVariables(!0),Promise.resolve()),C=m.createContext(void 0),A=({children:e})=>{const{sendSentryErrorLog:t}=L(),[a,u]=m.useState();return m.useEffect(()=>{a===void 0&&et().then(()=>{u(I)}).catch(l=>{l.message!==E.alreadyInitialized&&(u(null),l.message!==E.missingEnvVars&&t(y.piwikInitialization,"piwik.provider.tsx",{error:l}))})},[a,t]),_(C.Provider,{value:a,children:e})};try{C.displayName="PiwikContext",C.__docgenInfo={description:"The PiwikContext contains the object with all methods, to be used via the usePiwik hook only.",displayName:"PiwikContext",props:{}}}catch{}try{A.displayName="PiwikProvider",A.__docgenInfo={description:"",displayName:"PiwikProvider",props:{}}}catch{}const tt={ready:!1,trackCustomEvent:()=>{},trackOutlink:()=>{},trackScreen:()=>{},trackSearch:()=>{}},p="usePiwik.ts",at=({trackCustomEvent:e,trackOutlink:t,trackScreen:a,trackSearch:u},l,T,i,g)=>({ready:!0,trackCustomEvent:(s,n,o,d=T,f=void 0)=>{j("trackCustomEvent",{name:s,action:n,dimensions:o,category:d,value:f}),e(d,n,{path:i,customDimensions:h(o),value:f}).catch(()=>{l(y.piwikTrackCustomEvent,p,{category:d,action:n,name:s,path:i,value:f})})},trackOutlink:(s,n)=>{const o=D(s);t(o,{...n,customDimensions:h(n==null?void 0:n.customDimensions)}).catch(()=>{l(y.piwikTrackOutlink,p,{url:o})})},trackScreen:(s,n)=>{const o=s??i;if(!o)return;const d=ae(n==null?void 0:n.customDimensions,g);a(o,{...n,title:re(g),customDimensions:h(d)}).catch(()=>{l(y.piwikTrackScreen,p,{path:s})})},trackSearch:(s,n)=>{u(s,{...n,customDimensions:h(n==null?void 0:n.customDimensions)}).catch(()=>{l(y.piwikTrackSearch,p)})}}),rt=()=>{const e=m.useContext(C),{sendSentryErrorLog:t}=L(),a=w.isReady()?w.getCurrentRoute():void 0,u=H()??"general";return m.useMemo(()=>e?at(e,t,u,a==null?void 0:a.name,a==null?void 0:a.params):tt,[e,t,u,a==null?void 0:a.name,a==null?void 0:a.params])},P=m.forwardRef(({children:e,grow:t,inset:a="no",insetHorizontal:u,insetVertical:l,variant:T="tertiary",onPress:i=()=>null,logAction:g=S.buttonPress,logCategory:s,logName:n,logDimensions:o,logValue:d,...f},q)=>{const V=ee(nt(t,T)),{trackCustomEvent:K}=rt();return _(te,{accessibilityLanguage:"nl-NL",accessibilityRole:"button",onPress:x=>{i==null||i(x);const k=n??f["sentry-label"]??f.testID;k?K(k,g,o,s,d):B("No name found for component")},ref:q,style:({pressed:x})=>[V.button,x&&V.pressed],...f,children:_(z,{grow:!0,inset:a,insetHorizontal:u,insetVertical:l,children:e})})}),nt=(e,t)=>({color:a})=>W.create({button:{backgroundColor:t!=="transparent"?a.pressable[t].default:void 0,flex:e?1:void 0,flexShrink:e?0:1},pressed:{backgroundColor:t!=="transparent"?a.pressable[t].highlight:void 0}});try{P.displayName="Pressable",P.__docgenInfo={description:"Used to build other interactive components, do not use on its own.",displayName:"Pressable",props:{children:{defaultValue:null,description:`Either children or a render prop that receives a boolean reflecting whether
the component is currently pressed.`,name:"children",required:!1,type:{name:"((string | number | boolean | ReactElement<any, string | JSXElementConstructor<any>> | Iterable<ReactNode> | ReactPortal) & (string | ... 5 more ... | ((state: PressableStateCallbackType) => ReactNode))) | null"}},grow:{defaultValue:null,description:"Whether the button grows to fill its parent container.",name:"grow",required:!1,type:{name:"boolean"}},"sentry-label":{defaultValue:null,description:"",name:"sentry-label",required:!1,type:{name:"string"}},variant:{defaultValue:{value:"tertiary"},description:"",name:"variant",required:!1,type:{name:"enum",value:[{value:'"primary"'},{value:'"tertiary"'},{value:'"negative"'},{value:'"transparent"'}]}},inset:{defaultValue:{value:"no"},description:"The amount of inner spacing.",name:"inset",required:!1,type:{name:"enum",value:[{value:'"no"'},{value:'"xs"'},{value:'"sm"'},{value:'"md"'},{value:'"lg"'},{value:'"xl"'},{value:'"xxl"'},{value:'"xxxl"'}]}},insetHorizontal:{defaultValue:null,description:"The amount of inner spacing at the left and right.",name:"insetHorizontal",required:!1,type:{name:"enum",value:[{value:'"no"'},{value:'"xs"'},{value:'"sm"'},{value:'"md"'},{value:'"lg"'},{value:'"xl"'},{value:'"xxl"'},{value:'"xxxl"'}]}},insetVertical:{defaultValue:null,description:"The amount of inner spacing at the top and bottom.",name:"insetVertical",required:!1,type:{name:"enum",value:[{value:'"no"'},{value:'"xs"'},{value:'"sm"'},{value:'"md"'},{value:'"lg"'},{value:'"xl"'},{value:'"xxl"'},{value:'"xxxl"'}]}},logAction:{defaultValue:{value:"PiwikAction.buttonPress"},description:"",name:"logAction",required:!1,type:{name:"enum",value:[{value:'"accessibilityChange"'},{value:'"addressAdd"'},{value:'"addressChange"'},{value:'"buttonPress"'},{value:'"deviceInfoChange"'},{value:'"startUp"'},{value:'"toForeground"'}]}},logCategory:{defaultValue:null,description:"",name:"logCategory",required:!1,type:{name:"enum",value:[{value:'"about"'},{value:'"address"'},{value:'"construction-work"'},{value:'"construction-work-editor"'},{value:'"contact"'},{value:'"home"'},{value:'"onboarding"'},{value:'"open-waste-container"'},{value:'"redirects"'},{value:'"report-problem"'},{value:'"user"'},{value:'"waste-guide"'},{value:'"general"'}]}},logDimensions:{defaultValue:null,description:"",name:"logDimensions",required:!1,type:{name:"Partial<Record<PiwikDimension | PiwikSessionDimension, string>>"}},logName:{defaultValue:null,description:"",name:"logName",required:!1,type:{name:"string"}},logValue:{defaultValue:null,description:"",name:"logValue",required:!1,type:{name:"number"}}}}}catch{}export{P};
