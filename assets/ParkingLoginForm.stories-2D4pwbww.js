import{j as o}from"./jsx-runtime-DNHyKP0h.js";import{r as s}from"./index-B-xgG2PE.js";import{b as y,u as j,F as _}from"./index.esm-DMWELHmA.js";import{B as v}from"./Button-DC1149Ed.js";import{S as C}from"./SomethingWentWrong-7yWSjrnY.js";import{T as d}from"./TextInputField-CCZgAFL5.js";import{C as L}from"./Column-tHwxdv49.js";import{G as E}from"./Gutter-vaEqeYly.js";import{u as T,a as D,S as g}from"./api-Bf_Ccuic.js";import{b as w}from"./types-D1Nyax9S.js";import{b as A}from"./service-Br9tBbMm.js";import{u as B}from"./slice-DcLNra3O.js";import{P as R}from"./index-Ri0BYtkV.js";import"./_commonjsHelpers-D6-XlEtG.js";import"./PressableBase-CEdq_Zhb.js";import"./usePiwikTrackCustomEventFromProps-CIBytwG1.js";import"./index-CnyDuYXe.js";import"./useTrackException-TkLtIDfC.js";import"./index-CjMpzYvL.js";import"./NativeEventEmitter-BGtqh25e.js";import"./development-DJtR3hZp.js";import"./index-JSuUQSjJ.js";import"./extends-CF3RwP-h.js";import"./index-Cm4QxXoK.js";import"./TextAncestorContext-Z5dgoe9Q.js";import"./index-DoMT7H_C.js";import"./config-BZnShabN.js";import"./Row-sHZxu1Xw.js";import"./mapCrossAxisAlignment-DpnuLLqj.js";import"./mapMainAxisAlignment-BOa0GzUh.js";import"./useThemable-CWZ1MMHl.js";import"./index-DICU_UuR.js";import"./index-CGHx0_JJ.js";import"./base-color-BCCzFoQm.js";import"./Icon-Dka8oyfK.js";import"./index-s4hYfBOP.js";import"./index-Chjiymov.js";import"./Animated-D7-aZ0i-.js";import"./index-CziGdoF6.js";import"./index-CilX169C.js";import"./index-CXGG-aYW.js";import"./types-CttlCamk.js";import"./useDeviceContext-BspZyhLx.js";import"./index-D23RIuqi.js";import"./useTheme-BeaS_R6l.js";import"./AccessibleText-ySoCsV7u.js";import"./Pressable-CT0cWPu6.js";import"./Box-Diq2WdT5.js";import"./layoutStyles-Beptdp9x.js";import"./AlertBase-DdHSGtpT.js";import"./SingleSelectable-UeAGsyNp.js";import"./Paragraph-BYDEXoUQ.js";import"./Title-gZymvXA5.js";import"./useAccessibilityFocus-B_dAfaUL.js";import"./index-TB2J_fWb.js";import"./index-996-O__M.js";import"./useIsScreenReaderEnabled-BV6dq3E-.js";import"./duration-BV61i-wJ.js";import"./accessibleText-gmNPjmn1.js";import"./useAccessibilityAnnounce-BCyZT1Df.js";import"./CharactersLeftDisplay-DmHIJilB.js";import"./TextInput-C2cGrCLd.js";import"./IconButton-Bhh4BUi0.js";import"./Badge-BPiguZaS.js";import"./formatNumber-BOnMa6yj.js";import"./Label-B_-ZyKPv.js";import"./Phrase-B1xTCeVI.js";import"./index-BTaaEp1W.js";import"./useDispatch-9D7c-BYW.js";import"./index-QFe0le7o.js";import"./client-Ci5f1cWN.js";import"./index-C7DTD8Dp.js";import"./index-JfQoScCk.js";import"./index-sQd6WMHM.js";import"./index-CXjo1qf9.js";import"./index-Cy9gAJ_F.js";import"./index-B7gZmNDx.js";import"./index-oz3Z5D95.js";import"./iframe-DjfVk6Nf.js";const W=()=>{const{setItem:r}=T();return s.useCallback((t,m)=>D(t,m).then(()=>{r(t)}),[r])},H=()=>{const r=W();return s.useCallback(t=>{r(t.scope===w.permitHolder?g.parkingPermitHolder:g.parkingVisitor,JSON.stringify(t))},[r])},K=()=>{const r=s.useRef(null),{setCurrentAccountType:t}=B(),{handleSubmit:m}=y(),[S,{error:n,isError:b,isLoading:k}]=A(),x=n&&"status"in n&&n.status===403,F=H(),I=x?"Controleer uw meldcode en pincode en probeer het opnieuw.":"Er is iets misgegaan. Probeer het opnieuw.",a=m(({pin:e,reportCode:u})=>{S({pin:e,report_code:u}).unwrap().then(({access_token:h,scope:c})=>{t(c),F({accessToken:h,pin:e,reportCode:u,scope:c})})});return o.jsxs(L,{gutter:"md",children:[o.jsx(d,{autoFocus:!0,keyboardType:"number-pad",label:"Meldcode",name:"reportCode",onSubmitEditing:()=>{var e;(e=r.current)==null||e.focus()},returnKeyType:R.OS!=="ios"?"done":void 0,rules:{required:"Vul een meldcode in"},submitBehavior:"submit",testID:"ParkingLoginFormReportCodeInputField"}),o.jsx(d,{enterKeyHint:"send",keyboardType:"number-pad",label:"Pincode",name:"pin",onSubmitEditing:a,ref:r,rules:{required:"Vul een pincode in"},testID:"ParkingLoginFormPinCodeInputField"}),!!b&&!k&&o.jsxs(o.Fragment,{children:[o.jsx(C,{testID:"ParkingLoginFormSomethingWentWrong",text:I,title:"Inloggen mislukt"}),o.jsx(E,{height:"lg"})]}),o.jsx(v,{label:"Inloggen",onPress:a,testID:"ParkingLoginFormSubmitButton"})]})},p=({children:r})=>{const t=j();return o.jsx(_,{...t,children:r})};try{p.displayName="ParkingLoginFormProvider",p.__docgenInfo={description:"",displayName:"ParkingLoginFormProvider",props:{}}}catch{}const N=r=>o.jsx(p,{children:o.jsx(r,{})}),go={component:K,decorators:[N]},i={};var l,P,f;i.parameters={...i.parameters,docs:{...(l=i.parameters)==null?void 0:l.docs,source:{originalSource:"{}",...(f=(P=i.parameters)==null?void 0:P.docs)==null?void 0:f.source}}};const lo=["Default"];export{i as Default,lo as __namedExportsOrder,go as default};
