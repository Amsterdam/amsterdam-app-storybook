import{u as L,b3 as k,by as F,bz as A,r as I,bA as j,b0 as D,j as t,b6 as S,C as v,bd as C,g as h,bB as B}from"./iframe-HLxzUbhb.js";import{P as N}from"./ParkingVehicleIdTextInput-yc-KD7g8.js";import{u as T}from"./useCurrentParkingPermit.web-DldG0qRC.js";import{u as E}from"./useGetLicensePlates.web-PGzFvrCr.js";import"./preload-helper-Dp1pzeXC.js";import"./permit.mock-Cp9goJn4.js";const O=()=>{const n=L(),o=k(),{handleSubmit:g,formState:P}=o,i=T(),{licensePlates:s}=E(),{setAlert:u}=F(),[l,{isLoading:b}]=A(),m=I.useCallback((e,a)=>{if(s!=null&&s.some(f=>f.vehicle_id===e)){u(j.saveLicensePlateDuplicateWarning);return}l({report_code:i.report_code.toString(),vehicle_id:e,visitor_name:a}).unwrap().then(()=>{n.popTo(D.myLicensePlates)})},[l,i.report_code,s,n,u]),x=({vehicle_id:e,visitor_name:a=""})=>{if(!/\d/.test(e))B.alert("Weet u zeker dat dit een geldig kenteken is?",`Kenteken: ${e}`,[{text:"Terug"},{isPreferred:!0,text:"Opslaan",onPress:()=>m(e,a)}]);else return m(e,a)};return t.jsx(S,{...o,children:t.jsxs(v,{gutter:"lg",children:[t.jsx(N,{autoFocus:!0,inputInstructions:"Voer alleen letters en cijfers in.",label:"Kenteken",testID:"ParkingAddLicensePlateFormLicensePlateInputField"}),t.jsx(C,{hasClearButton:!1,label:"Naam",name:"visitor_name",rules:{required:"Vul een naam in",maxLength:{value:50,message:"De ingevoerde naam is te lang"}},testID:"ParkingAddLicensePlateFormNameInputField"}),t.jsx(h,{isLoading:P.isSubmitting||b,label:"Opslaan",onPress:g(x),testID:"ParkingAddLicensePlateFormSubmitButton"})]})})},_={component:O},r={};var c,d,p;r.parameters={...r.parameters,docs:{...(c=r.parameters)==null?void 0:c.docs,source:{originalSource:"{}",...(p=(d=r.parameters)==null?void 0:d.docs)==null?void 0:p.source}}};const q=["Default"];export{r as Default,q as __namedExportsOrder,_ as default};
