import{r as c,a0 as p,aD as E,aE as S,aF as a,a2 as n,aG as h}from"./iframe-CQ8JKoVO.js";import{u as k}from"./useCurrentParkingPermit.web-BGvXSQBs.js";const V=(s,e)=>{c.useEffect(()=>{if(e>0){const r=setInterval(s,e);return()=>clearInterval(r)}},[s,e])},_=(s,e)=>{c.useEffect(()=>{if(e>0){const r=setTimeout(s,e);return()=>clearTimeout(r)}},[s,e])},L=s=>{const e=k(),r=p(),{visitorVehicleId:o}=E(),{data:i,isLoading:u,isError:g,refetch:d}=S(e&&(r==null?void 0:r.scope)===n.permitHolder?{report_code:e.report_code.toString(),status:s,page_size:100}:a),{data:t,isLoading:P,isError:f,refetch:m}=h((r==null?void 0:r.scope)===n.visitor&&o?{vehicle_id:o,report_code:e.report_code.toString(),status:s}:a);return{isLoading:u||P,isError:g||f,parkingSessions:(i==null?void 0:i.result)||(t==null?void 0:t[s]),page:i==null?void 0:i.page,refetch:o?m:d}};export{V as a,_ as b,L as u};
