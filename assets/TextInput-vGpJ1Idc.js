import{r as n,a7 as Yt,P as he,a6 as Bn,a8 as gt,S as ae,j as v,V as Te,a9 as Ln,aa as wn,R as Le,ab as An,F as _n,B as Vn,ac as Fn,y as Mn,ad as Un}from"./iframe-gF7maYEm.js";import{a as Ie,T as Kt}from"./index-D37VQumh.js";import{E as De,w as Gn,a as jn,u as ie,b as Ne,r as Re,c as pt,d as Ee,e as Oe,f as zt,g as et,A as ue,h as Wn,R as At,i as qt,j as Xt,k as Yn,l as Kn}from"./index-BlSQbO3_.js";import{G as tt,a as nt}from"./gestureObjects-OCCJ0RzD.js";import{I as zn}from"./IconButton-Buz2WxvH.js";import{L as _t}from"./Label-DidWOVGl.js";import{C as Vt}from"./Column-C6nlxuYk.js";import{I as qn}from"./Icon-DZJHcp0_.js";import{u as Ft}from"./useThemable-oUBhpgrk.js";const Xn=n.createContext(!1),$n=()=>n.useContext(Xn),{height:$t,width:Jn}=Yt.get("window"),{height:Jt,width:ds}=Yt.get("screen");var se=function(e){return e[e.UNDETERMINED=0]="UNDETERMINED",e[e.SCROLLABLE=1]="SCROLLABLE",e[e.HANDLE=2]="HANDLE",e[e.CONTENT=3]="CONTENT",e}(se||{}),fe=function(e){return e[e.CLOSED=0]="CLOSED",e[e.OPENED=1]="OPENED",e[e.EXTENDED=2]="EXTENDED",e[e.OVER_EXTENDED=3]="OVER_EXTENDED",e[e.FILL_PARENT=4]="FILL_PARENT",e}(fe||{}),ce=function(e){return e[e.LOCKED=0]="LOCKED",e[e.UNLOCKED=1]="UNLOCKED",e[e.UNDETERMINED=2]="UNDETERMINED",e}(ce||{}),Se=function(e){return e[e.UNDETERMINED=0]="UNDETERMINED",e[e.VIEW=1]="VIEW",e[e.FLATLIST=2]="FLATLIST",e[e.SCROLLVIEW=3]="SCROLLVIEW",e[e.SECTIONLIST=4]="SECTIONLIST",e[e.VIRTUALIZEDLIST=5]="VIRTUALIZEDLIST",e}(Se||{}),Q=function(e){return e[e.UNDETERMINED=0]="UNDETERMINED",e[e.RUNNING=1]="RUNNING",e[e.STOPPED=2]="STOPPED",e[e.INTERRUPTED=3]="INTERRUPTED",e}(Q||{}),j=function(e){return e[e.NONE=0]="NONE",e[e.MOUNT=1]="MOUNT",e[e.GESTURE=2]="GESTURE",e[e.USER=3]="USER",e[e.CONTAINER_RESIZE=4]="CONTAINER_RESIZE",e[e.SNAP_POINT_CHANGE=5]="SNAP_POINT_CHANGE",e[e.KEYBOARD=6]="KEYBOARD",e}(j||{}),Qe=function(e){return e[e.TIMING=0]="TIMING",e[e.SPRING=1]="SPRING",e}(Qe||{}),W=function(e){return e[e.UNDETERMINED=0]="UNDETERMINED",e[e.SHOWN=1]="SHOWN",e[e.HIDDEN=2]="HIDDEN",e}(W||{}),Et=function(e){return e[e.PROVIDED=0]="PROVIDED",e[e.DYNAMIC=1]="DYNAMIC",e}(Et||{});const Zn=De.out(De.exp),Qn=250,eo=he.select({android:{duration:Qn,easing:Zn},default:{damping:500,stiffness:1e3,mass:3,overshootClamping:!0,restDisplacementThreshold:10,restSpeedThreshold:10}}),to={[ce.UNDETERMINED]:0,[ce.LOCKED]:0,[ce.UNLOCKED]:he.select({ios:.998,android:.985,default:1})},pe={interactive:"interactive",extend:"extend",fillParent:"fillParent"},bt={none:"none",restore:"restore"},St={adjustPan:"adjustPan",adjustResize:"adjustResize"},X=-999,no={offset:{top:0,bottom:0,right:0,left:0}},Zt=n.createContext(null),oo=Zt.Provider,Qt=n.createContext(null),ao=Qt.Provider,en=n.createContext(null),tn=n.createContext(null),so=n.createContext(null);so.Provider;const nn=n.createContext(null);nn.Provider;const ro=()=>{const e=n.useContext(Zt);if(e===null)throw"'useBottomSheet' cannot be used out of the BottomSheet!";return e};function oe(e){const t=n.useContext(Qt);if(t===null)throw"'useBottomSheetInternal' cannot be used out of the BottomSheet!";return t}function io(e){const t=n.useContext(nn);if(t===null)throw"'BottomSheetModalInternalContext' cannot be null!";return t}const on=(e,t)=>{"worklet";let o=e;return typeof o=="string"&&(o=Number(o.split("%")[0])*t/100),Math.max(0,t-o)},Ct=({point:e,configs:t,velocity:o=0,overrideReduceMotion:s,onComplete:r})=>{"worklet";return t||(t=eo),s&&(t.reduceMotion=s),("duration"in t||"easing"in t?Qe.TIMING:Qe.SPRING)===Qe.TIMING?Gn(e,t,r):jn(e,Object.assign({velocity:o},t),r)},lo=(e,t)=>{"worklet";switch(e){case"easeIn":return{easing:De.in(De.ease),duration:t};case"easeOut":return{easing:De.out(De.ease),duration:t};case"easeInEaseOut":return{easing:De.inOut(De.ease),duration:t};case"linear":return{easing:De.linear,duration:t};case"keyboard":return{damping:500,stiffness:1e3,mass:3,overshootClamping:!0,restDisplacementThreshold:10,restSpeedThreshold:10}}};let an=()=>{};Object.freeze(an);function co(){return(window==null?void 0:window.nativeFabricUIManager)!=null}function we(e){let t;try{if(t=Bn(e),t)return t}catch{}try{if(t=e.getNativeScrollRef(),t)return t}catch{}return t=e._scrollRef,t||(console.warn("could not find scrollable ref!"),e)}const uo=(e,t,o,s)=>{const r=n.useRef(null),a=n.useRef(null),i=ie({type:Se.UNDETERMINED,contentOffsetY:0,refreshable:!1}),u=Ne(()=>!e||t.value===fe.FILL_PARENT||t.value===fe.EXTENDED||o.get().status===W.SHOWN&&s.get().status===Q.RUNNING?ce.UNLOCKED:ce.LOCKED,[e,t,o,s,i]),l=n.useCallback(f=>{var h;(((h=r.current)==null?void 0:h.id)??null)!==f.id&&(r.current&&(a.current=r.current),r.current=f)},[]),d=n.useCallback(f=>{var E;let c;try{c=we(f.current)}catch{return}const h=((E=r.current)==null?void 0:E.id)??null;c===h&&(r.current=a.current)},[]);return{state:i,status:u,setScrollableRef:l,removeScrollableRef:d}},fo=(e,t,o,s,r=n.useEffect)=>{const{animatedScrollableState:a,setScrollableRef:i,removeScrollableRef:u}=oe(),l=n.useCallback(()=>{a.set(f=>({...f,contentOffsetY:o.value,type:t,refreshable:s}));const d=we(e.current);return d?i({id:d,node:e}):console.warn("Couldn't find the scrollable node handle id!"),()=>{u(e)}},[e,t,s,o,a,i,u]);r(l)},ho=(e,t)=>{const o=n.useRef(null),s=ie(0),{animatedScrollableState:r,animatedScrollableStatus:a,animatedAnimationState:i}=oe();return n.useEffect(()=>{const u=we(o.current);let l=0,d=!1,f=!1,c=0;function h(I){I.touches.length===1&&(u.scrollTop,c=I.touches[0].clientY,f=l<=0)}function E(I){return a.value===ce.LOCKED&&I.cancelable||f&&(f=!1,I.touches[0].clientY-c>0&&I.cancelable)?I.preventDefault():!0}function D(){if(a.value===ce.LOCKED){u.scroll({top:0,left:0,behavior:"instant"}),s.value=0;return}}function m(I){if(l=u.scrollTop,i.get().status!==Q.RUNNING){const T=Math.max(0,l);s.value=T,r.set(k=>({...k,contentOffsetY:T}))}return l<=0&&I.cancelable?(I.preventDefault(),I.stopPropagation(),!1):!0}try{window.addEventListener("test",null,{get passive(){d=!0}})}catch{}return u.addEventListener("touchstart",h,d?{passive:!0}:!1),u.addEventListener("touchmove",E,d?{passive:!1}:!1),u.addEventListener("touchend",D,d?{passive:!1}:!1),u.addEventListener("scroll",m,d?{passive:!1}:!1),()=>{window.removeEventListener("test",null),u.removeEventListener("touchstart",h),u.removeEventListener("touchmove",E),u.removeEventListener("touchend",D),u.removeEventListener("scroll",m)}},[i,r,a,s]),{scrollHandler:t,scrollableRef:o,scrollableContentOffsetY:s}},Mt=(e,t,o,s,r,a,i)=>{const u=n.useCallback(c=>{"worklet";t.value=Ie.BEGAN,o.value=e,s(e,c)},[t,o,e,s]),l=n.useCallback(c=>{"worklet";o.value===e&&(t.value=c.state,r(e,c))},[t,o,e,r]),d=n.useCallback(c=>{"worklet";o.value===e&&(t.value=c.state,o.value=se.UNDETERMINED,a(e,c))},[t,o,e,a]),f=n.useCallback(c=>{"worklet";o.value===e&&(t.value=c.state,o.value=se.UNDETERMINED,i(e,c))},[t,o,e,i]);return{handleOnStart:u,handleOnChange:l,handleOnEnd:d,handleOnFinalize:f}},mo=(e,t,o)=>{"worklet";return Math.min(Math.max(t,e),o)},go=(e,t,o)=>{"worklet";const s=e+.2*t,r=o.map(i=>Math.abs(s-i)),a=Math.min.apply(null,r);return o.filter(i=>Math.abs(s-i)===a)[0]},po={initialPosition:0,initialTranslationY:0,initialKeyboardStatus:W.UNDETERMINED,isScrollablePositionLocked:!1},Eo=Re(gt.dismiss),bo=e=>{"worklet";Object.keys(e).map(t=>{e[t]=void 0})},So=()=>{const{animatedPosition:e,animatedDetentsState:t,animatedKeyboardState:o,animatedLayoutState:s,animatedScrollableState:r,enableOverDrag:a,enablePanDownToClose:i,overDragResistanceFactor:u,isInTemporaryPosition:l,animateToPosition:d,stopAnimation:f}=oe(),c=ie({...po}),h=n.useCallback(function(T,{translationY:k}){"worklet";f(),c.value={...c.value,initialPosition:e.value,initialKeyboardStatus:o.get().status,initialTranslationY:k},r.get().contentOffsetY>0&&(c.value.isScrollablePositionLocked=!0)},[f,c,e,o,r]),E=n.useCallback(function(T,{translationY:k}){"worklet";const{highestDetentPosition:z,detents:p}=t.get();if(z===void 0||p===void 0)return;let N=z;k=k-c.value.initialTranslationY,l.value&&c.value.initialKeyboardStatus===W.SHOWN&&(N=c.value.initialPosition),l.value&&c.value.initialPosition<N&&(N=c.value.initialPosition);const{containerHeight:F}=s.get(),H=i?F:p[0],{refreshable:R,contentOffsetY:w,type:_}=r.get();if(T===se.CONTENT&&R&&e.value===N)return;const A=c.value.initialPosition===N&&T===se.CONTENT||!c.value.isScrollablePositionLocked?w*-1:0,C=c.value.initialPosition+k,q=C+A,ee=mo(q,N,H);if(c.value.isScrollablePositionLocked&&T===se.CONTENT&&e.value===N&&(c.value.isScrollablePositionLocked=!1),a){if((T===se.HANDLE||_===Se.VIEW)&&C<N){const M=N-Math.sqrt(1+(N-C))*u;e.value=M;return}if(T===se.HANDLE&&C>H){const M=H+Math.sqrt(1+(C-H))*u;e.value=M;return}if(T===se.CONTENT&&C+A>H){const M=H+Math.sqrt(1+(C+A-H))*u;e.value=M;return}}e.value=ee},[c,a,i,u,l,t,s,e,r]),D=n.useCallback(function(T,{translationY:k,absoluteY:z,velocityY:p}){"worklet";const{highestDetentPosition:N,detents:F,closedDetentPosition:H}=t.get();if(N===void 0||F===void 0||H===void 0)return;const R=N,w=e.value===R,{refreshable:_,contentOffsetY:A,type:C}=r.get();if(T===se.CONTENT&&_&&w)return;if(l.value&&c.value.initialPosition>=e.value){c.value.initialPosition>e.value&&d(c.value.initialPosition,j.GESTURE,p/2);return}const q=C!==Se.UNDETERMINED&&C!==Se.VIEW;c.value.initialKeyboardStatus===W.SHOWN&&e.value>c.value.initialPosition&&(he.OS==="ios"&&q&&z>$t-o.get().heightWithinContainer||Eo()),l.value&&(l.value=!1);const ee=F.slice();i&&ee.unshift(H);const M=go(k+c.value.initialPosition,p,ee);M===e.value||T===se.CONTENT&&A>0&&w||d(M,j.GESTURE,p/2)},[i,l,r,t,o,e,d,c]),m=n.useCallback(function(){"worklet";bo(c)},[c]);return{handleOnStart:h,handleOnChange:E,handleOnEnd:D,handleOnFinalize:m}},sn=()=>{const e=n.useContext(en);if(e===null)throw"'useBottomSheetGestureHandlers' cannot be used out of the BottomSheet!";return e},Co={rawContainerHeight:X,containerHeight:X,containerOffset:no.offset,handleHeight:X,footerHeight:X,contentHeight:X};function vo(e,t,o,s,r){const a=n.useMemo(()=>t+o,[t,o]),i=n.useMemo(()=>{const l={...Co};if(e){const d=e.get();l.containerHeight=s?d.height-a:d.height,l.containerOffset=d.offset}return r&&(l.handleHeight=0),l},[e,s,r,a]),[u]=n.useState(()=>pt(i));return Ee(()=>u.value.rawContainerHeight,(l,d)=>{l!==d&&l!==X&&u.modify(f=>{"worklet";return f.containerHeight=s?l-a:l,f})},[u,a,s]),Ee(()=>e==null?void 0:e.get().height,(l,d)=>{!l||l===d||l!==X&&u.modify(f=>{"worklet";return f.containerHeight=s?l-a:l,f})},[u,a,s]),u}const Ut={KEYBOARD_SHOW:he.select({ios:"keyboardWillShow",android:"keyboardDidShow",default:""}),KEYBOARD_HIDE:he.select({ios:"keyboardWillHide",android:"keyboardDidHide",default:""})},Io={status:W.UNDETERMINED,height:0,heightWithinContainer:0,easing:"keyboard",duration:500},Do=()=>{const e=n.useRef(new Set),t=ie(Io),o=ie(null),s=n.useCallback((r,a,i,u,l)=>{"worklet";const d=t.get();if(r===W.SHOWN&&!d.target){o.set({status:r,height:a,duration:i,easing:u});return}o.set(null);let f=r===W.SHOWN?a:d.height;l&&(f=f+l),t.set(c=>({status:r,easing:u,duration:i,height:f,target:c.target,heightWithinContainer:c.heightWithinContainer}))},[t,o]);return n.useEffect(()=>{const r=l=>{Oe(s)(W.SHOWN,l.endCoordinates.height,l.duration,l.easing,Jt-l.endCoordinates.height-l.endCoordinates.screenY)},a=l=>{Oe(s)(W.HIDDEN,l.endCoordinates.height,l.duration,l.easing)},i=gt.addListener(Ut.KEYBOARD_SHOW,r),u=gt.addListener(Ut.KEYBOARD_HIDE,a);return()=>{i.remove(),u.remove()}},[s]),Ee(()=>t.value.target,(r,a)=>{if(!r||r===a)return;const i=o.get();i&&s(i.status,i.height,i.duration,i.easing)},[o,s]),{state:t,textInputNodesRef:e}};function rn(e){const t=n.useRef();return n.useLayoutEffect(()=>{t.current=e}),n.useEffect(()=>()=>{t.current=void 0},[]),n.useCallback((...o)=>{var s;return(s=t.current)==null?void 0:s.call(t,...o)},[])}const No=2.5,yo=!0,Oo=!0,xo=!0,Po=!1,Ro=!0,To=!0,ko=pe.interactive,Ho=bt.none,Bo=St.adjustPan,Lo=!1,wo=-998,Ao=Number.NEGATIVE_INFINITY,_o=Jt,Vo=!0,Fo="Bottom Sheet",Mo="adjustable",Uo=(e,t,o,s,r,a,i=0)=>Ne(()=>{const{containerHeight:l,handleHeight:d,contentHeight:f}=t.get();if(l===X)return{};let h=(e?"value"in e?e.value:e:[]).map(T=>on(T,l)),E=h[h.length-1],D=l;if((a||r)&&(D=l+i),!o)return{detents:h,highestDetentPosition:E,closedDetentPosition:D};if(f===X)return{};if(d===X)return{};const m=l-Math.min(f+d,s!==void 0?s:l);h.includes(m)||h.push(m),h=h.sort((T,k)=>k-T),E=h[h.length-1];const I=h.indexOf(m);return{detents:h,dynamicDetentIndex:I,highestDetentPosition:E,closedDetentPosition:D}},[e,t,o,s,r,a,i]),Go=e=>{const t=n.useRef(null),o=n.useRef(null);return e&&typeof e=="object"&&"value"in e||(o.current===null?(t.current=e,typeof e=="object"?o.current=pt({...e}):o.current=pt(e)):t.current!==e&&(o.current.value=e)),n.useEffect(()=>()=>{o.current&&zt(o.current)},[]),o.current??e};function ln(e,t){co()&&n.useLayoutEffect(()=>{if(!(!e||!e.current)){if(e.current.unstable_getBoundingClientRect!==null&&typeof e.current.unstable_getBoundingClientRect=="function"){const o=e.current.unstable_getBoundingClientRect();t(o);return}if(e.current.getBoundingClientRect!==null){const o=e.current.getBoundingClientRect();t(o)}}})}function cn(e,t){const[o,s]=n.useState(0),{animatedLayoutState:r}=oe(),a=n.useMemo(()=>t?Array.isArray(t)?ae.compose(...t):t:{},[t]),i=n.useMemo(()=>{if(!e)return a;let u=0;if(a&&typeof a=="object"){const{paddingBottom:l,padding:d,paddingVertical:f}=a;l!==void 0&&typeof l=="number"?u=l:f!==void 0&&typeof f=="number"?u=f:d!==void 0&&typeof d=="number"&&(u=d)}return[a,{paddingBottom:u+o,overflow:"visible"}]},[o,e,a]);return Ee(()=>r.get().footerHeight,(u,l)=>{e&&(Re(s)(u),he.OS==="web"&&u&&!l&&r.modify(d=>{"worklet";return d.contentHeight=d.contentHeight+u,d}))},[r,e]),i}const un=ae.create({container:ae.absoluteFillObject,background:{backgroundColor:"white",borderRadius:15}}),jo=({pointerEvents:e,style:t})=>v.jsx(Te,{pointerEvents:e,accessible:!0,accessibilityRole:"adjustable",accessibilityLabel:"Bottom Sheet",style:[un.background,t]}),dn=n.memo(jo);dn.displayName="BottomSheetBackground";const Wo=({animatedIndex:e,animatedPosition:t,backgroundComponent:o,backgroundStyle:s})=>{const r=n.useMemo(()=>ae.flatten([un.container,s]),[s]),a=o??dn;return v.jsx(a,{pointerEvents:"none",animatedIndex:e,animatedPosition:t,style:r})},fn=n.memo(Wo);fn.displayName="BottomSheetBackgroundContainer";const Yo=ae.create({container:{position:"absolute",top:0,left:0,right:0,zIndex:9999,pointerEvents:"box-none"}});function Ko({animatedFooterPosition:e,bottomInset:t=0,style:o,children:s}){const r=n.useRef(null),{animatedLayoutState:a,animatedKeyboardState:i}=oe(),u=et(()=>{let c=e.get();return i.get().status!==W.SHOWN&&(c=c-t),{transform:[{translateY:Math.max(0,c)}]}},[t,i,e]),l=n.useMemo(()=>[Yo.container,o,u],[o,u]),d=n.useCallback(({nativeEvent:{layout:{height:c}}})=>{a.modify(h=>{"worklet";return h.footerHeight=c,h})},[a]),f=n.useCallback(({height:c})=>{a.modify(h=>{"worklet";return h.footerHeight=c,h})},[a]);return ln(r,f),s!==null?v.jsx(ue.View,{ref:r,onLayout:d,style:l,children:s}):null}const zo=n.memo(Ko);zo.displayName="BottomSheetFooter";const qo=({footerComponent:e})=>{const{animatedLayoutState:t,animatedPosition:o,animatedKeyboardState:s}=oe(),r=Ne(()=>{const{handleHeight:a,footerHeight:i,containerHeight:u}=t.get();if(a===X)return 0;const{status:l,heightWithinContainer:d}=s.get(),f=o.get();let c=Math.max(0,u-f);return l===W.SHOWN&&(c=c-d),c=c-i-a,c},[s,o,t]);return v.jsx(e,{animatedFooterPosition:r})},hn=n.memo(qo);hn.displayName="BottomSheetFooterContainer";const Xo=({gestureEventsHandlersHook:e=So,children:t})=>{const o=ie(se.UNDETERMINED),{animatedContentGestureState:s,animatedHandleGestureState:r}=oe(),{handleOnStart:a,handleOnChange:i,handleOnEnd:u,handleOnFinalize:l}=e(),d=Mt(se.CONTENT,s,o,a,i,u,l),f=Mt(se.HANDLE,r,o,a,i,u,l),c=n.useMemo(()=>({contentPanGestureHandler:d,handlePanGestureHandler:f,animatedGestureSource:o}),[d,f,o]);return v.jsx(en.Provider,{value:c,children:t})},$o=!0,Jo="adjustable",Zo="Bottom sheet handle",Qo="Drag up or down to extend or minimize the bottom sheet",Gt=ae.create({container:{padding:10,...he.select({web:{cursor:"pointer"},default:{}})},indicator:{alignSelf:"center",width:7.5*Jn/100,height:4,borderRadius:4,backgroundColor:"rgba(0, 0, 0, 0.75)"}});function ea({style:e,indicatorStyle:t,accessible:o=$o,accessibilityRole:s=Jo,accessibilityLabel:r=Zo,accessibilityHint:a=Qo,children:i}){const u=n.useMemo(()=>[Gt.container,ae.flatten(e)],[e]),l=n.useMemo(()=>[Gt.indicator,ae.flatten(t)],[t]);return v.jsxs(Te,{style:u,accessible:o??void 0,accessibilityRole:s??void 0,accessibilityLabel:r??void 0,accessibilityHint:a??void 0,collapsable:!0,children:[v.jsx(Te,{style:l}),i]})}const mn=n.memo(ea);mn.displayName="BottomSheetHandle";function ta({animatedIndex:e,animatedPosition:t,simultaneousHandlers:o,enableHandlePanningGesture:s=Oo,handleComponent:r,handleStyle:a,handleIndicatorStyle:i}){const u=n.useRef(null),{animatedLayoutState:l,activeOffsetX:d,activeOffsetY:f,failOffsetX:c,failOffsetY:h,waitFor:E,simultaneousHandlers:D}=oe(),{handlePanGestureHandler:m}=sn(),I=n.useMemo(()=>{const p=[];return o&&p.push(o),D&&(Array.isArray(D)?p.push(...D):p.push(D)),p},[D,o]),T=n.useMemo(()=>{let p=tt.Pan().enabled(s).shouldCancelWhenOutside(!1).runOnJS(!1).onStart(m.handleOnStart).onChange(m.handleOnChange).onEnd(m.handleOnEnd).onFinalize(m.handleOnFinalize);return E&&(p=p.requireExternalGestureToFail(E)),I&&(p=p.simultaneousWithExternalGesture(I)),d&&(p=p.activeOffsetX(d)),f&&(p=p.activeOffsetY(f)),c&&(p=p.failOffsetX(c)),h&&(p=p.failOffsetY(h)),p},[d,f,s,c,h,I,E,m.handleOnChange,m.handleOnEnd,m.handleOnFinalize,m.handleOnStart]),k=n.useCallback(function({nativeEvent:{layout:{height:N}}}){l.modify(F=>{"worklet";return F.handleHeight=N,F})},[l]),z=n.useCallback(({height:p})=>{l.modify(N=>{"worklet";return N.handleHeight=p,N})},[l]);return ln(u,z),v.jsx(nt,{gesture:T,children:v.jsx(ue.View,{ref:u,onLayout:k,children:v.jsx(r,{animatedIndex:e,animatedPosition:t,style:a,indicatorStyle:i})},"BottomSheetHandleContainer")})}const gn=n.memo(ta);gn.displayName="BottomSheetHandleContainer";const na=ae.create({container:{position:"absolute",left:0,right:0,bottom:0,top:0}});function oa({containerLayoutState:e,layoutState:t,topInset:o=0,bottomInset:s=0,shouldCalculateHeight:r=!0,detached:a,style:i,children:u}){const l=n.useRef(null),d=n.useMemo(()=>[i,na.container,{top:o,bottom:s,overflow:a?"visible":"hidden"}],[i,a,o,s]),f=n.useCallback(function({nativeEvent:{layout:{height:h}}}){var E;e&&e.modify(D=>{"worklet";return D.height=h,D}),t&&t.modify(D=>{"worklet";return D.rawContainerHeight=h,D}),(E=l.current)==null||E.measure((D,m,I,T,k,z)=>{const p={bottom:Math.max(0,$t-((z??0)+h+(Ln.currentHeight??0))),top:z??0,left:0,right:0};e&&e.modify(N=>{"worklet";return N.offset=p,N}),t&&t.modify(N=>{"worklet";return N.containerOffset=p,N})})},[t,e]);return v.jsx(Te,{ref:l,pointerEvents:"box-none",onLayout:r?f:void 0,style:d,collapsable:!0,children:u})}const pn=n.memo(oa);pn.displayName="BottomSheetHostingContainer";const aa=ae.create({container:{flexDirection:"column-reverse",position:"absolute",top:0,left:0,right:0}});function sa({style:e,children:t}){const{animatedIndex:o,animatedPosition:s}=oe(),r=et(()=>({opacity:he.OS==="android"&&o.get()===-1?0:1,transform:[{translateY:s.get()}]}),[s,o]),a=n.useMemo(()=>[e,aa.container,r],[e,r]);return v.jsx(ue.View,{style:a,collapsable:!0,children:t})}const En=n.memo(sa);En.displayName="BottomSheetBody";const ra=({nativeGestureRef:e,refreshControlGestureRef:t,style:o,children:s,...r})=>{const{enableContentPanningGesture:a,simultaneousHandlers:i,waitFor:u,activeOffsetX:l,activeOffsetY:d,failOffsetX:f,failOffsetY:c}=oe(),{contentPanGestureHandler:h}=sn(),E=n.useMemo(()=>{const m=[];return e&&m.push(e),t&&m.push(t),i&&(Array.isArray(i)?m.push(...i):m.push(i)),m},[i,e,t]),D=n.useMemo(()=>{let m=tt.Pan().enabled(a).shouldCancelWhenOutside(!1).runOnJS(!1).onStart(h.handleOnStart).onChange(h.handleOnChange).onEnd(h.handleOnEnd).onFinalize(h.handleOnFinalize);return u&&(m=m.requireExternalGestureToFail(u)),E&&(m=m.simultaneousWithExternalGesture(E)),l&&(m=m.activeOffsetX(l)),d&&(m=m.activeOffsetY(d)),f&&(m=m.failOffsetX(f)),c&&(m=m.failOffsetY(c)),m},[l,d,a,f,c,E,u,h.handleOnChange,h.handleOnEnd,h.handleOnFinalize,h.handleOnStart]);return v.jsx(nt,{gesture:D,children:v.jsx(tn.Provider,{value:D,children:v.jsx(ue.View,{style:o,...r,children:s})})})},bn=n.memo(ra);bn.displayName="BottomSheetDraggableView";function ia({detached:e,animationConfigs:t,overrideReduceMotion:o,keyboardBehavior:s,accessible:r,accessibilityLabel:a,accessibilityHint:i,accessibilityRole:u,children:l}){const{enableDynamicSizing:d,overDragResistanceFactor:f,enableContentPanningGesture:c,animatedPosition:h,animatedLayoutState:E,animatedDetentsState:D,animatedSheetHeight:m,animatedKeyboardState:I,isInTemporaryPosition:T}=oe(),k=Ne(()=>{const{containerHeight:H,handleHeight:R}=E.get();if(H===X)return 0;const{status:w,heightWithinContainer:_}=I.get();let A=m.get()-Math.max(0,R);switch(s){case pe.extend:w===W.SHOWN&&(A=A-_);break;case pe.fillParent:if(!T.get())break;w===W.SHOWN?A=H-R-_:A=H-R;break;case pe.interactive:{if(!T.get())break;const C=A+_;w===W.SHOWN?_+m.get()>H&&(A=H-_-R):C+R>H?A=H-R:A=C;break}}return Math.max(A,0)},[E,I,m,T,s]),z=Ne(()=>{const H=E.get().containerHeight;if(H===X)return 0;const{highestDetentPosition:R}=D.get(),w=Math.max(R??0,h.get()),_=Math.sqrt(w-H*-1)*f;let A=_;const{status:C,heightWithinContainer:q}=I.get();return C===W.SHOWN&&(A=_+q),A},[f,h,E,D,I]),p=et(()=>{const{containerHeight:H,contentHeight:R}=E.get();if(H===X)return{};if(d&&R===X)return{};const w=e?0:z.get(),_=k.get()+w;return{paddingBottom:Ct({point:w,configs:t,overrideReduceMotion:o}),height:Ct({point:_,configs:t,overrideReduceMotion:o})}},[f,d,e,t,o,E,k,E]),N=n.useMemo(()=>[e?{overflow:"visible"}:{overflow:"hidden"},p],[p,e]),F=c?bn:ue.View;return v.jsx(F,{accessible:r,accessibilityLabel:a,accessibilityHint:i,accessibilityRole:u,style:N,children:l})}const Sn=n.memo(ia);Sn.displayName="BottomSheetContent";ue.addWhitelistedUIProps({decelerationRate:!0});const la=n.forwardRef(function(t,o){const{animationConfigs:s,index:r=0,snapPoints:a,animateOnMount:i=Ro,enableContentPanningGesture:u=yo,enableHandlePanningGesture:l,enableOverDrag:d=xo,enablePanDownToClose:f=Po,enableDynamicSizing:c=To,overDragResistanceFactor:h=No,overrideReduceMotion:E,style:D,containerStyle:m,backgroundStyle:I,handleStyle:T,handleIndicatorStyle:k,gestureEventsHandlersHook:z,keyboardBehavior:p=ko,keyboardBlurBehavior:N=Ho,android_keyboardInputMode:F=Bo,enableBlurKeyboardOnGesture:H=Lo,containerLayoutState:R,topInset:w=0,bottomInset:_=0,maxDynamicContentSize:A,containerHeight:C,containerOffset:q,animatedPosition:ee,animatedIndex:M,simultaneousHandlers:Ce,waitFor:ve,activeOffsetX:Ye,activeOffsetY:Ke,failOffsetX:ze,failOffsetY:qe,onChange:Ae,onClose:_e,onAnimate:Ve,$modal:xe=!1,detached:Fe=!1,handleComponent:Pe=mn,backdropComponent:Xe,backgroundComponent:Me,footerComponent:$e,children:at,accessible:st=Vo,accessibilityLabel:G=Fo,accessibilityRole:y=Mo}=t,Y=vo(R,w,_,xe,Pe===null),O=Uo(a,Y,c,A,Fe,xe,_),Ue=Ne(()=>{const{containerHeight:x}=Y.get(),{highestDetentPosition:g}=O.get();return g===void 0?X:x-g},[Y,O]),re=Go(i?-1:r),V=ie(_o),de=ie(!i||r===-1),te=Ne(()=>{let x=!1;const{containerHeight:g,handleHeight:b}=Y.get();(g!==null||g!==void 0)&&(x=!0),g!==X&&(x=!0);let S=!1;Pe===null&&(S=!0),b!==X&&(S=!0);let P=!1;const{detents:L}=O.get();return L&&(P=!0),x&&S&&P},[Y,O,Pe]),K=ie(!1),ye=ie(!1),ke=ie(Ie.UNDETERMINED),He=ie(Ie.UNDETERMINED),{state:ne,textInputNodesRef:Nt}=Do(),yt=Wn(),Ot=n.useMemo(()=>!E||E===At.System?yt:E===At.Always,[yt,E]),B=ie({status:Q.UNDETERMINED,source:j.MOUNT}),Ge=Ne(()=>{const{detents:x,closedDetentPosition:g}=O.get();if(!x||x.length===0||g===void 0||V.value>=g)return fe.CLOSED;const{containerHeight:b}=Y.get(),S=b-Ue.value;if(V.value===S)return fe.EXTENDED;const P=ne.get().heightWithinContainer,L=Math.max(0,b-(Ue.value+P));return p===pe.interactive&&K.value&&V.value===L?fe.EXTENDED:V.value===0?fe.FILL_PARENT:V.value<S?fe.OVER_EXTENDED:fe.OPENED},[Y,O,ne,V,Ue,K,p]),{state:xt,status:Pt,setScrollableRef:Rt,removeScrollableRef:Tt}=uo(u,Ge,ne,B),me=Ne(()=>{const{detents:x}=O.get();if(!x||x.length===0)return-1;const g=x.slice().reverse(),b=x.slice().map((le,ge)=>ge).reverse(),{containerHeight:S}=Y.get();g.push(S),b.push(-1);const P=te.value?qt(V.value,g,b,Xt.CLAMP):-1,{status:L,source:U,nextIndex:Z,nextPosition:J}=B.get();return F===St.adjustResize&&L===Q.RUNNING&&U===j.KEYBOARD&&K.value?Math.max(re.value,P):L===Q.RUNNING&&U===j.SNAP_POINT_CHANGE&&Z!==void 0&&J!==void 0?Z:P},[F,B,Y,re,V,O,K,te]),kt=n.useCallback(function(g,b){if(!Ae)return;const{dynamicDetentIndex:S}=O.get();Ae(g,b,g===S?Et.DYNAMIC:Et.PROVIDED)},[Ae,O]),Ht=n.useCallback(function(g,b){g!==re.get()&&Ve&&Ve(re.value,g,V.value,b)},[Ve,re,V]),Bt=n.useCallback(function(){_e&&_e()},[_e]),Be=n.useCallback(()=>{"worklet";zt(V),B.set({status:Q.STOPPED,source:j.NONE})},[V,B]),Lt=n.useCallback(function(g){"worklet";if(!g)return;const{nextIndex:b,nextPosition:S}=B.get();b===void 0||S===void 0||(b!==re.get()&&Re(kt)(b,S),b===-1&&Re(Bt)(),re.set(b),ye.set(!1),de.set(!0),B.set({status:Q.STOPPED,source:j.NONE,nextIndex:void 0,nextPosition:void 0,isForcedClosing:void 0}))},[kt,Bt,re,B,ye,de]),$=n.useCallback(function(g,b,S=0,P){"worklet";if(g===void 0||g===V.get())return;const{status:L,nextPosition:U}=B.get();if(L===Q.RUNNING&&g===U)return;L===Q.RUNNING&&Be();let Z=0;const{status:J,heightWithinContainer:le}=ne.get(),ge=Ge.get();J===W.SHOWN&&p!==pe.extend&&([j.KEYBOARD,j.SNAP_POINT_CHANGE].includes(b)||ge===fe.OVER_EXTENDED)&&(Z=le);const{detents:Je,closedDetentPosition:ft,highestDetentPosition:ht}=O.get();let Ze=(Je==null?void 0:Je.indexOf(g+Z))??-1;Ze===-1&&J===W.SHOWN&&g!==ft&&(Ze=ht??wo),B.set(Hn=>{"worklet";return{...Hn,status:Q.RUNNING,source:b,nextIndex:Ze,nextPosition:g}}),Re(Ht)(Ze,g),V.value=Ct({point:g,configs:P||s,velocity:S,overrideReduceMotion:E,onComplete:Lt})},[Ht,Be,Lt,p,s,E,O,B,ne,V,Ge]),je=n.useCallback(function(g){"worklet";if(!g||g===V.get())return;const{status:b,nextPosition:S}=B.get();if(b===Q.RUNNING&&g===S)return;const{detents:P}=O.get(),L=(P==null?void 0:P.indexOf(g))??-1;B.set(U=>{"worklet";return{...U,nextPosition:g,nextIndex:L}}),Be(),V.value=g,ye.value=!1},[Be,V,ye,B,O]),rt=n.useCallback(function(g){"worklet";const b=re.value,{detents:S,highestDetentPosition:P,closedDetentPosition:L}=O.get(),U=ne.get().status;if(S===void 0||P===void 0||L===void 0)return;if(g===j.KEYBOARD&&N===bt.restore&&U===W.HIDDEN&&ke.value!==Ie.ACTIVE&&He.value!==Ie.ACTIVE)return K.value=!1,S[b];if(p===pe.extend&&U===W.SHOWN)return P;if(p===pe.fillParent&&U===W.SHOWN)return K.value=!0,0;if(p===pe.interactive&&U===W.SHOWN&&!(he.OS==="android"&&F==="adjustResize")){K.value=!0;const ge=ne.get().heightWithinContainer;return Math.max(0,P-ge)}if(K.value)return V.value;if(!de.value)return r===-1?L:S[r];const{status:Z,nextIndex:J,nextPosition:le}=B.get();return g===j.SNAP_POINT_CHANGE&&Z===Q.RUNNING&&J!==void 0&&le!==void 0&&S[J]!==le?S[J]:S[b]},[ke,re,He,B,ne,V,O,K,de,p,N,r,F]),wt=n.useCallback(function(g,b){"worklet";const{status:S,nextIndex:P,isForcedClosing:L}=B.get(),{detents:U,closedDetentPosition:Z}=O.get();if(U===void 0||U.length===0||Z===void 0||L&&g!==j.USER||!te.value)return;const J=rt(g);if(J!==void 0){if(!de.value){i?$(J,j.MOUNT,void 0,b):(je(J),de.value=!0);return}if(S===Q.RUNNING){const le=P??Ao;if(le===-1&&!K.value){je(Z);return}if(le!==re.value){$(U[le],g,void 0,b);return}}if(S!==Q.RUNNING&&re.value===-1){if(Ot&&U[me.value]!==V.value)return;je(Z);return}if(ye.value){je(J);return}$(J,g,void 0,b)}},[rt,$,je,Ot,i,B,ye,re,me,V,O,de,K,te]),We=rn(function(g,b){const{detents:S}=O.get(),P=te.get();if(S===void 0||S.length===0||!P)return;Yn(g>=-1&&g<=S.length-1,`'index' was provided but out of the provided snap points range! expected value to be between -1, ${S.length-1}`);const L=S[g],{nextPosition:U,nextIndex:Z,isForcedClosing:J}=B.get();!te.value||g===Z||L===U||J||(K.value=!1,Oe($)(L,j.USER,0,b))}),it=n.useCallback(function(g,b){"worklet";const{containerHeight:S}=Y.get(),P=on(g,S),{nextPosition:L,isForcedClosing:U}=B.get();!te||P===L||U||(K.value=!0,Oe($)(P,j.USER,0,b))},[$,K,te,Y,B]),lt=n.useCallback(function(g){const b=O.get().closedDetentPosition;if(b===void 0)return;const S=b,{nextPosition:P,isForcedClosing:L}=B.get();!te.value||S===P||L||(K.value=!1,Oe($)(S,j.USER,0,g))},[$,te,K,O,B]),ct=n.useCallback(function(g){const b=O.get().closedDetentPosition;if(b===void 0)return;const S=b,{nextPosition:P,isForcedClosing:L}=B.get();S===P||L||(K.value=!1,B.set(U=>{"worklet";return{...U,isForcedClosing:!0}}),Oe($)(S,j.USER,0,g))},[$,K,O,B]),ut=n.useCallback(function(g){const{detents:b}=O.get();if(b===void 0||b.length===0)return;const S=b.length-1,P=b[S],{nextPosition:L,nextIndex:U,isForcedClosing:Z}=B.get();!te.value||S===U||P===L||Z||(K.value=!1,Oe($)(P,j.USER,0,g))},[$,K,te,O,B]),dt=n.useCallback(function(g){const{detents:b}=O.get();if(b===void 0||b.length===0)return;const S=b[0],{nextPosition:P,nextIndex:L,isForcedClosing:U}=B.get();!te||L===0||S===P||U||(K.value=!1,Oe($)(S,j.USER,0,g))},[$,te,K,O,B]);n.useImperativeHandle(o,()=>({snapToIndex:We,snapToPosition:it,expand:ut,collapse:dt,close:lt,forceClose:ct}));const Tn=n.useMemo(()=>({textInputNodesRef:Nt,enableContentPanningGesture:u,enableDynamicSizing:c,overDragResistanceFactor:h,enableOverDrag:d,enablePanDownToClose:f,animatedAnimationState:B,animatedSheetState:Ge,animatedScrollableState:xt,animatedScrollableStatus:Pt,animatedContentGestureState:ke,animatedHandleGestureState:He,animatedKeyboardState:ne,animatedLayoutState:Y,animatedIndex:me,animatedPosition:V,animatedSheetHeight:Ue,animatedDetentsState:O,isInTemporaryPosition:K,simultaneousHandlers:Ce,waitFor:ve,activeOffsetX:Ye,activeOffsetY:Ke,failOffsetX:ze,failOffsetY:qe,enableBlurKeyboardOnGesture:H,animateToPosition:$,stopAnimation:Be,setScrollableRef:Rt,removeScrollableRef:Tt}),[Nt,me,V,Ue,Y,ke,He,B,ne,Ge,xt,Pt,O,K,u,h,d,f,c,H,Ce,ve,Ye,Ke,ze,qe,Rt,Tt,$,Be]),kn=n.useMemo(()=>({animatedIndex:me,animatedPosition:V,snapToIndex:We,snapToPosition:it,expand:ut,collapse:dt,close:lt,forceClose:ct}),[me,V,We,it,ut,dt,lt,ct]);return Ee(()=>Y.get().containerHeight,(x,g)=>{if(x===X)return;ye.value=x!==g;const{closedDetentPosition:b}=O.get();if(b===void 0)return;const{status:S,source:P,nextIndex:L}=B.get();S===Q.RUNNING&&P===j.GESTURE&&L===-1&&$(b,j.GESTURE)},[ye,B,O]),Ee(()=>O.get().detents,(x,g)=>{JSON.stringify(x)===JSON.stringify(g)&&de.value||te.value&&wt(j.SNAP_POINT_CHANGE)},[te,de,O]),Ee(()=>ne.get().status+ne.get().height,(x,g)=>{if(x===g)return;const{status:b,height:S,easing:P,duration:L,target:U}=ne.get();if(b===W.UNDETERMINED)return;const{status:Z,source:J}=B.get();if(b===W.HIDDEN&&Z===Q.RUNNING&&J===j.GESTURE)return;const le=Y.get().containerOffset;let ge=S===0?0:Math.abs(xe?S-Math.abs(_-le.bottom):S-le.bottom);if(he.OS==="android"&&F===St.adjustResize&&(ge=0,p===pe.interactive)){ne.set({target:U,status:b,height:S,easing:P,duration:L,heightWithinContainer:ge});return}if(ne.set(ht=>({...ht,heightWithinContainer:ge})),ke.value===Ie.ACTIVE||ke.value===Ie.BEGAN||He.value===Ie.ACTIVE||He.value===Ie.BEGAN||b===W.HIDDEN&&N===bt.none)return;const ft=lo(P,L);wt(j.KEYBOARD,ft)},[xe,_,p,N,F,ne,Y,rt]),Ee(()=>V.value,x=>{ee&&(ee.value=x+w)},[ee,w]),Ee(()=>me.value,x=>{M&&(M.value=x)},[M]),n.useEffect(()=>{i&&!de.value||We(r)},[i,r,de,We]),v.jsx(oo,{value:kn,children:v.jsx(ao,{value:Tn,children:v.jsxs(Xo,{gestureEventsHandlersHook:z,children:[Xe?v.jsx(Xe,{animatedIndex:me,animatedPosition:V,style:ae.absoluteFillObject}):null,v.jsx(pn,{shouldCalculateHeight:!xe,layoutState:Y,containerLayoutState:R,topInset:w,bottomInset:_,detached:Fe,style:m,children:v.jsxs(En,{style:D,children:[Me===null?null:v.jsx(fn,{animatedIndex:me,animatedPosition:V,backgroundComponent:Me,backgroundStyle:I},"BottomSheetBackgroundContainer"),v.jsxs(Sn,{pointerEvents:"box-none",accessible:st??void 0,accessibilityRole:y??void 0,accessibilityLabel:G??void 0,keyboardBehavior:p,detached:Fe,children:[at,$e?v.jsx(hn,{footerComponent:$e}):null]}),Pe!==null?v.jsx(gn,{animatedIndex:me,animatedPosition:V,enableHandlePanningGesture:l,enableOverDrag:d,enablePanDownToClose:f,overDragResistanceFactor:h,keyboardBehavior:p,handleComponent:Pe,handleStyle:T,handleIndicatorStyle:k},"BottomSheetHandleContainer"):null]})},"BottomSheetContainer")]})})})}),Cn=n.memo(la);Cn.displayName="BottomSheet";var be;(function(e){e[e.REGISTER_HOST=0]="REGISTER_HOST",e[e.DEREGISTER_HOST=1]="DEREGISTER_HOST",e[e.ADD_UPDATE_PORTAL=2]="ADD_UPDATE_PORTAL",e[e.REMOVE_PORTAL=3]="REMOVE_PORTAL"})(be||(be={}));const ca={},vn=n.createContext(null),In=n.createContext(null),It=(e="root")=>{const t=n.useContext(In);if(t===null)throw new Error("'PortalDispatchContext' cannot be null, please add 'PortalProvider' to the root component.");const o=n.useCallback(()=>{t({type:be.REGISTER_HOST,hostName:e})},[]),s=n.useCallback(()=>{t({type:be.DEREGISTER_HOST,hostName:e})},[]),r=n.useCallback((i,u)=>{t({type:be.ADD_UPDATE_PORTAL,hostName:e,portalName:i,node:u})},[]),a=n.useCallback(i=>{t({type:be.REMOVE_PORTAL,hostName:e,portalName:i})},[]);return{registerHost:o,deregisterHost:s,addPortal:r,updatePortal:r,removePortal:a}},ua=({name:e,hostName:t,handleOnMount:o,handleOnUnmount:s,handleOnUpdate:r,children:a})=>{const{addPortal:i,removePortal:u}=It(t),l=n.useMemo(()=>e||wn(),[e]),d=n.useRef(),f=n.useRef(),c=n.useRef(),h=n.useCallback(()=>{o?o(()=>i(l,a)):i(l,a)},[o,i]);d.current=h;const E=n.useCallback(()=>{s?s(()=>u(l)):u(l)},[s,u]);f.current=E;const D=n.useCallback(()=>{r?r(()=>i(l,a)):i(l,a)},[r,i,a]);return c.current=D,n.useEffect(()=>{var m;return(m=d.current)===null||m===void 0||m.call(d),()=>{var I;(I=f.current)===null||I===void 0||I.call(f),d.current=void 0,f.current=void 0,c.current=void 0}},[]),n.useEffect(()=>{var m;(m=c.current)===null||m===void 0||m.call(c)},[a]),null},Dn=n.memo(ua);Dn.displayName="Portal";const da=e=>{const t=n.useContext(vn);if(t===null)throw new Error("'PortalStateContext' cannot be null, please add 'PortalProvider' to the root component.");return t[e]||[]},fa=({name:e})=>{const t=da(e),{registerHost:o,deregisterHost:s}=It(e);return n.useEffect(()=>(o(),()=>{s()}),[]),Le.createElement(Le.Fragment,null,t.map(r=>r.node))},Nn=n.memo(fa);Nn.displayName="PortalHost";const ha=!1;let Dt=()=>{};ha&&(Dt=({component:e,method:t,params:o})=>{});Object.freeze(Dt);const yn=(e,t)=>(t in e||(e[t]=[]),e),ma=(e,t)=>(delete e[t],e),ga=(e,t,o,s)=>{t in e||(e=yn(e,t));const r=e[t].findIndex(a=>a.name===o);return r!==-1?e[t][r].node=s:e[t].push({name:o,node:s}),e},On=(e,t,o)=>{if(!(t in e))return Dt({component:xn.name,method:On.name,params:"Failed to remove portal '".concat(o,"', '").concat(t,"' was not registered!")}),e;const s=e[t].findIndex(r=>r.name===o);return s!==-1&&e[t].splice(s,1),e},xn=(e,t)=>{const{type:o}=t;let s={...e};switch(o){case be.REGISTER_HOST:return yn(s,t.hostName);case be.DEREGISTER_HOST:return ma(s,t.hostName);case be.ADD_UPDATE_PORTAL:return ga(s,t.hostName,t.portalName,t.node);case be.REMOVE_PORTAL:return On(s,t.hostName,t.portalName);default:return e}},pa=({rootHostName:e="root",shouldAddRootHost:t=!0,children:o})=>{const[s,r]=n.useReducer(xn,ca);return Le.createElement(In.Provider,{value:r},Le.createElement(vn.Provider,{value:s},o,t&&Le.createElement(Nn,{name:e})))},Ea=n.memo(pa);Ea.displayName="PortalProvider";let mt=0;const ba=()=>(mt=(mt+1)%Number.MAX_SAFE_INTEGER,mt),Sa="switch",Ca=!0,jt={mount:!1,data:void 0};function va(e,t){const{name:o,stackBehavior:s=Sa,enableDismissOnClose:r=Ca,onDismiss:a,onAnimate:i,index:u=0,snapPoints:l,enablePanDownToClose:d=!0,animateOnMount:f=!0,containerComponent:c=Le.Fragment,onChange:h,children:E,...D}=e,[{mount:m,data:I},T]=n.useState(jt),{hostName:k,containerLayoutState:z,mountSheet:p,unmountSheet:N,willUnmountSheet:F}=io(),{removePortal:H}=It(k),R=n.useRef(null),w=n.useRef(f?-1:u),_=n.useRef(null),A=n.useRef(-1),C=n.useRef(!1),q=n.useRef(!1),ee=n.useRef(!1);ee.current=m;const M=n.useMemo(()=>o||`bottom-sheet-modal-${ba()}`,[o]),Ce=n.useCallback(function G(){an({component:Pn.name,method:G.name}),w.current=-1,A.current=-1,C.current=!1,ee.current=!1,q.current=!1},[]),ve=n.useCallback(function(){const y=ee.current;Ce(),N(M),H(M),y&&T(jt),a&&a()},[M,Ce,N,H,a]),Ye=n.useCallback((...G)=>{var y;C.current||(y=R.current)==null||y.snapToIndex(...G)},[]),Ke=n.useCallback((...G)=>{var y;C.current||(y=R.current)==null||y.snapToPosition(...G)},[]),ze=n.useCallback((...G)=>{var y;C.current||(y=R.current)==null||y.expand(...G)},[]),qe=n.useCallback((...G)=>{var y;C.current||(y=R.current)==null||y.collapse(...G)},[]),Ae=n.useCallback((...G)=>{var y;C.current||(y=R.current)==null||y.close(...G)},[]),_e=n.useCallback((...G)=>{var y;C.current||(y=R.current)==null||y.forceClose(...G)},[]),Ve=n.useCallback(function(y){requestAnimationFrame(()=>{T({mount:!0,data:y}),p(M,t,s)})},[M,s,p]),xe=n.useCallback(function(y){var O;const Y=_.current!=null;if(!(w.current===-1&&C.current===!1&&!Y)){if(!Y&&(C.current||w.current===-1&&d)){ve();return}F(M),q.current=!0,(O=R.current)==null||O.forceClose(y)}},[F,ve,M,d]),Fe=n.useCallback(function(){var y;C.current||(C.current=!0,w.current===-1?A.current=u:A.current=w.current,(y=R.current)==null||y.close())},[u]),Pe=n.useCallback(function(){var y;!C.current||q.current||(C.current=!1,(y=R.current)==null||y.snapToIndex(A.current))},[]),Xe=n.useCallback(function(){var y;if(!(w.current===-1&&C.current===!1)){if(ee.current=!1,q.current=!0,C.current){ve();return}F(M),(y=R.current)==null||y.close()}},[M,ve,F]),Me=n.useCallback(function(y){ee.current&&y()},[]),$e=n.useCallback(function(y,Y,O){w.current=y,_.current=null,h&&h(y,Y,O)},[h]),at=n.useCallback((G,y,Y,O)=>{_.current=y,i&&i(G,y,Y,O)},[i]),st=n.useCallback(function(){C.current||r&&ve()},[r,ve]);return n.useImperativeHandle(t,()=>({snapToIndex:Ye,snapToPosition:Ke,expand:ze,collapse:qe,close:Ae,forceClose:_e,dismiss:xe,present:Ve,minimize:Fe,restore:Pe})),m?v.jsx(Dn,{name:M,hostName:k,handleOnMount:Me,handleOnUpdate:Me,handleOnUnmount:Xe,children:v.jsx(c,{children:n.createElement(Cn,{...D,ref:R,key:M,index:u,snapPoints:l,enablePanDownToClose:d,animateOnMount:f,containerLayoutState:z,onChange:$e,onClose:st,onAnimate:at,$modal:!0},typeof E=="function"?v.jsx(E,{data:I}):E)},M)},M):null}const Pn=n.memo(n.forwardRef(va));Pn.displayName="BottomSheetModal";function Ia({scrollableGesture:e,children:t}){return e?v.jsx(nt,{gesture:e,children:t}):t}const Da=()=>navigator.userAgent.indexOf("Safari")>-1,Na=n.forwardRef(function({nativeGesture:t,ScrollableComponent:o,animatedProps:s,setContentSize:r,onLayout:a,...i},u){const l=n.useRef(!1),{animatedLayoutState:d}=oe(),f=n.useCallback(h=>v.jsx(ue.ScrollView,{...h,animatedProps:s}),[s]),c=n.useCallback(h=>{if(a&&a(h),!l.current){if(l.current=!0,!Da()||d.get().contentHeight!==X)return;window.requestAnimationFrame(()=>{r(h.nativeEvent.target.clientHeight)})}},[a,r,d]);return v.jsx(Ia,{scrollableGesture:t,children:v.jsx(o,{ref:u,...i,onLayout:c,renderScrollComponent:f})})});function ya(){const{enableDynamicSizing:e,animatedLayoutState:t}=oe();return{setContentSize:n.useCallback(s=>{e&&t.modify(r=>{"worklet";return r.contentHeight=s,r})},[e,t])}}function ot(e,t){return n.forwardRef((o,s)=>{const{focusHook:r,scrollEventsHandlersHook:a,enableFooterMarginAdjustment:i=!1,overScrollMode:u="never",keyboardDismissMode:l="interactive",showsVerticalScrollIndicator:d=!0,contentContainerStyle:f,refreshing:c,onRefresh:h,progressViewOffset:E,refreshControl:D,onScroll:m,onScrollBeginDrag:I,onScrollEndDrag:T,onContentSizeChange:k,...z}=o,p=n.useContext(tn),{scrollableRef:N,scrollableContentOffsetY:F,scrollHandler:H}=ho(a,m),{animatedScrollableStatus:R,enableContentPanningGesture:w}=oe(),{setContentSize:_}=ya();if(!p&&w)throw"'Scrollable' cannot be used out of the BottomSheet!";const A=Kn(()=>({decelerationRate:to[R.value],showsVerticalScrollIndicator:d&&R.value===ce.UNLOCKED}),[R,d]),C=n.useMemo(()=>p?tt.Native().simultaneousWithExternalGesture(p).shouldCancelWhenOutside(!1):void 0,[p]),q=rn((M,Ce)=>{_(Ce),k&&k(M,Ce)}),ee=cn(i,f);return n.useImperativeHandle(s,()=>N.current),fo(N,e,F,h!==void 0,r),v.jsx(Na,{ref:N,nativeGesture:C,animatedProps:A,overScrollMode:u,keyboardDismissMode:l,refreshing:c,scrollEventThrottle:16,progressViewOffset:E,contentContainerStyle:ee,onRefresh:h,onScroll:H,onContentSizeChange:q,setContentSize:_,ScrollableComponent:t,refreshControl:D,...z})})}const Oa=ue.createAnimatedComponent(An),xa=ot(Se.SECTIONLIST,Oa),Pa=n.memo(xa);Pa.displayName="BottomSheetSectionList";const Ra=ue.createAnimatedComponent(_n),Ta=ot(Se.FLATLIST,Ra),ka=n.memo(Ta);ka.displayName="BottomSheetFlatList";const Ha=ue.createAnimatedComponent(Vn),Ba=ot(Se.SCROLLVIEW,Ha),La=n.memo(Ba);La.displayName="BottomSheetScrollView";const wa=ue.createAnimatedComponent(Fn),Aa=ot(Se.VIRTUALIZEDLIST,wa),_a=n.memo(Aa);_a.displayName="BottomSheetVirtualizedList";const Va=ae.create({container:{position:"absolute",left:0,top:0,right:0}});function Fa({focusHook:e=n.useEffect,enableFooterMarginAdjustment:t=!1,onLayout:o,style:s,children:r,...a}){const{animatedScrollableState:i,enableDynamicSizing:u,animatedLayoutState:l}=oe(),d=cn(t,s),f=n.useMemo(()=>[d,Va.container],[d]),c=n.useCallback(()=>{i.set(E=>({...E,contentOffsetY:0,type:Se.VIEW}))},[i]),h=n.useCallback(E=>{if(u){const{nativeEvent:{layout:{height:D}}}=E;l.modify(m=>{"worklet";return m.contentHeight=D,m})}o&&o(E)},[o,l,u]);return e(c),v.jsx(Te,{...a,onLayout:h,style:f,children:r})}const Ma=n.memo(Fa);Ma.displayName="BottomSheetView";const Ua=n.forwardRef(({onFocus:e,onBlur:t,...o},s)=>{const r=n.useRef(null),{animatedKeyboardState:a,textInputNodesRef:i}=oe(),u=n.useCallback(d=>{a.set(f=>({...f,target:d.nativeEvent.target})),e&&e(d)},[e,a]),l=n.useCallback(d=>{const f=a.get(),c=we(Mn.State.currentlyFocusedInput()),h=f.target===d.nativeEvent.target,E=c&&i.current.has(c);h&&!E&&a.set(D=>({...D,target:void 0})),t&&t(d)},[t,a,i]);return n.useEffect(()=>{const d=we(r.current);if(d)return i.current.has(d)||i.current.add(d),()=>{const f=we(r.current);if(!f)return;a.get().target===f&&a.set(h=>({...h,target:void 0})),i.current.has(f)&&i.current.delete(f)}},[i,a]),n.useImperativeHandle(s,()=>r.current??void 0,[]),v.jsx(Kt,{ref:r,onFocus:u,onBlur:l,...o})}),Rn=n.memo(Ua);Rn.displayName="BottomSheetTextInput";const Ga=.5,ja=1,Wa=0,Ya=!1,Ka="close",za=!0,qa="button",Xa="Bottom sheet backdrop",$a="Tap to close the bottom sheet",Ja=ae.create({backdrop:{...ae.absoluteFillObject,backgroundColor:"black"}}),Za=({animatedIndex:e,opacity:t,appearsOnIndex:o,disappearsOnIndex:s,enableTouchThrough:r,pressBehavior:a=Ka,onPress:i,style:u,children:l,accessible:d=za,accessibilityRole:f=qa,accessibilityLabel:c=Xa,accessibilityHint:h=$a})=>{const{snapToIndex:E,close:D}=ro(),m=n.useRef(!1),I=t??Ga,T=o??ja,k=s??Wa,z=r??Ya,[p,N]=n.useState(z?"none":"auto"),F=n.useCallback(()=>{i==null||i(),a==="close"?D():a==="collapse"?E(k):typeof a=="number"&&E(a)},[E,D,k,a,i]),H=n.useCallback(C=>{m.current&&N(C?"none":"auto")},[]),R=n.useMemo(()=>tt.Tap().onEnd(()=>{Re(F)()}),[F]),w=et(()=>({opacity:qt(e.value,[-1,k,T],[0,0,I],Xt.CLAMP)}),[e,T,k,I]),_=n.useMemo(()=>[Ja.backdrop,u,w],[u,w]);Ee(()=>e.value<=k,(C,q)=>{C!==q&&Re(H)(C)},[k]),n.useEffect(()=>(m.current=!0,()=>{m.current=!1}),[]);const A=v.jsx(ue.View,{style:_,pointerEvents:p,accessible:d??void 0,accessibilityRole:f??void 0,accessibilityLabel:c??void 0,accessibilityHint:h||`Tap to ${typeof a=="string"?a:"move"} the Bottom Sheet`,children:l});return a!=="none"?v.jsx(nt,{gesture:R,children:A}):A},Qa=n.memo(Za);Qa.displayName="BottomSheetBackdrop";const vt=({autoFocus:e,ref:t,...o})=>{const{isOpen:s}=Un();return n.useEffect(()=>{var r;s?e&&setTimeout(()=>{var a;return(a=t==null?void 0:t.current)==null?void 0:a.focus()},500):(r=t==null?void 0:t.current)==null||r.blur()},[e,s,t]),v.jsx(Rn,{ref:t,...o})};try{vt.displayName="BottomSheetTextInput",vt.__docgenInfo={description:"",displayName:"BottomSheetTextInput",props:{onChangeText:{defaultValue:null,description:`Callback that is called when the text input's text changes.
Changed text is passed as an argument to the callback handler.`,name:"onChangeText",required:!1,type:{name:"(((event: string) => void) & ((text: string) => void))"}},onFocus:{defaultValue:null,description:"Callback that is called when the text input is focused",name:"onFocus",required:!1,type:{name:"((() => void) & ((e: NativeSyntheticEvent<TextInputFocusEventData>) => void))"}},ref:{defaultValue:null,description:"",name:"ref",required:!1,type:{name:"RefObject<TextInput | null>"}},warning:{defaultValue:null,description:"",name:"warning",required:!1,type:{name:"boolean"}},hasClearButton:{defaultValue:null,description:"",name:"hasClearButton",required:!1,type:{name:"boolean"}},inputInstructions:{defaultValue:null,description:"",name:"inputInstructions",required:!1,type:{name:"string"}},label:{defaultValue:null,description:"",name:"label",required:!1,type:{name:"string"}},numberOfLines:{defaultValue:null,description:`Sets the number of lines for a TextInput.
Use it with multiline set to true to be able to fill the lines.`,name:"numberOfLines",required:!1,type:{name:"number"}},placeholder:{defaultValue:null,description:"The string that will be rendered before text input has been entered",name:"placeholder",required:!1,type:{name:"string"}},required:{defaultValue:null,description:"",name:"required",required:!1,type:{name:"boolean"}},textTransform:{defaultValue:null,description:"",name:"textTransform",required:!1,type:{name:"((text: string) => string)"}}}}}catch{}const Wt=({ref:e,hasClearButton:t=!0,inputInstructions:o,label:s,numberOfLines:r,onChangeText:a,onFocus:i,placeholder:u="",required:l,warning:d,value:f="",testID:c="",textTransform:h,accessibilityLanguage:E="nl-NL",...D})=>{const m=$n(),I=n.createRef(),[T,k]=n.useState(!1),[z,p]=n.useState(f),N=Ft(es({hasFocus:T,numberOfLines:r,warning:d})),F=Ft(ts),H=m?vt:Kt;n.useEffect(()=>{p(f)},[f]);const R=()=>k(!1),w=C=>{const q=h?h(C):C;p(q),a==null||a(q)},_=()=>{var C,q;p(""),a==null||a(""),typeof e!="function"&&((q=(C=(e==null?void 0:e.current)??(I==null?void 0:I.current))==null?void 0:C.focus)==null||q.call(C),A())},A=()=>{k(!0),i==null||i()};return v.jsxs(Vt,{gutter:"sm",children:[v.jsxs(Vt,{gutter:"xs",children:[!!s&&v.jsx(_t,{isAccessible:!D.accessibilityLabel,required:l,text:s}),!!o&&v.jsx(_t,{emphasis:"default",isAccessible:!D.accessibilityHint,text:o})]}),v.jsxs(Te,{style:N.frame,children:[v.jsx(H,{...D,...F,accessibilityLanguage:E,numberOfLines:he.OS==="ios"?void 0:r,onBlur:R,onChangeText:w,onFocus:A,placeholder:u,ref:e??I,style:N.textInput,testID:c,textAlignVertical:"top",value:z}),z&&t?v.jsx(Te,{children:v.jsx(zn,{accessibilityHint:"Maak dit tekstveld leeg",accessibilityLanguage:E,icon:v.jsx(qn,{name:"close",size:"lg",testID:`${c}ClearIcon`}),onPress:_,testID:`${c}ClearButton`})}):null]})]})},es=({hasFocus:e,numberOfLines:t,warning:o})=>({color:s,size:r,text:a})=>{const i=e||o?2:1,u=r.spacing.md-(i-1),l=r.spacing.sm-(i-1);return ae.create({frame:{flexDirection:"row",paddingHorizontal:u,paddingVertical:l,backgroundColor:s.textInput.container.background,borderStyle:"solid",borderColor:o?s.control.warning.border:e?s.control.focus.border:s.control.default.border,borderWidth:i},textInput:{minHeight:t?t*a.lineHeight.body+2*l:"auto",flex:1,padding:0,paddingTop:0,color:s.text.default,fontFamily:a.fontFamily.regular,fontSize:a.fontSize.body}})},ts=({color:e})=>({placeholderTextColor:e.text.secondary});try{Wt.displayName="TextInput",Wt.__docgenInfo={description:"",displayName:"TextInput",props:{onChangeText:{defaultValue:null,description:`Callback that is called when the text input's text changes.
Changed text is passed as an argument to the callback handler.`,name:"onChangeText",required:!1,type:{name:"(((event: string) => void) & ((text: string) => void))"}},onFocus:{defaultValue:null,description:"Callback that is called when the text input is focused",name:"onFocus",required:!1,type:{name:"((() => void) & ((e: NativeSyntheticEvent<TextInputFocusEventData>) => void))"}},ref:{defaultValue:null,description:"",name:"ref",required:!1,type:{name:"RefObject<TextInput | null>"}},warning:{defaultValue:null,description:"",name:"warning",required:!1,type:{name:"boolean"}},hasClearButton:{defaultValue:{value:"true"},description:"",name:"hasClearButton",required:!1,type:{name:"boolean"}},inputInstructions:{defaultValue:null,description:"",name:"inputInstructions",required:!1,type:{name:"string"}},label:{defaultValue:null,description:"",name:"label",required:!1,type:{name:"string"}},numberOfLines:{defaultValue:null,description:`Sets the number of lines for a TextInput.
Use it with multiline set to true to be able to fill the lines.`,name:"numberOfLines",required:!1,type:{name:"number"}},placeholder:{defaultValue:{value:""},description:"The string that will be rendered before text input has been entered",name:"placeholder",required:!1,type:{name:"string"}},required:{defaultValue:null,description:"",name:"required",required:!1,type:{name:"boolean"}},textTransform:{defaultValue:null,description:"",name:"textTransform",required:!1,type:{name:"((text: string) => string)"}}}}}catch{}export{Wt as T};
