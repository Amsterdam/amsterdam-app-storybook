import{j as n}from"./jsx-runtime-BlAj40OV.js";import"./usePiwikTrackCustomEventFromProps-DMmypaD7.js";import{L as C,g as $,a as N,c as D}from"./modules-B2unVBqG.js";import"./development-B3zcR1jo.js";import{P as _}from"./PressableBase-4FWLx029.js";import{B as M}from"./Box-CNFur_tt.js";import{B as k}from"./Badge-DJW9oza3.js";import{C as H}from"./Column-Dqdi48_a.js";import{R as p}from"./Row-BP-A625W.js";import{I as S}from"./Icon-BSWr1DWy.js";import{P as T}from"./Paragraph-FZlsc4yA.js";import{P as B}from"./Phrase-ArTYDe4v.js";import{T as W}from"./Title-BNllXX3i.js";import{u as E}from"./useThemable-CDPjGmtb.js";import{a as z}from"./accessibleText-gmNPjmn1.js";import{d as h}from"./ChatSystemEntry-O1tN7XfW.js";import{r as l}from"./index-Cs7sjTYM.js";import{N as F}from"./useNavigation-CE_IrQT_.js";import"./index-8JwjhRSi.js";import{V as L}from"./index-DNzWYFc8.js";import{s as R}from"./index-BRs9ZavV.js";import{M as U}from"./useTrackException-CQBPDIws.js";import"./index-B9HBLp1U.js";import"./NativeEventEmitter-CdIviC7q.js";import"./index-C9LjRz3B.js";import"./TextAncestorContext-CgUd_yOy.js";import"./_commonjsHelpers-BosuxZz1.js";import"./types-XisAbOQ2.js";import"./index-oz3Z5D95.js";import"./index-CglSVHKQ.js";import"./index-adwSuxHZ.js";import"./extends-CF3RwP-h.js";import"./index-BNEt8Bkx.js";import"./Pressable-BxSzTvHH.js";import"./useAccessibilityFocus-C3vJ10Xe.js";import"./index-iLe2KvwB.js";import"./index-D5xlL9g-.js";import"./index-DRXYm6Hg.js";import"./useIsScreenReaderEnabled-DBYm8ajS.js";import"./duration-BeyW1-if.js";import"./useTheme-BPU9jepC.js";import"./useDeviceContext-BXdagwJr.js";import"./index-B5FlGKE6.js";import"./useOpenUrl-DqbWSKdI.js";import"./client-Dn1mZVvV.js";import"./index-8IOPL2sn.js";import"./index-D-XR16fl.js";import"./index-KNTxeJap.js";import"./index-HY1hV1Sb.js";import"./Animated-DEQ-X0nE.js";import"./index-Cw-lY78V.js";import"./index-DS8q97x7.js";import"./index-CU7e8iEw.js";import"./useOpenMailUrl-B_t96wyI.js";import"./useOpenPhoneUrl-DFCzcQ7Y.js";import"./AppLifecycle-yGVIiJTE.js";import"./IconButton-De0se1ql.js";import"./config-BZnShabN.js";import"./types-BJ_48vsK.js";import"./index-CC-zlO6h.js";import"./index-Dk74W0Oi.js";import"./Gutter-99KZb7nD.js";import"./Button-BEJ6KiN-.js";import"./amsterdam-facades-DanNihg3.js";import"./Center-BQAZ-GCZ.js";import"./layoutStyles-nv7cBgSD.js";import"./ErrorFigure-1erYn4oZ.js";import"./ActionButton-BJ8rj4vA.js";import"./_commonjs-dynamic-modules-TDtrdbi3.js";import"./mapCrossAxisAlignment-DpnuLLqj.js";import"./mapMainAxisAlignment-BOa0GzUh.js";import"./base-color-B2rPH-Aj.js";function O(){const t=l.useContext(F),o=l.useContext(C);return l.useCallback(r=>{if(t===void 0)throw new Error("Couldn't find a navigation object. Is your component inside NavigationContainer?");if(typeof r!="string"){t.navigate(r.screen,r.params);return}if(!r.startsWith("/"))throw new Error(`The path must start with '/' (${r}).`);const{options:e}=o,i=e!=null&&e.getStateFromPath?e.getStateFromPath(r,e.config):$(r,e==null?void 0:e.config);if(i){const s=N(i,e==null?void 0:e.config);s!==void 0?t.dispatch(s):t.reset(i)}else throw new Error("Failed to parse the path to a navigation state.")},[o,t])}(()=>{const t={};return D.forEach(({linking:o,slug:a})=>{o&&(t[a]={screens:o})}),t})();const y="amsterdam://",V={NewsUpdatedByProjectManager:{id:"NewsUpdatedByProjectManager",route:"/news",routeWithPrefix:`${y}news`},ProjectWarningCreatedByProjectManager:{id:"ProjectWarningCreatedByProjectManager",route:"/warning",routeWithPrefix:`${y}warning`}},q=({data:t,title:o="",body:a=""},r=!0)=>{const e=(t==null?void 0:t.type)&&V[t.type];if(!(e!=null&&e.routeWithPrefix)||!(t!=null&&t.linkSourceid))return;const i=encodeURIComponent(`${o} - ${a}`),s=`/${t.linkSourceid}/${encodeURIComponent(o)}/${i}/${r}`;return r?`${e.routeWithPrefix}${s}`:`${e.route}${s}`},A=["zondag","maandag","dinsdag","woensdag","donderdag","vrijdag","zaterdag"],Y=t=>{if(t==null||t==="")return"";const o=h(t),a=h(),r=o.startOf("day").diff(a.startOf("day"),"days"),e=r===0,i=r===-1,s=r>-7&&r<-1;return e?o.format("HH:mm"):i?"gisteren":s?A[o.get("day")]:o.format("D MMMM")},d=({item:{title:t,body:o,module_slug:a,created_at:r,is_read:e,id:i,context:s},enabledModules:v=[]})=>{const f=v.find(({slug:m})=>m===a),w=E(G),P=O();if(!f)return null;const{icon:b}=f,g=Y(r);return n.jsx(_,{accessibilityLabel:z(e?void 0:"Ongelezen bericht: ",t,o,`ontvangen: ${g}`),onPress:()=>{const m=q({title:t,body:o,data:s},!1);m&&P(m)},testID:`NotificationHistoryItem${i}Button`,children:n.jsx(M,{insetHorizontal:"md",insetVertical:"smd",children:n.jsxs(p,{gutter:"sm",children:[n.jsx(L,{style:w.iconContainer,children:n.jsx(S,{color:"inverse",name:b,size:"xl",testID:`NotificationHistoryItem${i}Icon`})}),n.jsxs(H,{grow:1,shrink:1,children:[n.jsxs(p,{align:"between",flex:1,gutter:"sm",valign:"start",children:[n.jsx(W,{level:"h5",testID:`NotificationHistoryItem${i}Title`,text:t}),n.jsxs(p,{gutter:"sm",valign:"center",children:[n.jsx(B,{color:"secondary",numberOfLines:1,testID:`NotificationHistoryItem${i}CreationDate`,variant:"body",children:g}),!e&&n.jsx(k,{testID:`NotificationHistoryItem${i}IsUnreadBadge`,variant:"extraSmall"})]})]}),n.jsx(T,{testID:`NotificationHistoryItem${i}Description`,children:o})]})]})})})},G=({color:t,size:o})=>R.create({iconContainer:{backgroundColor:t.notificationHistory.itemIcon.background,justifyContent:"center",alignItems:"center",width:o.iconContainer.xl,height:o.iconContainer.xl}});try{d.displayName="NotificationHistoryItem",d.__docgenInfo={description:"",displayName:"NotificationHistoryItem",props:{enabledModules:{defaultValue:{value:"[]"},description:"",name:"enabledModules",required:!1,type:{name:"Module[]"}},item:{defaultValue:null,description:"",name:"item",required:!0,type:{name:"Notification"}}}}}catch{}const u=U["construction-work"],de={component:d},c={args:{enabledModules:[{moduleSlug:u,title:"Werkzaamheden",icon:"announcement",slug:u,status:1,description:"",version:"1.0.0"}],item:{title:"De nieuwe brug is geplaatst",module_slug:u,created_at:"2022-01-15 10:30:00",pushed_at:"2022-01-15 10:30:00",is_read:!1,id:"1",context:{},body:"De nieuwe brug is geplaatst"}}};var x,I,j;c.parameters={...c.parameters,docs:{...(x=c.parameters)==null?void 0:x.docs,source:{originalSource:`{
  args: {
    enabledModules: [{
      moduleSlug: slug,
      title: 'Werkzaamheden',
      icon: 'announcement',
      slug,
      status: 1,
      description: '',
      version: '1.0.0'
    }],
    item: {
      title: 'De nieuwe brug is geplaatst',
      module_slug: slug,
      created_at: '2022-01-15 10:30:00',
      pushed_at: '2022-01-15 10:30:00',
      is_read: false,
      id: '1',
      context: {},
      body: 'De nieuwe brug is geplaatst'
    }
  }
}`,...(j=(I=c.parameters)==null?void 0:I.docs)==null?void 0:j.source}}};const fe=["Default"];export{c as Default,fe as __namedExportsOrder,de as default};
