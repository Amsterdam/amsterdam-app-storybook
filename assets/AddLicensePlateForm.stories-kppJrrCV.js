import{a8 as k,ah as F,aM as I,aN as b,r as j,af as A,j as t,ai as D,n as S,ag as h,B as v,aO as N}from"./iframe-Y99SeN-h.js";import{a as B}from"./alerts-B42RLBKE.js";import{P as C}from"./ParkingVehicleIdTextInput-5Wbrsf8k.js";import{u as O}from"./useCurrentParkingPermit.web-_tSlU7EX.js";import{u as T}from"./useGetLicensePlates.web-PGzFvrCr.js";import"./preload-helper-Dp1pzeXC.js";import"./permit.mock-RN_L1mzj.js";const E=()=>{const n=k(),o=F(),{handleSubmit:g,formState:P}=o,i=O(),{licensePlates:a}=T(),{setAlert:u}=I(),[l,{isLoading:f}]=b(),m=j.useCallback((e,s)=>{if(a!=null&&a.some(L=>L.vehicle_id===e)){u(B.saveLicensePlateDuplicateWarning);return}l({report_code:i.report_code.toString(),vehicle_id:e,visitor_name:s}).unwrap().then(()=>{n.popTo(A.myLicensePlates)})},[l,i.report_code,a,n,u]),x=({vehicle_id:e,visitor_name:s=""})=>{if(!/\d/.test(e))N.alert("Weet u zeker dat dit een geldig kenteken is?",`Kenteken: ${e}`,[{text:"Terug"},{isPreferred:!0,text:"Opslaan",onPress:()=>m(e,s)}]);else return m(e,s)};return t.jsx(D,{...o,children:t.jsxs(S,{gutter:"lg",children:[t.jsx(C,{autoFocus:!0,inputInstructions:"Voer alleen letters en cijfers in.",label:"Kenteken",testID:"ParkingAddLicensePlateFormLicensePlateInputField"}),t.jsx(h,{hasClearButton:!1,label:"Naam",name:"visitor_name",rules:{required:"Vul een naam in",maxLength:{value:50,message:"De ingevoerde naam is te lang"}},testID:"ParkingAddLicensePlateFormNameInputField"}),t.jsx(v,{isLoading:P.isSubmitting||f,label:"Opslaan",onPress:g(x),testID:"ParkingAddLicensePlateFormSubmitButton"})]})})},w={component:E},r={};var c,d,p;r.parameters={...r.parameters,docs:{...(c=r.parameters)==null?void 0:c.docs,source:{originalSource:"{}",...(p=(d=r.parameters)==null?void 0:d.docs)==null?void 0:p.source}}};const y=["Default"];export{r as Default,y as __namedExportsOrder,w as default};
