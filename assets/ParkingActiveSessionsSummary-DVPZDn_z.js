import{j as t}from"./jsx-runtime-DNHyKP0h.js";import{r as u}from"./index-B-xgG2PE.js";import{P as f}from"./Pressable-GkAuiBeI.js";import{B as P}from"./Badge-Cq54WGNs.js";import{P as d}from"./PleaseWait-tkn96aEG.js";import{S as h}from"./SomethingWentWrong-CEU_z-m3.js";import{C as v}from"./Column-CPFjwg2l.js";import{R as S}from"./Row-D0MqAmAB.js";import{P as k}from"./Phrase-BCf2u__k.js";import{T as n}from"./Title-Rlp34fgR.js";import{u as x}from"./useNavigation-CzlnAToN.js";import{u as _}from"./useBoolean-DwbfAoJh.js";import{u as A,a as j}from"./useGetParkingSessions-CJ0v9dz2.js";import{P as y}from"./ParkingActiveSessionNavigationButton-CU4uMlW2.js";import{u as I}from"./useCurrentParkingPermit.web-DpIhF-QI.js";import{P as B}from"./routes-CtH9nUKh.js";import{b as D}from"./types-C2OYdTo_.js";const m=({visitorVehicleId:i})=>{const{navigate:c}=x(),{parkingSessions:e,isLoading:l,isError:p,refetch:s}=A(D.active,i),g=I(),{value:o,enable:a}=_(!1);return u.useEffect(()=>{i||!o&&(e!=null&&e.some(r=>!r.ps_right_id))&&(s(),a())},[e,o,s,a,i]),j(s,e!=null&&e.some(r=>"is_paid"in r&&!r.is_paid)?5e3:0),l?t.jsx(d,{testID:"ParkingPermitSessionsActivePleaseWait"}):p?t.jsx(h,{testID:"ParkingActiveSessionsSummarySomethingWentWrong"}):!e||e.length<=5?t.jsxs(v,{gutter:"sm",children:[t.jsx(n,{level:"h5",testID:"ParkingPermitSessionsActiveTitle",text:"Nu actief"}),e!=null&&e.length?e.map(r=>t.jsx(y,{noEndTime:g.no_endtime,parkingSession:r},r.ps_right_id??r.vehicle_id)):t.jsx(k,{testID:"ParkingPermitSessionsActiveNotActivePhrase",children:"Er zijn geen actieve parkeersessies."})]}):t.jsx(f,{accessibilityLabel:`${e.length} actieve parkeersessies`,onPress:()=>c(B.parkingActiveSessions),testID:"ParkingPermitSessionsActiveBadgeButton",children:t.jsxs(S,{gutter:"sm",children:[t.jsx(n,{color:"link",level:"h5",testID:"ParkingPermitSessionsActiveTitle",text:"Actief"}),t.jsx(P,{color:"info",testID:"ParkingPermitSessionsActiveBadge",value:e.length})]})})};try{m.displayName="ParkingActiveSessionsSummary",m.__docgenInfo={description:"",displayName:"ParkingActiveSessionsSummary",props:{visitorVehicleId:{defaultValue:null,description:"",name:"visitorVehicleId",required:!1,type:{name:"string"}}}}}catch{}export{m as P};
