import{P as Platform$1,aL as NativeModules,r as reactExports,aM as NativeEventEmitter,j as jsxRuntimeExports,a7 as Dimensions,S as StyleSheet,V as View,ap as dayjs,aK as useBottomSheet,aA as useParkingAccount,aB as ParkingPermitScope}from"./iframe-0ZHTOtP9.js";import{P as ParkingSessionFormProvider}from"./ParkingSessionFormProvider-CRP0r_6i.js";import{b as useFormContext,a as useController}from"./index.esm-CvhJR7Es.js";import{B as Button}from"./Button-Bl6a6wYL.js";import{B as Box}from"./Box-CctvWPjL.js";import{T as Title}from"./Title-_EhYIkXx.js";import{T as Track,a as Tabs,D as DatePicker,u as useKeyboardHeight,P as ParkingSessionDateTime}from"./Track-pMTZoxab.js";import{k as invariant,A as Animated,u as useSharedValue,a as withSpring,r as runOnJS,g as useAnimatedStyle,b as useDerivedValue,l as useAnimatedProps}from"./index-CXV8y9OH.js";import{S as SingleSelectable}from"./SingleSelectable-beUcCTq7.js";import"./index-CB-5iCXP.js";import{S as Svg,G,P as Path,D as Defs,L as LinearGradient,b as Stop,a as ClipPath,R as Rect,C as Circle}from"./index-k-m9IoTs.js";import{R as Rotator,I as Icon}from"./Icon-DoQWpHR7.js";import{u as useBoolean}from"./useBoolean-BT6HreFQ.js";import{G as GestureObjects,a as GestureDetector}from"./gestureObjects-DqHuCfhA.js";import{C as Column}from"./Column-vq2DhRuE.js";import{G as Gutter}from"./Gutter-A8eYtxro.js";import{R as Row}from"./Row-D-IWEXHe.js";import{P as Phrase}from"./Phrase-DSEFG37i.js";import{u as useDeviceContext}from"./useDeviceContext-1MOreTbX.js";import{f as formatTimeRangeToDisplay}from"./formatTimeRangeToDisplay-DSGPK075.js";import{f as formatTimeToDisplay}from"./formatTimeToDisplay-pVH_hLTm.js";import{u as useCurrentParkingPermit}from"./useCurrentParkingPermit.web-Dw1FuqDy.js";import"./preload-helper-Dp1pzeXC.js";import"./PressableBase-BBz7A4Na.js";import"./usePiwikTrackCustomEventFromProps-BbqOQzGO.js";import"./useTrackException-CvGGL5-I.js";import"./config-BZnShabN.js";import"./AccessibleText-C9uhfvju.js";import"./useThemable-BnyrFNsC.js";import"./layoutStyles-D9q0wCGk.js";import"./formatDate-BE4xpfYa.js";import"./OrientationBasedLayout-Bt6kJU4n.js";import"./types-CVDZqz9V.js";import"./useIsScreenReaderEnabled-EvkKGgIg.js";import"./mapCrossAxisAlignment-DpnuLLqj.js";import"./mapMainAxisAlignment-BOa0GzUh.js";import"./permit.mock-Z70hvnTq.js";let EventEmitter$1=class{addListener(r,t){var s,a,o,i;this.listeners||(this.listeners=new Map),(s=this.listeners)!=null&&s.has(r)||(a=this.listeners)==null||a.set(r,new Set);const n=this.listenerCount(r);return(i=(o=this.listeners)==null?void 0:o.get(r))==null||i.add(t),n===0&&this.listenerCount(r)===1&&this.startObserving(r),{remove:()=>{this.removeListener(r,t)}}}removeListener(r,t){var s,a;const n=(a=(s=this.listeners)==null?void 0:s.get(r))==null?void 0:a.delete(t);this.listenerCount(r)===0&&n&&this.stopObserving(r)}removeAllListeners(r){var n,s;const t=this.listenerCount(r);(s=(n=this.listeners)==null?void 0:n.get(r))==null||s.clear(),t>0&&this.stopObserving(r)}emit(r,...t){var s;new Set((s=this.listeners)==null?void 0:s.get(r)).forEach(a=>{try{a(...t)}catch(o){console.error(o)}})}listenerCount(r){var t,n;return((n=(t=this.listeners)==null?void 0:t.get(r))==null?void 0:n.size)??0}startObserving(r){}stopObserving(r){}},NativeModule$1=class extends EventEmitter$1{},SharedObject$1=class extends EventEmitter$1{release(){}},SharedRef$1=class extends SharedObject$1{constructor(){super(...arguments),this.nativeRefType="unknown"}};function f(e,r,t,n){switch(e){case 0:return r&t^~r&n;case 1:return r^t^n;case 2:return r&t^r&n^t&n;case 3:return r^t^n;default:return 0}}function ROTL(e,r){return e<<r|e>>>32-r}function sha1(e){const r=[1518500249,1859775393,2400959708,3395469782],t=[1732584193,4023233417,2562383102,271733878,3285377520];if(typeof e=="string"){const o=unescape(encodeURIComponent(e));e=new Array(o.length);for(let i=0;i<o.length;i++)e[i]=o.charCodeAt(i)}e.push(128);const n=e.length/4+2,s=Math.ceil(n/16),a=new Array(s);for(let o=0;o<s;o++){a[o]=new Array(16);for(let i=0;i<16;i++)a[o][i]=e[o*64+i*4]<<24|e[o*64+i*4+1]<<16|e[o*64+i*4+2]<<8|e[o*64+i*4+3]}a[s-1][14]=(e.length-1)*8/Math.pow(2,32),a[s-1][14]=Math.floor(a[s-1][14]),a[s-1][15]=(e.length-1)*8&4294967295;for(let o=0;o<s;o++){const i=new Array(80);for(let d=0;d<16;d++)i[d]=a[o][d];for(let d=16;d<80;d++)i[d]=ROTL(i[d-3]^i[d-8]^i[d-14]^i[d-16],1);let m=t[0],u=t[1],l=t[2],c=t[3],p=t[4];for(let d=0;d<80;d++){const v=Math.floor(d/20),y=ROTL(m,5)+f(v,u,l,c)+p+r[v]+i[d]>>>0;p=c,c=l,l=ROTL(u,30)>>>0,u=m,m=y}t[0]=t[0]+m>>>0,t[1]=t[1]+u>>>0,t[2]=t[2]+l>>>0,t[3]=t[3]+c>>>0,t[4]=t[4]+p>>>0}return[t[0]>>24&255,t[0]>>16&255,t[0]>>8&255,t[0]&255,t[1]>>24&255,t[1]>>16&255,t[1]>>8&255,t[1]&255,t[2]>>24&255,t[2]>>16&255,t[2]>>8&255,t[2]&255,t[3]>>24&255,t[3]>>16&255,t[3]>>8&255,t[3]&255,t[4]>>24&255,t[4]>>16&255,t[4]>>8&255,t[4]&255]}const byteToHex=[];for(let e=0;e<256;++e)byteToHex[e]=(e+256).toString(16).substr(1);function bytesToUuid(e,r){let t=r||0;const n=byteToHex;return[n[e[t++]],n[e[t++]],n[e[t++]],n[e[t++]],"-",n[e[t++]],n[e[t++]],"-",n[e[t++]],n[e[t++]],"-",n[e[t++]],n[e[t++]],"-",n[e[t++]],n[e[t++]],n[e[t++]],n[e[t++]],n[e[t++]],n[e[t++]]].join("")}function uuidToBytes(e){const r=[];return e.replace(/[a-fA-F0-9]{2}/g,t=>(r.push(parseInt(t,16)),"")),r}function stringToBytes(e){e=unescape(encodeURIComponent(e));const r=new Array(e.length);for(let t=0;t<e.length;t++)r[t]=e.charCodeAt(t);return r}function v35(e,r,t){const n=function(s,a,o,i){const m=o&&i||0;if(typeof s=="string"&&(s=stringToBytes(s)),typeof a=="string"&&(a=uuidToBytes(a)),!Array.isArray(s))throw TypeError("value must be an array of bytes");if(!Array.isArray(a)||a.length!==16)throw TypeError("namespace must be uuid string or an Array of 16 byte values");const u=t(a.concat(s));if(u[6]=u[6]&15|r,u[8]=u[8]&63|128,o)for(let l=0;l<16;++l)o[m+l]=u[l];return bytesToUuid(u)};try{n.name=e}catch{}return n.DNS="6ba7b810-9dad-11d1-80b4-00c04fd430c8",n.URL="6ba7b811-9dad-11d1-80b4-00c04fd430c8",n}var Uuidv5Namespace=(e=>(e.dns="6ba7b810-9dad-11d1-80b4-00c04fd430c8",e.url="6ba7b811-9dad-11d1-80b4-00c04fd430c8",e.oid="6ba7b812-9dad-11d1-80b4-00c04fd430c8",e.x500="6ba7b814-9dad-11d1-80b4-00c04fd430c8",e))(Uuidv5Namespace||{});function uuidv4(){return typeof crypto>"u"&&typeof window>"u"?eval("require")("node:crypto").randomUUID():crypto.randomUUID()}const uuid={v4:uuidv4,v5:v35("v5",80,sha1),namespace:Uuidv5Namespace};function registerWebGlobals(){var e;globalThis.expo||(globalThis.expo={EventEmitter:EventEmitter$1,NativeModule:NativeModule$1,SharedObject:SharedObject$1,SharedRef:SharedRef$1,modules:((e=globalThis.ExpoDomWebView)==null?void 0:e.expoModulesProxy)??{},uuidv4:uuid.v4,uuidv5:uuid.v5,getViewConfig:()=>{throw new Error("Method not implemented.")},reloadAppAsync:async()=>{window.location.reload()}})}registerWebGlobals();function ensureNativeModulesAreInstalled(){var e;if(!globalThis.expo)try{Platform$1.OS==="web"?registerWebGlobals():(e=NativeModules.ExpoModulesCore)==null||e.installModules()}catch(r){console.error(`Unable to install Expo modules: ${r}`)}}ensureNativeModulesAreInstalled();const NativeModule=globalThis.expo.NativeModule;ensureNativeModulesAreInstalled();const SharedObject=globalThis.expo.SharedObject;ensureNativeModulesAreInstalled();const SharedRef=globalThis.expo.SharedRef;var R;const isDOMAvailable=typeof window<"u"&&!!((R=window.document)!=null&&R.createElement),canUseEventListeners=isDOMAvailable&&!!(window.addEventListener||window.attachEvent),canUseViewport=isDOMAvailable&&!!window.screen,isAsyncDebugging=!1,nativeSelect=typeof window<"u"?Platform$1.select:function e(r){if(r.hasOwnProperty("web"))return r.web;if(r.hasOwnProperty("default"))return r.default},Platform={OS:"web",select:nativeSelect,isDOMAvailable,canUseEventListeners,canUseViewport,isAsyncDebugging};ensureNativeModulesAreInstalled();const EventEmitter=globalThis.expo.EventEmitter;class CodedError extends Error{constructor(r,t){super(t),this.code=r}}class UnavailabilityError extends CodedError{constructor(r,t){super("ERR_UNAVAILABLE",`The method or property ${r}.${t} is not available on ${Platform.OS}, are you sure you've linked all the native dependencies properly?`)}}function requireNativeViewManager(e,r){throw new UnavailabilityError("expo-modules-core","requireNativeViewManager")}try{requireNativeViewManager.displayName="requireNativeViewManager",requireNativeViewManager.__docgenInfo={description:"A drop-in replacement for `requireNativeComponent`.",displayName:"requireNativeViewManager",props:{}}}catch(e){}function requireNativeModule(e){const r=requireOptionalNativeModule(e);if(r!=null)return r;if(typeof window>"u")return{};throw new Error(`Cannot find native module '${e}'`)}function requireOptionalNativeModule(e){var r,t,n;return typeof globalThis.ExpoDomWebView=="object"&&((r=globalThis==null?void 0:globalThis.expo)==null?void 0:r.modules)!=null?((n=(t=globalThis.expo)==null?void 0:t.modules)==null?void 0:n[e])??null:null}function registerWebModule(e,r){var t;if(ensureNativeModulesAreInstalled(),r=r??e.name,!r)throw new Error("Web module implementation is missing a name - it is either not a class or has been minified. Pass the name as a second argument to the `registerWebModule` function.");return(t=globalThis==null?void 0:globalThis.expo)!=null&&t.modules||(globalThis.expo.modules={}),globalThis.expo.modules[r]||(globalThis.expo.modules[r]=new e),globalThis.expo.modules[r]}var PermissionStatus=(e=>(e.GRANTED="granted",e.UNDETERMINED="undetermined",e.DENIED="denied",e))(PermissionStatus||{});function usePermission(e,r){const t=reactExports.useRef(!0),[n,s]=reactExports.useState(null),{get:a=!0,request:o=!1,...i}=r||{},m=reactExports.useCallback(async()=>{const l=await e.getMethod(Object.keys(i).length>0?i:void 0);return t.current&&s(l),l},[e.getMethod]),u=reactExports.useCallback(async()=>{const l=await e.requestMethod(Object.keys(i).length>0?i:void 0);return t.current&&s(l),l},[e.requestMethod]);return reactExports.useEffect(function(){o&&u(),!o&&a&&m()},[a,o,u,m]),reactExports.useEffect(function(){return t.current=!0,()=>{t.current=!1}},[]),[n,u,m]}function createPermissionHook(e){return r=>usePermission(e,r)}function createSnapshotFriendlyRef(){return reactExports.createRef()}function useReleasingSharedObject(e,r){const t=reactExports.useRef(null),n=reactExports.useRef(!1),s=reactExports.useRef(r);t.current==null&&(t.current=e());const a=reactExports.useMemo(()=>{var m,u;let o=t.current;const i=((m=s.current)==null?void 0:m.length)===r.length&&r.every((l,c)=>l===s.current[c]);return!o||!i?((u=t.current)==null||u.release(),o=e(),t.current=o,s.current=r):n.current=!0,o},r);return reactExports.useEffect(()=>(n.current=!1,()=>{!n.current&&t.current&&t.current.release()}),[]),a}async function reloadAppAsync(e="Reloaded from JS call"){var r;await((r=globalThis.expo)==null?void 0:r.reloadAppAsync(e))}const nativeEmitterSubscriptionKey="@@nativeEmitterSubscription@@";class LegacyEventEmitter{constructor(r){if(this._listenerCount=0,r.__expo_module_name__)return r;this._nativeModule=r,this._eventEmitter=new NativeEventEmitter(r)}addListener(r,t){!this._listenerCount&&Platform$1.OS!=="ios"&&this._nativeModule.startObserving&&this._nativeModule.startObserving(),this._listenerCount++;const n=this._eventEmitter.addListener(r,t),s={[nativeEmitterSubscriptionKey]:n,remove:()=>{this.removeSubscription(s)}};return s}removeAllListeners(r){const t=this._eventEmitter.listenerCount?this._eventEmitter.listenerCount(r):this._eventEmitter.listeners(r).length;this._eventEmitter.removeAllListeners(r),this._listenerCount-=t,invariant(this._listenerCount>=0,"EventEmitter must have a non-negative number of listeners"),!this._listenerCount&&Platform$1.OS!=="ios"&&this._nativeModule.stopObserving&&this._nativeModule.stopObserving()}removeSubscription(r){var s;const t=r,n=t[nativeEmitterSubscriptionKey];n&&("remove"in n&&((s=n.remove)==null||s.call(n)),this._listenerCount--,delete t[nativeEmitterSubscriptionKey],r.remove=()=>{},!this._listenerCount&&Platform$1.OS!=="ios"&&this._nativeModule.stopObserving&&this._nativeModule.stopObserving())}emit(r,...t){this._eventEmitter.emit(r,...t)}}const NativeModulesProxy={};var NotificationFeedbackType=(e=>(e.Success="success",e.Warning="warning",e.Error="error",e))(NotificationFeedbackType||{}),ImpactFeedbackStyle=(e=>(e.Light="light",e.Medium="medium",e.Heavy="heavy",e.Soft="soft",e.Rigid="rigid",e))(ImpactFeedbackStyle||{});const vibrationPatterns={[NotificationFeedbackType.Success]:[40,100,40],[NotificationFeedbackType.Warning]:[50,100,50],[NotificationFeedbackType.Error]:[60,100,60,100,60],[ImpactFeedbackStyle.Light]:[40],[ImpactFeedbackStyle.Medium]:[50],[ImpactFeedbackStyle.Heavy]:[60],[ImpactFeedbackStyle.Soft]:[35],[ImpactFeedbackStyle.Rigid]:[45],selection:[50]};function isVibrationAvailable(){return typeof window<"u"&&"navigator"in window&&"vibrate"in navigator}const ExpoHaptics={async notificationAsync(e){isVibrationAvailable()&&navigator.vibrate(vibrationPatterns[e])},async impactAsync(e){isVibrationAvailable()&&navigator.vibrate(vibrationPatterns[e])},async selectionAsync(){isVibrationAvailable()&&navigator.vibrate(vibrationPatterns.selection)}};async function impactAsync(e=ImpactFeedbackStyle.Medium){if(!(ExpoHaptics!=null&&ExpoHaptics.impactAsync))throw new UnavailabilityError("Haptic","impactAsync");await ExpoHaptics.impactAsync(e)}const TimeDurationSpinnerDirectionArrowFigure=()=>jsxRuntimeExports.jsxs(Svg,{fill:"none",height:160,viewBox:"0 0 160 160",width:160,children:[jsxRuntimeExports.jsxs(G,{clipPath:"url(#clip0_4356_5678)",children:[jsxRuntimeExports.jsx(Path,{d:"M143.86 78.5C143.86 42.8776 114.982 14 79.3599 14V9C117.744 9 148.86 40.1162 148.86 78.5C148.86 116.884 117.744 148 79.3599 148V143C114.982 143 143.86 114.122 143.86 78.5Z",fill:"url(#paint0_linear_4356_5678)"}),jsxRuntimeExports.jsx(Path,{d:"M69 145.86L84.5412 136.888L84.5412 154.833L69 145.86Z",fill:"#00A03C"})]}),jsxRuntimeExports.jsxs(Defs,{children:[jsxRuntimeExports.jsxs(LinearGradient,{gradientUnits:"userSpaceOnUse",id:"paint0_linear_4356_5678",x1:"81.0001",x2:"79.3599",y1:"43.5",y2:"138",children:[jsxRuntimeExports.jsx(Stop,{stopColor:"#00A03C",stopOpacity:0}),jsxRuntimeExports.jsx(Stop,{offset:1,stopColor:"#00A03C"})]}),jsxRuntimeExports.jsx(ClipPath,{id:"clip0_4356_5678",children:jsxRuntimeExports.jsx(Rect,{fill:"white",height:160,width:160})})]})]}),{width,height}=Dimensions.get("window"),CIRCLE_SIZE=Math.min(Math.min(height,width)*.7,350),numberOfLines=16,AnimatedCircle=Animated.createAnimatedComponent(Circle),AnimatedSvg=Animated.createAnimatedComponent(Svg),convertDegreesToHoursAndMinutes=e=>{"worklet";const r=Math.round(e/6),t=Math.floor(r/60),n=r%60;return{hours:t,minutes:n}},convertHoursAndMinutesToDegrees=(e,r)=>{"worklet";return e*360+r*6},clampHoursAndMinutes=(e,r,t,n,s,a)=>{"worklet";return e<t||e===t&&r<n?{hours:t,minutes:n,clamped:!0}:e>s||e===s&&r>a?{hours:s,minutes:a,clamped:!0}:{hours:e,minutes:r,clamped:!1}},TimeDurationSpinner=({onChange:e,maxHours:r,maxMinutes:t,minHours:n=0,minMinutes:s=0,initialHours:a=0,initialMinutes:o=0})=>{const i=useSharedValue(convertHoursAndMinutesToDegrees(a,o)),{value:m,enable:u,disable:l}=useBoolean(!1);reactExports.useEffect(()=>{m||(i.value=withSpring(convertHoursAndMinutesToDegrees(a,o),{damping:10,stiffness:90,overshootClamping:!0}))},[a,o,i]);const c=useSharedValue(0),p=useSharedValue(0),d=GestureObjects.Pan().onStart(x=>{const h=CIRCLE_SIZE/2,g=CIRCLE_SIZE/2,E=x.x-h,b=x.y-g;c.value=Math.atan2(b,E),runOnJS(u)()}).onUpdate(x=>{const h=CIRCLE_SIZE/2,g=CIRCLE_SIZE/2,E=x.x-h,b=x.y-g,S=(Math.atan2(b,E)-c.value)*180/Math.PI,{hours:I,minutes:M}=convertDegreesToHoursAndMinutes(i.value+S),{hours:j,minutes:C,clamped:k}=clampHoursAndMinutes(I,M,n,s,r??1/0,t??1/0);k?i.value=convertHoursAndMinutesToDegrees(j,C):i.value+=S,p.value=S,runOnJS(e)(j,C)}).onEnd(()=>{p.value>1&&(i.value=withSpring(i.value+p.value*5,{damping:10,stiffness:90,overshootClamping:!0}));const{hours:x,minutes:h}=convertDegreesToHoursAndMinutes(i.value),{hours:g,minutes:E}=clampHoursAndMinutes(x,h,n,s,r??1/0,t??1/0);i.value=convertHoursAndMinutesToDegrees(g,E),runOnJS(e)(g,E),runOnJS(l)()}),v=useAnimatedStyle(()=>({transform:[{rotate:`${i.value}deg`}]})),y=useDerivedValue(()=>i.value>=360?0:Math.PI*CIRCLE_SIZE*(-1+i.value%360/360)),A=useAnimatedProps(()=>({strokeDashoffset:y.value})),D=useDerivedValue(()=>i.value-90),P=useAnimatedProps(()=>({transform:[{rotate:`${D.value}deg`}]}));return jsxRuntimeExports.jsxs(View,{style:styles$1.container,children:[jsxRuntimeExports.jsxs(AnimatedSvg,{animatedProps:P,height:CIRCLE_SIZE+20,style:styles$1.progressBar,testID:"TimeDurationSpinner",width:CIRCLE_SIZE+20,children:[jsxRuntimeExports.jsx(Defs,{children:jsxRuntimeExports.jsxs(LinearGradient,{gradientUnits:"userSpaceOnUse",id:"gradient",x1:"100%",x2:"0%",y1:"50%",y2:"50%",children:[jsxRuntimeExports.jsx(Stop,{offset:"0%",stopColor:"#000000",stopOpacity:"1"}),jsxRuntimeExports.jsx(Stop,{offset:"10%",stopColor:"#004699",stopOpacity:"1"}),jsxRuntimeExports.jsx(Stop,{offset:"100%",stopColor:"#009DE6",stopOpacity:"1"})]})}),jsxRuntimeExports.jsx(Circle,{cx:(CIRCLE_SIZE+20)/2,cy:(CIRCLE_SIZE+20)/2,fill:"none",r:CIRCLE_SIZE/2,stroke:"#ddd",strokeWidth:10}),jsxRuntimeExports.jsx(AnimatedCircle,{animatedProps:A,cx:(CIRCLE_SIZE+20)/2,cy:(CIRCLE_SIZE+20)/2,fill:"none",r:CIRCLE_SIZE/2,stroke:"url(#gradient)",strokeDasharray:`${Math.PI*CIRCLE_SIZE}`,strokeLinecap:"round",strokeWidth:10})]}),jsxRuntimeExports.jsx(GestureDetector,{gesture:d,children:jsxRuntimeExports.jsxs(Animated.View,{style:[styles$1.circle,v],children:[Array.from({length:numberOfLines}).map((x,h)=>{const g=360/numberOfLines*h;return jsxRuntimeExports.jsx(View,{style:[styles$1.line,{transform:[{rotate:`${g}deg`},{translateY:-CIRCLE_SIZE/2+40}]}],testID:`TimeDurationSpinnerLine${h}`},h)}),a===0&&o===0&&jsxRuntimeExports.jsx(Rotator,{duration:5e3,children:jsxRuntimeExports.jsx(TimeDurationSpinnerDirectionArrowFigure,{})})]})})]})},styles$1=StyleSheet.create({container:{height:CIRCLE_SIZE+20,width:CIRCLE_SIZE+20,justifyContent:"center",alignItems:"center"},circle:{width:CIRCLE_SIZE,height:CIRCLE_SIZE,borderRadius:CIRCLE_SIZE/2,justifyContent:"center",alignItems:"center"},progressBar:{position:"absolute"},line:{position:"absolute",width:2,height:20,backgroundColor:"#000"}});try{TimeDurationSpinner.displayName="TimeDurationSpinner",TimeDurationSpinner.__docgenInfo={description:"",displayName:"TimeDurationSpinner",props:{initialHours:{defaultValue:{value:"0"},description:"",name:"initialHours",required:!1,type:{name:"number"}},initialMinutes:{defaultValue:{value:"0"},description:"",name:"initialMinutes",required:!1,type:{name:"number"}},maxHours:{defaultValue:null,description:"",name:"maxHours",required:!1,type:{name:"number"}},maxMinutes:{defaultValue:null,description:"",name:"maxMinutes",required:!1,type:{name:"number"}},minHours:{defaultValue:{value:"0"},description:"",name:"minHours",required:!1,type:{name:"number"}},minMinutes:{defaultValue:{value:"0"},description:"",name:"minMinutes",required:!1,type:{name:"number"}},onChange:{defaultValue:null,description:"",name:"onChange",required:!0,type:{name:"(hours: number, minutes: number) => void"}}}}}catch(e){}const ParkingSessionDurationTimePicker=({currentPermit:e,minimumEndTime:r})=>{const{watch:t}=useFormContext(),n=t("startTime"),{field:{value:s,onChange:a}}=useController({name:"endTime"}),o=e.max_session_length_in_days===1?n.endOf("day"):void 0,i=r??n,m=i.diff(n,"hour"),u=i.diff(n.add(m,"hours"),"minute"),{isPortrait:l}=useDeviceContext();return jsxRuntimeExports.jsxs(Track,{align:"around",children:[jsxRuntimeExports.jsxs(Column,{gutter:"lg",halign:"center",children:[jsxRuntimeExports.jsxs(SingleSelectable,{children:[jsxRuntimeExports.jsx(Title,{level:"h1",text:formatTimeRangeToDisplay(n,s??n),textAlign:"center"}),jsxRuntimeExports.jsx(Title,{level:"h5",text:"Parkeertijd",textAlign:"center"})]}),jsxRuntimeExports.jsxs(Phrase,{children:[jsxRuntimeExports.jsx(Icon,{name:"clock",size:"sm",testID:"ParkingSessionEndTimeIcon"})," ","Eindtijd"," ",formatTimeToDisplay(s??n,{includeHoursLabel:!0})]})]}),jsxRuntimeExports.jsx(Gutter,{height:"lg"}),jsxRuntimeExports.jsxs(Tabs,{testID:"ParkingSessionDurationTimePickerTabs",children:[!!l&&jsxRuntimeExports.jsx(Tabs.Tab,{accessibilityLabel:"Parkeertijd kiezen",label:"Parkeertijd",children:jsxRuntimeExports.jsxs(Column,{halign:"center",children:[jsxRuntimeExports.jsx(Gutter,{height:"xl"}),jsxRuntimeExports.jsx(TimeDurationSpinner,{initialHours:(s==null?void 0:s.diff(n,"hour"))??0,initialMinutes:s?s.diff(n,"minute")-s.diff(n,"hour")*60:0,maxHours:e.max_session_length_in_days===1?n.endOf("day").diff(n,"hour"):void 0,maxMinutes:e.max_session_length_in_days===1?n.endOf("day").diff(n,"minutes")-n.endOf("day").diff(n,"hour")*60:void 0,minHours:m,minMinutes:u,onChange:(c,p)=>{const d=n.add(c,"hour").add(p,"minute");a(d),Platform$1.OS==="ios"&&impactAsync(ImpactFeedbackStyle.Light)}}),jsxRuntimeExports.jsxs(View,{style:styles.floatingButtons,children:[jsxRuntimeExports.jsx(Gutter,{height:"md"}),jsxRuntimeExports.jsxs(Row,{align:"between",grow:1,children:[jsxRuntimeExports.jsx(Button,{accessibilityLabel:"Verminder parkeertijd met 5 minuten",label:"-5 min",onPress:()=>{const c=s?s.add(-5,"minute"):void 0,p=i&&(c!=null&&c.isBefore(i))?i:c;a(p)},testID:"ParkingSessionDurationDecreaseButton",variant:"tertiary"}),jsxRuntimeExports.jsx(Button,{accessibilityLabel:"Verleng parkeertijd met 5 minuten",label:"+5 min",onPress:()=>{const c=s?s.add(5,"minute"):n.add(5,"minute"),p=o&&c.isAfter(o)?o:c;a(p)},testID:"ParkingSessionDurationIncreaseButton",variant:"tertiary"})]})]}),jsxRuntimeExports.jsx(Gutter,{height:"lg"})]})}),jsxRuntimeExports.jsx(Tabs.Tab,{accessibilityLabel:"Eindtijd kiezen",label:"Eindtijd",children:jsxRuntimeExports.jsx(DatePicker,{date:(s==null?void 0:s.toDate())??n.toDate(),is24hourSource:"locale",locale:"nl-NL",maximumDate:o==null?void 0:o.toDate(),minimumDate:i.toDate(),mode:"time",onDateChange:c=>{a(dayjs(c))},style:styles.centerSelf,theme:"light"})})]})]})},styles=StyleSheet.create({centerSelf:{alignSelf:"center"},floatingButtons:{position:"absolute",width:"100%"}});try{ParkingSessionDurationTimePicker.displayName="ParkingSessionDurationTimePicker",ParkingSessionDurationTimePicker.__docgenInfo={description:"",displayName:"ParkingSessionDurationTimePicker",props:{currentPermit:{defaultValue:null,description:"",name:"currentPermit",required:!0,type:{name:"ParkingPermit"}},minimumEndTime:{defaultValue:null,description:"",name:"minimumEndTime",required:!1,type:{name:"Dayjs"}}}}}catch(e){}const ParkingSessionEndTimeBottomSheetContent=()=>{const{watch:e}=useFormContext(),r=e("startTime"),{field:{value:t,onChange:n}}=useController({name:"endTime"}),{close:s}=useBottomSheet(),a=useCurrentParkingPermit(),o=useParkingAccount(),{height:i,visible:m}=useKeyboardHeight(),{max_session_length_in_days:u}=a;return(o==null?void 0:o.scope)===ParkingPermitScope.visitor?dayjs.max(dayjs(),dayjs(e("originalEndTime"))):dayjs(),jsxRuntimeExports.jsxs(Box,{grow:!0,children:[jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(Title,{level:"h5",text:"Kies eindtijd en datum",textAlign:"center"}),jsxRuntimeExports.jsx(ParkingSessionDateTime,{dateTime:t??r,maxDateTime:r.add(u,"day").endOf("day"),setDateTime:n})]}),jsxRuntimeExports.jsx(Button,{label:"Gereed",onPress:s,testID:"ParkingSessionEndTimeBottomSheetContentDoneButton"}),!!m&&jsxRuntimeExports.jsx(View,{style:{height:i}})]})},meta={component:ParkingSessionEndTimeBottomSheetContent,decorators:e=>jsxRuntimeExports.jsx(ParkingSessionFormProvider,{children:jsxRuntimeExports.jsx(e,{})})},Default={args:{}};var w,T,_;Default.parameters={...Default.parameters,docs:{...(w=Default.parameters)==null?void 0:w.docs,source:{originalSource:`{
  args: {}
}`,...(_=(T=Default.parameters)==null?void 0:T.docs)==null?void 0:_.source}}};const __namedExportsOrder=["Default"];export{Default,__namedExportsOrder,meta as default};
