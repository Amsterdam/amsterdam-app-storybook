import{r as c}from"./index-B-xgG2PE.js";import{b as p,s as a,c as h}from"./service-B54VJsLA.js";import{u as k}from"./useCurrentParkingPermit.web-Cdj3QSDU.js";import{u as E,a as S}from"./slice-j3ipSnyk.js";import{a as n}from"./types-C2OYdTo_.js";const T=(e,s)=>{c.useEffect(()=>{if(s>0){const r=setInterval(e,s);return()=>clearInterval(r)}},[e,s])},_=(e,s)=>{c.useEffect(()=>{if(s>0){const r=setTimeout(e,s);return()=>clearTimeout(r)}},[e,s])},b=e=>{const s=k(),r=E(),{visitorVehicleId:o}=S(),{data:i,isLoading:u,isError:m,refetch:f}=p(s&&(r==null?void 0:r.scope)===n.permitHolder?{report_code:s.report_code.toString(),status:e,page_size:100}:a),{data:t,isLoading:g,isError:P,refetch:d}=h((r==null?void 0:r.scope)===n.visitor&&o?{vehicle_id:o}:a);return{isLoading:u||g,isError:m||P,parkingSessions:(i==null?void 0:i.result)||(t==null?void 0:t[e]),page:i==null?void 0:i.page,refetch:o?d:f}};export{T as a,_ as b,b as u};
