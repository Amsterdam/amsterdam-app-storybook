import{u as o,c as p,R as n}from"./useThemable-DhqiuDXa.js";import{r as i}from"./index-B-xgG2PE.js";import{u}from"./useDispatch-jiStvVFn.js";const d={accessTokens:{},accounts:{},currentPermitReportCode:void 0,isLoggingOut:!1,isLoginStepsActive:!1,currentAccount:void 0,shouldShowLoginScreen:!1,visitorVehicleId:void 0},r=p({name:n.parking,initialState:d,reducers:{removeParkingAccount:e=>{e.currentAccount&&(delete e.accessTokens[e.currentAccount],delete e.accounts[e.currentAccount],e.currentAccount=Object.keys(e.accounts)[0],e.currentPermitReportCode=void 0,e.visitorVehicleId=void 0)},setAccessToken:(e,{payload:c})=>{e.accessTokens[c.reportCode]={accessToken:c.accessToken,accessTokenExpiration:c.accessTokenExpiration}},setCurrentPermitReportCode:(e,{payload:c})=>{e.currentPermitReportCode=c},setIsLoggingOut:(e,{payload:c})=>{e.isLoggingOut=c},setLoginStepsActive:(e,{payload:c})=>{e.isLoginStepsActive=c},setShouldShowLoginScreen:(e,{payload:c})=>{e.shouldShowLoginScreen=c},setVisitorVehicleId:(e,{payload:c})=>{e.visitorVehicleId=c},setParkingAccount:(e,{payload:c})=>{e.accounts[c.reportCode]=c},setParkingAccountPermits:(e,{payload:c})=>{e.currentAccount&&(e.accounts[e.currentAccount].permits=c)},setCurrentAccount:(e,{payload:c})=>{e.currentAccount=c}}}),{setIsLoggingOut:P,setLoginStepsActive:L,setShouldShowLoginScreen:V}=r.actions,A=e=>{var c;return e[n.parking].currentAccount?(c=e[n.parking].accessTokens[e[n.parking].currentAccount])==null?void 0:c.accessToken:void 0},l=e=>{var c;return e[n.parking].currentAccount?(c=e[n.parking].accessTokens[e[n.parking].currentAccount])==null?void 0:c.accessTokenExpiration:void 0},h=e=>e[n.parking].currentPermitReportCode,I=e=>e[n.parking].isLoginStepsActive,S=e=>e[n.parking].visitorVehicleId,f=e=>e[n.parking].currentAccount?e[n.parking].accounts[e[n.parking].currentAccount]:void 0,T=e=>e[n.parking].currentAccount,x=()=>{const e=u(),c=o(A),s=o(l),t=i.useCallback((a,g,k)=>e(r.actions.setAccessToken({reportCode:a,accessToken:g,accessTokenExpiration:k})),[e]);return{accessToken:c,setAccessToken:t,accessTokenExpiration:s}},R=()=>o(h),E=()=>o(T),w=()=>{const e=u(),c=o(S),s=i.useCallback(t=>e(r.actions.setVisitorVehicleId(t)),[e]);return{visitorVehicleId:c,setVisitorVehicleId:s}};export{x as a,E as b,V as c,l as d,A as e,R as f,I as g,L as h,r as p,f as s,w as u};
