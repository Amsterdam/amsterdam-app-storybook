import{j as _,S as W}from"./index-1401012c.js";import{r as y}from"./index-76fb7be0.js";import{B as z}from"./Box-35580222.js";import{b as F,a as j,d as B}from"./development-9826c73c.js";import{c as H,V as $,a as G,P as Y,b as X,d as J,e as Q,M as Z}from"./slugs-2ca90b2c.js";import{a as D}from"./useThemable-27d8c265.js";import{u as M}from"./useSentry-a6a9e2af.js";import{P as ee}from"./invariant-f1a82cf7.js";import{N as O}from"./index-d983c834.js";import{S as m,s as te}from"./logging-55d19259.js";import{P as ae}from"./index-393588f7.js";const E=H();var L=(e=>(e[e.searchTerm=3]="searchTerm",e[e.searchResultAmount=4]="searchResultAmount",e[e.searchType=5]="searchType",e[e.searchResultTitle=6]="searchResultTitle",e[e.searchResultUrl=7]="searchResultUrl",e[e.searchResultType=8]="searchResultType",e[e.searchResultSelected=9]="searchResultSelected",e[e.contentTitle=10]="contentTitle",e[e.contentSubject=11]="contentSubject",e[e.contentTeam=12]="contentTeam",e[e.contentPublicationDate=13]="contentPublicationDate",e[e.contentType=14]="contentType",e[e.userIntext=15]="userIntext",e[e.searchMachine=16]="searchMachine",e[e.pageType=17]="pageType",e[e.contentId=20]="contentId",e))(L||{}),V=(e=>(e[e.userType=1]="userType",e[e.userCity=2]="userCity",e[e.appVersion=18]="appVersion",e[e.appVersionWithBuild=19]="appVersionWithBuild",e[e.reduceMotionEnabled=21]="reduceMotionEnabled",e[e.locationPermission=22]="locationPermission",e[e.screenReaderEnabled=23]="screenReaderEnabled",e[e.accessibilityServiceEnabled=24]="accessibilityServiceEnabled",e[e.boldTextEnabled=25]="boldTextEnabled",e[e.grayscaleEnabled=26]="grayscaleEnabled",e[e.invertColorsEnabled=27]="invertColorsEnabled",e[e.reduceTransparencyEnabled=28]="reduceTransparencyEnabled",e[e.fontScale=29]="fontScale",e[e.isLandscape=30]="isLandscape",e[e.isPortrait=31]="isPortrait",e[e.isTablet=32]="isTablet",e[e.hasCameraPermission=33]="hasCameraPermission",e[e.hasPhotosPermission=34]="hasPhotosPermission",e[e.hasLocationPermission=35]="hasLocationPermission",e[e.hasNotificationPermission=36]="hasNotificationPermission",e))(V||{}),S=(e=>(e.accessibilityChange="accessibilityChange",e.addressAdd="addressAdd",e.addressChange="addressChange",e.buttonPress="buttonPress",e.deviceInfoChange="deviceInfoChange",e.startUp="startUp",e.toForeground="toForeground",e))(S||{}),C=(e=>(e.alreadyInitialized="Piwik Pro SDK has been already initialized",e.missingEnvVars="PIWIK_PRO_URL or PIWIK_PRO_ID are not defined in env",e))(C||{});const re=(e,t)=>!(t!=null&&t.id)&&typeof(t==null?void 0:t.id)!="number"?e:{...e,[L.contentId]:t.id.toString()},ne=e=>(e==null?void 0:e.screenTitle)??(e==null?void 0:e.screenHeaderTitle),ce=e=>{if(e)return Object.keys(e).filter(t=>e[t]!==void 0).reduce((t,a)=>({...t,[a]:e[a]}),{})},ue={[V.appVersion]:$,[V.appVersionWithBuild]:G},h=e=>ce({...e,...ue});function le(e){if(!Number.isInteger(e))throw new Error("Parameter must be an integer number")}function b(e){e&&Object.entries(e).forEach(t=>{let[a,c]=t;const l=parseInt(a,10);if(a!==l.toString())throw new Error("ID (key) must be an integer");if(l<1)throw new Error("ID (key) must be an integer greater than 0")})}function v(e){e.forEach(t=>{let a=t.customDimensions;if(a){if(Object.keys(a).length>20)throw new Error("Max 20 product custom dimensions, 20 is max ID.");b(a)}})}function se(e){if(!/^[0-9a-f]{16}$/.test(e))throw new Error(`Visitor ID ${e} has invalid format. The format must match the regular expression: ^[0-9a-f]{16}$`)}const oe="1.1.0",ie=`The package 'react-native-piwik-pro-sdk' doesn't seem to be linked. Make sure: 

`+ee.select({ios:`- You have run 'pod install'
`,default:""})+`- You rebuilt the app after installing the package
- You are not using Expo managed workflow
`,r=O.PiwikProSdk?O.PiwikProSdk:new Proxy({},{get(){throw new Error(ie)}});async function de(e,t){return await r.init(e,t,oe)}async function fe(e,t){return u(t),await r.trackScreen(e,t)}async function ye(e,t,a){return u(a),await r.trackCustomEvent(e,t,a)}async function me(e,t){return u(t),await r.trackException(e,t)}async function ve(e,t,a){return u(a),await r.trackSocialInteraction(e,t,a)}async function ge(e,t){return u(t),await r.trackDownload(e,t)}async function he(){return await r.trackApplicationInstall()}async function pe(e,t){return u(t),await r.trackOutlink(e,t)}async function be(e,t){return u(t),await r.trackSearch(e,t)}async function Ie(e,t){return u(t),await r.trackImpression(e,t)}async function Ee(e,t,a){return u(a),await r.trackInteraction(e,t,a)}async function Ce(e,t){return u(t),await r.trackGoal(e,t)}async function Te(e,t,a){return await r.trackEcommerce(e,t,a)}async function xe(e,t){return u(t),v(e),await r.trackEcommerceProductDetailView(e,t)}async function Re(e,t,a){return u(a),v(e),await r.trackEcommerceCartUpdate(e,t,a)}async function _e(e,t){return u(t),v(e),await r.trackEcommerceAddToCart(e,t)}async function Ve(e,t){return u(t),v(e),await r.trackEcommerceRemoveFromCart(e,t)}async function ke(e,t,a,c){return u(c),v(a),await r.trackEcommerceOrder(e,t,a,c)}async function we(e){return await r.trackCampaign(e)}async function Oe(e){if(Array.isArray(e)){if(!e.length)throw new Error("Profile attributes cannot be an empty array");return await r.trackProfileAttributes(e)}return await r.trackProfileAttributes([e])}async function Ne(){return await r.getProfileAttributes()}async function Ue(e){return await r.checkAudienceMembership(e)}async function Ae(e){return await r.setUserId(e)}async function Pe(){return await r.getUserId()}async function Me(e){return await r.setUserEmail(e)}async function Le(){return await r.getUserEmail()}async function Se(e){return se(e),await r.setVisitorId(e)}async function qe(){return await r.getVisitorId()}async function Ke(e){return await r.setSessionTimeout(e)}async function We(){return await r.getSessionTimeout()}async function ze(){return await r.startNewSession()}async function Fe(){return await r.dispatch()}async function je(e){return le(e),await r.setDispatchInterval(e)}async function Be(){return await r.getDispatchInterval()}async function He(e){return await r.setIncludeDefaultCustomVariables(e)}async function $e(){return await r.getIncludeDefaultCustomVariables()}async function Ge(e){return await r.setAnonymizationState(e)}async function Ye(){return await r.isAnonymizationOn()}async function Xe(e){return await r.setOptOut(e)}async function Je(e){return await r.setDryRun(e)}async function Qe(){return await r.getDryRun()}async function Ze(){return await r.getOptOut()}async function De(e){return await r.setPrefixing(e)}async function et(){return await r.isPrefixingOn()}function u(e){b(e==null?void 0:e.customDimensions),b(e==null?void 0:e.visitCustomVariables),b(e==null?void 0:e.screenCustomVariables)}const I={init:de,trackScreen:fe,trackCustomEvent:ye,trackException:me,trackSocialInteraction:ve,trackDownload:ge,trackApplicationInstall:he,trackOutlink:pe,trackSearch:be,trackImpression:Ie,trackInteraction:Ee,trackGoal:Ce,trackEcommerce:Te,trackEcommerceProductDetailView:xe,trackEcommerceCartUpdate:Re,trackEcommerceAddToCart:_e,trackEcommerceRemoveFromCart:Ve,trackEcommerceOrder:ke,trackCampaign:we,trackProfileAttributes:Oe,getProfileAttributes:Ne,checkAudienceMembership:Ue,setUserId:Ae,getUserId:Pe,setUserEmail:Me,getUserEmail:Le,setVisitorId:Se,getVisitorId:qe,setSessionTimeout:Ke,getSessionTimeout:We,startNewSession:ze,dispatch:Fe,setDispatchInterval:je,getDispatchInterval:Be,setIncludeDefaultCustomVariables:He,getIncludeDefaultCustomVariables:$e,setAnonymizationState:Ge,isAnonymizationOn:Ye,setOptOut:Xe,getOptOut:Ze,setDryRun:Je,getDryRun:Qe,setPrefixing:De,isPrefixingOn:et},[N,U]=F?[Y,X]:[J,Q],tt=async()=>!N||!U?Promise.reject(C.missingEnvVars):(await I.init(N,U),await I.trackApplicationInstall(),await I.setIncludeDefaultCustomVariables(!0),Promise.resolve()),T=y.createContext(void 0),A=({children:e})=>{const{sendSentryErrorLog:t}=M(),[a,c]=y.useState();return y.useEffect(()=>{a===void 0&&tt().then(()=>{c(I)}).catch(l=>{l.message!==C.alreadyInitialized&&(c(null),l.message!==C.missingEnvVars&&t(m.piwikInitialization,"piwik.provider.tsx",{error:l}))})},[a,t]),_(T.Provider,{value:a,children:e})};try{T.displayName="PiwikContext",T.__docgenInfo={description:"The PiwikContext contains the object with all methods, to be used via the usePiwik hook only.",displayName:"PiwikContext",props:{}}}catch{}try{A.displayName="PiwikProvider",A.__docgenInfo={description:"",displayName:"PiwikProvider",props:{}}}catch{}const at=()=>{if(E.isReady()){const e=E.getRootState(),t=e==null?void 0:e.routes;if(t)for(let a=t.length-1;a>=0;a--){const c=Z[t[a].name];if(c)return c}}},rt={ready:!1,trackCustomEvent:()=>{},trackOutlink:()=>{},trackScreen:()=>{},trackSearch:()=>{}},p="usePiwik.ts",nt=({trackCustomEvent:e,trackOutlink:t,trackScreen:a,trackSearch:c},l,x,i,g)=>({ready:!0,trackCustomEvent:(s,n,o,d=x,f=void 0)=>{j("trackCustomEvent",{name:s,action:n,dimensions:o,category:d,value:f}),e(d,n,{path:i,customDimensions:h(o),value:f}).catch(()=>{l(m.piwikTrackCustomEvent,p,{category:d,action:n,name:s,path:i,value:f})})},trackOutlink:(s,n)=>{const o=te(s);t(o,{...n,customDimensions:h(n==null?void 0:n.customDimensions)}).catch(()=>{l(m.piwikTrackOutlink,p,{url:o})})},trackScreen:(s,n)=>{const o=s??i;if(!o)return;const d=re(n==null?void 0:n.customDimensions,g);a(o,{...n,title:ne(g),customDimensions:h(d)}).catch(()=>{l(m.piwikTrackScreen,p,{path:s})})},trackSearch:(s,n)=>{c(s,{...n,customDimensions:h(n==null?void 0:n.customDimensions)}).catch(()=>{l(m.piwikTrackSearch,p)})}}),ct=()=>{const e=y.useContext(T),{sendSentryErrorLog:t}=M(),a=E.isReady()?E.getCurrentRoute():void 0,c=at()??"general";return y.useMemo(()=>e?nt(e,t,c,a==null?void 0:a.name,a==null?void 0:a.params):rt,[e,t,c,a==null?void 0:a.name,a==null?void 0:a.params])},P=y.forwardRef(({children:e,grow:t,inset:a="no",insetHorizontal:c,insetVertical:l,variant:x="tertiary",onPress:i=()=>null,logAction:g=S.buttonPress,logCategory:s,logName:n,logDimensions:o,logValue:d,...f},q)=>{const k=D(ut(t,x)),{trackCustomEvent:K}=ct();return _(ae,{accessibilityLanguage:"nl-NL",accessibilityRole:"button",onPress:R=>{i==null||i(R);const w=n??f["sentry-label"]??f.testID;w?K(w,g,o,s,d):B("No name found for component")},ref:q,style:({pressed:R})=>[k.button,R&&k.pressed],...f,children:_(z,{grow:!0,inset:a,insetHorizontal:c,insetVertical:l,children:e})})}),ut=(e,t)=>({color:a})=>W.create({button:{backgroundColor:t!=="transparent"?a.pressable[t].default:void 0,flex:e?1:void 0,flexShrink:e?0:1},pressed:{backgroundColor:t!=="transparent"?a.pressable[t].highlight:void 0}});try{P.displayName="Pressable",P.__docgenInfo={description:"Used to build other interactive components, do not use on its own.",displayName:"Pressable",props:{children:{defaultValue:null,description:`Either children or a render prop that receives a boolean reflecting whether
the component is currently pressed.`,name:"children",required:!1,type:{name:"((string | number | boolean | ReactElement<any, string | JSXElementConstructor<any>> | Iterable<ReactNode> | ReactPortal) & (string | ... 5 more ... | ((state: PressableStateCallbackType) => ReactNode))) | null"}},grow:{defaultValue:null,description:"Whether the button grows to fill its parent container.",name:"grow",required:!1,type:{name:"boolean"}},"sentry-label":{defaultValue:null,description:"",name:"sentry-label",required:!1,type:{name:"string"}},variant:{defaultValue:{value:"tertiary"},description:"",name:"variant",required:!1,type:{name:"enum",value:[{value:'"primary"'},{value:'"tertiary"'},{value:'"negative"'},{value:'"transparent"'}]}},inset:{defaultValue:{value:"no"},description:"The amount of inner spacing.",name:"inset",required:!1,type:{name:"enum",value:[{value:'"no"'},{value:'"xs"'},{value:'"sm"'},{value:'"md"'},{value:'"lg"'},{value:'"xl"'},{value:'"xxl"'},{value:'"xxxl"'}]}},insetHorizontal:{defaultValue:null,description:"The amount of inner spacing at the left and right.",name:"insetHorizontal",required:!1,type:{name:"enum",value:[{value:'"no"'},{value:'"xs"'},{value:'"sm"'},{value:'"md"'},{value:'"lg"'},{value:'"xl"'},{value:'"xxl"'},{value:'"xxxl"'}]}},insetVertical:{defaultValue:null,description:"The amount of inner spacing at the top and bottom.",name:"insetVertical",required:!1,type:{name:"enum",value:[{value:'"no"'},{value:'"xs"'},{value:'"sm"'},{value:'"md"'},{value:'"lg"'},{value:'"xl"'},{value:'"xxl"'},{value:'"xxxl"'}]}},logAction:{defaultValue:{value:"PiwikAction.buttonPress"},description:"",name:"logAction",required:!1,type:{name:"enum",value:[{value:'"accessibilityChange"'},{value:'"addressAdd"'},{value:'"addressChange"'},{value:'"buttonPress"'},{value:'"deviceInfoChange"'},{value:'"startUp"'},{value:'"toForeground"'}]}},logCategory:{defaultValue:null,description:"",name:"logCategory",required:!1,type:{name:"enum",value:[{value:'"about"'},{value:'"address"'},{value:'"construction-work"'},{value:'"construction-work-editor"'},{value:'"contact"'},{value:'"home"'},{value:'"onboarding"'},{value:'"open-waste-container"'},{value:'"redirects"'},{value:'"report-problem"'},{value:'"user"'},{value:'"waste-guide"'},{value:'"general"'}]}},logDimensions:{defaultValue:null,description:"",name:"logDimensions",required:!1,type:{name:"Partial<Record<PiwikDimension | PiwikSessionDimension, string>>"}},logName:{defaultValue:null,description:"",name:"logName",required:!1,type:{name:"string"}},logValue:{defaultValue:null,description:"",name:"logValue",required:!1,type:{name:"number"}}}}}catch{}export{P};
