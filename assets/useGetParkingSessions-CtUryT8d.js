import{r as c,a_ as p,b8 as S,bd as h,be as n,a$ as a,bf as k}from"./iframe-usjyrobZ.js";import{u as E}from"./useCurrentParkingPermit.web-BIV8x-qx.js";const V=(s,e)=>{c.useEffect(()=>{if(e>0){const r=setInterval(s,e);return()=>clearInterval(r)}},[s,e])},_=(s,e)=>{c.useEffect(()=>{if(e>0){const r=setTimeout(s,e);return()=>clearTimeout(r)}},[s,e])},b=s=>{const e=E(),r=p(),{visitorVehicleId:o}=S(),{data:i,isLoading:u,isError:d,refetch:g}=h(e&&(r==null?void 0:r.scope)===a.permitHolder?{report_code:e.report_code.toString(),status:s,page_size:100}:n),{data:t,isLoading:f,isError:P,refetch:m}=k((r==null?void 0:r.scope)===a.visitor&&o?{vehicle_id:o,report_code:e.report_code.toString(),status:s}:n);return{isLoading:u||f,isError:d||P,parkingSessions:(i==null?void 0:i.result)||(t==null?void 0:t[s]),page:i==null?void 0:i.page,refetch:o?m:g}};export{V as a,_ as b,b as u};
