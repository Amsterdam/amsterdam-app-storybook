import{b3 as re,bp as Bn,r as n,bs as Ln,bt as _n,bC as wn,b1 as Yt,m as he,bD as De,bE as An,b4 as Mn,bF as Vn,b5 as Re,bG as gt,bq as pt,bH as Oe,bI as Kt,S as ae,j as S,V as Te,b6 as et,b2 as ue,bJ as Fn,bK as wt,bL as zt,bM as qt,bN as Un,bO as Gn,a8 as Le,bP as jn,bv as Wn,bA as Yn,bQ as Kn,by as zn,aY as qn,k as At,C as Mt,R as Xn,f as $n,I as Jn,a as Zn}from"./iframe-CZ7Tjlgc.js";import{a as Ie,o as Xt}from"./index-Bhw5oQqW.js";import{u as Ne,G as tt,b as nt,a as Qn}from"./gestureObjects-D1Cbaa88.js";import{L as Vt}from"./Label-CkQF4r2Q.js";function be(e,t,o){const s=re(null);let r=Object.values(e.__closure??{});Bn()&&!r.length&&o!=null&&o.length&&(r=o),o===void 0?o=[...Object.values(e.__closure??{}),...Object.values(t.__closure??{}),e.__workletHash,t.__workletHash]:o.push(e.__workletHash,t.__workletHash),n.useEffect(()=>{const i=Ln(()=>{"worklet";const c=e();t(c,s.value),s.value=c},r);return()=>{_n(i)}},o)}const eo=wn();function to(){return eo}const no=n.createContext(!1),oo=()=>n.useContext(no),{height:$t,width:ao}=Yt.get("window"),{height:Jt,width:hs}=Yt.get("screen");var se=function(e){return e[e.UNDETERMINED=0]="UNDETERMINED",e[e.SCROLLABLE=1]="SCROLLABLE",e[e.HANDLE=2]="HANDLE",e[e.CONTENT=3]="CONTENT",e}(se||{}),fe=function(e){return e[e.CLOSED=0]="CLOSED",e[e.OPENED=1]="OPENED",e[e.EXTENDED=2]="EXTENDED",e[e.OVER_EXTENDED=3]="OVER_EXTENDED",e[e.FILL_PARENT=4]="FILL_PARENT",e}(fe||{}),ce=function(e){return e[e.LOCKED=0]="LOCKED",e[e.UNLOCKED=1]="UNLOCKED",e[e.UNDETERMINED=2]="UNDETERMINED",e}(ce||{}),ve=function(e){return e[e.UNDETERMINED=0]="UNDETERMINED",e[e.VIEW=1]="VIEW",e[e.FLATLIST=2]="FLATLIST",e[e.SCROLLVIEW=3]="SCROLLVIEW",e[e.SECTIONLIST=4]="SECTIONLIST",e[e.VIRTUALIZEDLIST=5]="VIRTUALIZEDLIST",e}(ve||{}),Q=function(e){return e[e.UNDETERMINED=0]="UNDETERMINED",e[e.RUNNING=1]="RUNNING",e[e.STOPPED=2]="STOPPED",e[e.INTERRUPTED=3]="INTERRUPTED",e}(Q||{}),j=function(e){return e[e.NONE=0]="NONE",e[e.MOUNT=1]="MOUNT",e[e.GESTURE=2]="GESTURE",e[e.USER=3]="USER",e[e.CONTAINER_RESIZE=4]="CONTAINER_RESIZE",e[e.SNAP_POINT_CHANGE=5]="SNAP_POINT_CHANGE",e[e.KEYBOARD=6]="KEYBOARD",e}(j||{}),Qe=function(e){return e[e.TIMING=0]="TIMING",e[e.SPRING=1]="SPRING",e}(Qe||{}),W=function(e){return e[e.UNDETERMINED=0]="UNDETERMINED",e[e.SHOWN=1]="SHOWN",e[e.HIDDEN=2]="HIDDEN",e}(W||{}),bt=function(e){return e[e.PROVIDED=0]="PROVIDED",e[e.DYNAMIC=1]="DYNAMIC",e}(bt||{});const so=De.out(De.exp),ro=250,io=he.select({android:{duration:ro,easing:so},default:{damping:500,stiffness:1e3,mass:3,overshootClamping:!0,restDisplacementThreshold:10,restSpeedThreshold:10}}),lo={[ce.UNDETERMINED]:0,[ce.LOCKED]:0,[ce.UNLOCKED]:he.select({ios:.998,android:.985,default:1})},pe={interactive:"interactive",extend:"extend",fillParent:"fillParent"},Et={none:"none",restore:"restore"},vt={adjustPan:"adjustPan",adjustResize:"adjustResize"},X=-999,co={offset:{top:0,bottom:0,right:0,left:0}},Zt=n.createContext(null),uo=Zt.Provider,Qt=n.createContext(null),fo=Qt.Provider,en=n.createContext(null),tn=n.createContext(null),ho=n.createContext(null);ho.Provider;const nn=n.createContext(null);nn.Provider;const mo=()=>{const e=n.useContext(Zt);if(e===null)throw"'useBottomSheet' cannot be used out of the BottomSheet!";return e};function oe(e){const t=n.useContext(Qt);if(t===null)throw"'useBottomSheetInternal' cannot be used out of the BottomSheet!";return t}function go(e){const t=n.useContext(nn);if(t===null)throw"'BottomSheetModalInternalContext' cannot be null!";return t}const on=(e,t)=>{"worklet";let o=e;return typeof o=="string"&&(o=Number(o.split("%")[0])*t/100),Math.max(0,t-o)},St=({point:e,configs:t,velocity:o=0,overrideReduceMotion:s,onComplete:r})=>{"worklet";return t||(t=io),s&&(t.reduceMotion=s),("duration"in t||"easing"in t?Qe.TIMING:Qe.SPRING)===Qe.TIMING?An(e,t,r):Mn(e,Object.assign({velocity:o},t),r)},po=(e,t)=>{"worklet";switch(e){case"easeIn":return{easing:De.in(De.ease),duration:t};case"easeOut":return{easing:De.out(De.ease),duration:t};case"easeInEaseOut":return{easing:De.inOut(De.ease),duration:t};case"linear":return{easing:De.linear,duration:t};case"keyboard":return{damping:500,stiffness:1e3,mass:3,overshootClamping:!0,restDisplacementThreshold:10,restSpeedThreshold:10}}};let an=()=>{};Object.freeze(an);function bo(){return(window==null?void 0:window.nativeFabricUIManager)!=null}function _e(e){let t;try{if(t=Vn(e),t)return t}catch{}try{if(t=e.getNativeScrollRef(),t)return t}catch{}return t=e._scrollRef,t||(console.warn("could not find scrollable ref!"),e)}const Eo=(e,t,o,s)=>{const r=n.useRef(null),a=n.useRef(null),i=re({type:ve.UNDETERMINED,contentOffsetY:0,refreshable:!1}),c=Ne(()=>!e||t.value===fe.FILL_PARENT||t.value===fe.EXTENDED||o.get().status===W.SHOWN&&s.get().status===Q.RUNNING?ce.UNLOCKED:ce.LOCKED,[e,t,o,s,i]),l=n.useCallback(f=>{var h;(((h=r.current)==null?void 0:h.id)??null)!==f.id&&(r.current&&(a.current=r.current),r.current=f)},[]),d=n.useCallback(f=>{var b;let u;try{u=_e(f.current)}catch{return}const h=((b=r.current)==null?void 0:b.id)??null;u===h&&(r.current=a.current)},[]);return{state:i,status:c,setScrollableRef:l,removeScrollableRef:d}},vo=(e,t,o,s,r=n.useEffect)=>{const{animatedScrollableState:a,setScrollableRef:i,removeScrollableRef:c}=oe(),l=n.useCallback(()=>{a.set(f=>({...f,contentOffsetY:o.value,type:t,refreshable:s}));const d=_e(e.current);return d?i({id:d,node:e}):console.warn("Couldn't find the scrollable node handle id!"),()=>{c(e)}},[e,t,s,o,a,i,c]);r(l)},So=(e,t)=>{const o=n.useRef(null),s=re(0),{animatedScrollableState:r,animatedScrollableStatus:a,animatedAnimationState:i}=oe();return n.useEffect(()=>{const c=_e(o.current);let l=0,d=!1,f=!1,u=0;function h(I){I.touches.length===1&&(c.scrollTop,u=I.touches[0].clientY,f=l<=0)}function b(I){return a.value===ce.LOCKED&&I.cancelable||f&&(f=!1,I.touches[0].clientY-u>0&&I.cancelable)?I.preventDefault():!0}function D(){if(a.value===ce.LOCKED){c.scroll({top:0,left:0,behavior:"instant"}),s.value=0;return}}function m(I){if(l=c.scrollTop,i.get().status!==Q.RUNNING){const T=Math.max(0,l);s.value=T,r.set(k=>({...k,contentOffsetY:T}))}return l<=0&&I.cancelable?(I.preventDefault(),I.stopPropagation(),!1):!0}try{window.addEventListener("test",null,{get passive(){d=!0}})}catch{}return c.addEventListener("touchstart",h,d?{passive:!0}:!1),c.addEventListener("touchmove",b,d?{passive:!1}:!1),c.addEventListener("touchend",D,d?{passive:!1}:!1),c.addEventListener("scroll",m,d?{passive:!1}:!1),()=>{window.removeEventListener("test",null),c.removeEventListener("touchstart",h),c.removeEventListener("touchmove",b),c.removeEventListener("touchend",D),c.removeEventListener("scroll",m)}},[i,r,a,s]),{scrollHandler:t,scrollableRef:o,scrollableContentOffsetY:s}},Ft=(e,t,o,s,r,a,i)=>{const c=n.useCallback(u=>{"worklet";t.value=Ie.BEGAN,o.value=e,s(e,u)},[t,o,e,s]),l=n.useCallback(u=>{"worklet";o.value===e&&(t.value=u.state,r(e,u))},[t,o,e,r]),d=n.useCallback(u=>{"worklet";o.value===e&&(t.value=u.state,o.value=se.UNDETERMINED,a(e,u))},[t,o,e,a]),f=n.useCallback(u=>{"worklet";o.value===e&&(t.value=u.state,o.value=se.UNDETERMINED,i(e,u))},[t,o,e,i]);return{handleOnStart:c,handleOnChange:l,handleOnEnd:d,handleOnFinalize:f}},Co=(e,t,o)=>{"worklet";return Math.min(Math.max(t,e),o)},Io=(e,t,o)=>{"worklet";const s=e+.2*t,r=o.map(i=>Math.abs(s-i)),a=Math.min.apply(null,r);return o.filter(i=>Math.abs(s-i)===a)[0]},Do={initialPosition:0,initialTranslationY:0,initialKeyboardStatus:W.UNDETERMINED,isScrollablePositionLocked:!1},No=Re(gt.dismiss),yo=e=>{"worklet";Object.keys(e).map(t=>{e[t]=void 0})},Oo=()=>{const{animatedPosition:e,animatedDetentsState:t,animatedKeyboardState:o,animatedLayoutState:s,animatedScrollableState:r,enableOverDrag:a,enablePanDownToClose:i,overDragResistanceFactor:c,isInTemporaryPosition:l,animateToPosition:d,stopAnimation:f}=oe(),u=re({...Do}),h=n.useCallback(function(T,{translationY:k}){"worklet";f(),u.value={...u.value,initialPosition:e.value,initialKeyboardStatus:o.get().status,initialTranslationY:k},r.get().contentOffsetY>0&&(u.value.isScrollablePositionLocked=!0)},[f,u,e,o,r]),b=n.useCallback(function(T,{translationY:k}){"worklet";const{highestDetentPosition:z,detents:p}=t.get();if(z===void 0||p===void 0)return;let N=z;k=k-u.value.initialTranslationY,l.value&&u.value.initialKeyboardStatus===W.SHOWN&&(N=u.value.initialPosition),l.value&&u.value.initialPosition<N&&(N=u.value.initialPosition);const{containerHeight:V}=s.get(),H=i?V:p[0],{refreshable:R,contentOffsetY:_,type:A}=r.get();if(T===se.CONTENT&&R&&e.value===N)return;const w=u.value.initialPosition===N&&T===se.CONTENT||!u.value.isScrollablePositionLocked?_*-1:0,C=u.value.initialPosition+k,q=C+w,ee=Co(q,N,H);if(u.value.isScrollablePositionLocked&&T===se.CONTENT&&e.value===N&&(u.value.isScrollablePositionLocked=!1),a){if((T===se.HANDLE||A===ve.VIEW)&&C<N){const F=N-Math.sqrt(1+(N-C))*c;e.value=F;return}if(T===se.HANDLE&&C>H){const F=H+Math.sqrt(1+(C-H))*c;e.value=F;return}if(T===se.CONTENT&&C+w>H){const F=H+Math.sqrt(1+(C+w-H))*c;e.value=F;return}}e.value=ee},[u,a,i,c,l,t,s,e,r]),D=n.useCallback(function(T,{translationY:k,absoluteY:z,velocityY:p}){"worklet";const{highestDetentPosition:N,detents:V,closedDetentPosition:H}=t.get();if(N===void 0||V===void 0||H===void 0)return;const R=N,_=e.value===R,{refreshable:A,contentOffsetY:w,type:C}=r.get();if(T===se.CONTENT&&A&&_)return;if(l.value&&u.value.initialPosition>=e.value){u.value.initialPosition>e.value&&d(u.value.initialPosition,j.GESTURE,p/2);return}const q=C!==ve.UNDETERMINED&&C!==ve.VIEW;u.value.initialKeyboardStatus===W.SHOWN&&e.value>u.value.initialPosition&&(he.OS==="ios"&&q&&z>$t-o.get().heightWithinContainer||No()),l.value&&(l.value=!1);const ee=V.slice();i&&ee.unshift(H);const F=Io(k+u.value.initialPosition,p,ee);F===e.value||T===se.CONTENT&&w>0&&_||d(F,j.GESTURE,p/2)},[i,l,r,t,o,e,d,u]),m=n.useCallback(function(){"worklet";yo(u)},[u]);return{handleOnStart:h,handleOnChange:b,handleOnEnd:D,handleOnFinalize:m}},sn=()=>{const e=n.useContext(en);if(e===null)throw"'useBottomSheetGestureHandlers' cannot be used out of the BottomSheet!";return e},xo={rawContainerHeight:X,containerHeight:X,containerOffset:co.offset,handleHeight:X,footerHeight:X,contentHeight:X};function Po(e,t,o,s,r){const a=n.useMemo(()=>t+o,[t,o]),i=n.useMemo(()=>{const l={...xo};if(e){const d=e.get();l.containerHeight=s?d.height-a:d.height,l.containerOffset=d.offset}return r&&(l.handleHeight=0),l},[e,s,r,a]),[c]=n.useState(()=>pt(i));return be(()=>c.value.rawContainerHeight,(l,d)=>{l!==d&&l!==X&&c.modify(f=>{"worklet";return f.containerHeight=s?l-a:l,f})},[c,a,s]),be(()=>e==null?void 0:e.get().height,(l,d)=>{!l||l===d||l!==X&&c.modify(f=>{"worklet";return f.containerHeight=s?l-a:l,f})},[c,a,s]),c}const Ut={KEYBOARD_SHOW:he.select({ios:"keyboardWillShow",android:"keyboardDidShow",default:""}),KEYBOARD_HIDE:he.select({ios:"keyboardWillHide",android:"keyboardDidHide",default:""})},Ro={status:W.UNDETERMINED,height:0,heightWithinContainer:0,easing:"keyboard",duration:500},To=()=>{const e=n.useRef(new Set),t=re(Ro),o=re(null),s=n.useCallback((r,a,i,c,l)=>{"worklet";const d=t.get();if(r===W.SHOWN&&!d.target){o.set({status:r,height:a,duration:i,easing:c});return}o.set(null);let f=r===W.SHOWN?a:d.height;l&&(f=f+l),t.set(u=>({status:r,easing:c,duration:i,height:f,target:u.target,heightWithinContainer:u.heightWithinContainer}))},[t,o]);return n.useEffect(()=>{const r=l=>{Oe(s)(W.SHOWN,l.endCoordinates.height,l.duration,l.easing,Jt-l.endCoordinates.height-l.endCoordinates.screenY)},a=l=>{Oe(s)(W.HIDDEN,l.endCoordinates.height,l.duration,l.easing)},i=gt.addListener(Ut.KEYBOARD_SHOW,r),c=gt.addListener(Ut.KEYBOARD_HIDE,a);return()=>{i.remove(),c.remove()}},[s]),be(()=>t.value.target,(r,a)=>{if(!r||r===a)return;const i=o.get();i&&s(i.status,i.height,i.duration,i.easing)},[o,s]),{state:t,textInputNodesRef:e}};function rn(e){const t=n.useRef();return n.useLayoutEffect(()=>{t.current=e}),n.useEffect(()=>()=>{t.current=void 0},[]),n.useCallback((...o)=>{var s;return(s=t.current)==null?void 0:s.call(t,...o)},[])}const ko=2.5,Ho=!0,Bo=!0,Lo=!0,_o=!1,wo=!0,Ao=!0,Mo=pe.interactive,Vo=Et.none,Fo=vt.adjustPan,Uo=!1,Go=-998,jo=Number.NEGATIVE_INFINITY,Wo=Jt,Yo=!0,Ko="Bottom Sheet",zo="adjustable",qo=(e,t,o,s,r,a,i=0)=>Ne(()=>{const{containerHeight:l,handleHeight:d,contentHeight:f}=t.get();if(l===X)return{};let h=(e?"value"in e?e.value:e:[]).map(T=>on(T,l)),b=h[h.length-1],D=l;if((a||r)&&(D=l+i),!o)return{detents:h,highestDetentPosition:b,closedDetentPosition:D};if(f===X)return{};if(d===X)return{};const m=l-Math.min(f+d,s!==void 0?s:l);h.includes(m)||h.push(m),h=h.sort((T,k)=>k-T),b=h[h.length-1];const I=h.indexOf(m);return{detents:h,dynamicDetentIndex:I,highestDetentPosition:b,closedDetentPosition:D}},[e,t,o,s,r,a,i]),Xo=e=>{const t=n.useRef(null),o=n.useRef(null);return e&&typeof e=="object"&&"value"in e||(o.current===null?(t.current=e,typeof e=="object"?o.current=pt({...e}):o.current=pt(e)):t.current!==e&&(o.current.value=e)),n.useEffect(()=>()=>{o.current&&Kt(o.current)},[]),o.current??e};function ln(e,t){bo()&&n.useLayoutEffect(()=>{if(!(!e||!e.current)){if(e.current.unstable_getBoundingClientRect!==null){const o=e.current.unstable_getBoundingClientRect();t(o);return}if(e.current.getBoundingClientRect!==null){const o=e.current.getBoundingClientRect();t(o)}}})}function cn(e,t){const[o,s]=n.useState(0),{animatedLayoutState:r}=oe(),a=n.useMemo(()=>t?Array.isArray(t)?ae.compose(...t):t:{},[t]),i=n.useMemo(()=>{if(!e)return a;let c=0;if(a&&typeof a=="object"){const{paddingBottom:l,padding:d,paddingVertical:f}=a;l!==void 0&&typeof l=="number"?c=l:f!==void 0&&typeof f=="number"?c=f:d!==void 0&&typeof d=="number"&&(c=d)}return[a,{paddingBottom:c+o,overflow:"visible"}]},[o,e,a]);return be(()=>r.get().footerHeight,(c,l)=>{e&&(Re(s)(c),he.OS==="web"&&c&&!l&&r.modify(d=>{"worklet";return d.contentHeight=d.contentHeight+c,d}))},[r,e]),i}const un=ae.create({container:ae.absoluteFillObject,background:{backgroundColor:"white",borderRadius:15}}),$o=({pointerEvents:e,style:t})=>S.jsx(Te,{pointerEvents:e,accessible:!0,accessibilityRole:"adjustable",accessibilityLabel:"Bottom Sheet",style:[un.background,t]}),dn=n.memo($o);dn.displayName="BottomSheetBackground";const Jo=({animatedIndex:e,animatedPosition:t,backgroundComponent:o,backgroundStyle:s})=>{const r=n.useMemo(()=>ae.flatten([un.container,s]),[s]),a=o??dn;return S.jsx(a,{pointerEvents:"none",animatedIndex:e,animatedPosition:t,style:r})},fn=n.memo(Jo);fn.displayName="BottomSheetBackgroundContainer";const Zo=ae.create({container:{position:"absolute",top:0,left:0,right:0,zIndex:9999,pointerEvents:"box-none"}});function Qo({animatedFooterPosition:e,bottomInset:t=0,style:o,children:s}){const r=n.useRef(null),{animatedLayoutState:a,animatedKeyboardState:i}=oe(),c=et(()=>{let u=e.get();return i.get().status!==W.SHOWN&&(u=u-t),{transform:[{translateY:Math.max(0,u)}]}},[t,i,e]),l=n.useMemo(()=>[Zo.container,o,c],[o,c]),d=n.useCallback(({nativeEvent:{layout:{height:u}}})=>{a.modify(h=>{"worklet";return h.footerHeight=u,h})},[a]),f=n.useCallback(({height:u})=>{a.modify(h=>{"worklet";return h.footerHeight=u,h})},[a]);return ln(r,f),s!==null?S.jsx(ue.View,{ref:r,onLayout:d,style:l,children:s}):null}const ea=n.memo(Qo);ea.displayName="BottomSheetFooter";const ta=({footerComponent:e})=>{const{animatedLayoutState:t,animatedPosition:o,animatedKeyboardState:s}=oe(),r=Ne(()=>{const{handleHeight:a,footerHeight:i,containerHeight:c}=t.get();if(a===X)return 0;const{status:l,heightWithinContainer:d}=s.get(),f=o.get();let u=Math.max(0,c-f);return l===W.SHOWN&&(u=u-d),u=u-i-a,u},[s,o,t]);return S.jsx(e,{animatedFooterPosition:r})},hn=n.memo(ta);hn.displayName="BottomSheetFooterContainer";const na=({gestureEventsHandlersHook:e=Oo,children:t})=>{const o=re(se.UNDETERMINED),{animatedContentGestureState:s,animatedHandleGestureState:r}=oe(),{handleOnStart:a,handleOnChange:i,handleOnEnd:c,handleOnFinalize:l}=e(),d=Ft(se.CONTENT,s,o,a,i,c,l),f=Ft(se.HANDLE,r,o,a,i,c,l),u=n.useMemo(()=>({contentPanGestureHandler:d,handlePanGestureHandler:f,animatedGestureSource:o}),[d,f,o]);return S.jsx(en.Provider,{value:u,children:t})},oa=!0,aa="adjustable",sa="Bottom sheet handle",ra="Drag up or down to extend or minimize the bottom sheet",Gt=ae.create({container:{padding:10,...he.select({web:{cursor:"pointer"},default:{}})},indicator:{alignSelf:"center",width:7.5*ao/100,height:4,borderRadius:4,backgroundColor:"rgba(0, 0, 0, 0.75)"}});function ia({style:e,indicatorStyle:t,accessible:o=oa,accessibilityRole:s=aa,accessibilityLabel:r=sa,accessibilityHint:a=ra,children:i}){const c=n.useMemo(()=>[Gt.container,ae.flatten(e)],[e]),l=n.useMemo(()=>[Gt.indicator,ae.flatten(t)],[t]);return S.jsxs(Te,{style:c,accessible:o??void 0,accessibilityRole:s??void 0,accessibilityLabel:r??void 0,accessibilityHint:a??void 0,collapsable:!0,children:[S.jsx(Te,{style:l}),i]})}const mn=n.memo(ia);mn.displayName="BottomSheetHandle";function la({animatedIndex:e,animatedPosition:t,simultaneousHandlers:o,enableHandlePanningGesture:s=Bo,handleComponent:r,handleStyle:a,handleIndicatorStyle:i}){const c=n.useRef(null),{animatedLayoutState:l,activeOffsetX:d,activeOffsetY:f,failOffsetX:u,failOffsetY:h,waitFor:b,simultaneousHandlers:D}=oe(),{handlePanGestureHandler:m}=sn(),I=n.useMemo(()=>{const p=[];return o&&p.push(o),D&&(Array.isArray(D)?p.push(...D):p.push(D)),p},[D,o]),T=n.useMemo(()=>{let p=tt.Pan().enabled(s).shouldCancelWhenOutside(!1).runOnJS(!1).onStart(m.handleOnStart).onChange(m.handleOnChange).onEnd(m.handleOnEnd).onFinalize(m.handleOnFinalize);return b&&(p=p.requireExternalGestureToFail(b)),I&&(p=p.simultaneousWithExternalGesture(I)),d&&(p=p.activeOffsetX(d)),f&&(p=p.activeOffsetY(f)),u&&(p=p.failOffsetX(u)),h&&(p=p.failOffsetY(h)),p},[d,f,s,u,h,I,b,m.handleOnChange,m.handleOnEnd,m.handleOnFinalize,m.handleOnStart]),k=n.useCallback(function({nativeEvent:{layout:{height:N}}}){l.modify(V=>{"worklet";return V.handleHeight=N,V})},[l]),z=n.useCallback(({height:p})=>{l.modify(N=>{"worklet";return N.handleHeight=p,N})},[l]);return ln(c,z),S.jsx(nt,{gesture:T,children:S.jsx(ue.View,{ref:c,onLayout:k,children:S.jsx(r,{animatedIndex:e,animatedPosition:t,style:a,indicatorStyle:i})},"BottomSheetHandleContainer")})}const gn=n.memo(la);gn.displayName="BottomSheetHandleContainer";const ca=ae.create({container:{position:"absolute",left:0,right:0,bottom:0,top:0}});function ua({containerLayoutState:e,layoutState:t,topInset:o=0,bottomInset:s=0,shouldCalculateHeight:r=!0,detached:a,style:i,children:c}){const l=n.useRef(null),d=n.useMemo(()=>[i,ca.container,{top:o,bottom:s,overflow:a?"visible":"hidden"}],[i,a,o,s]),f=n.useCallback(function({nativeEvent:{layout:{height:h}}}){var b;e&&e.modify(D=>{"worklet";return D.height=h,D}),t&&t.modify(D=>{"worklet";return D.rawContainerHeight=h,D}),(b=l.current)==null||b.measure((D,m,I,T,k,z)=>{const p={bottom:Math.max(0,$t-((z??0)+h+(Fn.currentHeight??0))),top:z??0,left:0,right:0};e&&e.modify(N=>{"worklet";return N.offset=p,N}),t&&t.modify(N=>{"worklet";return N.containerOffset=p,N})})},[t,e]);return S.jsx(Te,{ref:l,pointerEvents:"box-none",onLayout:r?f:void 0,style:d,collapsable:!0,children:c})}const pn=n.memo(ua);pn.displayName="BottomSheetHostingContainer";const da=ae.create({container:{flexDirection:"column-reverse",position:"absolute",top:0,left:0,right:0}});function fa({style:e,children:t}){const{animatedIndex:o,animatedPosition:s}=oe(),r=et(()=>({opacity:he.OS==="android"&&o.get()===-1?0:1,transform:[{translateY:s.get()}]}),[s,o]),a=n.useMemo(()=>[e,da.container,r],[e,r]);return S.jsx(ue.View,{style:a,collapsable:!0,children:t})}const bn=n.memo(fa);bn.displayName="BottomSheetBody";const ha=({nativeGestureRef:e,refreshControlGestureRef:t,style:o,children:s,...r})=>{const{enableContentPanningGesture:a,simultaneousHandlers:i,waitFor:c,activeOffsetX:l,activeOffsetY:d,failOffsetX:f,failOffsetY:u}=oe(),{contentPanGestureHandler:h}=sn(),b=n.useMemo(()=>{const m=[];return e&&m.push(e),t&&m.push(t),i&&(Array.isArray(i)?m.push(...i):m.push(i)),m},[i,e,t]),D=n.useMemo(()=>{let m=tt.Pan().enabled(a).shouldCancelWhenOutside(!1).runOnJS(!1).onStart(h.handleOnStart).onChange(h.handleOnChange).onEnd(h.handleOnEnd).onFinalize(h.handleOnFinalize);return c&&(m=m.requireExternalGestureToFail(c)),b&&(m=m.simultaneousWithExternalGesture(b)),l&&(m=m.activeOffsetX(l)),d&&(m=m.activeOffsetY(d)),f&&(m=m.failOffsetX(f)),u&&(m=m.failOffsetY(u)),m},[l,d,a,f,u,b,c,h.handleOnChange,h.handleOnEnd,h.handleOnFinalize,h.handleOnStart]);return S.jsx(nt,{gesture:D,children:S.jsx(tn.Provider,{value:D,children:S.jsx(ue.View,{style:o,...r,children:s})})})},En=n.memo(ha);En.displayName="BottomSheetDraggableView";function ma({detached:e,animationConfigs:t,overrideReduceMotion:o,keyboardBehavior:s,accessible:r,accessibilityLabel:a,accessibilityHint:i,accessibilityRole:c,children:l}){const{enableDynamicSizing:d,overDragResistanceFactor:f,enableContentPanningGesture:u,animatedPosition:h,animatedLayoutState:b,animatedDetentsState:D,animatedSheetHeight:m,animatedKeyboardState:I,isInTemporaryPosition:T}=oe(),k=Ne(()=>{const{containerHeight:H,handleHeight:R}=b.get();if(H===X)return 0;const{status:_,heightWithinContainer:A}=I.get();let w=m.get()-Math.max(0,R);switch(s){case pe.extend:_===W.SHOWN&&(w=w-A);break;case pe.fillParent:if(!T.get())break;_===W.SHOWN?w=H-R-A:w=H-R;break;case pe.interactive:{if(!T.get())break;const C=w+A;_===W.SHOWN?A+m.get()>H&&(w=H-A-R):C+R>H?w=H-R:w=C;break}}return Math.max(w,0)},[b,I,m,T,s]),z=Ne(()=>{const H=b.get().containerHeight;if(H===X)return 0;const{highestDetentPosition:R}=D.get(),_=Math.max(R??0,h.get()),A=Math.sqrt(_-H*-1)*f;let w=A;const{status:C,heightWithinContainer:q}=I.get();return C===W.SHOWN&&(w=A+q),w},[f,h,b,D,I]),p=et(()=>{const{containerHeight:H,contentHeight:R}=b.get();if(H===X)return{};if(d&&R===X)return{};const _=e?0:z.get(),A=k.get()+_;return{paddingBottom:St({point:_,configs:t,overrideReduceMotion:o}),height:St({point:A,configs:t,overrideReduceMotion:o})}},[f,d,e,t,o,b,k,b]),N=n.useMemo(()=>[e?{overflow:"visible"}:{overflow:"hidden"},p],[p,e]),V=u?En:ue.View;return S.jsx(V,{accessible:r,accessibilityLabel:a,accessibilityHint:i,accessibilityRole:c,style:N,children:l})}const vn=n.memo(ma);vn.displayName="BottomSheetContent";ue.addWhitelistedUIProps({decelerationRate:!0});const ga=n.forwardRef(function(t,o){const{animationConfigs:s,index:r=0,snapPoints:a,animateOnMount:i=wo,enableContentPanningGesture:c=Ho,enableHandlePanningGesture:l,enableOverDrag:d=Lo,enablePanDownToClose:f=_o,enableDynamicSizing:u=Ao,overDragResistanceFactor:h=ko,overrideReduceMotion:b,style:D,containerStyle:m,backgroundStyle:I,handleStyle:T,handleIndicatorStyle:k,gestureEventsHandlersHook:z,keyboardBehavior:p=Mo,keyboardBlurBehavior:N=Vo,android_keyboardInputMode:V=Fo,enableBlurKeyboardOnGesture:H=Uo,containerLayoutState:R,topInset:_=0,bottomInset:A=0,maxDynamicContentSize:w,containerHeight:C,containerOffset:q,animatedPosition:ee,animatedIndex:F,simultaneousHandlers:Se,waitFor:Ce,activeOffsetX:Ye,activeOffsetY:Ke,failOffsetX:ze,failOffsetY:qe,onChange:we,onClose:Ae,onAnimate:Me,$modal:xe=!1,detached:Ve=!1,handleComponent:Pe=mn,backdropComponent:Xe,backgroundComponent:Fe,footerComponent:$e,children:at,accessible:st=Yo,accessibilityLabel:G=Ko,accessibilityRole:y=zo}=t,Y=Po(R,_,A,xe,Pe===null),O=qo(a,Y,u,w,Ve,xe,A),Ue=Ne(()=>{const{containerHeight:x}=Y.get(),{highestDetentPosition:g}=O.get();return g===void 0?X:x-g},[Y,O]),ie=Xo(i?-1:r),M=re(Wo),de=re(!i||r===-1),te=Ne(()=>{let x=!1;const{containerHeight:g,handleHeight:E}=Y.get();(g!==null||g!==void 0)&&(x=!0),g!==X&&(x=!0);let v=!1;Pe===null&&(v=!0),E!==X&&(v=!0);let P=!1;const{detents:L}=O.get();return L&&(P=!0),x&&v&&P},[Y,O,Pe]),K=re(!1),ye=re(!1),ke=re(Ie.UNDETERMINED),He=re(Ie.UNDETERMINED),{state:ne,textInputNodesRef:Nt}=To(),yt=to(),Ot=n.useMemo(()=>!b||b===wt.System?yt:b===wt.Always,[yt,b]),B=re({status:Q.UNDETERMINED,source:j.MOUNT}),Ge=Ne(()=>{const{detents:x,closedDetentPosition:g}=O.get();if(!x||x.length===0||g===void 0||M.value>=g)return fe.CLOSED;const{containerHeight:E}=Y.get(),v=E-Ue.value;if(M.value===v)return fe.EXTENDED;const P=ne.get().heightWithinContainer,L=Math.max(0,E-(Ue.value+P));return p===pe.interactive&&K.value&&M.value===L?fe.EXTENDED:M.value===0?fe.FILL_PARENT:M.value<v?fe.OVER_EXTENDED:fe.OPENED},[Y,O,ne,M,Ue,K,p]),{state:xt,status:Pt,setScrollableRef:Rt,removeScrollableRef:Tt}=Eo(c,Ge,ne,B),me=Ne(()=>{const{detents:x}=O.get();if(!x||x.length===0)return-1;const g=x.slice().reverse(),E=x.slice().map((le,ge)=>ge).reverse(),{containerHeight:v}=Y.get();g.push(v),E.push(-1);const P=te.value?zt(M.value,g,E,qt.CLAMP):-1,{status:L,source:U,nextIndex:Z,nextPosition:J}=B.get();return V===vt.adjustResize&&L===Q.RUNNING&&U===j.KEYBOARD&&K.value?Math.max(ie.value,P):L===Q.RUNNING&&U===j.SNAP_POINT_CHANGE&&Z!==void 0&&J!==void 0?Z:P},[V,B,Y,ie,M,O,K,te]),kt=n.useCallback(function(g,E){if(!we)return;const{dynamicDetentIndex:v}=O.get();we(g,E,g===v?bt.DYNAMIC:bt.PROVIDED)},[we,O]),Ht=n.useCallback(function(g,E){g!==ie.get()&&Me&&Me(ie.value,g,M.value,E)},[Me,ie,M]),Bt=n.useCallback(function(){Ae&&Ae()},[Ae]),Be=n.useCallback(()=>{"worklet";Kt(M),B.set({status:Q.STOPPED,source:j.NONE})},[M,B]),Lt=n.useCallback(function(g){"worklet";if(!g)return;const{nextIndex:E,nextPosition:v}=B.get();E===void 0||v===void 0||(E!==ie.get()&&Re(kt)(E,v),E===-1&&Re(Bt)(),ie.set(E),ye.set(!1),de.set(!0),B.set({status:Q.STOPPED,source:j.NONE,nextIndex:void 0,nextPosition:void 0,isForcedClosing:void 0}))},[kt,Bt,ie,B,ye,de]),$=n.useCallback(function(g,E,v=0,P){"worklet";if(g===void 0||g===M.get())return;const{status:L,nextPosition:U}=B.get();if(L===Q.RUNNING&&g===U)return;L===Q.RUNNING&&Be();let Z=0;const{status:J,heightWithinContainer:le}=ne.get(),ge=Ge.get();J===W.SHOWN&&p!==pe.extend&&([j.KEYBOARD,j.SNAP_POINT_CHANGE].includes(E)||ge===fe.OVER_EXTENDED)&&(Z=le);const{detents:Je,closedDetentPosition:ft,highestDetentPosition:ht}=O.get();let Ze=(Je==null?void 0:Je.indexOf(g+Z))??-1;Ze===-1&&J===W.SHOWN&&g!==ft&&(Ze=ht??Go),B.set(Hn=>{"worklet";return{...Hn,status:Q.RUNNING,source:E,nextIndex:Ze,nextPosition:g}}),Re(Ht)(Ze,g),M.value=St({point:g,configs:P||s,velocity:v,overrideReduceMotion:b,onComplete:Lt})},[Ht,Be,Lt,p,s,b,O,B,ne,M,Ge]),je=n.useCallback(function(g){"worklet";if(!g||g===M.get())return;const{status:E,nextPosition:v}=B.get();if(E===Q.RUNNING&&g===v)return;const{detents:P}=O.get(),L=(P==null?void 0:P.indexOf(g))??-1;B.set(U=>{"worklet";return{...U,nextPosition:g,nextIndex:L}}),Be(),M.value=g,ye.value=!1},[Be,M,ye,B,O]),rt=n.useCallback(function(g){"worklet";const E=ie.value,{detents:v,highestDetentPosition:P,closedDetentPosition:L}=O.get(),U=ne.get().status;if(v===void 0||P===void 0||L===void 0)return;if(g===j.KEYBOARD&&N===Et.restore&&U===W.HIDDEN&&ke.value!==Ie.ACTIVE&&He.value!==Ie.ACTIVE)return K.value=!1,v[E];if(p===pe.extend&&U===W.SHOWN)return P;if(p===pe.fillParent&&U===W.SHOWN)return K.value=!0,0;if(p===pe.interactive&&U===W.SHOWN&&!(he.OS==="android"&&V==="adjustResize")){K.value=!0;const ge=ne.get().heightWithinContainer;return Math.max(0,P-ge)}if(K.value)return M.value;if(!de.value)return r===-1?L:v[r];const{status:Z,nextIndex:J,nextPosition:le}=B.get();return g===j.SNAP_POINT_CHANGE&&Z===Q.RUNNING&&J!==void 0&&le!==void 0&&v[J]!==le?v[J]:v[E]},[ke,ie,He,B,ne,M,O,K,de,p,N,r,V]),_t=n.useCallback(function(g,E){"worklet";const{status:v,nextIndex:P,isForcedClosing:L}=B.get(),{detents:U,closedDetentPosition:Z}=O.get();if(U===void 0||U.length===0||Z===void 0||L&&g!==j.USER||!te.value)return;const J=rt(g);if(J!==void 0){if(!de.value){i?$(J,j.MOUNT,void 0,E):(je(J),de.value=!0);return}if(v===Q.RUNNING){const le=P??jo;if(le===-1&&!K.value){je(Z);return}if(le!==ie.value){$(U[le],g,void 0,E);return}}if(v!==Q.RUNNING&&ie.value===-1){if(Ot&&U[me.value]!==M.value)return;je(Z);return}if(ye.value){je(J);return}$(J,g,void 0,E)}},[rt,$,je,Ot,i,B,ye,ie,me,M,O,de,K,te]),We=rn(function(g,E){const{detents:v}=O.get(),P=te.get();if(v===void 0||v.length===0||!P)return;Un(g>=-1&&g<=v.length-1,`'index' was provided but out of the provided snap points range! expected value to be between -1, ${v.length-1}`);const L=v[g],{nextPosition:U,nextIndex:Z,isForcedClosing:J}=B.get();!te.value||g===Z||L===U||J||(K.value=!1,Oe($)(L,j.USER,0,E))}),it=n.useCallback(function(g,E){"worklet";const{containerHeight:v}=Y.get(),P=on(g,v),{nextPosition:L,isForcedClosing:U}=B.get();!te||P===L||U||(K.value=!0,Oe($)(P,j.USER,0,E))},[$,K,te,Y,B]),lt=n.useCallback(function(g){const E=O.get().closedDetentPosition;if(E===void 0)return;const v=E,{nextPosition:P,isForcedClosing:L}=B.get();!te.value||v===P||L||(K.value=!1,Oe($)(v,j.USER,0,g))},[$,te,K,O,B]),ct=n.useCallback(function(g){const E=O.get().closedDetentPosition;if(E===void 0)return;const v=E,{nextPosition:P,isForcedClosing:L}=B.get();v===P||L||(K.value=!1,B.set(U=>{"worklet";return{...U,isForcedClosing:!0}}),Oe($)(v,j.USER,0,g))},[$,K,O,B]),ut=n.useCallback(function(g){const{detents:E}=O.get();if(E===void 0||E.length===0)return;const v=E.length-1,P=E[v],{nextPosition:L,nextIndex:U,isForcedClosing:Z}=B.get();!te.value||v===U||P===L||Z||(K.value=!1,Oe($)(P,j.USER,0,g))},[$,K,te,O,B]),dt=n.useCallback(function(g){const{detents:E}=O.get();if(E===void 0||E.length===0)return;const v=E[0],{nextPosition:P,nextIndex:L,isForcedClosing:U}=B.get();!te||L===0||v===P||U||(K.value=!1,Oe($)(v,j.USER,0,g))},[$,te,K,O,B]);n.useImperativeHandle(o,()=>({snapToIndex:We,snapToPosition:it,expand:ut,collapse:dt,close:lt,forceClose:ct}));const Tn=n.useMemo(()=>({textInputNodesRef:Nt,enableContentPanningGesture:c,enableDynamicSizing:u,overDragResistanceFactor:h,enableOverDrag:d,enablePanDownToClose:f,animatedAnimationState:B,animatedSheetState:Ge,animatedScrollableState:xt,animatedScrollableStatus:Pt,animatedContentGestureState:ke,animatedHandleGestureState:He,animatedKeyboardState:ne,animatedLayoutState:Y,animatedIndex:me,animatedPosition:M,animatedSheetHeight:Ue,animatedDetentsState:O,isInTemporaryPosition:K,simultaneousHandlers:Se,waitFor:Ce,activeOffsetX:Ye,activeOffsetY:Ke,failOffsetX:ze,failOffsetY:qe,enableBlurKeyboardOnGesture:H,animateToPosition:$,stopAnimation:Be,setScrollableRef:Rt,removeScrollableRef:Tt}),[Nt,me,M,Ue,Y,ke,He,B,ne,Ge,xt,Pt,O,K,c,h,d,f,u,H,Se,Ce,Ye,Ke,ze,qe,Rt,Tt,$,Be]),kn=n.useMemo(()=>({animatedIndex:me,animatedPosition:M,snapToIndex:We,snapToPosition:it,expand:ut,collapse:dt,close:lt,forceClose:ct}),[me,M,We,it,ut,dt,lt,ct]);return be(()=>Y.get().containerHeight,(x,g)=>{if(x===X)return;ye.value=x!==g;const{closedDetentPosition:E}=O.get();if(E===void 0)return;const{status:v,source:P,nextIndex:L}=B.get();v===Q.RUNNING&&P===j.GESTURE&&L===-1&&$(E,j.GESTURE)},[ye,B,O]),be(()=>O.get().detents,(x,g)=>{JSON.stringify(x)===JSON.stringify(g)&&de.value||te.value&&_t(j.SNAP_POINT_CHANGE)},[te,de,O]),be(()=>ne.get().status+ne.get().height,(x,g)=>{if(x===g)return;const{status:E,height:v,easing:P,duration:L,target:U}=ne.get();if(E===W.UNDETERMINED)return;const{status:Z,source:J}=B.get();if(E===W.HIDDEN&&Z===Q.RUNNING&&J===j.GESTURE)return;const le=Y.get().containerOffset;let ge=v===0?0:Math.abs(xe?v-Math.abs(A-le.bottom):v-le.bottom);if(he.OS==="android"&&V===vt.adjustResize&&(ge=0,p===pe.interactive)){ne.set({target:U,status:E,height:v,easing:P,duration:L,heightWithinContainer:ge});return}if(ne.set(ht=>({...ht,heightWithinContainer:ge})),ke.value===Ie.ACTIVE||ke.value===Ie.BEGAN||He.value===Ie.ACTIVE||He.value===Ie.BEGAN||E===W.HIDDEN&&N===Et.none)return;const ft=po(P,L);_t(j.KEYBOARD,ft)},[xe,A,p,N,V,ne,Y,rt]),be(()=>M.value,x=>{ee&&(ee.value=x+_)},[ee,_]),be(()=>me.value,x=>{F&&(F.value=x)},[F]),n.useEffect(()=>{i&&!de.value||We(r)},[i,r,de,We]),S.jsx(uo,{value:kn,children:S.jsx(fo,{value:Tn,children:S.jsxs(na,{gestureEventsHandlersHook:z,children:[Xe?S.jsx(Xe,{animatedIndex:me,animatedPosition:M,style:ae.absoluteFillObject}):null,S.jsx(pn,{shouldCalculateHeight:!xe,layoutState:Y,containerLayoutState:R,topInset:_,bottomInset:A,detached:Ve,style:m,children:S.jsxs(bn,{style:D,children:[Fe===null?null:S.jsx(fn,{animatedIndex:me,animatedPosition:M,backgroundComponent:Fe,backgroundStyle:I},"BottomSheetBackgroundContainer"),S.jsxs(vn,{pointerEvents:"box-none",accessible:st??void 0,accessibilityRole:y??void 0,accessibilityLabel:G??void 0,keyboardBehavior:p,detached:Ve,children:[at,$e?S.jsx(hn,{footerComponent:$e}):null]}),Pe!==null?S.jsx(gn,{animatedIndex:me,animatedPosition:M,enableHandlePanningGesture:l,enableOverDrag:d,enablePanDownToClose:f,overDragResistanceFactor:h,keyboardBehavior:p,handleComponent:Pe,handleStyle:T,handleIndicatorStyle:k},"BottomSheetHandleContainer"):null]})},"BottomSheetContainer")]})})})}),Sn=n.memo(ga);Sn.displayName="BottomSheet";var Ee;(function(e){e[e.REGISTER_HOST=0]="REGISTER_HOST",e[e.DEREGISTER_HOST=1]="DEREGISTER_HOST",e[e.ADD_UPDATE_PORTAL=2]="ADD_UPDATE_PORTAL",e[e.REMOVE_PORTAL=3]="REMOVE_PORTAL"})(Ee||(Ee={}));const pa={},Cn=n.createContext(null),In=n.createContext(null),It=(e="root")=>{const t=n.useContext(In);if(t===null)throw new Error("'PortalDispatchContext' cannot be null, please add 'PortalProvider' to the root component.");const o=n.useCallback(()=>{t({type:Ee.REGISTER_HOST,hostName:e})},[]),s=n.useCallback(()=>{t({type:Ee.DEREGISTER_HOST,hostName:e})},[]),r=n.useCallback((i,c)=>{t({type:Ee.ADD_UPDATE_PORTAL,hostName:e,portalName:i,node:c})},[]),a=n.useCallback(i=>{t({type:Ee.REMOVE_PORTAL,hostName:e,portalName:i})},[]);return{registerHost:o,deregisterHost:s,addPortal:r,updatePortal:r,removePortal:a}},ba=({name:e,hostName:t,handleOnMount:o,handleOnUnmount:s,handleOnUpdate:r,children:a})=>{const{addPortal:i,removePortal:c}=It(t),l=n.useMemo(()=>e||Gn(),[e]),d=n.useRef(),f=n.useRef(),u=n.useRef(),h=n.useCallback(()=>{o?o(()=>i(l,a)):i(l,a)},[o,i]);d.current=h;const b=n.useCallback(()=>{s?s(()=>c(l)):c(l)},[s,c]);f.current=b;const D=n.useCallback(()=>{r?r(()=>i(l,a)):i(l,a)},[r,i,a]);return u.current=D,n.useEffect(()=>{var m;return(m=d.current)===null||m===void 0||m.call(d),()=>{var I;(I=f.current)===null||I===void 0||I.call(f),d.current=void 0,f.current=void 0,u.current=void 0}},[]),n.useEffect(()=>{var m;(m=u.current)===null||m===void 0||m.call(u)},[a]),null},Dn=n.memo(ba);Dn.displayName="Portal";const Ea=e=>{const t=n.useContext(Cn);if(t===null)throw new Error("'PortalStateContext' cannot be null, please add 'PortalProvider' to the root component.");return t[e]||[]},va=({name:e})=>{const t=Ea(e),{registerHost:o,deregisterHost:s}=It(e);return n.useEffect(()=>(o(),()=>{s()}),[]),Le.createElement(Le.Fragment,null,t.map(r=>r.node))},Nn=n.memo(va);Nn.displayName="PortalHost";const Sa=!1;let Dt=()=>{};Sa&&(Dt=({component:e,method:t,params:o})=>{});Object.freeze(Dt);const yn=(e,t)=>(t in e||(e[t]=[]),e),Ca=(e,t)=>(delete e[t],e),Ia=(e,t,o,s)=>{t in e||(e=yn(e,t));const r=e[t].findIndex(a=>a.name===o);return r!==-1?e[t][r].node=s:e[t].push({name:o,node:s}),e},On=(e,t,o)=>{if(!(t in e))return Dt({component:xn.name,method:On.name,params:"Failed to remove portal '".concat(o,"', '").concat(t,"' was not registered!")}),e;const s=e[t].findIndex(r=>r.name===o);return s!==-1&&e[t].splice(s,1),e},xn=(e,t)=>{const{type:o}=t;let s={...e};switch(o){case Ee.REGISTER_HOST:return yn(s,t.hostName);case Ee.DEREGISTER_HOST:return Ca(s,t.hostName);case Ee.ADD_UPDATE_PORTAL:return Ia(s,t.hostName,t.portalName,t.node);case Ee.REMOVE_PORTAL:return On(s,t.hostName,t.portalName);default:return e}},Da=({rootHostName:e="root",shouldAddRootHost:t=!0,children:o})=>{const[s,r]=n.useReducer(xn,pa);return Le.createElement(In.Provider,{value:r},Le.createElement(Cn.Provider,{value:s},o,t&&Le.createElement(Nn,{name:e})))},Na=n.memo(Da);Na.displayName="PortalProvider";let mt=0;const ya=()=>(mt=(mt+1)%Number.MAX_SAFE_INTEGER,mt),Oa="switch",xa=!0,jt={mount:!1,data:void 0};function Pa(e,t){const{name:o,stackBehavior:s=Oa,enableDismissOnClose:r=xa,onDismiss:a,onAnimate:i,index:c=0,snapPoints:l,enablePanDownToClose:d=!0,animateOnMount:f=!0,containerComponent:u=Le.Fragment,onChange:h,children:b,...D}=e,[{mount:m,data:I},T]=n.useState(jt),{hostName:k,containerLayoutState:z,mountSheet:p,unmountSheet:N,willUnmountSheet:V}=go(),{removePortal:H}=It(k),R=n.useRef(null),_=n.useRef(f?-1:c),A=n.useRef(null),w=n.useRef(-1),C=n.useRef(!1),q=n.useRef(!1),ee=n.useRef(!1);ee.current=m;const F=n.useMemo(()=>o||`bottom-sheet-modal-${ya()}`,[o]),Se=n.useCallback(function G(){an({component:Pn.name,method:G.name}),_.current=-1,w.current=-1,C.current=!1,ee.current=!1,q.current=!1},[]),Ce=n.useCallback(function(){const y=ee.current;Se(),N(F),H(F),y&&T(jt),a&&a()},[F,Se,N,H,a]),Ye=n.useCallback((...G)=>{var y;C.current||(y=R.current)==null||y.snapToIndex(...G)},[]),Ke=n.useCallback((...G)=>{var y;C.current||(y=R.current)==null||y.snapToPosition(...G)},[]),ze=n.useCallback((...G)=>{var y;C.current||(y=R.current)==null||y.expand(...G)},[]),qe=n.useCallback((...G)=>{var y;C.current||(y=R.current)==null||y.collapse(...G)},[]),we=n.useCallback((...G)=>{var y;C.current||(y=R.current)==null||y.close(...G)},[]),Ae=n.useCallback((...G)=>{var y;C.current||(y=R.current)==null||y.forceClose(...G)},[]),Me=n.useCallback(function(y){requestAnimationFrame(()=>{T({mount:!0,data:y}),p(F,t,s)})},[F,s,p]),xe=n.useCallback(function(y){var O;const Y=A.current!=null;if(!(_.current===-1&&C.current===!1&&!Y)){if(!Y&&(C.current||_.current===-1&&d)){Ce();return}V(F),q.current=!0,(O=R.current)==null||O.forceClose(y)}},[V,Ce,F,d]),Ve=n.useCallback(function(){var y;C.current||(C.current=!0,_.current===-1?w.current=c:w.current=_.current,(y=R.current)==null||y.close())},[c]),Pe=n.useCallback(function(){var y;!C.current||q.current||(C.current=!1,(y=R.current)==null||y.snapToIndex(w.current))},[]),Xe=n.useCallback(function(){var y;if(!(_.current===-1&&C.current===!1)){if(ee.current=!1,q.current=!0,C.current){Ce();return}V(F),(y=R.current)==null||y.close()}},[F,Ce,V]),Fe=n.useCallback(function(y){ee.current&&y()},[]),$e=n.useCallback(function(y,Y,O){_.current=y,A.current=null,h&&h(y,Y,O)},[h]),at=n.useCallback((G,y,Y,O)=>{A.current=y,i&&i(G,y,Y,O)},[i]),st=n.useCallback(function(){C.current||r&&Ce()},[r,Ce]);return n.useImperativeHandle(t,()=>({snapToIndex:Ye,snapToPosition:Ke,expand:ze,collapse:qe,close:we,forceClose:Ae,dismiss:xe,present:Me,minimize:Ve,restore:Pe})),m?S.jsx(Dn,{name:F,hostName:k,handleOnMount:Fe,handleOnUpdate:Fe,handleOnUnmount:Xe,children:S.jsx(u,{children:n.createElement(Sn,{...D,ref:R,key:F,index:c,snapPoints:l,enablePanDownToClose:d,animateOnMount:f,containerLayoutState:z,onChange:$e,onClose:st,onAnimate:at,$modal:!0},typeof b=="function"?S.jsx(b,{data:I}):b)},F)},F):null}const Pn=n.memo(n.forwardRef(Pa));Pn.displayName="BottomSheetModal";function Ra({scrollableGesture:e,children:t}){return e?S.jsx(nt,{gesture:e,children:t}):t}const Ta=()=>navigator.userAgent.indexOf("Safari")>-1,ka=n.forwardRef(function({nativeGesture:t,ScrollableComponent:o,animatedProps:s,setContentSize:r,onLayout:a,...i},c){const l=n.useRef(!1),{animatedLayoutState:d}=oe(),f=n.useCallback(h=>S.jsx(ue.ScrollView,{...h,animatedProps:s}),[s]),u=n.useCallback(h=>{if(a&&a(h),!l.current){if(l.current=!0,!Ta()||d.get().contentHeight!==X)return;window.requestAnimationFrame(()=>{r(h.nativeEvent.target.clientHeight)})}},[a,r,d]);return S.jsx(Ra,{scrollableGesture:t,children:S.jsx(o,{ref:c,...i,onLayout:u,renderScrollComponent:f})})});function Ha(){const{enableDynamicSizing:e,animatedLayoutState:t}=oe();return{setContentSize:n.useCallback(s=>{e&&t.modify(r=>{"worklet";return r.contentHeight=s,r})},[e,t])}}function ot(e,t){return n.forwardRef((o,s)=>{const{focusHook:r,scrollEventsHandlersHook:a,enableFooterMarginAdjustment:i=!1,overScrollMode:c="never",keyboardDismissMode:l="interactive",showsVerticalScrollIndicator:d=!0,contentContainerStyle:f,refreshing:u,onRefresh:h,progressViewOffset:b,refreshControl:D,onScroll:m,onScrollBeginDrag:I,onScrollEndDrag:T,onContentSizeChange:k,...z}=o,p=n.useContext(tn),{scrollableRef:N,scrollableContentOffsetY:V,scrollHandler:H}=So(a,m),{animatedScrollableStatus:R,enableContentPanningGesture:_}=oe(),{setContentSize:A}=Ha();if(!p&&_)throw"'Scrollable' cannot be used out of the BottomSheet!";const w=Qn(()=>({decelerationRate:lo[R.value],showsVerticalScrollIndicator:d&&R.value===ce.UNLOCKED}),[R,d]),C=n.useMemo(()=>p?tt.Native().simultaneousWithExternalGesture(p).shouldCancelWhenOutside(!1):void 0,[p]),q=rn((F,Se)=>{A(Se),k&&k(F,Se)}),ee=cn(i,f);return n.useImperativeHandle(s,()=>N.current),vo(N,e,V,h!==void 0,r),S.jsx(ka,{ref:N,nativeGesture:C,animatedProps:w,overScrollMode:c,keyboardDismissMode:l,refreshing:u,scrollEventThrottle:16,progressViewOffset:b,contentContainerStyle:ee,onRefresh:h,onScroll:H,onContentSizeChange:q,setContentSize:A,ScrollableComponent:t,refreshControl:D,...z})})}const Ba=ue.createAnimatedComponent(jn),La=ot(ve.SECTIONLIST,Ba),_a=n.memo(La);_a.displayName="BottomSheetSectionList";const wa=ue.createAnimatedComponent(Wn),Aa=ot(ve.FLATLIST,wa),Ma=n.memo(Aa);Ma.displayName="BottomSheetFlatList";const Va=ue.createAnimatedComponent(Yn),Fa=ot(ve.SCROLLVIEW,Va),Ua=n.memo(Fa);Ua.displayName="BottomSheetScrollView";const Ga=ue.createAnimatedComponent(Kn),ja=ot(ve.VIRTUALIZEDLIST,Ga),Wa=n.memo(ja);Wa.displayName="BottomSheetVirtualizedList";const Ya=ae.create({container:{position:"absolute",left:0,top:0,right:0}});function Ka({focusHook:e=n.useEffect,enableFooterMarginAdjustment:t=!1,onLayout:o,style:s,children:r,...a}){const{animatedScrollableState:i,enableDynamicSizing:c,animatedLayoutState:l}=oe(),d=cn(t,s),f=n.useMemo(()=>[d,Ya.container],[d]),u=n.useCallback(()=>{i.set(b=>({...b,contentOffsetY:0,type:ve.VIEW}))},[i]),h=n.useCallback(b=>{if(c){const{nativeEvent:{layout:{height:D}}}=b;l.modify(m=>{"worklet";return m.contentHeight=D,m})}o&&o(b)},[o,l,c]);return e(u),S.jsx(Te,{...a,onLayout:h,style:f,children:r})}const za=n.memo(Ka);za.displayName="BottomSheetView";const qa=n.forwardRef(({onFocus:e,onBlur:t,...o},s)=>{const r=n.useRef(null),{animatedKeyboardState:a,textInputNodesRef:i}=oe(),c=n.useCallback(d=>{a.set(f=>({...f,target:d.nativeEvent.target})),e&&e(d)},[e,a]),l=n.useCallback(d=>{const f=a.get(),u=_e(zn.State.currentlyFocusedInput()),h=f.target===d.nativeEvent.target,b=u&&i.current.has(u);h&&!b&&a.set(D=>({...D,target:void 0})),t&&t(d)},[t,a,i]);return n.useEffect(()=>{const d=_e(r.current);if(d)return i.current.has(d)||i.current.add(d),()=>{const f=_e(r.current);if(!f)return;a.get().target===f&&a.set(h=>({...h,target:void 0})),i.current.has(f)&&i.current.delete(f)}},[i,a]),n.useImperativeHandle(s,()=>r.current??void 0,[]),S.jsx(Xt,{ref:r,onFocus:c,onBlur:l,...o})}),Rn=n.memo(qa);Rn.displayName="BottomSheetTextInput";const Xa=.5,$a=1,Ja=0,Za=!1,Qa="close",es=!0,ts="button",ns="Bottom sheet backdrop",os="Tap to close the bottom sheet",as=ae.create({backdrop:{...ae.absoluteFillObject,backgroundColor:"black"}}),ss=({animatedIndex:e,opacity:t,appearsOnIndex:o,disappearsOnIndex:s,enableTouchThrough:r,pressBehavior:a=Qa,onPress:i,style:c,children:l,accessible:d=es,accessibilityRole:f=ts,accessibilityLabel:u=ns,accessibilityHint:h=os})=>{const{snapToIndex:b,close:D}=mo(),m=n.useRef(!1),I=t??Xa,T=o??$a,k=s??Ja,z=r??Za,[p,N]=n.useState(z?"none":"auto"),V=n.useCallback(()=>{i==null||i(),a==="close"?D():a==="collapse"?b(k):typeof a=="number"&&b(a)},[b,D,k,a,i]),H=n.useCallback(C=>{m.current&&N(C?"none":"auto")},[]),R=n.useMemo(()=>tt.Tap().onEnd(()=>{Re(V)()}),[V]),_=et(()=>({opacity:zt(e.value,[-1,k,T],[0,0,I],qt.CLAMP)}),[e,T,k,I]),A=n.useMemo(()=>[as.backdrop,c,_],[c,_]);be(()=>e.value<=k,(C,q)=>{C!==q&&Re(H)(C)},[k]),n.useEffect(()=>(m.current=!0,()=>{m.current=!1}),[]);const w=S.jsx(ue.View,{style:A,pointerEvents:p,accessible:d??void 0,accessibilityRole:f??void 0,accessibilityLabel:u??void 0,accessibilityHint:h||`Tap to ${typeof a=="string"?a:"move"} the Bottom Sheet`,children:l});return a!=="none"?S.jsx(nt,{gesture:R,children:w}):w},rs=n.memo(ss);rs.displayName="BottomSheetBackdrop";const Ct=({autoFocus:e,ref:t,...o})=>{const{isOpen:s}=qn();return n.useEffect(()=>{var r;s?e&&setTimeout(()=>{var a;return(a=t==null?void 0:t.current)==null?void 0:a.focus()},500):(r=t==null?void 0:t.current)==null||r.blur()},[e,s,t]),S.jsx(Rn,{ref:t,...o})};try{Ct.displayName="BottomSheetTextInput",Ct.__docgenInfo={description:"",displayName:"BottomSheetTextInput",props:{onChangeText:{defaultValue:null,description:`Callback that is called when the text input's text changes.
Changed text is passed as an argument to the callback handler.`,name:"onChangeText",required:!1,type:{name:"(((event: string) => void) & ((text: string) => void))"}},onFocus:{defaultValue:null,description:"Callback that is called when the text input is focused",name:"onFocus",required:!1,type:{name:"((() => void) & ((e: NativeSyntheticEvent<TextInputFocusEventData>) => void))"}},ref:{defaultValue:null,description:"",name:"ref",required:!1,type:{name:"RefObject<TextInput | null>"}},warning:{defaultValue:null,description:"",name:"warning",required:!1,type:{name:"boolean"}},hasClearButton:{defaultValue:null,description:"",name:"hasClearButton",required:!1,type:{name:"boolean"}},inputInstructions:{defaultValue:null,description:"",name:"inputInstructions",required:!1,type:{name:"string"}},label:{defaultValue:null,description:"",name:"label",required:!1,type:{name:"string"}},numberOfLines:{defaultValue:null,description:`Sets the number of lines for a TextInput.
Use it with multiline set to true to be able to fill the lines.`,name:"numberOfLines",required:!1,type:{name:"number"}},placeholder:{defaultValue:null,description:"The string that will be rendered before text input has been entered",name:"placeholder",required:!1,type:{name:"string"}},required:{defaultValue:null,description:"",name:"required",required:!1,type:{name:"boolean"}},textTransform:{defaultValue:null,description:"",name:"textTransform",required:!1,type:{name:"((text: string) => string)"}}}}}catch{}const Wt=({ref:e,hasClearButton:t=!0,inputInstructions:o,label:s,numberOfLines:r,onChangeText:a,onFocus:i,placeholder:c="",required:l,warning:d,value:f="",testID:u="",textTransform:h,accessibilityLanguage:b="nl-NL",...D})=>{const m=oo(),I=n.createRef(),[T,k]=n.useState(!1),[z,p]=n.useState(f),N=At(is({hasFocus:T,numberOfLines:r,warning:d})),V=At(ls),H=m?Ct:Xt;n.useEffect(()=>{p(f)},[f]);const R=()=>k(!1),_=C=>{const q=h?h(C):C;p(q),a==null||a(q)},A=()=>{var C,q;p(""),a==null||a(""),typeof e!="function"&&((q=(C=(e==null?void 0:e.current)??(I==null?void 0:I.current))==null?void 0:C.focus)==null||q.call(C),w())},w=()=>{k(!0),i==null||i()};return S.jsxs(Mt,{gutter:"sm",children:[S.jsxs(Mt,{gutter:"xs",children:[!!s&&S.jsxs(Xn,{gutter:"xs",children:[S.jsx(Vt,{isAccessible:!D.accessibilityLabel,text:s}),!l&&S.jsx($n,{children:"(Niet verplicht)"})]}),!!o&&S.jsx(Vt,{emphasis:"default",isAccessible:!D.accessibilityHint,text:o})]}),S.jsxs(Te,{style:N.frame,children:[S.jsx(H,{...D,...V,accessibilityLanguage:b,numberOfLines:he.OS==="ios"?void 0:r,onBlur:R,onChangeText:_,onFocus:w,placeholder:c,ref:e??I,style:N.textInput,testID:u,textAlignVertical:"top",value:z}),z&&t?S.jsx(Te,{children:S.jsx(Jn,{accessibilityHint:"Maak dit tekstveld leeg",accessibilityLanguage:b,icon:S.jsx(Zn,{name:"close",size:"lg",testID:`${u}ClearIcon`}),onPress:A,testID:`${u}ClearButton`})}):null]})]})},is=({hasFocus:e,numberOfLines:t,warning:o})=>({color:s,size:r,text:a})=>{const i=e||o?2:1,c=r.spacing.md-(i-1),l=r.spacing.sm-(i-1);return ae.create({frame:{flexDirection:"row",paddingHorizontal:c,paddingVertical:l,backgroundColor:s.textInput.container.background,borderStyle:"solid",borderColor:o?s.control.warning.border:e?s.control.focus.border:s.control.default.border,borderWidth:i},textInput:{minHeight:t?t*a.lineHeight.body+2*l:"auto",flex:1,padding:0,paddingTop:0,color:s.text.default,fontFamily:a.fontFamily.regular,fontSize:a.fontSize.body}})},ls=({color:e})=>({placeholderTextColor:e.text.secondary});try{Wt.displayName="TextInput",Wt.__docgenInfo={description:"",displayName:"TextInput",props:{onChangeText:{defaultValue:null,description:`Callback that is called when the text input's text changes.
Changed text is passed as an argument to the callback handler.`,name:"onChangeText",required:!1,type:{name:"(((event: string) => void) & ((text: string) => void))"}},onFocus:{defaultValue:null,description:"Callback that is called when the text input is focused",name:"onFocus",required:!1,type:{name:"((() => void) & ((e: NativeSyntheticEvent<TextInputFocusEventData>) => void))"}},ref:{defaultValue:null,description:"",name:"ref",required:!1,type:{name:"RefObject<TextInput | null>"}},warning:{defaultValue:null,description:"",name:"warning",required:!1,type:{name:"boolean"}},hasClearButton:{defaultValue:{value:"true"},description:"",name:"hasClearButton",required:!1,type:{name:"boolean"}},inputInstructions:{defaultValue:null,description:"",name:"inputInstructions",required:!1,type:{name:"string"}},label:{defaultValue:null,description:"",name:"label",required:!1,type:{name:"string"}},numberOfLines:{defaultValue:null,description:`Sets the number of lines for a TextInput.
Use it with multiline set to true to be able to fill the lines.`,name:"numberOfLines",required:!1,type:{name:"number"}},placeholder:{defaultValue:{value:""},description:"The string that will be rendered before text input has been entered",name:"placeholder",required:!1,type:{name:"string"}},required:{defaultValue:null,description:"",name:"required",required:!1,type:{name:"boolean"}},textTransform:{defaultValue:null,description:"",name:"textTransform",required:!1,type:{name:"((text: string) => string)"}}}}}catch{}export{Wt as T};
