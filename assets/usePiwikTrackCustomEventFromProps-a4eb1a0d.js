import{r as A}from"./index-76fb7be0.js";import{c as I}from"./_commonjsHelpers-de833af9.js";import"./index-e8e5dbb3.js";import{b as K,P as qe,c as Xe,d as Qe,f as Je,u as Ue,M as Ze,h as et}from"./useTrackException-a3338c13.js";import{e as tt,a as ze,c as rt}from"./development-6fd8b346.js";import{b as at,c as nt}from"./index-ee304789.js";import{j as st}from"./jsx-runtime-ffb262ed.js";import{P as ct,N as Re}from"./index-115efad7.js";var be="DELAY",D="ERROR",Se="LONG_PRESS_DETECTED",P="NOT_RESPONDER",$="RESPONDER_ACTIVE_LONG_PRESS_START",ie="RESPONDER_ACTIVE_PRESS_START",he="RESPONDER_INACTIVE_PRESS_START",it="RESPONDER_GRANT",ee="RESPONDER_RELEASE",$e="RESPONDER_TERMINATED",Oe=Object.freeze({NOT_RESPONDER:{DELAY:D,RESPONDER_GRANT:he,RESPONDER_RELEASE:D,RESPONDER_TERMINATED:D,LONG_PRESS_DETECTED:D},RESPONDER_INACTIVE_PRESS_START:{DELAY:ie,RESPONDER_GRANT:D,RESPONDER_RELEASE:P,RESPONDER_TERMINATED:P,LONG_PRESS_DETECTED:D},RESPONDER_ACTIVE_PRESS_START:{DELAY:D,RESPONDER_GRANT:D,RESPONDER_RELEASE:P,RESPONDER_TERMINATED:P,LONG_PRESS_DETECTED:$},RESPONDER_ACTIVE_LONG_PRESS_START:{DELAY:D,RESPONDER_GRANT:D,RESPONDER_RELEASE:P,RESPONDER_TERMINATED:P,LONG_PRESS_DETECTED:$},ERROR:{DELAY:P,RESPONDER_GRANT:he,RESPONDER_RELEASE:P,RESPONDER_TERMINATED:P,LONG_PRESS_DETECTED:P}}),we=e=>e.getAttribute("role"),ge=e=>e.tagName.toLowerCase(),ve=e=>e===ie||e===$,te=e=>we(e)==="button",Te=e=>e===he||e===ie||e===$,ut=e=>e===$e||e===ee,Pe=e=>{var t=e.key,a=e.target,c=t===" "||t==="Spacebar",r=ge(a)==="button"||te(a);return t==="Enter"||c&&r},ot=450,lt=50;class ft{constructor(t){this._eventHandlers=null,this._isPointerTouch=!1,this._longPressDelayTimeout=null,this._longPressDispatched=!1,this._pressDelayTimeout=null,this._pressOutDelayTimeout=null,this._touchState=P,this.configure(t)}configure(t){this._config=t}reset(){this._cancelLongPressDelayTimeout(),this._cancelPressDelayTimeout(),this._cancelPressOutDelayTimeout()}getEventHandlers(){return this._eventHandlers==null&&(this._eventHandlers=this._createEventHandlers()),this._eventHandlers}_createEventHandlers(){var t=(r,n)=>{r.persist(),this._cancelPressOutDelayTimeout(),this._longPressDispatched=!1,this._selectionTerminated=!1,this._touchState=P,this._isPointerTouch=r.nativeEvent.type==="touchstart",this._receiveSignal(it,r);var f=fe(this._config.delayPressStart,0,lt);n!==!1&&f>0?this._pressDelayTimeout=setTimeout(()=>{this._receiveSignal(be,r)},f):this._receiveSignal(be,r);var l=fe(this._config.delayLongPress,10,ot);this._longPressDelayTimeout=setTimeout(()=>{this._handleLongPress(r)},l+f)},a=r=>{this._receiveSignal(ee,r)},c=r=>{var n=this._config.onPress,f=r.target;if(this._touchState!==P&&Pe(r)){a(r),document.removeEventListener("keyup",c);var l=f.getAttribute("role"),g=ge(f),y=l==="link"||g==="a"||g==="button"||g==="input"||g==="select"||g==="textarea";n!=null&&!y&&n(r)}};return{onStartShouldSetResponder:r=>{var n=this._config.disabled;return n&&te(r.currentTarget)&&r.stopPropagation(),n==null?!0:!n},onKeyDown:r=>{var n=this._config.disabled,f=r.key,l=r.target;if(!n&&Pe(r)){this._touchState===P&&(t(r,!1),document.addEventListener("keyup",c));var g=f===" "||f==="Spacebar",y=we(l),h=y==="button"||y==="menuitem";g&&h&&ge(l)!=="button"&&r.preventDefault(),r.stopPropagation()}},onResponderGrant:r=>t(r),onResponderMove:r=>{this._config.onPressMove!=null&&this._config.onPressMove(r);var n=Ce(r);if(this._touchActivatePosition!=null){var f=this._touchActivatePosition.pageX-n.pageX,l=this._touchActivatePosition.pageY-n.pageY;Math.hypot(f,l)>10&&this._cancelLongPressDelayTimeout()}},onResponderRelease:r=>a(r),onResponderTerminate:r=>{r.nativeEvent.type==="selectionchange"&&(this._selectionTerminated=!0),this._receiveSignal($e,r)},onResponderTerminationRequest:r=>{var n=this._config,f=n.cancelable,l=n.disabled,g=n.onLongPress;return!l&&g!=null&&this._isPointerTouch&&r.nativeEvent.type==="contextmenu"?!1:f??!0},onClick:r=>{var n=this._config,f=n.disabled,l=n.onPress;f?te(r.currentTarget)&&r.stopPropagation():(r.stopPropagation(),this._longPressDispatched||this._selectionTerminated?r.preventDefault():l!=null&&r.altKey===!1&&l(r))},onContextMenu:r=>{var n=this._config,f=n.disabled,l=n.onLongPress;f?te(r.currentTarget)&&r.stopPropagation():l!=null&&this._isPointerTouch&&!r.defaultPrevented&&(r.preventDefault(),r.stopPropagation())}}}_receiveSignal(t,a){var c=this._touchState,r=null;Oe[c]!=null&&(r=Oe[c][t]),!(this._touchState===P&&t===ee)&&(r==null||r===D?console.error("PressResponder: Invalid signal "+t+" for state "+c+" on responder"):c!==r&&(this._performTransitionSideEffects(c,r,t,a),this._touchState=r))}_performTransitionSideEffects(t,a,c,r){if(ut(c)&&(setTimeout(()=>{this._isPointerTouch=!1},0),this._touchActivatePosition=null,this._cancelLongPressDelayTimeout()),Te(t)&&c===Se){var n=this._config.onLongPress;n!=null&&r.nativeEvent.key==null&&(n(r),this._longPressDispatched=!0)}var f=ve(t),l=ve(a);if(!f&&l?this._activate(r):f&&!l&&this._deactivate(r),Te(t)&&c===ee){var g=this._config,y=g.onLongPress,h=g.onPress;if(h!=null){var m=y!=null&&t===$;m||!l&&!f&&(this._activate(r),this._deactivate(r))}}this._cancelPressDelayTimeout()}_activate(t){var a=this._config,c=a.onPressChange,r=a.onPressStart,n=Ce(t);this._touchActivatePosition={pageX:n.pageX,pageY:n.pageY},r!=null&&r(t),c!=null&&c(!0)}_deactivate(t){var a=this._config,c=a.onPressChange,r=a.onPressEnd;function n(){r!=null&&r(t),c!=null&&c(!1)}var f=fe(this._config.delayPressEnd);f>0?this._pressOutDelayTimeout=setTimeout(()=>{n()},f):n()}_handleLongPress(t){(this._touchState===ie||this._touchState===$)&&this._receiveSignal(Se,t)}_cancelLongPressDelayTimeout(){this._longPressDelayTimeout!=null&&(clearTimeout(this._longPressDelayTimeout),this._longPressDelayTimeout=null)}_cancelPressDelayTimeout(){this._pressDelayTimeout!=null&&(clearTimeout(this._pressDelayTimeout),this._pressDelayTimeout=null)}_cancelPressOutDelayTimeout(){this._pressOutDelayTimeout!=null&&(clearTimeout(this._pressOutDelayTimeout),this._pressOutDelayTimeout=null)}}function fe(e,t,a){return t===void 0&&(t=0),a===void 0&&(a=0),Math.max(t,e??a)}function Ce(e){var t=e.nativeEvent,a=t.changedTouches,c=t.touches;return c!=null&&c.length>0?c[0]:a!=null&&a.length>0?a[0]:e.nativeEvent}function ya(e,t){var a=A.useRef(null);a.current==null&&(a.current=new ft(t));var c=a.current;return A.useEffect(()=>{c.configure(t)},[t,c]),A.useEffect(()=>()=>{c.reset()},[c]),A.useDebugValue(t),c.getEventHandlers()}function dt(){return{type:"GO_BACK"}}function ht(){if(typeof(arguments.length<=0?void 0:arguments[0])=="string")return{type:"NAVIGATE",payload:{name:arguments.length<=0?void 0:arguments[0],params:arguments.length<=1?void 0:arguments[1]}};{const e=(arguments.length<=0?void 0:arguments[0])||{};if(!e.hasOwnProperty("key")&&!e.hasOwnProperty("name"))throw new Error("You need to specify name or key when calling navigate with an object as the argument. See https://reactnavigation.org/docs/navigation-actions#navigate for usage.");return{type:"NAVIGATE",payload:e}}}function gt(e){return{type:"RESET",payload:e}}function _t(e){return{type:"SET_PARAMS",payload:{params:e}}}const Et=Object.freeze(Object.defineProperty({__proto__:null,goBack:dt,navigate:ht,reset:gt,setParams:_t},Symbol.toStringTag,{value:"Module"})),yt="The 'navigation' object hasn't been initialized yet. This might happen if you don't have a navigator mounted, or if the navigator hasn't finished mounting. See https://reactnavigation.org/docs/navigating-without-navigation-prop#handling-initialization for more details.";function pt(){const e=[...Object.keys(Et),"addListener","removeListener","resetRoot","dispatch","isFocused","canGoBack","getRootState","getState","getParent","getCurrentRoute","getCurrentOptions"],t={},a=(n,f)=>{t[n]&&(t[n]=t[n].filter(l=>l!==f))};let c=null;return{get current(){return c},set current(n){c=n,n!=null&&Object.entries(t).forEach(f=>{let[l,g]=f;g.forEach(y=>{n.addListener(l,y)})})},isReady:()=>c==null?!1:c.isReady(),...e.reduce((n,f)=>(n[f]=function(){for(var l=arguments.length,g=new Array(l),y=0;y<l;y++)g[y]=arguments[y];if(c==null)switch(f){case"addListener":{const[h,m]=g;return t[h]=t[h]||[],t[h].push(m),()=>a(h,m)}case"removeListener":{const[h,m]=g;a(h,m);break}default:console.error(yt)}else return c[f](...g)},n),{})}}var mt={},Rt=e=>encodeURIComponent(e).replace(/[!'()*]/g,t=>`%${t.charCodeAt(0).toString(16).toUpperCase()}`),Ge="%[a-f0-9]{2}",Ne=new RegExp("("+Ge+")|([^%]+?)","gi"),Ie=new RegExp("("+Ge+")+","gi");function _e(e,t){try{return[decodeURIComponent(e.join(""))]}catch{}if(e.length===1)return e;t=t||1;var a=e.slice(0,t),c=e.slice(t);return Array.prototype.concat.call([],_e(a),_e(c))}function bt(e){try{return decodeURIComponent(e)}catch{for(var t=e.match(Ne)||[],a=1;a<t.length;a++)e=_e(t,a).join(""),t=e.match(Ne)||[];return e}}function St(e){for(var t={"%FE%FF":"��","%FF%FE":"��"},a=Ie.exec(e);a;){try{t[a[0]]=decodeURIComponent(a[0])}catch{var c=bt(a[0]);c!==a[0]&&(t[a[0]]=c)}a=Ie.exec(e)}t["%C2"]="�";for(var r=Object.keys(t),n=0;n<r.length;n++){var f=r[n];e=e.replace(new RegExp(f,"g"),t[f])}return e}var Ot=function(e){if(typeof e!="string")throw new TypeError("Expected `encodedURI` to be of type `string`, got `"+typeof e+"`");try{return e=e.replace(/\+/g," "),decodeURIComponent(e)}catch{return St(e)}},vt=(e,t)=>{if(!(typeof e=="string"&&typeof t=="string"))throw new TypeError("Expected the arguments to be of type `string`");if(t==="")return[e];const a=e.indexOf(t);return a===-1?[e]:[e.slice(0,a),e.slice(a+t.length)]},Tt=function(e,t){for(var a={},c=Object.keys(e),r=Array.isArray(t),n=0;n<c.length;n++){var f=c[n],l=e[f];(r?t.indexOf(f)!==-1:t(f,l,e))&&(a[f]=l)}return a};(function(e){const t=Rt,a=Ot,c=vt,r=Tt,n=s=>s==null,f=Symbol("encodeFragmentIdentifier");function l(s){switch(s.arrayFormat){case"index":return i=>(u,o)=>{const d=u.length;return o===void 0||s.skipNull&&o===null||s.skipEmptyString&&o===""?u:o===null?[...u,[h(i,s),"[",d,"]"].join("")]:[...u,[h(i,s),"[",h(d,s),"]=",h(o,s)].join("")]};case"bracket":return i=>(u,o)=>o===void 0||s.skipNull&&o===null||s.skipEmptyString&&o===""?u:o===null?[...u,[h(i,s),"[]"].join("")]:[...u,[h(i,s),"[]=",h(o,s)].join("")];case"colon-list-separator":return i=>(u,o)=>o===void 0||s.skipNull&&o===null||s.skipEmptyString&&o===""?u:o===null?[...u,[h(i,s),":list="].join("")]:[...u,[h(i,s),":list=",h(o,s)].join("")];case"comma":case"separator":case"bracket-separator":{const i=s.arrayFormat==="bracket-separator"?"[]=":"=";return u=>(o,d)=>d===void 0||s.skipNull&&d===null||s.skipEmptyString&&d===""?o:(d=d===null?"":d,o.length===0?[[h(u,s),i,h(d,s)].join("")]:[[o,h(d,s)].join(s.arrayFormatSeparator)])}default:return i=>(u,o)=>o===void 0||s.skipNull&&o===null||s.skipEmptyString&&o===""?u:o===null?[...u,h(i,s)]:[...u,[h(i,s),"=",h(o,s)].join("")]}}function g(s){let i;switch(s.arrayFormat){case"index":return(u,o,d)=>{if(i=/\[(\d*)\]$/.exec(u),u=u.replace(/\[\d*\]$/,""),!i){d[u]=o;return}d[u]===void 0&&(d[u]={}),d[u][i[1]]=o};case"bracket":return(u,o,d)=>{if(i=/(\[\])$/.exec(u),u=u.replace(/\[\]$/,""),!i){d[u]=o;return}if(d[u]===void 0){d[u]=[o];return}d[u]=[].concat(d[u],o)};case"colon-list-separator":return(u,o,d)=>{if(i=/(:list)$/.exec(u),u=u.replace(/:list$/,""),!i){d[u]=o;return}if(d[u]===void 0){d[u]=[o];return}d[u]=[].concat(d[u],o)};case"comma":case"separator":return(u,o,d)=>{const p=typeof o=="string"&&o.includes(s.arrayFormatSeparator),E=typeof o=="string"&&!p&&m(o,s).includes(s.arrayFormatSeparator);o=E?m(o,s):o;const O=p||E?o.split(s.arrayFormatSeparator).map(M=>m(M,s)):o===null?o:m(o,s);d[u]=O};case"bracket-separator":return(u,o,d)=>{const p=/(\[\])$/.test(u);if(u=u.replace(/\[\]$/,""),!p){d[u]=o&&m(o,s);return}const E=o===null?[]:o.split(s.arrayFormatSeparator).map(O=>m(O,s));if(d[u]===void 0){d[u]=E;return}d[u]=[].concat(d[u],E)};default:return(u,o,d)=>{if(d[u]===void 0){d[u]=o;return}d[u]=[].concat(d[u],o)}}}function y(s){if(typeof s!="string"||s.length!==1)throw new TypeError("arrayFormatSeparator must be single character string")}function h(s,i){return i.encode?i.strict?t(s):encodeURIComponent(s):s}function m(s,i){return i.decode?a(s):s}function x(s){return Array.isArray(s)?s.sort():typeof s=="object"?x(Object.keys(s)).sort((i,u)=>Number(i)-Number(u)).map(i=>s[i]):s}function T(s){const i=s.indexOf("#");return i!==-1&&(s=s.slice(0,i)),s}function N(s){let i="";const u=s.indexOf("#");return u!==-1&&(i=s.slice(u)),i}function R(s){s=T(s);const i=s.indexOf("?");return i===-1?"":s.slice(i+1)}function S(s,i){return i.parseNumbers&&!Number.isNaN(Number(s))&&typeof s=="string"&&s.trim()!==""?s=Number(s):i.parseBooleans&&s!==null&&(s.toLowerCase()==="true"||s.toLowerCase()==="false")&&(s=s.toLowerCase()==="true"),s}function b(s,i){i=Object.assign({decode:!0,sort:!0,arrayFormat:"none",arrayFormatSeparator:",",parseNumbers:!1,parseBooleans:!1},i),y(i.arrayFormatSeparator);const u=g(i),o=Object.create(null);if(typeof s!="string"||(s=s.trim().replace(/^[?#&]/,""),!s))return o;for(const d of s.split("&")){if(d==="")continue;let[p,E]=c(i.decode?d.replace(/\+/g," "):d,"=");E=E===void 0?null:["comma","separator","bracket-separator"].includes(i.arrayFormat)?E:m(E,i),u(m(p,i),E,o)}for(const d of Object.keys(o)){const p=o[d];if(typeof p=="object"&&p!==null)for(const E of Object.keys(p))p[E]=S(p[E],i);else o[d]=S(p,i)}return i.sort===!1?o:(i.sort===!0?Object.keys(o).sort():Object.keys(o).sort(i.sort)).reduce((d,p)=>{const E=o[p];return E&&typeof E=="object"&&!Array.isArray(E)?d[p]=x(E):d[p]=E,d},Object.create(null))}e.extract=R,e.parse=b,e.stringify=(s,i)=>{if(!s)return"";i=Object.assign({encode:!0,strict:!0,arrayFormat:"none",arrayFormatSeparator:","},i),y(i.arrayFormatSeparator);const u=E=>i.skipNull&&n(s[E])||i.skipEmptyString&&s[E]==="",o=l(i),d={};for(const E of Object.keys(s))u(E)||(d[E]=s[E]);const p=Object.keys(d);return i.sort!==!1&&p.sort(i.sort),p.map(E=>{const O=s[E];return O===void 0?"":O===null?h(E,i):Array.isArray(O)?O.length===0&&i.arrayFormat==="bracket-separator"?h(E,i)+"[]":O.reduce(o(E),[]).join("&"):h(E,i)+"="+h(O,i)}).filter(E=>E.length>0).join("&")},e.parseUrl=(s,i)=>{i=Object.assign({decode:!0},i);const[u,o]=c(s,"#");return Object.assign({url:u.split("?")[0]||"",query:b(R(s),i)},i&&i.parseFragmentIdentifier&&o?{fragmentIdentifier:m(o,i)}:{})},e.stringifyUrl=(s,i)=>{i=Object.assign({encode:!0,strict:!0,[f]:!0},i);const u=T(s.url).split("?")[0]||"",o=e.extract(s.url),d=e.parse(o,{sort:!1}),p=Object.assign(d,s.query);let E=e.stringify(p,i);E&&(E=`?${E}`);let O=N(s.url);return s.fragmentIdentifier&&(O=`#${i[f]?h(s.fragmentIdentifier,i):s.fragmentIdentifier}`),`${u}${E}${O}`},e.pick=(s,i,u)=>{u=Object.assign({parseFragmentIdentifier:!0,[f]:!1},u);const{url:o,query:d,fragmentIdentifier:p}=e.parseUrl(s,u);return e.stringifyUrl({url:o,query:r(d,i),fragmentIdentifier:p},u)},e.exclude=(s,i,u)=>{const o=Array.isArray(i)?d=>!i.includes(d):(d,p)=>!i(d,p);return e.pick(s,o,u)}})(mt);var Be={},ye={};Object.defineProperty(ye,"__esModule",{value:!0});var Ae=A,Pt=typeof document<"u"?Ae.useLayoutEffect:Ae.useEffect;ye.default=Pt;var Ct=I&&I.__createBinding||(Object.create?function(e,t,a,c){c===void 0&&(c=a);var r=Object.getOwnPropertyDescriptor(t,a);(!r||("get"in r?!t.__esModule:r.writable||r.configurable))&&(r={enumerable:!0,get:function(){return t[a]}}),Object.defineProperty(e,c,r)}:function(e,t,a,c){c===void 0&&(c=a),e[c]=t[a]}),Nt=I&&I.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),It=I&&I.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var a in e)a!=="default"&&Object.prototype.hasOwnProperty.call(e,a)&&Ct(t,e,a);return Nt(t,e),t},At=I&&I.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Be,"__esModule",{value:!0});var De=It(A),Dt=At(ye);function jt(e){var t=De.useRef(e),a=De.useRef(function(){for(var r=[],n=0;n<arguments.length;n++)r[n]=arguments[n];return t.current.apply(this,r)}).current;return(0,Dt.default)(function(){t.current=e}),a}Be.default=jt;const ae=pt();var ue=(e=>(e[e.searchTerm=3]="searchTerm",e[e.searchResultAmount=4]="searchResultAmount",e[e.searchType=5]="searchType",e[e.searchResultTitle=6]="searchResultTitle",e[e.searchResultUrl=7]="searchResultUrl",e[e.searchResultType=8]="searchResultType",e[e.searchResultSelected=9]="searchResultSelected",e[e.contentTitle=10]="contentTitle",e[e.contentSubject=11]="contentSubject",e[e.contentTeam=12]="contentTeam",e[e.contentPublicationDate=13]="contentPublicationDate",e[e.contentType=14]="contentType",e[e.userIntext=15]="userIntext",e[e.searchMachine=16]="searchMachine",e[e.pageType=17]="pageType",e[e.contentId=20]="contentId",e[e.newState=36]="newState",e[e.routeName=43]="routeName",e[e.pushTitle=44]="pushTitle",e[e.pushContent=45]="pushContent",e))(ue||{}),ne=(e=>(e[e.userType=1]="userType",e[e.userCity=2]="userCity",e[e.appVersion=18]="appVersion",e[e.appVersionWithBuild=19]="appVersionWithBuild",e[e.reduceMotionEnabled=21]="reduceMotionEnabled",e[e.screenReaderEnabled=22]="screenReaderEnabled",e[e.accessibilityServiceEnabled=23]="accessibilityServiceEnabled",e[e.boldTextEnabled=24]="boldTextEnabled",e[e.grayscaleEnabled=25]="grayscaleEnabled",e[e.invertColorsEnabled=26]="invertColorsEnabled",e[e.reduceTransparencyEnabled=27]="reduceTransparencyEnabled",e[e.fontScale=28]="fontScale",e[e.isLandscape=29]="isLandscape",e[e.isPortrait=30]="isPortrait",e[e.isTablet=31]="isTablet",e[e.hasCameraPermission=32]="hasCameraPermission",e[e.hasPhotosPermission=33]="hasPhotosPermission",e[e.hasLocationPermission=34]="hasLocationPermission",e[e.hasNotificationPermission=35]="hasNotificationPermission",e[e.contactModule=37]="contactModule",e[e.redirectsModule=38]="redirectsModule",e[e.wasteGuideModule=39]="wasteGuideModule",e[e.reportProblemModule=40]="reportProblemModule",e[e.constructionWorkModule=41]="constructionWorkModule",e[e.constructionWorkEditorModule=42]="constructionWorkEditorModule",e[e.cityPassModule=46]="cityPassModule",e))(ne||{}),xt=(e=>(e.accessibilityAction="accessibilityAction",e.accessibilityChange="accessibilityChange",e.addressAdd="addressAdd",e.addressChange="addressChange",e.blur="blur",e.buttonPress="buttonPress",e.deviceInfoChange="deviceInfoChange",e.finishedReport="finishedReport",e.locationOrAddressSelectionChange="locationOrAddressSelectionChange",e.moduleChange="moduleChange",e.pushNotificationDisplay="pushNotificationDisplay",e.pushNotificationTap="pushNotificationTap",e.radioChange="radioChange",e.startUp="startUp",e.swipeOut="swipeOut",e.toForeground="toForeground",e.toggle="toggle",e))(xt||{}),se=(e=>(e.alreadyInitialized="Piwik Pro SDK has been already initialized",e.missingEnvVars="PIWIK_PRO_URL or PIWIK_PRO_ID are not defined in env",e))(se||{});const Ft=e=>{if(e)return Object.keys(e).filter(t=>e[t]!==void 0).reduce((t,a)=>({...t,[a]:e[a]}),{})},Lt="1.6.0",Mt=at(),Ke=tt?Lt:nt(),Vt=`${Ke}.${Mt}`,Ut={[ne.appVersion]:Ke,[ne.appVersionWithBuild]:Vt},zt=(e,t=!1)=>t?Object.keys(e).reduce((a,c)=>{const r=ne[c]??ue[c];return r&&(a[r]=e[c]),a},{}):e,L=(e,t=!1)=>Ft(zt({...Ut,...e},t)),$t=e=>{const t={};return(typeof(e==null?void 0:e.id)=="string"||typeof(e==null?void 0:e.id)=="number")&&(t[ue.contentId]=e.id.toString()),{appInsights:L(t,!0),piwik:L(t,!1)}},je=e=>{const t=(e==null?void 0:e.screenTitle)??(e==null?void 0:e.screenHeaderTitle);if(t)return decodeURIComponent(t)};var Ee={},z={},Y={},oe={},le={};Object.defineProperty(le,"__esModule",{value:!0});le.encodeString=Gt;const j=Array.from({length:256},(e,t)=>"%"+((t<16?"0":"")+t.toString(16)).toUpperCase()),wt=new Int8Array([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,1,1,1,1,0,0,1,1,0,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,0,1,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,1,0]);function Gt(e){const t=e.length;if(t===0)return"";let a="",c=0,r=0;e:for(;r<t;r++){let n=e.charCodeAt(r);for(;n<128;){if(wt[n]!==1&&(c<r&&(a+=e.slice(c,r)),c=r+1,a+=j[n]),++r===t)break e;n=e.charCodeAt(r)}if(c<r&&(a+=e.slice(c,r)),n<2048){c=r+1,a+=j[192|n>>6]+j[128|n&63];continue}if(n<55296||n>=57344){c=r+1,a+=j[224|n>>12]+j[128|n>>6&63]+j[128|n&63];continue}if(++r,r>=t)throw new Error("URI malformed");const f=e.charCodeAt(r)&1023;c=r+1,n=65536+((n&1023)<<10|f),a+=j[240|n>>18]+j[128|n>>12&63]+j[128|n>>6&63]+j[128|n&63]}return c===0?e:c<t?a+e.slice(c):a}(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.defaultOptions=e.defaultShouldSerializeObject=e.defaultValueSerializer=void 0;const t=le,a=n=>{switch(typeof n){case"string":return(0,t.encodeString)(n);case"bigint":case"boolean":return""+n;case"number":if(Number.isFinite(n))return n<1e21?""+n:(0,t.encodeString)(""+n);break}return n instanceof Date?(0,t.encodeString)(n.toISOString()):""};e.defaultValueSerializer=a;const c=n=>n instanceof Date;e.defaultShouldSerializeObject=c;const r=n=>n;e.defaultOptions={nesting:!0,nestingSyntax:"dot",arrayRepeat:!1,arrayRepeatSyntax:"repeat",delimiter:38,valueDeserializer:r,valueSerializer:e.defaultValueSerializer,keyDeserializer:r,shouldSerializeObject:e.defaultShouldSerializeObject}})(oe);Object.defineProperty(Y,"__esModule",{value:!0});Y.getDeepObject=Ht;Y.stringifyObject=He;const V=oe,Bt=le;function Kt(e){return e==="__proto__"||e==="constructor"||e==="prototype"}function Ht(e,t,a,c,r){if(Kt(t))return e;const n=e[t];return typeof n=="object"&&n!==null?n:!c&&(r||typeof a=="number"||typeof a=="string"&&a*0===0&&a.indexOf(".")===-1)?e[t]=[]:e[t]={}}const Yt=20,Wt="[]",kt="[",qt="]",Xt=".";function He(e,t,a=0,c,r){const{nestingSyntax:n=V.defaultOptions.nestingSyntax,arrayRepeat:f=V.defaultOptions.arrayRepeat,arrayRepeatSyntax:l=V.defaultOptions.arrayRepeatSyntax,nesting:g=V.defaultOptions.nesting,delimiter:y=V.defaultOptions.delimiter,valueSerializer:h=V.defaultOptions.valueSerializer,shouldSerializeObject:m=V.defaultOptions.shouldSerializeObject}=t,x=typeof y=="number"?String.fromCharCode(y):y,T=r===!0&&f,N=n==="dot"||n==="js"&&!r;if(a>Yt)return"";let R="",S=!0,b=!1;for(const s in e){const i=e[s];if(i===void 0)continue;let u;c?(u=c,T?l==="bracket"&&(u+=Wt):N?(u+=Xt,u+=s):(u+=kt,u+=s,u+=qt)):u=s,S||(R+=x),typeof i=="object"&&i!==null&&!m(i)?(b=i.pop!==void 0,(g||f&&b)&&(R+=He(i,t,a+1,u,b))):(R+=(0,Bt.encodeString)(u),R+="=",R+=h(i,s)),S&&(S=!1)}return R}var xe=12,Qt=0,de=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,7,7,7,7,7,7,7,7,7,7,7,7,8,7,7,10,9,9,9,11,4,4,4,4,4,4,4,4,4,4,4,0,0,0,0,0,0,0,0,0,0,0,0,12,0,0,0,0,24,36,48,60,72,84,96,0,12,12,12,0,0,0,0,0,0,0,0,0,0,0,24,0,0,0,0,0,0,0,0,0,24,24,24,0,0,0,0,0,0,0,0,0,24,24,0,0,0,0,0,0,0,0,0,0,48,48,48,0,0,0,0,0,0,0,0,0,0,48,48,0,0,0,0,0,0,0,0,0,48,0,0,0,0,0,0,0,0,0,0,127,63,63,63,0,31,15,15,15,7,7,7];function Jt(e){var t=e.indexOf("%");if(t===-1)return e;for(var a=e.length,c="",r=0,n=0,f=t,l=xe;t>-1&&t<a;){var g=Fe(e[t+1],4),y=Fe(e[t+2],0),h=g|y,m=de[h];if(l=de[256+l+m],n=n<<6|h&de[364+m],l===xe)c+=e.slice(r,f),c+=n<=65535?String.fromCharCode(n):String.fromCharCode(55232+(n>>10),56320+(n&1023)),n=0,r=t+3,t=f=e.indexOf("%",r);else{if(l===Qt)return null;if(t+=3,t<a&&e.charCodeAt(t)===37)continue;return null}}return c+e.slice(r)}var Zt={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,a:10,A:10,b:11,B:11,c:12,C:12,d:13,D:13,e:14,E:14,f:15,F:15};function Fe(e,t){var a=Zt[e];return a===void 0?255:a<<t}var er=Jt,tr=I&&I.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(z,"__esModule",{value:!0});z.numberValueDeserializer=z.numberKeyDeserializer=void 0;z.parse=nr;const X=Y,U=oe,Ye=tr(er),rr=e=>{const t=Number(e);return Number.isNaN(t)?e:t};z.numberKeyDeserializer=rr;const ar=e=>{const t=Number(e);return Number.isNaN(t)?e:t};z.numberValueDeserializer=ar;const We=/\+/g,ke=function(){};ke.prototype=Object.create(null);function Q(e,t,a,c,r){let n=e.substring(t,a);return c&&(n=n.replace(We," ")),r&&(n=(0,Ye.default)(n)||n),n}function nr(e,t){const{valueDeserializer:a=U.defaultOptions.valueDeserializer,keyDeserializer:c=U.defaultOptions.keyDeserializer,arrayRepeatSyntax:r=U.defaultOptions.arrayRepeatSyntax,nesting:n=U.defaultOptions.nesting,arrayRepeat:f=U.defaultOptions.arrayRepeat,nestingSyntax:l=U.defaultOptions.nestingSyntax,delimiter:g=U.defaultOptions.delimiter}=t??{},y=typeof g=="string"?g.charCodeAt(0):g,h=l==="js",m=new ke;if(typeof e!="string")return m;const x=e.length;let T="",N=-1,R=-1,S=-1,b=m,s,i="",u="",o=!1,d=!1,p=!1,E=!1,O=!1,M=!1,k=!1,F=0,w=-1,G=-1,me=-1;for(let v=0;v<x+1;v++){if(F=v!==x?e.charCodeAt(v):y,F===y){if(k=R>N,k||(R=v),S!==R-1&&(u=Q(e,S+1,w>-1?w:R,p,o),i=c(u),s!==void 0&&(b=(0,X.getDeepObject)(b,s,i,h&&O,h&&M))),k||i!==""){k&&(T=e.slice(R+1,v),E&&(T=T.replace(We," ")),d&&(T=(0,Ye.default)(T)||T));const B=a(T,i);if(f){const q=b[i];q===void 0?w>-1?b[i]=[B]:b[i]=B:q.pop?q.push(B):b[i]=[q,B]}else b[i]=B}T="",N=v,R=v,o=!1,d=!1,p=!1,E=!1,O=!1,M=!1,w=-1,S=v,b=m,s=void 0,i=""}else F===93?(f&&r==="bracket"&&me===91&&(w=G),n&&(l==="index"||h)&&R<=N&&(S!==G&&(u=Q(e,S+1,v,p,o),i=c(u),s!==void 0&&(b=(0,X.getDeepObject)(b,s,i,void 0,h)),s=i,p=!1,o=!1),S=v,M=!0,O=!1)):F===46?n&&(l==="dot"||h)&&R<=N&&(S!==G&&(u=Q(e,S+1,v,p,o),i=c(u),s!==void 0&&(b=(0,X.getDeepObject)(b,s,i,h)),s=i,p=!1,o=!1),O=!0,M=!1,S=v):F===91?n&&(l==="index"||h)&&R<=N&&(S!==G&&(u=Q(e,S+1,v,p,o),i=c(u),h&&s!==void 0&&(b=(0,X.getDeepObject)(b,s,i,h)),s=i,p=!1,o=!1,O=!1,M=!0),S=v):F===61?R<=N?R=v:d=!0:F===43?R>N?E=!0:p=!0:F===37&&(R>N?d=!0:o=!0);G=v,me=F}return m}var pe={};Object.defineProperty(pe,"__esModule",{value:!0});pe.stringify=cr;const sr=Y;function cr(e,t){if(e===null||typeof e!="object")return"";const a=t??{};return(0,sr.stringifyObject)(e,a)}(function(e){var t=I&&I.__createBinding||(Object.create?function(n,f,l,g){g===void 0&&(g=l);var y=Object.getOwnPropertyDescriptor(f,l);(!y||("get"in y?!f.__esModule:y.writable||y.configurable))&&(y={enumerable:!0,get:function(){return f[l]}}),Object.defineProperty(n,g,y)}:function(n,f,l,g){g===void 0&&(g=l),n[g]=f[l]}),a=I&&I.__exportStar||function(n,f){for(var l in n)l!=="default"&&!Object.prototype.hasOwnProperty.call(f,l)&&t(f,n,l)};Object.defineProperty(e,"__esModule",{value:!0}),e.stringify=e.parse=void 0;var c=z;Object.defineProperty(e,"parse",{enumerable:!0,get:function(){return c.parse}});var r=pe;Object.defineProperty(e,"stringify",{enumerable:!0,get:function(){return r.stringify}}),a(oe,e)})(Ee);const ir=e=>{if(!e)return"";const t={};return Object.keys(Ee.parse(e)).forEach(a=>{t[a]="___"}),`?${Ee.stringify(t)}`},ur=e=>e?`#${e.split("/").map(()=>"___").join("/")}`:"",or=(e="")=>{const[t,a,...c]=e.split("#"),[r,n,...f]=t.split("?");if(c.length||f.length)return r;const l=ir(n),g=ur(a);return`${r}${l}${g}`},J=()=>ze("piwik not initialized"),Z="useTrackEvents.ts",lr=(e,t,a,c,r,n)=>({ready:!!c,trackCustomEvent:(f,l,g,y=t,h=void 0)=>{c?c.trackCustomEvent(y,l,{path:r,customDimensions:L(g),value:h}).catch(()=>{e(K.piwikTrackCustomEvent,Z,{category:y,action:l,name:f,routeName:r,value:h})}):J(),a.trackEvent({name:l,properties:{...L(g,!0),value:h,routeName:r,category:y}})},trackOutlink:(f,l)=>{const g=or(f);c?c.trackOutlink(g,{...l,customDimensions:L({...l==null?void 0:l.customDimensions,[ue.routeName]:r})}).catch(()=>{e(K.piwikTrackOutlink,Z,{url:g})}):J(),a.trackEvent({name:"outlink",properties:{...L(l==null?void 0:l.customDimensions,!0),url:g,routeName:r,category:t}})},trackScreen:f=>{const l=f??r;if(!l)return;const{appInsights:g,piwik:y}=$t(n);c?c.trackScreen(l,{title:je(n),customDimensions:y}).catch(()=>{e(K.piwikTrackScreen,Z,{path:f})}):J(),a.trackPageView({name:l},{...g,title:je(n)})},trackSearch:(f,l)=>{c?c.trackSearch(f,{...l,customDimensions:L(l==null?void 0:l.customDimensions)}).catch(()=>{e(K.piwikTrackSearch,Z)}):J(),a.trackEvent({name:"search",properties:{...L(l==null?void 0:l.customDimensions,!0),keyword:f,routeName:r,category:t}})}});function fr(e){if(!Number.isInteger(e))throw new Error("Parameter must be an integer number")}function re(e){e&&Object.entries(e).forEach(t=>{let[a,c]=t;const r=parseInt(a,10);if(a!==r.toString())throw new Error("ID (key) must be an integer");if(r<1)throw new Error("ID (key) must be an integer greater than 0")})}function W(e){e.forEach(t=>{let a=t.customDimensions;if(a){if(Object.keys(a).length>20)throw new Error("Max 20 product custom dimensions, 20 is max ID.");re(a)}})}function dr(e){if(!/^[0-9a-f]{16}$/.test(e))throw new Error(`Visitor ID ${e} has invalid format. The format must match the regular expression: ^[0-9a-f]{16}$`)}const hr="1.1.0",gr=`The package 'react-native-piwik-pro-sdk' doesn't seem to be linked. Make sure: 

`+ct.select({ios:`- You have run 'pod install'
`,default:""})+`- You rebuilt the app after installing the package
- You are not using Expo managed workflow
`,_=Re.PiwikProSdk?Re.PiwikProSdk:new Proxy({},{get(){throw new Error(gr)}});async function _r(e,t){return await _.init(e,t,hr)}async function Er(e,t){return C(t),await _.trackScreen(e,t)}async function yr(e,t,a){return C(a),await _.trackCustomEvent(e,t,a)}async function pr(e,t){return C(t),await _.trackException(e,t)}async function mr(e,t,a){return C(a),await _.trackSocialInteraction(e,t,a)}async function Rr(e,t){return C(t),await _.trackDownload(e,t)}async function br(){return await _.trackApplicationInstall()}async function Sr(e,t){return C(t),await _.trackOutlink(e,t)}async function Or(e,t){return C(t),await _.trackSearch(e,t)}async function vr(e,t){return C(t),await _.trackImpression(e,t)}async function Tr(e,t,a){return C(a),await _.trackInteraction(e,t,a)}async function Pr(e,t){return C(t),await _.trackGoal(e,t)}async function Cr(e,t,a){return await _.trackEcommerce(e,t,a)}async function Nr(e,t){return C(t),W(e),await _.trackEcommerceProductDetailView(e,t)}async function Ir(e,t,a){return C(a),W(e),await _.trackEcommerceCartUpdate(e,t,a)}async function Ar(e,t){return C(t),W(e),await _.trackEcommerceAddToCart(e,t)}async function Dr(e,t){return C(t),W(e),await _.trackEcommerceRemoveFromCart(e,t)}async function jr(e,t,a,c){return C(c),W(a),await _.trackEcommerceOrder(e,t,a,c)}async function xr(e){return await _.trackCampaign(e)}async function Fr(e){if(Array.isArray(e)){if(!e.length)throw new Error("Profile attributes cannot be an empty array");return await _.trackProfileAttributes(e)}return await _.trackProfileAttributes([e])}async function Lr(){return await _.getProfileAttributes()}async function Mr(e){return await _.checkAudienceMembership(e)}async function Vr(e){return await _.setUserId(e)}async function Ur(){return await _.getUserId()}async function zr(e){return await _.setUserEmail(e)}async function $r(){return await _.getUserEmail()}async function wr(e){return dr(e),await _.setVisitorId(e)}async function Gr(){return await _.getVisitorId()}async function Br(e){return await _.setSessionTimeout(e)}async function Kr(){return await _.getSessionTimeout()}async function Hr(){return await _.startNewSession()}async function Yr(){return await _.dispatch()}async function Wr(e){return fr(e),await _.setDispatchInterval(e)}async function kr(){return await _.getDispatchInterval()}async function qr(e){return await _.setIncludeDefaultCustomVariables(e)}async function Xr(){return await _.getIncludeDefaultCustomVariables()}async function Qr(e){return await _.setAnonymizationState(e)}async function Jr(){return await _.isAnonymizationOn()}async function Zr(e){return await _.setOptOut(e)}async function ea(e){return await _.setDryRun(e)}async function ta(){return await _.getDryRun()}async function ra(){return await _.getOptOut()}async function aa(e){return await _.setPrefixing(e)}async function na(){return await _.isPrefixingOn()}function C(e){re(e==null?void 0:e.customDimensions),re(e==null?void 0:e.visitCustomVariables),re(e==null?void 0:e.screenCustomVariables)}const H={init:_r,trackScreen:Er,trackCustomEvent:yr,trackException:pr,trackSocialInteraction:mr,trackDownload:Rr,trackApplicationInstall:br,trackOutlink:Sr,trackSearch:Or,trackImpression:vr,trackInteraction:Tr,trackGoal:Pr,trackEcommerce:Cr,trackEcommerceProductDetailView:Nr,trackEcommerceCartUpdate:Ir,trackEcommerceAddToCart:Ar,trackEcommerceRemoveFromCart:Dr,trackEcommerceOrder:jr,trackCampaign:xr,trackProfileAttributes:Fr,getProfileAttributes:Lr,checkAudienceMembership:Mr,setUserId:Vr,getUserId:Ur,setUserEmail:zr,getUserEmail:$r,setVisitorId:wr,getVisitorId:Gr,setSessionTimeout:Br,getSessionTimeout:Kr,startNewSession:Hr,dispatch:Yr,setDispatchInterval:Wr,getDispatchInterval:kr,setIncludeDefaultCustomVariables:qr,getIncludeDefaultCustomVariables:Xr,setAnonymizationState:Qr,isAnonymizationOn:Jr,setOptOut:Zr,getOptOut:ra,setDryRun:ea,getDryRun:ta,setPrefixing:aa,isPrefixingOn:na},[Le,Me]=rt?[qe,Xe]:[Qe,Je],sa=async()=>!Le||!Me?Promise.reject(se.missingEnvVars):(await H.init(Le,Me),await H.trackApplicationInstall(),await H.setIncludeDefaultCustomVariables(!0),Promise.resolve()),ce=A.createContext(void 0),Ve=({children:e})=>{const t=Ue(),[a,c]=A.useState();return A.useEffect(()=>{a===void 0&&sa().then(()=>{c(H)}).catch(r=>{if(r.message===se.alreadyInitialized){c(H);return}c(null),r.message!==se.missingEnvVars&&t(K.piwikInitialization,"piwik.provider.tsx",{error:r})})},[a,t]),st.jsx(ce.Provider,{value:a,children:e})};try{ce.displayName="PiwikContext",ce.__docgenInfo={description:"The PiwikContext contains the object with all methods, to be used via the usePiwik hook only.",displayName:"PiwikContext",props:{}}}catch{}try{Ve.displayName="PiwikProvider",Ve.__docgenInfo={description:"",displayName:"PiwikProvider",props:{}}}catch{}const ca=()=>{if(ae.isReady()){const e=ae.getRootState(),t=e==null?void 0:e.routes;if(t)for(let a=t.length-1;a>=0;a--){const c=Ze[t[a].name];if(c)return c}}},ia=()=>{const e=A.useContext(ce),t=ae.isReady()?ae.getCurrentRoute():void 0,a=ca()??"general",c=et(),r=Ue();return A.useMemo(()=>lr(r,a,c,e,t==null?void 0:t.name,t==null?void 0:t.params),[e,r,a,c,t==null?void 0:t.name,t==null?void 0:t.params])},ua=e=>{const t=e.logName??e["logging-label"]??e.testID;return t||ze("No name found in props"),t},pa=({logAction:e,logCategory:t,logDimensions:a={},logValue:c,onEvent:r,testID:n,logName:f,"logging-label":l})=>{const{trackCustomEvent:g}=ia();return A.useCallback((y,{nameSuffix:h,dimensions:m={},action:x=e}={})=>{r==null||r(y);const T=ua({testID:n,logName:f,"logging-label":l});if(T){const N=h?`:${h}`:"";g(`${T}${N}`,x,{...a,...m},t,c)}},[e,t,a,f,c,r,l,n,g])};export{Et as C,yt as N,ne as P,Ke as V,ue as a,pa as b,xt as c,ia as d,ca as g,Ee as m,mt as q,gt as r,ya as u};
