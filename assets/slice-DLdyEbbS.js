import{u as t,c as k,R as n}from"./useThemable-BebvX-XG.js";import{r as i}from"./index-B-xgG2PE.js";import{u as a}from"./useDispatch-Cxcu0s7k.js";import"./dayjs-C6sMkNK9.js";const p={accessTokens:{},accounts:{},currentPermitReportCode:void 0,deeplinkAccount:void 0,isLoggingIn:!1,isLoggingOut:!1,isLoginStepsActive:!1,currentAccount:void 0,shouldShowLoginScreen:!1,visitorVehicleId:void 0,walletBalanceIncreaseStartBalance:void 0,walletBalanceIncreaseStartedAt:void 0},r=k({name:n.parking,initialState:p,reducers:{removeParkingAccount:e=>{e.currentAccount&&(delete e.accessTokens[e.currentAccount],delete e.accounts[e.currentAccount],e.currentAccount=Object.keys(e.accounts)[0],e.currentPermitReportCode=void 0,e.visitorVehicleId=void 0)},setAccessToken:(e,{payload:c})=>{e.accessTokens[c.reportCode]={accessToken:c.accessToken,accessTokenExpiration:c.accessTokenExpiration}},setCurrentPermitReportCode:(e,{payload:c})=>{e.currentPermitReportCode=c},setDeeplinkAccount:(e,{payload:c})=>{e.deeplinkAccount=c},setIsLoggingIn:(e,{payload:c})=>{e.isLoggingIn=c},setIsLoggingOut:(e,{payload:c})=>{e.isLoggingOut=c},setLoginStepsActive:(e,{payload:c})=>{e.isLoginStepsActive=c},setShouldShowLoginScreen:(e,{payload:c})=>{e.shouldShowLoginScreen=c},setVisitorVehicleId:(e,{payload:c})=>{e.visitorVehicleId=c},setParkingAccount:(e,{payload:c})=>{e.accounts[c.reportCode]=c},setParkingAccountPermits:(e,{payload:c})=>{e.currentAccount&&(e.accounts[e.currentAccount].permits=c)},setCurrentAccount:(e,{payload:c})=>{e.currentAccount=c},setWalletBalanceIncreaseStartedAt:(e,{payload:c})=>{e.walletBalanceIncreaseStartedAt=c},setWalletBalanceIncreaseStartBalance:(e,{payload:c})=>{e.walletBalanceIncreaseStartBalance=c}}}),{setDeeplinkAccount:C,setIsLoggingIn:V,setIsLoggingOut:B,setLoginStepsActive:f,setShouldShowLoginScreen:w,setWalletBalanceIncreaseStartBalance:x,setWalletBalanceIncreaseStartedAt:R}=r.actions,d=e=>{var c;return e[n.parking].currentAccount?(c=e[n.parking].accessTokens[e[n.parking].currentAccount])==null?void 0:c.accessToken:void 0},A=e=>{var c;return e[n.parking].currentAccount?(c=e[n.parking].accessTokens[e[n.parking].currentAccount])==null?void 0:c.accessTokenExpiration:void 0},S=e=>e[n.parking].currentPermitReportCode,I=e=>e[n.parking].deeplinkAccount,E=e=>e[n.parking].isLoginStepsActive,h=e=>e[n.parking].visitorVehicleId,D=e=>e[n.parking].accounts,v=e=>e[n.parking].currentAccount?e[n.parking].accounts[e[n.parking].currentAccount]:void 0,O=()=>{const e=a(),c=t(d),s=t(A),o=i.useCallback((u,l,g)=>e(r.actions.setAccessToken({reportCode:u,accessToken:l,accessTokenExpiration:g})),[e]);return{accessToken:c,setAccessToken:o,accessTokenExpiration:s}},b=()=>t(I),W=()=>t(v),j=()=>t(S),K=()=>{const e=a(),c=t(h),s=i.useCallback(o=>e(r.actions.setVisitorVehicleId(o)),[e]);return{visitorVehicleId:c,setVisitorVehicleId:s}};export{K as a,b,O as c,V as d,w as e,A as f,d as g,j as h,E as i,f as j,D as k,r as p,v as s,W as u};
