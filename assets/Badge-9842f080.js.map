{"version":3,"file":"Badge-9842f080.js","sources":["../../src/utils/formatNumber.ts","../../src/components/ui/feedback/Badge.tsx"],"sourcesContent":["export const formatNumber = (number = 0) => number.toLocaleString('nl-NL')\n","import {AccessibilityProps, StyleSheet, Text, View} from 'react-native'\nimport {Row} from '@/components/ui/layout/Row'\nimport {TestProps} from '@/components/ui/types'\nimport {useDeviceContext} from '@/hooks/useDeviceContext'\nimport {Device} from '@/providers/device.provider'\nimport {Theme} from '@/themes/themes'\nimport {useThemable} from '@/themes/useThemable'\nimport {OmitUndefined} from '@/types/undefined'\nimport {formatNumber} from '@/utils/formatNumber'\n\nexport type BadgeProps = {\n  /**\n   * The value to display in the badge.\n   */\n  value: number\n  /**\n   * Which variant of the badge to display.\n   */\n  variant?: 'default' | 'on-icon' | 'small'\n} & Pick<AccessibilityProps, 'accessibilityLabel'> &\n  TestProps\n\nexport const Badge = ({\n  accessibilityLabel,\n  testID,\n  value,\n  variant = 'default',\n}: BadgeProps) => {\n  const {fontScale} = useDeviceContext()\n  const styles = useThemable(createStyles(fontScale, variant))\n\n  return (\n    <Row align=\"start\">\n      <View style={styles.circle}>\n        <Text\n          accessibilityLabel={accessibilityLabel}\n          accessible={!!variantConfig[variant]}\n          numberOfLines={1}\n          style={styles.text}\n          testID={testID}>\n          {formatNumber(value)}\n        </Text>\n      </View>\n    </Row>\n  )\n}\n\ntype VariantConfig = {\n  [v in OmitUndefined<BadgeProps['variant']>]: {\n    accessible?: boolean\n    diameter: number\n    text: number\n  }\n}\n\nconst variantConfig: VariantConfig = {\n  default: {\n    diameter: 22,\n    text: 14,\n  },\n  'on-icon': {\n    accessible: false,\n    diameter: 16,\n    text: 12,\n  },\n  small: {\n    diameter: 16,\n    text: 12,\n  },\n}\n\nconst createStyles =\n  (\n    fontScale: Device['fontScale'],\n    variant: OmitUndefined<BadgeProps['variant']>,\n  ) =>\n  ({color, size, text}: Theme) => {\n    const {diameter, text: textSize} = variantConfig[variant]\n    const scalesWithFont = variant !== 'on-icon'\n    const scaleFactor = scalesWithFont ? fontScale : 1\n\n    const scaledDiameter = diameter * scaleFactor\n    const scaledTextSize = textSize * scaleFactor\n\n    return StyleSheet.create({\n      circle: {\n        flexDirection: 'row',\n        justifyContent: 'center',\n        minWidth: scaledDiameter, // Prevent the circle becoming a vertical oval\n        paddingStart: size.spacing.xs + 0.5, // Nudge center-alignment because of even width\n        paddingEnd: size.spacing.xs,\n        borderRadius: scaledDiameter / 2,\n        backgroundColor: color.pressable.secondary.background,\n      },\n      text: {\n        fontFamily: text.fontFamily.bold,\n        fontSize: scaledTextSize,\n        lineHeight: scaledDiameter,\n        color: color.text.inverse,\n      },\n    })\n  }\n"],"names":["formatNumber","number","Badge","accessibilityLabel","testID","value","variant","fontScale","useDeviceContext","styles","useThemable","createStyles","jsx","Row","View","Text","variantConfig","color","size","text","diameter","textSize","scaleFactor","scaledDiameter","scaledTextSize","StyleSheet"],"mappings":"gOAAO,MAAMA,EAAe,CAACC,EAAS,IAAMA,EAAO,eAAe,OAAO,ECsBzEC,EAAA,CAAA,CACA,mBAAAC,EACA,OAAAC,EACA,MAAAC,EACA,QAAAC,EAAA,SACA,IAAA,CACA,KAAA,CAAA,UAAAC,GAAAC,IACAC,EAAAC,EAAAC,EAAAJ,EAAAD,CAAA,CAAA,EAGA,OAAAM,EAAAC,GAAA,MAAA,QACA,WAAAC,EAAA,CAAA,MAAAL,EAAA,OACA,SAAAG,EAAAG,EAAA,CACA,mBAAAZ,EACA,WAAA,CAAA,CAAAa,EAAAV,CAAA,EACA,cAAA,EACA,MAAAG,EAAA,KACA,OAAAL,EACA,WAAAC,CAAA,CAAA,CAAA,CAEA,CAAA,CACA,CAAA,CAEA,EAUAW,EAAA,CACA,QAAA,CACA,SAAA,GACA,KAAA,EACA,EACA,UAAA,CACA,WAAA,GACA,SAAA,GACA,KAAA,EACA,EACA,MAAA,CACA,SAAA,GACA,KAAA,EACA,CACA,EAEAL,EACA,CACAJ,EACAD,IAEA,CAAA,CAAA,MAAAW,EAAA,KAAAC,EAAA,KAAAC,KAAA,CACA,KAAA,CAAA,SAAAC,EAAA,KAAAC,CAAA,EAAAL,EAAAV,CAAA,EAEAgB,EADAhB,IAAA,UACAC,EAAA,EAEAgB,EAAAH,EAAAE,EACAE,EAAAH,EAAAC,EAEA,OAAAG,EAAA,OAAA,CACA,OAAA,CACA,cAAA,MACA,eAAA,SACA,SAAAF,EACA,aAAAL,EAAA,QAAA,GAAA,GACA,WAAAA,EAAA,QAAA,GACA,aAAAK,EAAA,EACA,gBAAAN,EAAA,UAAA,UAAA,UACA,EACA,KAAA,CACA,WAAAE,EAAA,WAAA,KACA,SAAAK,EACA,WAAAD,EACA,MAAAN,EAAA,KAAA,OACA,CAAA,CACA,CACA"}