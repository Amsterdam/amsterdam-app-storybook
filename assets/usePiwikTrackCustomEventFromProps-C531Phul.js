import{r as M,b as nt}from"./index-B-xgG2PE.js";import{g as ft}from"./_commonjsHelpers-D6-XlEtG.js";import{r as dt}from"./index-CnyDuYXe.js";import{i as ht,E as Q,P as gt,a as Et,b as yt,c as _t,d as pt,u as st,M as mt,e as Rt,f as St}from"./useTrackException-xOE21Ogz.js";import{a as bt,b as vt}from"./index-aqbATsDD.js";import{j as Ot}from"./jsx-runtime-DNHyKP0h.js";import{P as Tt}from"./index-BiinuClr.js";import{a as Ae}from"./NativeEventEmitter-CjF4_R2K.js";var De="DELAY",L="ERROR",xe="LONG_PRESS_DETECTED",A="NOT_RESPONDER",G="RESPONDER_ACTIVE_LONG_PRESS_START",ge="RESPONDER_ACTIVE_PRESS_START",Ce="RESPONDER_INACTIVE_PRESS_START",Ct="RESPONDER_GRANT",ie="RESPONDER_RELEASE",ct="RESPONDER_TERMINATED",Fe=Object.freeze({NOT_RESPONDER:{DELAY:L,RESPONDER_GRANT:Ce,RESPONDER_RELEASE:L,RESPONDER_TERMINATED:L,LONG_PRESS_DETECTED:L},RESPONDER_INACTIVE_PRESS_START:{DELAY:ge,RESPONDER_GRANT:L,RESPONDER_RELEASE:A,RESPONDER_TERMINATED:A,LONG_PRESS_DETECTED:L},RESPONDER_ACTIVE_PRESS_START:{DELAY:L,RESPONDER_GRANT:L,RESPONDER_RELEASE:A,RESPONDER_TERMINATED:A,LONG_PRESS_DETECTED:G},RESPONDER_ACTIVE_LONG_PRESS_START:{DELAY:L,RESPONDER_GRANT:L,RESPONDER_RELEASE:A,RESPONDER_TERMINATED:A,LONG_PRESS_DETECTED:G},ERROR:{DELAY:A,RESPONDER_GRANT:Ce,RESPONDER_RELEASE:A,RESPONDER_TERMINATED:A,LONG_PRESS_DETECTED:A}}),it=e=>e.getAttribute("role"),Pe=e=>e.tagName.toLowerCase(),je=e=>e===ge||e===G,ue=e=>it(e)==="button",Le=e=>e===Ce||e===ge||e===G,Pt=e=>e===ct||e===ie,Ue=e=>{var t=e.key,a=e.target,i=t===" "||t==="Spacebar",r=Pe(a)==="button"||ue(a);return t==="Enter"||i&&r},Nt=450,It=50;class At{constructor(t){this._eventHandlers=null,this._isPointerTouch=!1,this._longPressDelayTimeout=null,this._longPressDispatched=!1,this._pressDelayTimeout=null,this._pressOutDelayTimeout=null,this._touchState=A,this._responderElement=null,this.configure(t)}configure(t){this._config=t}reset(){this._cancelLongPressDelayTimeout(),this._cancelPressDelayTimeout(),this._cancelPressOutDelayTimeout()}getEventHandlers(){return this._eventHandlers==null&&(this._eventHandlers=this._createEventHandlers()),this._eventHandlers}_createEventHandlers(){var t=(r,u)=>{r.persist(),this._cancelPressOutDelayTimeout(),this._longPressDispatched=!1,this._selectionTerminated=!1,this._touchState=A,this._isPointerTouch=r.nativeEvent.type==="touchstart",this._receiveSignal(Ct,r);var s=ye(this._config.delayPressStart,0,It);u!==!1&&s>0?this._pressDelayTimeout=setTimeout(()=>{this._receiveSignal(De,r)},s):this._receiveSignal(De,r);var n=ye(this._config.delayLongPress,10,Nt);this._longPressDelayTimeout=setTimeout(()=>{this._handleLongPress(r)},n+s)},a=r=>{this._receiveSignal(ie,r)},i=r=>{var u=this._config.onPress,s=r.target;if(this._touchState!==A&&Ue(r)){a(r),document.removeEventListener("keyup",i);var n=s.getAttribute("role"),l=Pe(s),y=n==="link"||l==="a"||l==="button"||l==="input"||l==="select"||l==="textarea",h=this._responderElement===s;u!=null&&!y&&h&&u(r),this._responderElement=null}};return{onStartShouldSetResponder:r=>{var u=this._config.disabled;return u&&ue(r.currentTarget)&&r.stopPropagation(),u==null?!0:!u},onKeyDown:r=>{var u=this._config.disabled,s=r.key,n=r.target;if(!u&&Ue(r)){this._touchState===A&&(t(r,!1),this._responderElement=n,document.addEventListener("keyup",i));var l=s===" "||s==="Spacebar",y=it(n),h=y==="button"||y==="menuitem";l&&h&&Pe(n)!=="button"&&r.preventDefault(),r.stopPropagation()}},onResponderGrant:r=>t(r),onResponderMove:r=>{this._config.onPressMove!=null&&this._config.onPressMove(r);var u=Me(r);if(this._touchActivatePosition!=null){var s=this._touchActivatePosition.pageX-u.pageX,n=this._touchActivatePosition.pageY-u.pageY;Math.hypot(s,n)>10&&this._cancelLongPressDelayTimeout()}},onResponderRelease:r=>a(r),onResponderTerminate:r=>{r.nativeEvent.type==="selectionchange"&&(this._selectionTerminated=!0),this._receiveSignal(ct,r)},onResponderTerminationRequest:r=>{var u=this._config,s=u.cancelable,n=u.disabled,l=u.onLongPress;return!n&&l!=null&&this._isPointerTouch&&r.nativeEvent.type==="contextmenu"?!1:s??!0},onClick:r=>{var u=this._config,s=u.disabled,n=u.onPress;s?ue(r.currentTarget)&&r.stopPropagation():(r.stopPropagation(),this._longPressDispatched||this._selectionTerminated?r.preventDefault():n!=null&&r.altKey===!1&&n(r))},onContextMenu:r=>{var u=this._config,s=u.disabled,n=u.onLongPress;s?ue(r.currentTarget)&&r.stopPropagation():n!=null&&this._isPointerTouch&&!r.defaultPrevented&&(r.preventDefault(),r.stopPropagation())}}}_receiveSignal(t,a){var i=this._touchState,r=null;Fe[i]!=null&&(r=Fe[i][t]),!(this._touchState===A&&t===ie)&&(r==null||r===L?console.error("PressResponder: Invalid signal "+t+" for state "+i+" on responder"):i!==r&&(this._performTransitionSideEffects(i,r,t,a),this._touchState=r))}_performTransitionSideEffects(t,a,i,r){if(Pt(i)&&(setTimeout(()=>{this._isPointerTouch=!1},0),this._touchActivatePosition=null,this._cancelLongPressDelayTimeout()),Le(t)&&i===xe){var u=this._config.onLongPress;u!=null&&r.nativeEvent.key==null&&(u(r),this._longPressDispatched=!0)}var s=je(t),n=je(a);if(!s&&n?this._activate(r):s&&!n&&this._deactivate(r),Le(t)&&i===ie){var l=this._config,y=l.onLongPress,h=l.onPress;if(h!=null){var _=y!=null&&t===G;_||!n&&!s&&(this._activate(r),this._deactivate(r))}}this._cancelPressDelayTimeout()}_activate(t){var a=this._config,i=a.onPressChange,r=a.onPressStart,u=Me(t);this._touchActivatePosition={pageX:u.pageX,pageY:u.pageY},r!=null&&r(t),i!=null&&i(!0)}_deactivate(t){var a=this._config,i=a.onPressChange,r=a.onPressEnd;function u(){r!=null&&r(t),i!=null&&i(!1)}var s=ye(this._config.delayPressEnd);s>0?this._pressOutDelayTimeout=setTimeout(()=>{u()},s):u()}_handleLongPress(t){(this._touchState===ge||this._touchState===G)&&this._receiveSignal(xe,t)}_cancelLongPressDelayTimeout(){this._longPressDelayTimeout!=null&&(clearTimeout(this._longPressDelayTimeout),this._longPressDelayTimeout=null)}_cancelPressDelayTimeout(){this._pressDelayTimeout!=null&&(clearTimeout(this._pressDelayTimeout),this._pressDelayTimeout=null)}_cancelPressOutDelayTimeout(){this._pressOutDelayTimeout!=null&&(clearTimeout(this._pressOutDelayTimeout),this._pressOutDelayTimeout=null)}}function ye(e,t,a){return t===void 0&&(t=0),a===void 0&&(a=0),Math.max(t,e??a)}function Me(e){var t=e.nativeEvent,a=t.changedTouches,i=t.touches;return i!=null&&i.length>0?i[0]:a!=null&&a.length>0?a[0]:e.nativeEvent}function Ea(e,t){var a=M.useRef(null);a.current==null&&(a.current=new At(t));var i=a.current;return M.useEffect(()=>{i.configure(t)},[t,i]),M.useEffect(()=>()=>{i.reset()},[i]),M.useDebugValue(t),i.getEventHandlers()}function Dt(){return{type:"GO_BACK"}}function xt(){if(typeof(arguments.length<=0?void 0:arguments[0])=="string")return{type:"NAVIGATE",payload:{name:arguments.length<=0?void 0:arguments[0],params:arguments.length<=1?void 0:arguments[1]}};{const e=(arguments.length<=0?void 0:arguments[0])||{};if(!e.hasOwnProperty("key")&&!e.hasOwnProperty("name"))throw new Error("You need to specify name or key when calling navigate with an object as the argument. See https://reactnavigation.org/docs/navigation-actions#navigate for usage.");return{type:"NAVIGATE",payload:e}}}function Ft(e){return{type:"RESET",payload:e}}function jt(e){return{type:"SET_PARAMS",payload:{params:e}}}const Lt=Object.freeze(Object.defineProperty({__proto__:null,goBack:Dt,navigate:xt,reset:Ft,setParams:jt},Symbol.toStringTag,{value:"Module"})),Ut="The 'navigation' object hasn't been initialized yet. This might happen if you don't have a navigator mounted, or if the navigator hasn't finished mounting. See https://reactnavigation.org/docs/navigating-without-navigation-prop#handling-initialization for more details.";function Mt(){const e=[...Object.keys(Lt),"addListener","removeListener","resetRoot","dispatch","isFocused","canGoBack","getRootState","getState","getParent","getCurrentRoute","getCurrentOptions"],t={},a=(u,s)=>{t[u]&&(t[u]=t[u].filter(n=>n!==s))};let i=null;return{get current(){return i},set current(u){i=u,u!=null&&Object.entries(t).forEach(s=>{let[n,l]=s;l.forEach(y=>{u.addListener(n,y)})})},isReady:()=>i==null?!1:i.isReady(),...e.reduce((u,s)=>(u[s]=function(){for(var n=arguments.length,l=new Array(n),y=0;y<n;y++)l[y]=arguments[y];if(i==null)switch(s){case"addListener":{const[h,_]=l;return t[h]=t[h]||[],t[h].push(_),()=>a(h,_)}case"removeListener":{const[h,_]=l;a(h,_);break}default:console.error(Ut)}else return i[s](...l)},u),{})}}var _e={},pe,Ve;function Vt(){return Ve||(Ve=1,pe=e=>encodeURIComponent(e).replace(/[!'()*]/g,t=>`%${t.charCodeAt(0).toString(16).toUpperCase()}`)),pe}var me,ze;function zt(){if(ze)return me;ze=1;var e="%[a-f0-9]{2}",t=new RegExp("("+e+")|([^%]+?)","gi"),a=new RegExp("("+e+")+","gi");function i(s,n){try{return[decodeURIComponent(s.join(""))]}catch{}if(s.length===1)return s;n=n||1;var l=s.slice(0,n),y=s.slice(n);return Array.prototype.concat.call([],i(l),i(y))}function r(s){try{return decodeURIComponent(s)}catch{for(var n=s.match(t)||[],l=1;l<n.length;l++)s=i(n,l).join(""),n=s.match(t)||[];return s}}function u(s){for(var n={"%FE%FF":"��","%FF%FE":"��"},l=a.exec(s);l;){try{n[l[0]]=decodeURIComponent(l[0])}catch{var y=r(l[0]);y!==l[0]&&(n[l[0]]=y)}l=a.exec(s)}n["%C2"]="�";for(var h=Object.keys(n),_=0;_<h.length;_++){var v=h[_];s=s.replace(new RegExp(v,"g"),n[v])}return s}return me=function(s){if(typeof s!="string")throw new TypeError("Expected `encodedURI` to be of type `string`, got `"+typeof s+"`");try{return s=s.replace(/\+/g," "),decodeURIComponent(s)}catch{return u(s)}},me}var Re,qe;function qt(){return qe||(qe=1,Re=(e,t)=>{if(!(typeof e=="string"&&typeof t=="string"))throw new TypeError("Expected the arguments to be of type `string`");if(t==="")return[e];const a=e.indexOf(t);return a===-1?[e]:[e.slice(0,a),e.slice(a+t.length)]}),Re}var Se,$e;function $t(){return $e||($e=1,Se=function(e,t){for(var a={},i=Object.keys(e),r=Array.isArray(t),u=0;u<i.length;u++){var s=i[u],n=e[s];(r?t.indexOf(s)!==-1:t(s,n,e))&&(a[s]=n)}return a}),Se}var we;function wt(){return we||(we=1,function(e){const t=Vt(),a=zt(),i=qt(),r=$t(),u=c=>c==null,s=Symbol("encodeFragmentIdentifier");function n(c){switch(c.arrayFormat){case"index":return o=>(f,d)=>{const g=f.length;return d===void 0||c.skipNull&&d===null||c.skipEmptyString&&d===""?f:d===null?[...f,[h(o,c),"[",g,"]"].join("")]:[...f,[h(o,c),"[",h(g,c),"]=",h(d,c)].join("")]};case"bracket":return o=>(f,d)=>d===void 0||c.skipNull&&d===null||c.skipEmptyString&&d===""?f:d===null?[...f,[h(o,c),"[]"].join("")]:[...f,[h(o,c),"[]=",h(d,c)].join("")];case"colon-list-separator":return o=>(f,d)=>d===void 0||c.skipNull&&d===null||c.skipEmptyString&&d===""?f:d===null?[...f,[h(o,c),":list="].join("")]:[...f,[h(o,c),":list=",h(d,c)].join("")];case"comma":case"separator":case"bracket-separator":{const o=c.arrayFormat==="bracket-separator"?"[]=":"=";return f=>(d,g)=>g===void 0||c.skipNull&&g===null||c.skipEmptyString&&g===""?d:(g=g===null?"":g,d.length===0?[[h(f,c),o,h(g,c)].join("")]:[[d,h(g,c)].join(c.arrayFormatSeparator)])}default:return o=>(f,d)=>d===void 0||c.skipNull&&d===null||c.skipEmptyString&&d===""?f:d===null?[...f,h(o,c)]:[...f,[h(o,c),"=",h(d,c)].join("")]}}function l(c){let o;switch(c.arrayFormat){case"index":return(f,d,g)=>{if(o=/\[(\d*)\]$/.exec(f),f=f.replace(/\[\d*\]$/,""),!o){g[f]=d;return}g[f]===void 0&&(g[f]={}),g[f][o[1]]=d};case"bracket":return(f,d,g)=>{if(o=/(\[\])$/.exec(f),f=f.replace(/\[\]$/,""),!o){g[f]=d;return}if(g[f]===void 0){g[f]=[d];return}g[f]=[].concat(g[f],d)};case"colon-list-separator":return(f,d,g)=>{if(o=/(:list)$/.exec(f),f=f.replace(/:list$/,""),!o){g[f]=d;return}if(g[f]===void 0){g[f]=[d];return}g[f]=[].concat(g[f],d)};case"comma":case"separator":return(f,d,g)=>{const m=typeof d=="string"&&d.includes(c.arrayFormatSeparator),E=typeof d=="string"&&!m&&_(d,c).includes(c.arrayFormatSeparator);d=E?_(d,c):d;const R=m||E?d.split(c.arrayFormatSeparator).map(C=>_(C,c)):d===null?d:_(d,c);g[f]=R};case"bracket-separator":return(f,d,g)=>{const m=/(\[\])$/.test(f);if(f=f.replace(/\[\]$/,""),!m){g[f]=d&&_(d,c);return}const E=d===null?[]:d.split(c.arrayFormatSeparator).map(R=>_(R,c));if(g[f]===void 0){g[f]=E;return}g[f]=[].concat(g[f],E)};default:return(f,d,g)=>{if(g[f]===void 0){g[f]=d;return}g[f]=[].concat(g[f],d)}}}function y(c){if(typeof c!="string"||c.length!==1)throw new TypeError("arrayFormatSeparator must be single character string")}function h(c,o){return o.encode?o.strict?t(c):encodeURIComponent(c):c}function _(c,o){return o.decode?a(c):c}function v(c){return Array.isArray(c)?c.sort():typeof c=="object"?v(Object.keys(c)).sort((o,f)=>Number(o)-Number(f)).map(o=>c[o]):c}function b(c){const o=c.indexOf("#");return o!==-1&&(c=c.slice(0,o)),c}function x(c){let o="";const f=c.indexOf("#");return f!==-1&&(o=c.slice(f)),o}function O(c){c=b(c);const o=c.indexOf("?");return o===-1?"":c.slice(o+1)}function j(c,o){return o.parseNumbers&&!Number.isNaN(Number(c))&&typeof c=="string"&&c.trim()!==""?c=Number(c):o.parseBooleans&&c!==null&&(c.toLowerCase()==="true"||c.toLowerCase()==="false")&&(c=c.toLowerCase()==="true"),c}function F(c,o){o=Object.assign({decode:!0,sort:!0,arrayFormat:"none",arrayFormatSeparator:",",parseNumbers:!1,parseBooleans:!1},o),y(o.arrayFormatSeparator);const f=l(o),d=Object.create(null);if(typeof c!="string"||(c=c.trim().replace(/^[?#&]/,""),!c))return d;for(const g of c.split("&")){if(g==="")continue;let[m,E]=i(o.decode?g.replace(/\+/g," "):g,"=");E=E===void 0?null:["comma","separator","bracket-separator"].includes(o.arrayFormat)?E:_(E,o),f(_(m,o),E,d)}for(const g of Object.keys(d)){const m=d[g];if(typeof m=="object"&&m!==null)for(const E of Object.keys(m))m[E]=j(m[E],o);else d[g]=j(m,o)}return o.sort===!1?d:(o.sort===!0?Object.keys(d).sort():Object.keys(d).sort(o.sort)).reduce((g,m)=>{const E=d[m];return E&&typeof E=="object"&&!Array.isArray(E)?g[m]=v(E):g[m]=E,g},Object.create(null))}e.extract=O,e.parse=F,e.stringify=(c,o)=>{if(!c)return"";o=Object.assign({encode:!0,strict:!0,arrayFormat:"none",arrayFormatSeparator:","},o),y(o.arrayFormatSeparator);const f=E=>o.skipNull&&u(c[E])||o.skipEmptyString&&c[E]==="",d=n(o),g={};for(const E of Object.keys(c))f(E)||(g[E]=c[E]);const m=Object.keys(g);return o.sort!==!1&&m.sort(o.sort),m.map(E=>{const R=c[E];return R===void 0?"":R===null?h(E,o):Array.isArray(R)?R.length===0&&o.arrayFormat==="bracket-separator"?h(E,o)+"[]":R.reduce(d(E),[]).join("&"):h(E,o)+"="+h(R,o)}).filter(E=>E.length>0).join("&")},e.parseUrl=(c,o)=>{o=Object.assign({decode:!0},o);const[f,d]=i(c,"#");return Object.assign({url:f.split("?")[0]||"",query:F(O(c),o)},o&&o.parseFragmentIdentifier&&d?{fragmentIdentifier:_(d,o)}:{})},e.stringifyUrl=(c,o)=>{o=Object.assign({encode:!0,strict:!0,[s]:!0},o);const f=b(c.url).split("?")[0]||"",d=e.extract(c.url),g=e.parse(d,{sort:!1}),m=Object.assign(g,c.query);let E=e.stringify(m,o);E&&(E=`?${E}`);let R=x(c.url);return c.fragmentIdentifier&&(R=`#${o[s]?h(c.fragmentIdentifier,o):c.fragmentIdentifier}`),`${f}${E}${R}`},e.pick=(c,o,f)=>{f=Object.assign({parseFragmentIdentifier:!0,[s]:!1},f);const{url:d,query:g,fragmentIdentifier:m}=e.parseUrl(c,f);return e.stringifyUrl({url:d,query:r(g,o),fragmentIdentifier:m},f)},e.exclude=(c,o,f)=>{const d=Array.isArray(o)?g=>!o.includes(g):(g,m)=>!o(g,m);return e.pick(c,d,f)}}(_e)),_e}var ya=wt(),be,Ge;function Gt(){return Ge||(Ge=1,be=e=>{if(typeof e!="string")throw new TypeError("Expected a string");return e.replace(/[|\\{}()[\]^$+*?.]/g,"\\$&").replace(/-/g,"\\x2d")}),be}var Bt=Gt();const _a=ft(Bt);var ae={},Be;function Kt(){if(Be)return ae;Be=1,Object.defineProperty(ae,"__esModule",{value:!0});var e=nt(),t=typeof document<"u"?e.useLayoutEffect:e.useEffect;return ae.default=t,ae}var ve,Ke;function Ht(){if(Ke)return ve;Ke=1;var e=nt(),t=Kt();function a(i){var r=e.useRef(i),u=e.useRef(function(){for(var n=[],l=0;l<arguments.length;l++)n[l]=arguments[l];return r.current.apply(this,n)}).current;return(0,t.default)(function(){r.current=i}),u}return ve=a,ve}Ht();dt();const le=Mt();var J=(e=>(e[e.searchTerm=3]="searchTerm",e[e.searchResultAmount=4]="searchResultAmount",e[e.searchType=5]="searchType",e[e.searchResultTitle=6]="searchResultTitle",e[e.searchResultUrl=7]="searchResultUrl",e[e.searchResultType=8]="searchResultType",e[e.searchResultSelected=9]="searchResultSelected",e[e.contentTitle=10]="contentTitle",e[e.contentSubject=11]="contentSubject",e[e.contentTeam=12]="contentTeam",e[e.contentPublicationDate=13]="contentPublicationDate",e[e.contentType=14]="contentType",e[e.userIntext=15]="userIntext",e[e.searchMachine=16]="searchMachine",e[e.pageType=17]="pageType",e[e.contentId=20]="contentId",e[e.newState=36]="newState",e[e.routeName=43]="routeName",e[e.pushTitle=44]="pushTitle",e[e.pushContent=45]="pushContent",e[e.isPushNotificationDeeplink=47]="isPushNotificationDeeplink",e))(J||{}),fe=(e=>(e[e.userType=1]="userType",e[e.userCity=2]="userCity",e[e.appVersion=18]="appVersion",e[e.appVersionWithBuild=19]="appVersionWithBuild",e[e.reduceMotionEnabled=21]="reduceMotionEnabled",e[e.screenReaderEnabled=22]="screenReaderEnabled",e[e.accessibilityServiceEnabled=23]="accessibilityServiceEnabled",e[e.boldTextEnabled=24]="boldTextEnabled",e[e.grayscaleEnabled=25]="grayscaleEnabled",e[e.invertColorsEnabled=26]="invertColorsEnabled",e[e.reduceTransparencyEnabled=27]="reduceTransparencyEnabled",e[e.fontScale=28]="fontScale",e[e.isLandscape=29]="isLandscape",e[e.isPortrait=30]="isPortrait",e[e.isTablet=31]="isTablet",e[e.hasCameraPermission=32]="hasCameraPermission",e[e.hasPhotosPermission=33]="hasPhotosPermission",e[e.hasLocationPermission=34]="hasLocationPermission",e[e.hasNotificationPermission=35]="hasNotificationPermission",e[e.hasBiometricsPermission=48]="hasBiometricsPermission",e[e.contactModule=37]="contactModule",e[e.redirectsModule=38]="redirectsModule",e[e.wasteGuideModule=39]="wasteGuideModule",e[e.reportProblemModule=40]="reportProblemModule",e[e.constructionWorkModule=41]="constructionWorkModule",e[e.constructionWorkEditorModule=42]="constructionWorkEditorModule",e[e.cityPassModule=46]="cityPassModule",e))(fe||{}),Yt=(e=>(e.accessibilityAction="accessibilityAction",e.accessibilityChange="accessibilityChange",e.addressAdd="addressAdd",e.addressChange="addressChange",e.blur="blur",e.buttonPress="buttonPress",e.deviceInfoChange="deviceInfoChange",e.finishedReport="finishedReport",e.locationOrAddressSelectionChange="locationOrAddressSelectionChange",e.moduleChange="moduleChange",e.pushNotificationDisplay="pushNotificationDisplay",e.pushNotificationTap="pushNotificationTap",e.radioChange="radioChange",e.startUp="startUp",e.swipeOut="swipeOut",e.toForeground="toForeground",e.toggle="toggle",e))(Yt||{}),de=(e=>(e.alreadyInitialized="Piwik Pro SDK has been already initialized",e.missingEnvVars="PIWIK_PRO_URL or PIWIK_PRO_ID are not defined in env",e))(de||{});const Wt=e=>{if(e)return Object.keys(e).filter(t=>e[t]!==void 0).reduce((t,a)=>({...t,[a]:e[a]}),{})},kt="1.14.0",Qt=vt(),ut=ht?kt:bt(),Xt=`${ut}.${Qt}`,Jt={[fe.appVersion]:ut,[fe.appVersionWithBuild]:Xt},Zt=(e,t=!1)=>t?Object.keys(e).reduce((a,i)=>{const r=fe[i]??J[i];return r&&(a[r]=e[i]),a},{}):e,$=(e,t=!1)=>Wt(Zt({...Jt,...e},t)),er=e=>{const t={};return e&&Object.keys(e).forEach(a=>{if(typeof e[a]!="string"&&typeof e[a]!="number")return;const i=a==="id"?"contentId":a;Object.values(J).includes(i)&&(t[J[i]]=e[a].toString())}),{appInsights:$(t,!0),piwik:$(t,!1)}},He=e=>{const t=(e==null?void 0:e.screenTitle)??(e==null?void 0:e.screenHeaderTitle);if(t)return decodeURIComponent(t)};var w={},U={},k={},Oe={},ne={},Ye;function ot(){if(Ye)return ne;Ye=1,Object.defineProperty(ne,"__esModule",{value:!0}),ne.encodeString=a;const e=Array.from({length:256},(i,r)=>"%"+((r<16?"0":"")+r.toString(16)).toUpperCase()),t=new Int8Array([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,1,1,1,1,0,0,1,1,0,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,0,1,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,1,0]);function a(i){const r=i.length;if(r===0)return"";let u="",s=0,n=0;e:for(;n<r;n++){let l=i.charCodeAt(n);for(;l<128;){if(t[l]!==1&&(s<n&&(u+=i.slice(s,n)),s=n+1,u+=e[l]),++n===r)break e;l=i.charCodeAt(n)}if(s<n&&(u+=i.slice(s,n)),l<2048){s=n+1,u+=e[192|l>>6]+e[128|l&63];continue}if(l<55296||l>=57344){s=n+1,u+=e[224|l>>12]+e[128|l>>6&63]+e[128|l&63];continue}if(++n,n>=r)throw new Error("URI malformed");const y=i.charCodeAt(n)&1023;s=n+1,l=65536+((l&1023)<<10|y),u+=e[240|l>>18]+e[128|l>>12&63]+e[128|l>>6&63]+e[128|l&63]}return s===0?i:s<r?u+i.slice(s):u}return ne}var We;function Ne(){return We||(We=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.defaultOptions=e.defaultShouldSerializeObject=e.defaultValueSerializer=void 0;const t=ot(),a=u=>{switch(typeof u){case"string":return(0,t.encodeString)(u);case"bigint":case"boolean":return""+u;case"number":if(Number.isFinite(u))return u<1e21?""+u:(0,t.encodeString)(""+u);break}return u instanceof Date?(0,t.encodeString)(u.toISOString()):""};e.defaultValueSerializer=a;const i=u=>u instanceof Date;e.defaultShouldSerializeObject=i;const r=u=>u;e.defaultOptions={nesting:!0,nestingSyntax:"dot",arrayRepeat:!1,arrayRepeatSyntax:"repeat",delimiter:38,valueDeserializer:r,valueSerializer:e.defaultValueSerializer,keyDeserializer:r,shouldSerializeObject:e.defaultShouldSerializeObject}}(Oe)),Oe}var ke;function lt(){if(ke)return k;ke=1,Object.defineProperty(k,"__esModule",{value:!0}),k.getDeepObject=i,k.stringifyObject=y;const e=Ne(),t=ot();function a(h){return h==="__proto__"||h==="constructor"||h==="prototype"}function i(h,_,v,b,x){if(a(_))return h;const O=h[_];return typeof O=="object"&&O!==null?O:!b&&(x||typeof v=="number"||typeof v=="string"&&v*0===0&&v.indexOf(".")===-1)?h[_]=[]:h[_]={}}const r=20,u="[]",s="[",n="]",l=".";function y(h,_,v=0,b,x){const{nestingSyntax:O=e.defaultOptions.nestingSyntax,arrayRepeat:j=e.defaultOptions.arrayRepeat,arrayRepeatSyntax:F=e.defaultOptions.arrayRepeatSyntax,nesting:c=e.defaultOptions.nesting,delimiter:o=e.defaultOptions.delimiter,valueSerializer:f=e.defaultOptions.valueSerializer,shouldSerializeObject:d=e.defaultOptions.shouldSerializeObject}=_,g=typeof o=="number"?String.fromCharCode(o):o,m=x===!0&&j,E=O==="dot"||O==="js"&&!x;if(v>r)return"";let R="",C=!0,P=!1;for(const N in h){const S=h[N];if(S===void 0)continue;let T;b?(T=b,m?F==="bracket"&&(T+=u):E?(T+=l,T+=N):(T+=s,T+=N,T+=n)):T=N,C||(R+=g),typeof S=="object"&&S!==null&&!d(S)?(P=S.pop!==void 0,(c||j&&P)&&(R+=y(S,_,v+1,T,P))):(R+=(0,t.encodeString)(T),R+="=",R+=f(S,N)),C&&(C=!1)}return R}return k}var Te,Qe;function tr(){if(Qe)return Te;Qe=1;var e=12,t=0,a=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,7,7,7,7,7,7,7,7,7,7,7,7,8,7,7,10,9,9,9,11,4,4,4,4,4,4,4,4,4,4,4,0,0,0,0,0,0,0,0,0,0,0,0,12,0,0,0,0,24,36,48,60,72,84,96,0,12,12,12,0,0,0,0,0,0,0,0,0,0,0,24,0,0,0,0,0,0,0,0,0,24,24,24,0,0,0,0,0,0,0,0,0,24,24,0,0,0,0,0,0,0,0,0,0,48,48,48,0,0,0,0,0,0,0,0,0,0,48,48,0,0,0,0,0,0,0,0,0,48,0,0,0,0,0,0,0,0,0,0,127,63,63,63,0,31,15,15,15,7,7,7];function i(s){var n=s.indexOf("%");if(n===-1)return s;for(var l=s.length,y="",h=0,_=0,v=n,b=e;n>-1&&n<l;){var x=u(s[n+1],4),O=u(s[n+2],0),j=x|O,F=a[j];if(b=a[256+b+F],_=_<<6|j&a[364+F],b===e)y+=s.slice(h,v),y+=_<=65535?String.fromCharCode(_):String.fromCharCode(55232+(_>>10),56320+(_&1023)),_=0,h=n+3,n=v=s.indexOf("%",h);else{if(b===t)return null;if(n+=3,n<l&&s.charCodeAt(n)===37)continue;return null}}return y+s.slice(h)}var r={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,a:10,A:10,b:11,B:11,c:12,C:12,d:13,D:13,e:14,E:14,f:15,F:15};function u(s,n){var l=r[s];return l===void 0?255:l<<n}return Te=i,Te}var Xe;function rr(){if(Xe)return U;Xe=1;var e=U&&U.__importDefault||function(h){return h&&h.__esModule?h:{default:h}};Object.defineProperty(U,"__esModule",{value:!0}),U.numberValueDeserializer=U.numberKeyDeserializer=void 0,U.parse=y;const t=lt(),a=Ne(),i=e(tr()),r=h=>{const _=Number(h);return Number.isNaN(_)?h:_};U.numberKeyDeserializer=r;const u=h=>{const _=Number(h);return Number.isNaN(_)?h:_};U.numberValueDeserializer=u;const s=/\+/g,n=function(){};n.prototype=Object.create(null);function l(h,_,v,b,x){let O=h.substring(_,v);return b&&(O=O.replace(s," ")),x&&(O=(0,i.default)(O)||O),O}function y(h,_){const{valueDeserializer:v=a.defaultOptions.valueDeserializer,keyDeserializer:b=a.defaultOptions.keyDeserializer,arrayRepeatSyntax:x=a.defaultOptions.arrayRepeatSyntax,nesting:O=a.defaultOptions.nesting,arrayRepeat:j=a.defaultOptions.arrayRepeat,nestingSyntax:F=a.defaultOptions.nestingSyntax,delimiter:c=a.defaultOptions.delimiter}=_??{},o=typeof c=="string"?c.charCodeAt(0):c,f=F==="js",d=new n;if(typeof h!="string")return d;const g=h.length;let m="",E=-1,R=-1,C=-1,P=d,N,S="",T="",V=!1,ee=!1,z=!1,Ee=!1,B=!1,K=!1,te=!1,q=0,H=-1,Y=-1,Ie=-1;for(let I=0;I<g+1;I++){if(q=I!==g?h.charCodeAt(I):o,q===o){if(te=R>E,te||(R=I),C!==R-1&&(T=l(h,C+1,H>-1?H:R,z,V),S=b(T),N!==void 0&&(P=(0,t.getDeepObject)(P,N,S,f&&B,f&&K))),te||S!==""){te&&(m=h.slice(R+1,I),Ee&&(m=m.replace(s," ")),ee&&(m=(0,i.default)(m)||m));const W=v(m,S);if(j){const re=P[S];re===void 0?H>-1?P[S]=[W]:P[S]=W:re.pop?re.push(W):P[S]=[re,W]}else P[S]=W}m="",E=I,R=I,V=!1,ee=!1,z=!1,Ee=!1,B=!1,K=!1,H=-1,C=I,P=d,N=void 0,S=""}else q===93?(j&&x==="bracket"&&Ie===91&&(H=Y),O&&(F==="index"||f)&&R<=E&&(C!==Y&&(T=l(h,C+1,I,z,V),S=b(T),N!==void 0&&(P=(0,t.getDeepObject)(P,N,S,void 0,f)),N=S,z=!1,V=!1),C=I,K=!0,B=!1)):q===46?O&&(F==="dot"||f)&&R<=E&&(C!==Y&&(T=l(h,C+1,I,z,V),S=b(T),N!==void 0&&(P=(0,t.getDeepObject)(P,N,S,f)),N=S,z=!1,V=!1),B=!0,K=!1,C=I):q===91?O&&(F==="index"||f)&&R<=E&&(C!==Y&&(T=l(h,C+1,I,z,V),S=b(T),f&&N!==void 0&&(P=(0,t.getDeepObject)(P,N,S,f)),N=S,z=!1,V=!1,B=!1,K=!0),C=I):q===61?R<=E?R=I:ee=!0:q===43?R>E?Ee=!0:z=!0:q===37&&(R>E?ee=!0:V=!0);Y=I,Ie=q}return d}return U}var se={},Je;function ar(){if(Je)return se;Je=1,Object.defineProperty(se,"__esModule",{value:!0}),se.stringify=t;const e=lt();function t(a,i){if(a===null||typeof a!="object")return"";const r=i??{};return(0,e.stringifyObject)(a,r)}return se}var Ze;function nr(){return Ze||(Ze=1,function(e){var t=w&&w.__createBinding||(Object.create?function(u,s,n,l){l===void 0&&(l=n);var y=Object.getOwnPropertyDescriptor(s,n);(!y||("get"in y?!s.__esModule:y.writable||y.configurable))&&(y={enumerable:!0,get:function(){return s[n]}}),Object.defineProperty(u,l,y)}:function(u,s,n,l){l===void 0&&(l=n),u[l]=s[n]}),a=w&&w.__exportStar||function(u,s){for(var n in u)n!=="default"&&!Object.prototype.hasOwnProperty.call(s,n)&&t(s,u,n)};Object.defineProperty(e,"__esModule",{value:!0}),e.stringify=e.parse=void 0;var i=rr();Object.defineProperty(e,"parse",{enumerable:!0,get:function(){return i.parse}});var r=ar();Object.defineProperty(e,"stringify",{enumerable:!0,get:function(){return r.stringify}}),a(Ne(),e)}(w)),w}var et=nr();const sr=e=>{if(!e)return"";const t={};return Object.keys(et.parse(e)).forEach(a=>{t[a]="___"}),`?${et.stringify(t)}`},cr=e=>e?`#${e.split("/").map(()=>"___").join("/")}`:"",ir=(e="")=>{const[t,a,...i]=e.split("#"),[r,u,...s]=t.split("?");if(i.length||s.length)return r;const n=sr(u),l=cr(a);return`${r}${n}${l}`},ce="useTrackEvents.ts",ur=(e,t,a,i,r,u)=>({ready:!!i,trackCustomEvent:(s,n,l,y=t,h=void 0)=>{i&&i.trackCustomEvent(y,n,{path:r,customDimensions:$(l),value:h,name:s}).catch(()=>{e(Q.piwikTrackCustomEvent,ce,{category:y,action:n,name:s,routeName:r,value:h})}),a.trackEvent({name:n,properties:{...$(l,!0),value:h,name:s,routeName:r,category:y}})},trackOutlink:(s,n)=>{const l=ir(s);i&&i.trackOutlink(l,{...n,customDimensions:$({...n==null?void 0:n.customDimensions,[J.routeName]:r})}).catch(()=>{e(Q.piwikTrackOutlink,ce,{url:l})}),a.trackEvent({name:"outlink",properties:{...$(n==null?void 0:n.customDimensions,!0),url:l,routeName:r,category:t}})},trackScreen:s=>{const n=s??r;if(!n)return;const{appInsights:l,piwik:y}=er(u);i&&i.trackScreen(n,{title:He(u),customDimensions:y}).catch(()=>{e(Q.piwikTrackScreen,ce,{path:s})}),a.trackPageView({name:n},{...l,title:He(u)})},trackSearch:(s,n)=>{i&&i.trackSearch(s,{...n,customDimensions:$(n==null?void 0:n.customDimensions)}).catch(()=>{e(Q.piwikTrackSearch,ce)}),a.trackEvent({name:"search",properties:{...$(n==null?void 0:n.customDimensions,!0),keyword:s,routeName:r,category:t}})}});function or(e){if(!Number.isInteger(e))throw new Error("Parameter must be an integer number")}function oe(e){e&&Object.entries(e).forEach(t=>{let[a,i]=t;const r=parseInt(a,10);if(a!==r.toString())throw new Error("ID (key) must be an integer");if(r<1)throw new Error("ID (key) must be an integer greater than 0")})}function Z(e){e.forEach(t=>{let a=t.customDimensions;if(a){if(Object.keys(a).length>20)throw new Error("Max 20 product custom dimensions, 20 is max ID.");oe(a)}})}function lr(e){if(!/^[0-9a-f]{16}$/.test(e))throw new Error(`Visitor ID ${e} has invalid format. The format must match the regular expression: ^[0-9a-f]{16}$`)}const fr="1.1.0",dr=`The package 'react-native-piwik-pro-sdk' doesn't seem to be linked. Make sure: 

`+Tt.select({ios:`- You have run 'pod install'
`,default:""})+`- You rebuilt the app after installing the package
- You are not using Expo managed workflow
`,p=Ae.PiwikProSdk?Ae.PiwikProSdk:new Proxy({},{get(){throw new Error(dr)}});async function hr(e,t){return await p.init(e,t,fr)}async function gr(e,t){return D(t),await p.trackScreen(e,t)}async function Er(e,t,a){return D(a),await p.trackCustomEvent(e,t,a)}async function yr(e,t){return D(t),await p.trackException(e,t)}async function _r(e,t,a){return D(a),await p.trackSocialInteraction(e,t,a)}async function pr(e,t){return D(t),await p.trackDownload(e,t)}async function mr(){return await p.trackApplicationInstall()}async function Rr(e,t){return D(t),await p.trackOutlink(e,t)}async function Sr(e,t){return D(t),await p.trackSearch(e,t)}async function br(e,t){return D(t),await p.trackImpression(e,t)}async function vr(e,t,a){return D(a),await p.trackInteraction(e,t,a)}async function Or(e,t){return D(t),await p.trackGoal(e,t)}async function Tr(e,t,a){return await p.trackEcommerce(e,t,a)}async function Cr(e,t){return D(t),Z(e),await p.trackEcommerceProductDetailView(e,t)}async function Pr(e,t,a){return D(a),Z(e),await p.trackEcommerceCartUpdate(e,t,a)}async function Nr(e,t){return D(t),Z(e),await p.trackEcommerceAddToCart(e,t)}async function Ir(e,t){return D(t),Z(e),await p.trackEcommerceRemoveFromCart(e,t)}async function Ar(e,t,a,i){return D(i),Z(a),await p.trackEcommerceOrder(e,t,a,i)}async function Dr(e){return await p.trackCampaign(e)}async function xr(e){if(Array.isArray(e)){if(!e.length)throw new Error("Profile attributes cannot be an empty array");return await p.trackProfileAttributes(e)}return await p.trackProfileAttributes([e])}async function Fr(){return await p.getProfileAttributes()}async function jr(e){return await p.checkAudienceMembership(e)}async function Lr(e){return await p.setUserId(e)}async function Ur(){return await p.getUserId()}async function Mr(e){return await p.setUserEmail(e)}async function Vr(){return await p.getUserEmail()}async function zr(e){return lr(e),await p.setVisitorId(e)}async function qr(){return await p.getVisitorId()}async function $r(e){return await p.setSessionTimeout(e)}async function wr(){return await p.getSessionTimeout()}async function Gr(){return await p.startNewSession()}async function Br(){return await p.dispatch()}async function Kr(e){return or(e),await p.setDispatchInterval(e)}async function Hr(){return await p.getDispatchInterval()}async function Yr(e){return await p.setIncludeDefaultCustomVariables(e)}async function Wr(){return await p.getIncludeDefaultCustomVariables()}async function kr(e){return await p.setAnonymizationState(e)}async function Qr(){return await p.isAnonymizationOn()}async function Xr(e){return await p.setOptOut(e)}async function Jr(e){return await p.setDryRun(e)}async function Zr(){return await p.getDryRun()}async function ea(){return await p.getOptOut()}async function ta(e){return await p.setPrefixing(e)}async function ra(){return await p.isPrefixingOn()}function D(e){oe(e==null?void 0:e.customDimensions),oe(e==null?void 0:e.visitCustomVariables),oe(e==null?void 0:e.screenCustomVariables)}const X={init:hr,trackScreen:gr,trackCustomEvent:Er,trackException:yr,trackSocialInteraction:_r,trackDownload:pr,trackApplicationInstall:mr,trackOutlink:Rr,trackSearch:Sr,trackImpression:br,trackInteraction:vr,trackGoal:Or,trackEcommerce:Tr,trackEcommerceProductDetailView:Cr,trackEcommerceCartUpdate:Pr,trackEcommerceAddToCart:Nr,trackEcommerceRemoveFromCart:Ir,trackEcommerceOrder:Ar,trackCampaign:Dr,trackProfileAttributes:xr,getProfileAttributes:Fr,checkAudienceMembership:jr,setUserId:Lr,getUserId:Ur,setUserEmail:Mr,getUserEmail:Vr,setVisitorId:zr,getVisitorId:qr,setSessionTimeout:$r,getSessionTimeout:wr,startNewSession:Gr,dispatch:Br,setDispatchInterval:Kr,getDispatchInterval:Hr,setIncludeDefaultCustomVariables:Yr,getIncludeDefaultCustomVariables:Wr,setAnonymizationState:kr,isAnonymizationOn:Qr,setOptOut:Xr,getOptOut:ea,setDryRun:Jr,getDryRun:Zr,setPrefixing:ta,isPrefixingOn:ra},[tt,rt]=pt?[gt,Et]:[yt,_t],aa=async()=>!tt||!rt?Promise.reject(de.missingEnvVars):(await X.init(tt,rt),await X.trackApplicationInstall(),await X.setIncludeDefaultCustomVariables(!0),Promise.resolve()),he=M.createContext(void 0),at=({children:e})=>{const t=st(),[a,i]=M.useState();return M.useEffect(()=>{a===void 0&&aa().then(()=>{i(X)}).catch(r=>{if(r.message===de.alreadyInitialized){i(X);return}i(null),r.message!==de.missingEnvVars&&t(Q.piwikInitialization,"piwik.provider.tsx",{error:r})})},[a,t]),Ot.jsx(he.Provider,{value:a,children:e})};try{he.displayName="PiwikContext",he.__docgenInfo={description:"The PiwikContext contains the object with all methods, to be used via the usePiwik hook only.",displayName:"PiwikContext",props:{}}}catch{}try{at.displayName="PiwikProvider",at.__docgenInfo={description:"",displayName:"PiwikProvider",props:{}}}catch{}const na=()=>{if(le.isReady()){const e=le.getRootState(),t=e==null?void 0:e.routes;if(t)for(let a=t.length-1;a>=0;a--){const i=mt[t[a].name];if(i)return i}}},sa=()=>{const e=M.useContext(he),t=le.isReady()?le.getCurrentRoute():void 0,a=na()??"general",i=Rt(),r=st();return M.useMemo(()=>ur(r,a,i,e,t==null?void 0:t.name,t==null?void 0:t.params),[e,r,a,i,t==null?void 0:t.name,t==null?void 0:t.params])},ca=e=>{const t=e.logName??e["logging-label"]??e.testID;return t||St("No name found in props"),t},pa=({logAction:e,logCategory:t,logDimensions:a={},logValue:i,onEvent:r,testID:u,logName:s,"logging-label":n})=>{const{trackCustomEvent:l}=sa();return M.useCallback((y,{nameSuffix:h,dimensions:_={},action:v=e}={})=>{r==null||r(y);const b=ca({testID:u,logName:s,"logging-label":n});if(b){const x=h?`:${h}`:"";l(`${b}${x}`,v,{...a,..._},t,i)}},[e,t,a,s,i,r,n,u,l])};export{Lt as C,Ut as N,Yt as P,ut as V,sa as a,Ea as b,J as c,fe as d,_a as e,na as g,et as m,ya as q,Ft as r,pa as u};
