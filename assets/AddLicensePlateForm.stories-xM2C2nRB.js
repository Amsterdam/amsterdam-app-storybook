import{a0 as k,aw as F,ax as I,r as b,a7 as j,j as t,C as A,B as D,ay as S}from"./iframe-EktMhBpe.js";import{u as v,F as C}from"./index.esm-DZoh9P0t.js";import{T}from"./TextInputField-DIr5T80b.js";import{a as h}from"./alerts-CDyYLnU5.js";import{P as B}from"./ParkingVehicleIdTextInput-CaBKTrUS.js";import{u as N}from"./useCurrentParkingPermit.web-LXCh8T7b.js";import{u as E}from"./useGetLicensePlates.web-PGzFvrCr.js";import"./preload-helper-Dp1pzeXC.js";import"./CharactersLeftDisplay-C5faCFHZ.js";import"./TextInput-C3W1L7mH.js";import"./index-DC2FaM_x.js";import"./gestureObjects-BKvFdTpO.js";import"./Label-DkquiYdR.js";import"./useAccessibilityAnnounce-BhkPPIe6.js";import"./permit.mock-DY1xgzRM.js";const O=()=>{const n=k(),o=v(),{handleSubmit:g,formState:P}=o,i=N(),{licensePlates:r}=E(),{setAlert:m}=F(),[u,{isLoading:f}]=I(),l=b.useCallback((e,a)=>{if(r!=null&&r.some(L=>L.vehicle_id===e)){m(h.saveLicensePlateDuplicateWarning);return}u({report_code:i.report_code.toString(),vehicle_id:e,visitor_name:a}).unwrap().then(()=>{n.popTo(j.myLicensePlates)})},[u,i.report_code,r,n,m]),x=({vehicle_id:e,visitor_name:a=""})=>{if(!/\d/.test(e))S.alert("Weet u zeker dat dit een geldig kenteken is?",`Kenteken: ${e}`,[{text:"Terug"},{isPreferred:!0,text:"Opslaan",onPress:()=>l(e,a)}]);else return l(e,a)};return t.jsx(C,{...o,children:t.jsxs(A,{gutter:"lg",children:[t.jsx(B,{autoFocus:!0,inputInstructions:"Voer alleen letters en cijfers in.",label:"Kenteken",testID:"ParkingAddLicensePlateFormLicensePlateInputField"}),t.jsx(T,{hasClearButton:!1,label:"Naam",name:"visitor_name",rules:{required:"Vul een naam in",maxLength:{value:50,message:"De ingevoerde naam is te lang"}},testID:"ParkingAddLicensePlateFormNameInputField"}),t.jsx(D,{isLoading:P.isSubmitting||f,label:"Opslaan",onPress:g(x),testID:"ParkingAddLicensePlateFormSubmitButton"})]})})},U={component:O},s={};var c,p,d;s.parameters={...s.parameters,docs:{...(c=s.parameters)==null?void 0:c.docs,source:{originalSource:"{}",...(d=(p=s.parameters)==null?void 0:p.docs)==null?void 0:d.source}}};const X=["Default"];export{s as Default,X as __namedExportsOrder,U as default};
