import{j as i}from"./jsx-runtime-BbjHj44Y.js";import"./usePiwikTrackCustomEventFromProps-DF2fziNK.js";import{L as $,g as N,a as D,c as _}from"./modules-BkL5yIXR.js";import"./development-DJonjCCT.js";import{P as M}from"./PressableBase-D1R9kh4w.js";import{B as k}from"./Box-E6LDY1rd.js";import{B as H}from"./Badge-BymK3abU.js";import{C as S}from"./Column-CR4hgQi0.js";import{R as l}from"./Row-BCMAM0L3.js";import{I as T}from"./Icon-lxFM3dF7.js";import{I as B}from"./Image-Bfy0Il4T.js";import{P as W}from"./Paragraph-DDmADOqm.js";import{P as E}from"./Phrase-Dng5M8i6.js";import{T as R}from"./Title-C60yhPIf.js";import{u as z}from"./useThemable-PLjH4_iL.js";import{a as F}from"./accessibleText-gmNPjmn1.js";import{a as h}from"./dayjs-zGCqeocX.js";import{r as u}from"./index-C6mWTJJr.js";import{N as L}from"./useNavigation-CX1weHF_.js";import"./index-8JwjhRSi.js";import{V as U}from"./index-DlZxTruE.js";import{s as O}from"./index-AX8Ze_yw.js";import{M as V}from"./useTrackException-N30wvaUK.js";import"./index-DCc44by_.js";import"./NativeEventEmitter-DCV0Pn5n.js";import"./index-D9sity5J.js";import"./TextAncestorContext-CSVgRfTu.js";import"./_commonjsHelpers-BosuxZz1.js";import"./Animated-Db2DkEap.js";import"./index-oz3Z5D95.js";import"./index-YyRL9FmO.js";import"./extends-CF3RwP-h.js";import"./index-BSOXSDKk.js";import"./index-ChIQSUPS.js";import"./bottomSheet-BA8S1Y6d.js";import"./useDispatch-DQ8ei2RG.js";import"./useTheme-Du9lcFXl.js";import"./interpolateColor-BkZD1F_M.js";import"./index-D8GzBJyS.js";import"./useDeviceContext-xW-EhN6Y.js";import"./index-BAOkQ-p1.js";import"./types-munYWtlZ.js";import"./Pressable-hNV2p8Qb.js";import"./useAccessibilityFocus-px6UzNbP.js";import"./index-CRM9TPtx.js";import"./index-zunobDwC.js";import"./index-1spliEt5.js";import"./useIsScreenReaderEnabled-D8sJIFAJ.js";import"./duration-lo4znGvN.js";import"./useOpenUrl-BWaMwUI7.js";import"./client-DYr1_9-1.js";import"./index-D0PKEpwx.js";import"./index-CuqP9W2w.js";import"./index-CADnye3g.js";import"./index-BOwASFyM.js";import"./index-BBGu7yUP.js";import"./index-Dz9Kpt-M.js";import"./index-DPAnNckc.js";import"./index-Cg7ehhkb.js";import"./Animated-OkU9SbsS.js";import"./useOpenMailUrl-CLLkFZ2u.js";import"./useOpenPhoneUrl-z2Oy8X5B.js";import"./api-Bvjid-zV.js";import"./AppLifecycle-BscwXp36.js";import"./IconButton-B3R-6cY8.js";import"./config-BZnShabN.js";import"./types-CttlCamk.js";import"./index-DHvBt6_g.js";import"./index-Dk74W0Oi.js";import"./Gutter-BJdaJ1WW.js";import"./ChatSystemEntry-D46jdJBh.js";import"./Button-CgeWFfzD.js";import"./AccessibleText-CftfVd0a.js";import"./amsterdam-facades-B--J4Orc.js";import"./Center-BuRJ1gEq.js";import"./layoutStyles-CtIJ01mY.js";import"./ErrorFigure-CwA2wLQs.js";import"./ActionButton-H7Z8GAG2.js";import"./iframe-D9qXP_c4.js";import"./formatNumber-BOnMa6yj.js";import"./mapCrossAxisAlignment-DpnuLLqj.js";import"./mapMainAxisAlignment-BOa0GzUh.js";import"./base-color-B2rPH-Aj.js";function q(){const t=u.useContext(L),r=u.useContext($);return u.useCallback(e=>{if(t===void 0)throw new Error("Couldn't find a navigation object. Is your component inside NavigationContainer?");if(typeof e!="string"){t.navigate(e.screen,e.params);return}if(!e.startsWith("/"))throw new Error(`The path must start with '/' (${e}).`);const{options:o}=r,n=o!=null&&o.getStateFromPath?o.getStateFromPath(e,o.config):N(e,o==null?void 0:o.config);if(n){const s=D(n,o==null?void 0:o.config);s!==void 0?t.dispatch(s):t.reset(n)}else throw new Error("Failed to parse the path to a navigation state.")},[r,t])}(()=>{const t={};return _.forEach(({linking:r,slug:a})=>{r&&(t[a]={screens:r})}),t})();const x="amsterdam://",A={NewsUpdatedByProjectManager:{id:"NewsUpdatedByProjectManager",route:"/news",routeWithPrefix:`${x}news`},ProjectWarningCreatedByProjectManager:{id:"ProjectWarningCreatedByProjectManager",route:"/warning",routeWithPrefix:`${x}warning`}},Y=({data:t,title:r="",body:a=""},e=!0)=>{const o=(t==null?void 0:t.type)&&A[t.type];if(!(o!=null&&o.routeWithPrefix)||!(t!=null&&t.linkSourceid))return;const n=encodeURIComponent(`${r} - ${a}`),s=`/${t.linkSourceid}/${encodeURIComponent(r)}/${n}/${e}`;return e?`${o.routeWithPrefix}${s}`:`${o.route}${s}`},G=["zondag","maandag","dinsdag","woensdag","donderdag","vrijdag","zaterdag"],J=t=>{if(t==null||t==="")return"";const r=h(t),a=h(),e=r.startOf("day").diff(a.startOf("day"),"days"),o=e===0,n=e===-1,s=e>-7&&e<-1;return o?r.format("HH.mm"):n?"gisteren":s?G[r.get("day")]:r.format("D MMMM")},f=({item:{body:t,context:r,created_at:a,id:e,image:o,is_read:n,module_slug:s,title:p},enabledModules:v=[]})=>{const g=v.find(({slug:m})=>m===s),P=z(K),b=q();if(!g)return null;const{icon:C}=g,y=J(a);return i.jsx(M,{accessibilityLabel:F(n?void 0:"Ongelezen bericht: ",p,t,`ontvangen: ${y}`),onPress:()=>{const m=Y({title:p,body:t,data:r},!1);m&&b(m)},testID:`NotificationHistoryItem${e}Button`,children:i.jsx(k,{insetHorizontal:"md",insetVertical:"smd",children:i.jsxs(l,{gutter:"sm",children:[i.jsx(U,{style:P.iconContainer,children:o&&o.sources[0]?i.jsx(B,{aspectRatio:"square",source:o.sources[0],testID:`NotificationHistoryItem${e}Image`}):i.jsx(T,{color:"inverse",name:C,size:"xl",testID:`NotificationHistoryItem${e}Icon`})}),i.jsxs(S,{grow:1,shrink:1,children:[i.jsxs(l,{align:"between",flex:1,gutter:"sm",valign:"start",children:[i.jsx(R,{level:"h5",testID:`NotificationHistoryItem${e}Title`,text:p}),i.jsxs(l,{gutter:"sm",children:[i.jsx(E,{color:"secondary",numberOfLines:1,testID:`NotificationHistoryItem${e}CreationDate`,variant:"body",children:y}),!n&&i.jsx(H,{testID:`NotificationHistoryItem${e}IsUnreadBadge`,variant:"extraSmall"})]})]}),i.jsx(W,{testID:`NotificationHistoryItem${e}Description`,children:t})]})]})})})},K=({color:t,size:r})=>O.create({iconContainer:{backgroundColor:t.notificationHistory.itemIcon.background,justifyContent:"center",alignItems:"center",width:r.iconContainer.xl,height:r.iconContainer.xl}});try{f.displayName="NotificationHistoryItem",f.__docgenInfo={description:"",displayName:"NotificationHistoryItem",props:{enabledModules:{defaultValue:{value:"[]"},description:"",name:"enabledModules",required:!1,type:{name:"Module[]"}},item:{defaultValue:null,description:"",name:"item",required:!0,type:{name:"Notification"}}}}}catch{}const d=V["construction-work"],$e={component:f},c={args:{enabledModules:[{moduleSlug:d,title:"Werkzaamheden",icon:"announcement",slug:d,status:1,description:"",version:"1.0.0"}],item:{title:"De nieuwe brug is geplaatst",module_slug:d,created_at:"2022-01-15 10:30:00",pushed_at:"2022-01-15 10:30:00",is_read:!1,id:"1",context:{},body:"De nieuwe brug is geplaatst"}}};var I,j,w;c.parameters={...c.parameters,docs:{...(I=c.parameters)==null?void 0:I.docs,source:{originalSource:`{
  args: {
    enabledModules: [{
      moduleSlug: slug,
      title: 'Werkzaamheden',
      icon: 'announcement',
      slug,
      status: 1,
      description: '',
      version: '1.0.0'
    }],
    item: {
      title: 'De nieuwe brug is geplaatst',
      module_slug: slug,
      created_at: '2022-01-15 10:30:00',
      pushed_at: '2022-01-15 10:30:00',
      is_read: false,
      id: '1',
      context: {},
      body: 'De nieuwe brug is geplaatst'
    }
  }
}`,...(w=(j=c.parameters)==null?void 0:j.docs)==null?void 0:w.source}}};const Ne=["Default"];export{c as Default,Ne as __namedExportsOrder,$e as default};
