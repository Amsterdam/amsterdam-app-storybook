import{b as Ke,r as w}from"./index-B-xgG2PE.js";import{g as Qe}from"./_commonjsHelpers-D6-XlEtG.js";import{r as De}from"./index-CnyDuYXe.js";import{E as Q,P as ke,e as Ye,f as Je,h as Xe,u as We,M as Ze,i as er}from"./useTrackException-DirxRx8f.js";import{a as rr,b as tr}from"./index-CjMpzYvL.js";import{e as ar,c as nr,a as cr}from"./development-DQdBRrdh.js";import{j as ur}from"./jsx-runtime-DNHyKP0h.js";import{P as sr,N as ve}from"./index-Ri0BYtkV.js";function ir(){return{type:"GO_BACK"}}function or(){if(typeof(arguments.length<=0?void 0:arguments[0])=="string")return{type:"NAVIGATE",payload:{name:arguments.length<=0?void 0:arguments[0],params:arguments.length<=1?void 0:arguments[1]}};{const e=(arguments.length<=0?void 0:arguments[0])||{};if(!e.hasOwnProperty("key")&&!e.hasOwnProperty("name"))throw new Error("You need to specify name or key when calling navigate with an object as the argument. See https://reactnavigation.org/docs/navigation-actions#navigate for usage.");return{type:"NAVIGATE",payload:e}}}function fr(e){return{type:"RESET",payload:e}}function lr(e){return{type:"SET_PARAMS",payload:{params:e}}}const dr=Object.freeze(Object.defineProperty({__proto__:null,goBack:ir,navigate:or,reset:fr,setParams:lr},Symbol.toStringTag,{value:"Module"})),gr="The 'navigation' object hasn't been initialized yet. This might happen if you don't have a navigator mounted, or if the navigator hasn't finished mounting. See https://reactnavigation.org/docs/navigating-without-navigation-prop#handling-initialization for more details.";function yr(){const e=[...Object.keys(dr),"addListener","removeListener","resetRoot","dispatch","isFocused","canGoBack","getRootState","getState","getParent","getCurrentRoute","getCurrentOptions"],r={},n=(g,c)=>{r[g]&&(r[g]=r[g].filter(a=>a!==c))};let f=null;return{get current(){return f},set current(g){f=g,g!=null&&Object.entries(r).forEach(c=>{let[a,o]=c;o.forEach(b=>{g.addListener(a,b)})})},isReady:()=>f==null?!1:f.isReady(),...e.reduce((g,c)=>(g[c]=function(){for(var a=arguments.length,o=new Array(a),b=0;b<a;b++)o[b]=arguments[b];if(f==null)switch(c){case"addListener":{const[l,m]=o;return r[l]=r[l]||[],r[l].push(m),()=>n(l,m)}case"removeListener":{const[l,m]=o;n(l,m);break}default:console.error(gr)}else return f[c](...o)},g),{})}}var fe={},le,Ce;function hr(){return Ce||(Ce=1,le=e=>encodeURIComponent(e).replace(/[!'()*]/g,r=>`%${r.charCodeAt(0).toString(16).toUpperCase()}`)),le}var de,_e;function mr(){if(_e)return de;_e=1;var e="%[a-f0-9]{2}",r=new RegExp("("+e+")|([^%]+?)","gi"),n=new RegExp("("+e+")+","gi");function f(c,a){try{return[decodeURIComponent(c.join(""))]}catch{}if(c.length===1)return c;a=a||1;var o=c.slice(0,a),b=c.slice(a);return Array.prototype.concat.call([],f(o),f(b))}function y(c){try{return decodeURIComponent(c)}catch{for(var a=c.match(r)||[],o=1;o<a.length;o++)c=f(a,o).join(""),a=c.match(r)||[];return c}}function g(c){for(var a={"%FE%FF":"��","%FF%FE":"��"},o=n.exec(c);o;){try{a[o[0]]=decodeURIComponent(o[0])}catch{var b=y(o[0]);b!==o[0]&&(a[o[0]]=b)}o=n.exec(c)}a["%C2"]="�";for(var l=Object.keys(a),m=0;m<l.length;m++){var _=l[m];c=c.replace(new RegExp(_,"g"),a[_])}return c}return de=function(c){if(typeof c!="string")throw new TypeError("Expected `encodedURI` to be of type `string`, got `"+typeof c+"`");try{return c=c.replace(/\+/g," "),decodeURIComponent(c)}catch{return g(c)}},de}var ge,Ie;function pr(){return Ie||(Ie=1,ge=(e,r)=>{if(!(typeof e=="string"&&typeof r=="string"))throw new TypeError("Expected the arguments to be of type `string`");if(r==="")return[e];const n=e.indexOf(r);return n===-1?[e]:[e.slice(0,n),e.slice(n+r.length)]}),ge}var ye,Re;function br(){return Re||(Re=1,ye=function(e,r){for(var n={},f=Object.keys(e),y=Array.isArray(r),g=0;g<f.length;g++){var c=f[g],a=e[c];(y?r.indexOf(c)!==-1:r(c,a,e))&&(n[c]=a)}return n}),ye}var xe;function Or(){return xe||(xe=1,function(e){const r=hr(),n=mr(),f=pr(),y=br(),g=t=>t==null,c=Symbol("encodeFragmentIdentifier");function a(t){switch(t.arrayFormat){case"index":return u=>(s,i)=>{const d=s.length;return i===void 0||t.skipNull&&i===null||t.skipEmptyString&&i===""?s:i===null?[...s,[l(u,t),"[",d,"]"].join("")]:[...s,[l(u,t),"[",l(d,t),"]=",l(i,t)].join("")]};case"bracket":return u=>(s,i)=>i===void 0||t.skipNull&&i===null||t.skipEmptyString&&i===""?s:i===null?[...s,[l(u,t),"[]"].join("")]:[...s,[l(u,t),"[]=",l(i,t)].join("")];case"colon-list-separator":return u=>(s,i)=>i===void 0||t.skipNull&&i===null||t.skipEmptyString&&i===""?s:i===null?[...s,[l(u,t),":list="].join("")]:[...s,[l(u,t),":list=",l(i,t)].join("")];case"comma":case"separator":case"bracket-separator":{const u=t.arrayFormat==="bracket-separator"?"[]=":"=";return s=>(i,d)=>d===void 0||t.skipNull&&d===null||t.skipEmptyString&&d===""?i:(d=d===null?"":d,i.length===0?[[l(s,t),u,l(d,t)].join("")]:[[i,l(d,t)].join(t.arrayFormatSeparator)])}default:return u=>(s,i)=>i===void 0||t.skipNull&&i===null||t.skipEmptyString&&i===""?s:i===null?[...s,l(u,t)]:[...s,[l(u,t),"=",l(i,t)].join("")]}}function o(t){let u;switch(t.arrayFormat){case"index":return(s,i,d)=>{if(u=/\[(\d*)\]$/.exec(s),s=s.replace(/\[\d*\]$/,""),!u){d[s]=i;return}d[s]===void 0&&(d[s]={}),d[s][u[1]]=i};case"bracket":return(s,i,d)=>{if(u=/(\[\])$/.exec(s),s=s.replace(/\[\]$/,""),!u){d[s]=i;return}if(d[s]===void 0){d[s]=[i];return}d[s]=[].concat(d[s],i)};case"colon-list-separator":return(s,i,d)=>{if(u=/(:list)$/.exec(s),s=s.replace(/:list$/,""),!u){d[s]=i;return}if(d[s]===void 0){d[s]=[i];return}d[s]=[].concat(d[s],i)};case"comma":case"separator":return(s,i,d)=>{const O=typeof i=="string"&&i.includes(t.arrayFormatSeparator),h=typeof i=="string"&&!O&&m(i,t).includes(t.arrayFormatSeparator);i=h?m(i,t):i;const E=O||h?i.split(t.arrayFormatSeparator).map(x=>m(x,t)):i===null?i:m(i,t);d[s]=E};case"bracket-separator":return(s,i,d)=>{const O=/(\[\])$/.test(s);if(s=s.replace(/\[\]$/,""),!O){d[s]=i&&m(i,t);return}const h=i===null?[]:i.split(t.arrayFormatSeparator).map(E=>m(E,t));if(d[s]===void 0){d[s]=h;return}d[s]=[].concat(d[s],h)};default:return(s,i,d)=>{if(d[s]===void 0){d[s]=i;return}d[s]=[].concat(d[s],i)}}}function b(t){if(typeof t!="string"||t.length!==1)throw new TypeError("arrayFormatSeparator must be single character string")}function l(t,u){return u.encode?u.strict?r(t):encodeURIComponent(t):t}function m(t,u){return u.decode?n(t):t}function _(t){return Array.isArray(t)?t.sort():typeof t=="object"?_(Object.keys(t)).sort((u,s)=>Number(u)-Number(s)).map(u=>t[u]):t}function C(t){const u=t.indexOf("#");return u!==-1&&(t=t.slice(0,u)),t}function U(t){let u="";const s=t.indexOf("#");return s!==-1&&(u=t.slice(s)),u}function I(t){t=C(t);const u=t.indexOf("?");return u===-1?"":t.slice(u+1)}function A(t,u){return u.parseNumbers&&!Number.isNaN(Number(t))&&typeof t=="string"&&t.trim()!==""?t=Number(t):u.parseBooleans&&t!==null&&(t.toLowerCase()==="true"||t.toLowerCase()==="false")&&(t=t.toLowerCase()==="true"),t}function N(t,u){u=Object.assign({decode:!0,sort:!0,arrayFormat:"none",arrayFormatSeparator:",",parseNumbers:!1,parseBooleans:!1},u),b(u.arrayFormatSeparator);const s=o(u),i=Object.create(null);if(typeof t!="string"||(t=t.trim().replace(/^[?#&]/,""),!t))return i;for(const d of t.split("&")){if(d==="")continue;let[O,h]=f(u.decode?d.replace(/\+/g," "):d,"=");h=h===void 0?null:["comma","separator","bracket-separator"].includes(u.arrayFormat)?h:m(h,u),s(m(O,u),h,i)}for(const d of Object.keys(i)){const O=i[d];if(typeof O=="object"&&O!==null)for(const h of Object.keys(O))O[h]=A(O[h],u);else i[d]=A(O,u)}return u.sort===!1?i:(u.sort===!0?Object.keys(i).sort():Object.keys(i).sort(u.sort)).reduce((d,O)=>{const h=i[O];return h&&typeof h=="object"&&!Array.isArray(h)?d[O]=_(h):d[O]=h,d},Object.create(null))}e.extract=I,e.parse=N,e.stringify=(t,u)=>{if(!t)return"";u=Object.assign({encode:!0,strict:!0,arrayFormat:"none",arrayFormatSeparator:","},u),b(u.arrayFormatSeparator);const s=h=>u.skipNull&&g(t[h])||u.skipEmptyString&&t[h]==="",i=a(u),d={};for(const h of Object.keys(t))s(h)||(d[h]=t[h]);const O=Object.keys(d);return u.sort!==!1&&O.sort(u.sort),O.map(h=>{const E=t[h];return E===void 0?"":E===null?l(h,u):Array.isArray(E)?E.length===0&&u.arrayFormat==="bracket-separator"?l(h,u)+"[]":E.reduce(i(h),[]).join("&"):l(h,u)+"="+l(E,u)}).filter(h=>h.length>0).join("&")},e.parseUrl=(t,u)=>{u=Object.assign({decode:!0},u);const[s,i]=f(t,"#");return Object.assign({url:s.split("?")[0]||"",query:N(I(t),u)},u&&u.parseFragmentIdentifier&&i?{fragmentIdentifier:m(i,u)}:{})},e.stringifyUrl=(t,u)=>{u=Object.assign({encode:!0,strict:!0,[c]:!0},u);const s=C(t.url).split("?")[0]||"",i=e.extract(t.url),d=e.parse(i,{sort:!1}),O=Object.assign(d,t.query);let h=e.stringify(O,u);h&&(h=`?${h}`);let E=U(t.url);return t.fragmentIdentifier&&(E=`#${u[c]?l(t.fragmentIdentifier,u):t.fragmentIdentifier}`),`${s}${h}${E}`},e.pick=(t,u,s)=>{s=Object.assign({parseFragmentIdentifier:!0,[c]:!1},s);const{url:i,query:d,fragmentIdentifier:O}=e.parseUrl(t,s);return e.stringifyUrl({url:i,query:y(d,u),fragmentIdentifier:O},s)},e.exclude=(t,u,s)=>{const i=Array.isArray(u)?d=>!u.includes(d):(d,O)=>!u(d,O);return e.pick(t,i,s)}}(fe)),fe}var Gt=Or(),he,Se;function Er(){return Se||(Se=1,he=e=>{if(typeof e!="string")throw new TypeError("Expected a string");return e.replace(/[|\\{}()[\]^$+*?.]/g,"\\$&").replace(/-/g,"\\x2d")}),he}var vr=Er();const Qt=Qe(vr);var ee={},je;function Cr(){if(je)return ee;je=1,Object.defineProperty(ee,"__esModule",{value:!0});var e=Ke(),r=typeof document<"u"?e.useLayoutEffect:e.useEffect;return ee.default=r,ee}var me,Fe;function _r(){if(Fe)return me;Fe=1;var e=Ke(),r=Cr();function n(f){var y=e.useRef(f),g=e.useRef(function(){for(var a=[],o=0;o<arguments.length;o++)a[o]=arguments[o];return y.current.apply(this,a)}).current;return(0,r.default)(function(){y.current=f}),g}return me=n,me}_r();De();const ce=yr();var k=(e=>(e[e.searchTerm=3]="searchTerm",e[e.searchResultAmount=4]="searchResultAmount",e[e.searchType=5]="searchType",e[e.searchResultTitle=6]="searchResultTitle",e[e.searchResultUrl=7]="searchResultUrl",e[e.searchResultType=8]="searchResultType",e[e.searchResultSelected=9]="searchResultSelected",e[e.contentTitle=10]="contentTitle",e[e.contentSubject=11]="contentSubject",e[e.contentTeam=12]="contentTeam",e[e.contentPublicationDate=13]="contentPublicationDate",e[e.contentType=14]="contentType",e[e.userIntext=15]="userIntext",e[e.searchMachine=16]="searchMachine",e[e.pageType=17]="pageType",e[e.contentId=20]="contentId",e[e.newState=36]="newState",e[e.routeName=43]="routeName",e[e.pushTitle=44]="pushTitle",e[e.pushContent=45]="pushContent",e[e.isPushNotificationDeeplink=47]="isPushNotificationDeeplink",e))(k||{}),ue=(e=>(e[e.userType=1]="userType",e[e.userCity=2]="userCity",e[e.appVersion=18]="appVersion",e[e.appVersionWithBuild=19]="appVersionWithBuild",e[e.reduceMotionEnabled=21]="reduceMotionEnabled",e[e.screenReaderEnabled=22]="screenReaderEnabled",e[e.accessibilityServiceEnabled=23]="accessibilityServiceEnabled",e[e.boldTextEnabled=24]="boldTextEnabled",e[e.grayscaleEnabled=25]="grayscaleEnabled",e[e.invertColorsEnabled=26]="invertColorsEnabled",e[e.reduceTransparencyEnabled=27]="reduceTransparencyEnabled",e[e.fontScale=28]="fontScale",e[e.isLandscape=29]="isLandscape",e[e.isPortrait=30]="isPortrait",e[e.isTablet=31]="isTablet",e[e.hasCameraPermission=32]="hasCameraPermission",e[e.hasPhotosPermission=33]="hasPhotosPermission",e[e.hasLocationPermission=34]="hasLocationPermission",e[e.hasNotificationPermission=35]="hasNotificationPermission",e[e.hasBiometricsPermission=48]="hasBiometricsPermission",e[e.contactModule=37]="contactModule",e[e.redirectsModule=38]="redirectsModule",e[e.wasteGuideModule=39]="wasteGuideModule",e[e.reportProblemModule=40]="reportProblemModule",e[e.constructionWorkModule=41]="constructionWorkModule",e[e.constructionWorkEditorModule=42]="constructionWorkEditorModule",e[e.cityPassModule=46]="cityPassModule",e))(ue||{}),Ir=(e=>(e.accessibilityAction="accessibilityAction",e.accessibilityChange="accessibilityChange",e.addressAdd="addressAdd",e.addressChange="addressChange",e.blur="blur",e.buttonPress="buttonPress",e.deviceInfoChange="deviceInfoChange",e.finishedReport="finishedReport",e.locationOrAddressSelectionChange="locationOrAddressSelectionChange",e.moduleChange="moduleChange",e.pushNotificationDisplay="pushNotificationDisplay",e.pushNotificationTap="pushNotificationTap",e.radioChange="radioChange",e.startUp="startUp",e.swipeOut="swipeOut",e.toForeground="toForeground",e.toggle="toggle",e))(Ir||{}),se=(e=>(e.alreadyInitialized="Piwik Pro SDK has been already initialized",e.missingEnvVars="PIWIK_PRO_URL or PIWIK_PRO_ID are not defined in env",e))(se||{});const Rr=e=>{if(e)return Object.keys(e).filter(r=>e[r]!==void 0).reduce((r,n)=>({...r,[n]:e[n]}),{})},xr="1.13.0",Sr=tr(),He=ar?xr:rr(),jr=`${He}.${Sr}`,Fr={[ue.appVersion]:He,[ue.appVersionWithBuild]:jr},Tr=(e,r=!1)=>r?Object.keys(e).reduce((n,f)=>{const y=ue[f]??k[f];return y&&(n[y]=e[f]),n},{}):e,L=(e,r=!1)=>Rr(Tr({...Fr,...e},r)),Ur=e=>{const r={};return e&&Object.keys(e).forEach(n=>{if(typeof e[n]!="string"&&typeof e[n]!="number")return;const f=n==="id"?"contentId":n;Object.values(k).includes(f)&&(r[k[f]]=e[n].toString())}),{appInsights:L(r,!0),piwik:L(r,!1)}},Te=e=>{const r=(e==null?void 0:e.screenTitle)??(e==null?void 0:e.screenHeaderTitle);if(r)return decodeURIComponent(r)};var $={},M={},G={},pe={},re={},Ue;function Pe(){if(Ue)return re;Ue=1,Object.defineProperty(re,"__esModule",{value:!0}),re.encodeString=n;const e=Array.from({length:256},(f,y)=>"%"+((y<16?"0":"")+y.toString(16)).toUpperCase()),r=new Int8Array([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,1,1,1,1,0,0,1,1,0,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,0,1,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,1,0]);function n(f){const y=f.length;if(y===0)return"";let g="",c=0,a=0;e:for(;a<y;a++){let o=f.charCodeAt(a);for(;o<128;){if(r[o]!==1&&(c<a&&(g+=f.slice(c,a)),c=a+1,g+=e[o]),++a===y)break e;o=f.charCodeAt(a)}if(c<a&&(g+=f.slice(c,a)),o<2048){c=a+1,g+=e[192|o>>6]+e[128|o&63];continue}if(o<55296||o>=57344){c=a+1,g+=e[224|o>>12]+e[128|o>>6&63]+e[128|o&63];continue}if(++a,a>=y)throw new Error("URI malformed");const b=f.charCodeAt(a)&1023;c=a+1,o=65536+((o&1023)<<10|b),g+=e[240|o>>18]+e[128|o>>12&63]+e[128|o>>6&63]+e[128|o&63]}return c===0?f:c<y?g+f.slice(c):g}return re}var Ne;function Oe(){return Ne||(Ne=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.defaultOptions=e.defaultShouldSerializeObject=e.defaultValueSerializer=void 0;const r=Pe(),n=g=>{switch(typeof g){case"string":return(0,r.encodeString)(g);case"bigint":case"boolean":return""+g;case"number":if(Number.isFinite(g))return g<1e21?""+g:(0,r.encodeString)(""+g);break}return g instanceof Date?(0,r.encodeString)(g.toISOString()):""};e.defaultValueSerializer=n;const f=g=>g instanceof Date;e.defaultShouldSerializeObject=f;const y=g=>g;e.defaultOptions={nesting:!0,nestingSyntax:"dot",arrayRepeat:!1,arrayRepeatSyntax:"repeat",delimiter:38,valueDeserializer:y,valueSerializer:e.defaultValueSerializer,keyDeserializer:y,shouldSerializeObject:e.defaultShouldSerializeObject}}(pe)),pe}var Ae;function Ge(){if(Ae)return G;Ae=1,Object.defineProperty(G,"__esModule",{value:!0}),G.getDeepObject=f,G.stringifyObject=b;const e=Oe(),r=Pe();function n(l){return l==="__proto__"||l==="constructor"||l==="prototype"}function f(l,m,_,C,U){if(n(m))return l;const I=l[m];return typeof I=="object"&&I!==null?I:!C&&(U||typeof _=="number"||typeof _=="string"&&_*0===0&&_.indexOf(".")===-1)?l[m]=[]:l[m]={}}const y=20,g="[]",c="[",a="]",o=".";function b(l,m,_=0,C,U){const{nestingSyntax:I=e.defaultOptions.nestingSyntax,arrayRepeat:A=e.defaultOptions.arrayRepeat,arrayRepeatSyntax:N=e.defaultOptions.arrayRepeatSyntax,nesting:t=e.defaultOptions.nesting,delimiter:u=e.defaultOptions.delimiter,valueSerializer:s=e.defaultOptions.valueSerializer,shouldSerializeObject:i=e.defaultOptions.shouldSerializeObject}=m,d=typeof u=="number"?String.fromCharCode(u):u,O=U===!0&&A,h=I==="dot"||I==="js"&&!U;if(_>y)return"";let E="",x=!0,S=!1;for(const j in l){const v=l[j];if(v===void 0)continue;let R;C?(R=C,O?N==="bracket"&&(R+=g):h?(R+=o,R+=j):(R+=c,R+=j,R+=a)):R=j,x||(E+=d),typeof v=="object"&&v!==null&&!i(v)?(S=v.pop!==void 0,(t||A&&S)&&(E+=b(v,m,_+1,R,S))):(E+=(0,r.encodeString)(R),E+="=",E+=s(v,j)),x&&(x=!1)}return E}return G}var be,Me;function Nr(){if(Me)return be;Me=1;var e=12,r=0,n=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,7,7,7,7,7,7,7,7,7,7,7,7,8,7,7,10,9,9,9,11,4,4,4,4,4,4,4,4,4,4,4,0,0,0,0,0,0,0,0,0,0,0,0,12,0,0,0,0,24,36,48,60,72,84,96,0,12,12,12,0,0,0,0,0,0,0,0,0,0,0,24,0,0,0,0,0,0,0,0,0,24,24,24,0,0,0,0,0,0,0,0,0,24,24,0,0,0,0,0,0,0,0,0,0,48,48,48,0,0,0,0,0,0,0,0,0,0,48,48,0,0,0,0,0,0,0,0,0,48,0,0,0,0,0,0,0,0,0,0,127,63,63,63,0,31,15,15,15,7,7,7];function f(c){var a=c.indexOf("%");if(a===-1)return c;for(var o=c.length,b="",l=0,m=0,_=a,C=e;a>-1&&a<o;){var U=g(c[a+1],4),I=g(c[a+2],0),A=U|I,N=n[A];if(C=n[256+C+N],m=m<<6|A&n[364+N],C===e)b+=c.slice(l,_),b+=m<=65535?String.fromCharCode(m):String.fromCharCode(55232+(m>>10),56320+(m&1023)),m=0,l=a+3,a=_=c.indexOf("%",l);else{if(C===r)return null;if(a+=3,a<o&&c.charCodeAt(a)===37)continue;return null}}return b+c.slice(l)}var y={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,a:10,A:10,b:11,B:11,c:12,C:12,d:13,D:13,e:14,E:14,f:15,F:15};function g(c,a){var o=y[c];return o===void 0?255:o<<a}return be=f,be}var Ve;function Ar(){if(Ve)return M;Ve=1;var e=M&&M.__importDefault||function(l){return l&&l.__esModule?l:{default:l}};Object.defineProperty(M,"__esModule",{value:!0}),M.numberValueDeserializer=M.numberKeyDeserializer=void 0,M.parse=b;const r=Ge(),n=Oe(),f=e(Nr()),y=l=>{const m=Number(l);return Number.isNaN(m)?l:m};M.numberKeyDeserializer=y;const g=l=>{const m=Number(l);return Number.isNaN(m)?l:m};M.numberValueDeserializer=g;const c=/\+/g,a=function(){};a.prototype=Object.create(null);function o(l,m,_,C,U){let I=l.substring(m,_);return C&&(I=I.replace(c," ")),U&&(I=(0,f.default)(I)||I),I}function b(l,m){const{valueDeserializer:_=n.defaultOptions.valueDeserializer,keyDeserializer:C=n.defaultOptions.keyDeserializer,arrayRepeatSyntax:U=n.defaultOptions.arrayRepeatSyntax,nesting:I=n.defaultOptions.nesting,arrayRepeat:A=n.defaultOptions.arrayRepeat,nestingSyntax:N=n.defaultOptions.nestingSyntax,delimiter:t=n.defaultOptions.delimiter}=m??{},u=typeof t=="string"?t.charCodeAt(0):t,s=N==="js",i=new a;if(typeof l!="string")return i;const d=l.length;let O="",h=-1,E=-1,x=-1,S=i,j,v="",R="",V=!1,J=!1,z=!1,oe=!1,B=!1,K=!1,X=!1,q=0,W=-1,H=-1,Ee=-1;for(let F=0;F<d+1;F++){if(q=F!==d?l.charCodeAt(F):u,q===u){if(X=E>h,X||(E=F),x!==E-1&&(R=o(l,x+1,W>-1?W:E,z,V),v=C(R),j!==void 0&&(S=(0,r.getDeepObject)(S,j,v,s&&B,s&&K))),X||v!==""){X&&(O=l.slice(E+1,F),oe&&(O=O.replace(c," ")),J&&(O=(0,f.default)(O)||O));const P=_(O,v);if(A){const Z=S[v];Z===void 0?W>-1?S[v]=[P]:S[v]=P:Z.pop?Z.push(P):S[v]=[Z,P]}else S[v]=P}O="",h=F,E=F,V=!1,J=!1,z=!1,oe=!1,B=!1,K=!1,W=-1,x=F,S=i,j=void 0,v=""}else q===93?(A&&U==="bracket"&&Ee===91&&(W=H),I&&(N==="index"||s)&&E<=h&&(x!==H&&(R=o(l,x+1,F,z,V),v=C(R),j!==void 0&&(S=(0,r.getDeepObject)(S,j,v,void 0,s)),j=v,z=!1,V=!1),x=F,K=!0,B=!1)):q===46?I&&(N==="dot"||s)&&E<=h&&(x!==H&&(R=o(l,x+1,F,z,V),v=C(R),j!==void 0&&(S=(0,r.getDeepObject)(S,j,v,s)),j=v,z=!1,V=!1),B=!0,K=!1,x=F):q===91?I&&(N==="index"||s)&&E<=h&&(x!==H&&(R=o(l,x+1,F,z,V),v=C(R),s&&j!==void 0&&(S=(0,r.getDeepObject)(S,j,v,s)),j=v,z=!1,V=!1,B=!1,K=!0),x=F):q===61?E<=h?E=F:J=!0:q===43?E>h?oe=!0:z=!0:q===37&&(E>h?J=!0:V=!0);H=F,Ee=q}return i}return M}var te={},ze;function Mr(){if(ze)return te;ze=1,Object.defineProperty(te,"__esModule",{value:!0}),te.stringify=r;const e=Ge();function r(n,f){if(n===null||typeof n!="object")return"";const y=f??{};return(0,e.stringifyObject)(n,y)}return te}var qe;function Vr(){return qe||(qe=1,function(e){var r=$&&$.__createBinding||(Object.create?function(g,c,a,o){o===void 0&&(o=a);var b=Object.getOwnPropertyDescriptor(c,a);(!b||("get"in b?!c.__esModule:b.writable||b.configurable))&&(b={enumerable:!0,get:function(){return c[a]}}),Object.defineProperty(g,o,b)}:function(g,c,a,o){o===void 0&&(o=a),g[o]=c[a]}),n=$&&$.__exportStar||function(g,c){for(var a in g)a!=="default"&&!Object.prototype.hasOwnProperty.call(c,a)&&r(c,g,a)};Object.defineProperty(e,"__esModule",{value:!0}),e.stringify=e.parse=void 0;var f=Ar();Object.defineProperty(e,"parse",{enumerable:!0,get:function(){return f.parse}});var y=Mr();Object.defineProperty(e,"stringify",{enumerable:!0,get:function(){return y.stringify}}),n(Oe(),e)}($)),$}var Le=Vr();const zr=e=>{if(!e)return"";const r={};return Object.keys(Le.parse(e)).forEach(n=>{r[n]="___"}),`?${Le.stringify(r)}`},qr=e=>e?`#${e.split("/").map(()=>"___").join("/")}`:"",Lr=(e="")=>{const[r,n,...f]=e.split("#"),[y,g,...c]=r.split("?");if(f.length||c.length)return y;const a=zr(g),o=qr(n);return`${y}${a}${o}`},ae="useTrackEvents.ts",$r=(e,r,n,f,y,g)=>({ready:!!f,trackCustomEvent:(c,a,o,b=r,l=void 0)=>{f&&f.trackCustomEvent(b,a,{path:y,customDimensions:L(o),value:l,name:c}).catch(()=>{e(Q.piwikTrackCustomEvent,ae,{category:b,action:a,name:c,routeName:y,value:l})}),n.trackEvent({name:a,properties:{...L(o,!0),value:l,name:c,routeName:y,category:b}})},trackOutlink:(c,a)=>{const o=Lr(c);f&&f.trackOutlink(o,{...a,customDimensions:L({...a==null?void 0:a.customDimensions,[k.routeName]:y})}).catch(()=>{e(Q.piwikTrackOutlink,ae,{url:o})}),n.trackEvent({name:"outlink",properties:{...L(a==null?void 0:a.customDimensions,!0),url:o,routeName:y,category:r}})},trackScreen:c=>{const a=c??y;if(!a)return;const{appInsights:o,piwik:b}=Ur(g);f&&f.trackScreen(a,{title:Te(g),customDimensions:b}).catch(()=>{e(Q.piwikTrackScreen,ae,{path:c})}),n.trackPageView({name:a},{...o,title:Te(g)})},trackSearch:(c,a)=>{f&&f.trackSearch(c,{...a,customDimensions:L(a==null?void 0:a.customDimensions)}).catch(()=>{e(Q.piwikTrackSearch,ae)}),n.trackEvent({name:"search",properties:{...L(a==null?void 0:a.customDimensions,!0),keyword:c,routeName:y,category:r}})}});function wr(e){if(!Number.isInteger(e))throw new Error("Parameter must be an integer number")}function ne(e){e&&Object.entries(e).forEach(r=>{let[n,f]=r;const y=parseInt(n,10);if(n!==y.toString())throw new Error("ID (key) must be an integer");if(y<1)throw new Error("ID (key) must be an integer greater than 0")})}function Y(e){e.forEach(r=>{let n=r.customDimensions;if(n){if(Object.keys(n).length>20)throw new Error("Max 20 product custom dimensions, 20 is max ID.");ne(n)}})}function Br(e){if(!/^[0-9a-f]{16}$/.test(e))throw new Error(`Visitor ID ${e} has invalid format. The format must match the regular expression: ^[0-9a-f]{16}$`)}const Kr="1.1.0",Wr=`The package 'react-native-piwik-pro-sdk' doesn't seem to be linked. Make sure: 

`+sr.select({ios:`- You have run 'pod install'
`,default:""})+`- You rebuilt the app after installing the package
- You are not using Expo managed workflow
`,p=ve.PiwikProSdk?ve.PiwikProSdk:new Proxy({},{get(){throw new Error(Wr)}});async function Hr(e,r){return await p.init(e,r,Kr)}async function Pr(e,r){return T(r),await p.trackScreen(e,r)}async function Gr(e,r,n){return T(n),await p.trackCustomEvent(e,r,n)}async function Qr(e,r){return T(r),await p.trackException(e,r)}async function Dr(e,r,n){return T(n),await p.trackSocialInteraction(e,r,n)}async function kr(e,r){return T(r),await p.trackDownload(e,r)}async function Yr(){return await p.trackApplicationInstall()}async function Jr(e,r){return T(r),await p.trackOutlink(e,r)}async function Xr(e,r){return T(r),await p.trackSearch(e,r)}async function Zr(e,r){return T(r),await p.trackImpression(e,r)}async function et(e,r,n){return T(n),await p.trackInteraction(e,r,n)}async function rt(e,r){return T(r),await p.trackGoal(e,r)}async function tt(e,r,n){return await p.trackEcommerce(e,r,n)}async function at(e,r){return T(r),Y(e),await p.trackEcommerceProductDetailView(e,r)}async function nt(e,r,n){return T(n),Y(e),await p.trackEcommerceCartUpdate(e,r,n)}async function ct(e,r){return T(r),Y(e),await p.trackEcommerceAddToCart(e,r)}async function ut(e,r){return T(r),Y(e),await p.trackEcommerceRemoveFromCart(e,r)}async function st(e,r,n,f){return T(f),Y(n),await p.trackEcommerceOrder(e,r,n,f)}async function it(e){return await p.trackCampaign(e)}async function ot(e){if(Array.isArray(e)){if(!e.length)throw new Error("Profile attributes cannot be an empty array");return await p.trackProfileAttributes(e)}return await p.trackProfileAttributes([e])}async function ft(){return await p.getProfileAttributes()}async function lt(e){return await p.checkAudienceMembership(e)}async function dt(e){return await p.setUserId(e)}async function gt(){return await p.getUserId()}async function yt(e){return await p.setUserEmail(e)}async function ht(){return await p.getUserEmail()}async function mt(e){return Br(e),await p.setVisitorId(e)}async function pt(){return await p.getVisitorId()}async function bt(e){return await p.setSessionTimeout(e)}async function Ot(){return await p.getSessionTimeout()}async function Et(){return await p.startNewSession()}async function vt(){return await p.dispatch()}async function Ct(e){return wr(e),await p.setDispatchInterval(e)}async function _t(){return await p.getDispatchInterval()}async function It(e){return await p.setIncludeDefaultCustomVariables(e)}async function Rt(){return await p.getIncludeDefaultCustomVariables()}async function xt(e){return await p.setAnonymizationState(e)}async function St(){return await p.isAnonymizationOn()}async function jt(e){return await p.setOptOut(e)}async function Ft(e){return await p.setDryRun(e)}async function Tt(){return await p.getDryRun()}async function Ut(){return await p.getOptOut()}async function Nt(e){return await p.setPrefixing(e)}async function At(){return await p.isPrefixingOn()}function T(e){ne(e==null?void 0:e.customDimensions),ne(e==null?void 0:e.visitCustomVariables),ne(e==null?void 0:e.screenCustomVariables)}const D={init:Hr,trackScreen:Pr,trackCustomEvent:Gr,trackException:Qr,trackSocialInteraction:Dr,trackDownload:kr,trackApplicationInstall:Yr,trackOutlink:Jr,trackSearch:Xr,trackImpression:Zr,trackInteraction:et,trackGoal:rt,trackEcommerce:tt,trackEcommerceProductDetailView:at,trackEcommerceCartUpdate:nt,trackEcommerceAddToCart:ct,trackEcommerceRemoveFromCart:ut,trackEcommerceOrder:st,trackCampaign:it,trackProfileAttributes:ot,getProfileAttributes:ft,checkAudienceMembership:lt,setUserId:dt,getUserId:gt,setUserEmail:yt,getUserEmail:ht,setVisitorId:mt,getVisitorId:pt,setSessionTimeout:bt,getSessionTimeout:Ot,startNewSession:Et,dispatch:vt,setDispatchInterval:Ct,getDispatchInterval:_t,setIncludeDefaultCustomVariables:It,getIncludeDefaultCustomVariables:Rt,setAnonymizationState:xt,isAnonymizationOn:St,setOptOut:jt,getOptOut:Ut,setDryRun:Ft,getDryRun:Tt,setPrefixing:Nt,isPrefixingOn:At},[$e,we]=nr?[ke,Ye]:[Je,Xe],Mt=async()=>!$e||!we?Promise.reject(se.missingEnvVars):(await D.init($e,we),await D.trackApplicationInstall(),await D.setIncludeDefaultCustomVariables(!0),Promise.resolve()),ie=w.createContext(void 0),Be=({children:e})=>{const r=We(),[n,f]=w.useState();return w.useEffect(()=>{n===void 0&&Mt().then(()=>{f(D)}).catch(y=>{if(y.message===se.alreadyInitialized){f(D);return}f(null),y.message!==se.missingEnvVars&&r(Q.piwikInitialization,"piwik.provider.tsx",{error:y})})},[n,r]),ur.jsx(ie.Provider,{value:n,children:e})};try{ie.displayName="PiwikContext",ie.__docgenInfo={description:"The PiwikContext contains the object with all methods, to be used via the usePiwik hook only.",displayName:"PiwikContext",props:{}}}catch{}try{Be.displayName="PiwikProvider",Be.__docgenInfo={description:"",displayName:"PiwikProvider",props:{}}}catch{}const Vt=()=>{if(ce.isReady()){const e=ce.getRootState(),r=e==null?void 0:e.routes;if(r)for(let n=r.length-1;n>=0;n--){const f=Ze[r[n].name];if(f)return f}}},zt=()=>{const e=w.useContext(ie),r=ce.isReady()?ce.getCurrentRoute():void 0,n=Vt()??"general",f=er(),y=We();return w.useMemo(()=>$r(y,n,f,e,r==null?void 0:r.name,r==null?void 0:r.params),[e,y,n,f,r==null?void 0:r.name,r==null?void 0:r.params])},qt=e=>{const r=e.logName??e["logging-label"]??e.testID;return r||cr("No name found in props"),r},Dt=({logAction:e,logCategory:r,logDimensions:n={},logValue:f,onEvent:y,testID:g,logName:c,"logging-label":a})=>{const{trackCustomEvent:o}=zt();return w.useCallback((b,{nameSuffix:l,dimensions:m={},action:_=e}={})=>{y==null||y(b);const C=qt({testID:g,logName:c,"logging-label":a});if(C){const U=l?`:${l}`:"";o(`${C}${U}`,_,{...n,...m},r,f)}},[e,r,n,c,f,y,a,g,o])};export{dr as C,gr as N,Ir as P,He as V,zt as a,k as b,ue as c,Qt as e,Vt as g,Le as m,Gt as q,fr as r,Dt as u};
