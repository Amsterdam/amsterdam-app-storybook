import{r as u,az as S,aD as h,aG as k,aH as n,aA as c,aI as E}from"./iframe-DK1FSAph.js";import{u as I}from"./useCurrentParkingPermit.web-ChGNJfwY.js";const _=(r,e)=>{u.useEffect(()=>{if(e>0){const s=setInterval(r,e);return()=>clearInterval(s)}},[r,e])},L=(r,e)=>{u.useEffect(()=>{if(e>0){const s=setTimeout(r,e);return()=>clearTimeout(s)}},[r,e])},v=(r,e)=>{const s=I(),i=S(),{visitorVehicleId:t}=h(),{data:o,isLoading:g,isError:d,refetch:P}=k(s&&(i==null?void 0:i.scope)===c.permitHolder?{report_code:s.report_code.toString(),status:r,page_size:100}:n,e),{data:a,isLoading:f,isError:m,refetch:p}=E((i==null?void 0:i.scope)===c.visitor&&t?{vehicle_id:t,report_code:s.report_code.toString(),status:r}:n,e);return{isLoading:g||f,isError:d||m,parkingSessions:(o==null?void 0:o.result)||(a==null?void 0:a[r]),page:o==null?void 0:o.page,refetch:t?p:P}};export{_ as a,L as b,v as u};
