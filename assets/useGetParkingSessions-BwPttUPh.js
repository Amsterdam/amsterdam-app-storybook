import{r as f}from"./index-B-xgG2PE.js";import{u as p,s as a,a as h}from"./service-BErGQPB9.js";import{u as k}from"./useCurrentParkingPermit.web-DpIhF-QI.js";import{u as l,a as S}from"./slice-DoOI7aAL.js";import{a as n}from"./types-C2OYdTo_.js";const _=(i,s)=>{f.useEffect(()=>{if(s>0){const r=setInterval(i,s);return()=>clearInterval(r)}},[i,s])},x=i=>{const s=k(),r=l(),{visitorVehicleId:o}=S(),{data:e,isLoading:c,isError:u,refetch:g}=p(s&&(r==null?void 0:r.scope)===n.permitHolder?{report_code:s.report_code.toString(),status:i,page_size:100}:a),{data:t,isLoading:d,isError:m,refetch:P}=h((r==null?void 0:r.scope)===n.visitor&&o?{vehicle_id:o}:a);return{isLoading:c||d,isError:u||m,parkingSessions:(e==null?void 0:e.result)||(t==null?void 0:t[i]),page:e==null?void 0:e.page,refetch:o?P:g}};export{_ as a,x as u};
