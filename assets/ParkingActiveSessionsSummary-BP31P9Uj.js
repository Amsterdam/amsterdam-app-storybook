import{j as r}from"./jsx-runtime-DNHyKP0h.js";import{r as u}from"./index-B-xgG2PE.js";import{P as p}from"./PleaseWait-BGoMthHY.js";import{S as c}from"./SomethingWentWrong-DX6jFlr5.js";import{C as g}from"./Column-DVtKxYat.js";import{P}from"./Phrase-C9gS9hvz.js";import{T as l}from"./Title-BW8aM08t.js";import{u as h}from"./useBoolean-DwbfAoJh.js";import{u as d,a as x}from"./useGetParkingSessions-Z1U3SdZy.js";import{P as j}from"./ParkingActiveSessionNavigationButton-CEIds8xa.js";import{u as v}from"./useGetCurrentParkingPermit.web-DBB1Y49K.js";const L=()=>{const{parkingSessions:e,isLoading:n,isError:a,refetch:s}=d(),{currentPermit:i,isLoading:f}=v(),{value:o,enable:m}=h(!1);return u.useEffect(()=>{!o&&(e!=null&&e.some(t=>!t.ps_right_id))&&(s(),m())},[e,o,s,m]),x(s,e!=null&&e.some(t=>!t.is_paid)?15e3:0),n||f?r.jsx(p,{testID:"ParkingPermitSessionsActivePleaseWait"}):a||!i?r.jsx(c,{testID:"ParkingActiveSessionsSummarySomethingWentWrong"}):r.jsxs(g,{gutter:"sm",children:[r.jsx(l,{level:"h5",testID:"ParkingPermitSessionsActiveTitle",text:"Nu actief"}),e!=null&&e.length?e.map(t=>r.jsx(j,{noEndTime:i.no_endtime,parkingSession:t},t.vehicle_id)):r.jsx(P,{testID:"ParkingPermitSessionsActiveNotActivePhrase",children:"Er zijn geen actieve parkeersessies."})]})};export{L as P};
