import{r as u,a_ as S,b5 as h,ba as k,bb as n,a$ as c,bc as E}from"./iframe-8_0KR2ME.js";import{u as l}from"./useCurrentParkingPermit.web-BHDetgla.js";const _=(r,e)=>{u.useEffect(()=>{if(e>0){const s=setInterval(r,e);return()=>clearInterval(s)}},[r,e])},b=(r,e)=>{u.useEffect(()=>{if(e>0){const s=setTimeout(r,e);return()=>clearTimeout(s)}},[r,e])},L=(r,e)=>{const s=l(),i=S(),{visitorVehicleId:t}=h(),{data:o,isLoading:g,isError:d,refetch:P}=k(s&&(i==null?void 0:i.scope)===c.permitHolder?{report_code:s.report_code.toString(),status:r,page_size:100}:n,e),{data:a,isLoading:f,isError:m,refetch:p}=E((i==null?void 0:i.scope)===c.visitor&&t?{vehicle_id:t,report_code:s.report_code.toString(),status:r}:n,e);return{isLoading:g||f,isError:d||m,parkingSessions:(o==null?void 0:o.result)||(a==null?void 0:a[r]),page:o==null?void 0:o.page,refetch:t?p:P}};export{_ as a,b,L as u};
