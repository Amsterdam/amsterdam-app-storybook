import{r as V}from"./index-Cs7sjTYM.js";import"./index-8JwjhRSi.js";import{E as K,P as Fe,a as Re,b as Se,c as Te,u as Oe,M as Ne,d as Ae}from"./useTrackException-BSsPgnnq.js";import{a as Ue,b as Me}from"./index-B9HBLp1U.js";import{b as Ve,a as ze,d as $e}from"./development-B3zcR1jo.js";import{c as $}from"./_commonjsHelpers-BosuxZz1.js";import{j as Le}from"./jsx-runtime-BlAj40OV.js";import{P as Be,N as oe}from"./index-C9LjRz3B.js";function we(){return{type:"GO_BACK"}}function Ke(){if(typeof(arguments.length<=0?void 0:arguments[0])=="string")return{type:"NAVIGATE",payload:{name:arguments.length<=0?void 0:arguments[0],params:arguments.length<=1?void 0:arguments[1]}};{const e=(arguments.length<=0?void 0:arguments[0])||{};if(!e.hasOwnProperty("key")&&!e.hasOwnProperty("name"))throw new Error("You need to specify name or key when calling navigate with an object as the argument. See https://reactnavigation.org/docs/navigation-actions#navigate for usage.");return{type:"NAVIGATE",payload:e}}}function We(e){return{type:"RESET",payload:e}}function He(e){return{type:"SET_PARAMS",payload:{params:e}}}const Ge=Object.freeze(Object.defineProperty({__proto__:null,goBack:we,navigate:Ke,reset:We,setParams:He},Symbol.toStringTag,{value:"Module"})),Pe="The 'navigation' object hasn't been initialized yet. This might happen if you don't have a navigator mounted, or if the navigator hasn't finished mounting. See https://reactnavigation.org/docs/navigating-without-navigation-prop#handling-initialization for more details.";function qe(){const e=[...Object.keys(Ge),"addListener","removeListener","resetRoot","dispatch","isFocused","canGoBack","getRootState","getState","getParent","getCurrentRoute","getCurrentOptions"],t={},a=(s,d)=>{t[s]&&(t[s]=t[s].filter(l=>l!==d))};let i=null;return{get current(){return i},set current(s){i=s,s!=null&&Object.entries(t).forEach(d=>{let[l,m]=d;m.forEach(p=>{s.addListener(l,p)})})},isReady:()=>i==null?!1:i.isReady(),...e.reduce((s,d)=>(s[d]=function(){for(var l=arguments.length,m=new Array(l),p=0;p<l;p++)m[p]=arguments[p];if(i==null)switch(d){case"addListener":{const[g,O]=m;return t[g]=t[g]||[],t[g].push(O),()=>a(g,O)}case"removeListener":{const[g,O]=m;a(g,O);break}default:console.error(Pe)}else return i[d](...m)},s),{})}}var Qe={},Ye=e=>encodeURIComponent(e).replace(/[!'()*]/g,t=>`%${t.charCodeAt(0).toString(16).toUpperCase()}`),Ee="%[a-f0-9]{2}",fe=new RegExp("("+Ee+")|([^%]+?)","gi"),le=new RegExp("("+Ee+")+","gi");function ce(e,t){try{return[decodeURIComponent(e.join(""))]}catch{}if(e.length===1)return e;t=t||1;var a=e.slice(0,t),i=e.slice(t);return Array.prototype.concat.call([],ce(a),ce(i))}function ke(e){try{return decodeURIComponent(e)}catch{for(var t=e.match(fe)||[],a=1;a<t.length;a++)e=ce(t,a).join(""),t=e.match(fe)||[];return e}}function Je(e){for(var t={"%FE%FF":"��","%FF%FE":"��"},a=le.exec(e);a;){try{t[a[0]]=decodeURIComponent(a[0])}catch{var i=ke(a[0]);i!==a[0]&&(t[a[0]]=i)}a=le.exec(e)}t["%C2"]="�";for(var o=Object.keys(t),s=0;s<o.length;s++){var d=o[s];e=e.replace(new RegExp(d,"g"),t[d])}return e}var Xe=function(e){if(typeof e!="string")throw new TypeError("Expected `encodedURI` to be of type `string`, got `"+typeof e+"`");try{return e=e.replace(/\+/g," "),decodeURIComponent(e)}catch{return Je(e)}},Ze=(e,t)=>{if(!(typeof e=="string"&&typeof t=="string"))throw new TypeError("Expected the arguments to be of type `string`");if(t==="")return[e];const a=e.indexOf(t);return a===-1?[e]:[e.slice(0,a),e.slice(a+t.length)]},De=function(e,t){for(var a={},i=Object.keys(e),o=Array.isArray(t),s=0;s<i.length;s++){var d=i[s],l=e[d];(o?t.indexOf(d)!==-1:t(d,l,e))&&(a[d]=l)}return a};(function(e){const t=Ye,a=Xe,i=Ze,o=De,s=r=>r==null,d=Symbol("encodeFragmentIdentifier");function l(r){switch(r.arrayFormat){case"index":return n=>(c,u)=>{const f=c.length;return u===void 0||r.skipNull&&u===null||r.skipEmptyString&&u===""?c:u===null?[...c,[g(n,r),"[",f,"]"].join("")]:[...c,[g(n,r),"[",g(f,r),"]=",g(u,r)].join("")]};case"bracket":return n=>(c,u)=>u===void 0||r.skipNull&&u===null||r.skipEmptyString&&u===""?c:u===null?[...c,[g(n,r),"[]"].join("")]:[...c,[g(n,r),"[]=",g(u,r)].join("")];case"colon-list-separator":return n=>(c,u)=>u===void 0||r.skipNull&&u===null||r.skipEmptyString&&u===""?c:u===null?[...c,[g(n,r),":list="].join("")]:[...c,[g(n,r),":list=",g(u,r)].join("")];case"comma":case"separator":case"bracket-separator":{const n=r.arrayFormat==="bracket-separator"?"[]=":"=";return c=>(u,f)=>f===void 0||r.skipNull&&f===null||r.skipEmptyString&&f===""?u:(f=f===null?"":f,u.length===0?[[g(c,r),n,g(f,r)].join("")]:[[u,g(f,r)].join(r.arrayFormatSeparator)])}default:return n=>(c,u)=>u===void 0||r.skipNull&&u===null||r.skipEmptyString&&u===""?c:u===null?[...c,g(n,r)]:[...c,[g(n,r),"=",g(u,r)].join("")]}}function m(r){let n;switch(r.arrayFormat){case"index":return(c,u,f)=>{if(n=/\[(\d*)\]$/.exec(c),c=c.replace(/\[\d*\]$/,""),!n){f[c]=u;return}f[c]===void 0&&(f[c]={}),f[c][n[1]]=u};case"bracket":return(c,u,f)=>{if(n=/(\[\])$/.exec(c),c=c.replace(/\[\]$/,""),!n){f[c]=u;return}if(f[c]===void 0){f[c]=[u];return}f[c]=[].concat(f[c],u)};case"colon-list-separator":return(c,u,f)=>{if(n=/(:list)$/.exec(c),c=c.replace(/:list$/,""),!n){f[c]=u;return}if(f[c]===void 0){f[c]=[u];return}f[c]=[].concat(f[c],u)};case"comma":case"separator":return(c,u,f)=>{const b=typeof u=="string"&&u.includes(r.arrayFormatSeparator),h=typeof u=="string"&&!b&&O(u,r).includes(r.arrayFormatSeparator);u=h?O(u,r):u;const I=b||h?u.split(r.arrayFormatSeparator).map(A=>O(A,r)):u===null?u:O(u,r);f[c]=I};case"bracket-separator":return(c,u,f)=>{const b=/(\[\])$/.test(c);if(c=c.replace(/\[\]$/,""),!b){f[c]=u&&O(u,r);return}const h=u===null?[]:u.split(r.arrayFormatSeparator).map(I=>O(I,r));if(f[c]===void 0){f[c]=h;return}f[c]=[].concat(f[c],h)};default:return(c,u,f)=>{if(f[c]===void 0){f[c]=u;return}f[c]=[].concat(f[c],u)}}}function p(r){if(typeof r!="string"||r.length!==1)throw new TypeError("arrayFormatSeparator must be single character string")}function g(r,n){return n.encode?n.strict?t(r):encodeURIComponent(r):r}function O(r,n){return n.decode?a(r):r}function S(r){return Array.isArray(r)?r.sort():typeof r=="object"?S(Object.keys(r)).sort((n,c)=>Number(n)-Number(c)).map(n=>r[n]):r}function j(r){const n=r.indexOf("#");return n!==-1&&(r=r.slice(0,n)),r}function F(r){let n="";const c=r.indexOf("#");return c!==-1&&(n=r.slice(c)),n}function E(r){r=j(r);const n=r.indexOf("?");return n===-1?"":r.slice(n+1)}function C(r,n){return n.parseNumbers&&!Number.isNaN(Number(r))&&typeof r=="string"&&r.trim()!==""?r=Number(r):n.parseBooleans&&r!==null&&(r.toLowerCase()==="true"||r.toLowerCase()==="false")&&(r=r.toLowerCase()==="true"),r}function _(r,n){n=Object.assign({decode:!0,sort:!0,arrayFormat:"none",arrayFormatSeparator:",",parseNumbers:!1,parseBooleans:!1},n),p(n.arrayFormatSeparator);const c=m(n),u=Object.create(null);if(typeof r!="string"||(r=r.trim().replace(/^[?#&]/,""),!r))return u;for(const f of r.split("&")){if(f==="")continue;let[b,h]=i(n.decode?f.replace(/\+/g," "):f,"=");h=h===void 0?null:["comma","separator","bracket-separator"].includes(n.arrayFormat)?h:O(h,n),c(O(b,n),h,u)}for(const f of Object.keys(u)){const b=u[f];if(typeof b=="object"&&b!==null)for(const h of Object.keys(b))b[h]=C(b[h],n);else u[f]=C(b,n)}return n.sort===!1?u:(n.sort===!0?Object.keys(u).sort():Object.keys(u).sort(n.sort)).reduce((f,b)=>{const h=u[b];return h&&typeof h=="object"&&!Array.isArray(h)?f[b]=S(h):f[b]=h,f},Object.create(null))}e.extract=E,e.parse=_,e.stringify=(r,n)=>{if(!r)return"";n=Object.assign({encode:!0,strict:!0,arrayFormat:"none",arrayFormatSeparator:","},n),p(n.arrayFormatSeparator);const c=h=>n.skipNull&&s(r[h])||n.skipEmptyString&&r[h]==="",u=l(n),f={};for(const h of Object.keys(r))c(h)||(f[h]=r[h]);const b=Object.keys(f);return n.sort!==!1&&b.sort(n.sort),b.map(h=>{const I=r[h];return I===void 0?"":I===null?g(h,n):Array.isArray(I)?I.length===0&&n.arrayFormat==="bracket-separator"?g(h,n)+"[]":I.reduce(u(h),[]).join("&"):g(h,n)+"="+g(I,n)}).filter(h=>h.length>0).join("&")},e.parseUrl=(r,n)=>{n=Object.assign({decode:!0},n);const[c,u]=i(r,"#");return Object.assign({url:c.split("?")[0]||"",query:_(E(r),n)},n&&n.parseFragmentIdentifier&&u?{fragmentIdentifier:O(u,n)}:{})},e.stringifyUrl=(r,n)=>{n=Object.assign({encode:!0,strict:!0,[d]:!0},n);const c=j(r.url).split("?")[0]||"",u=e.extract(r.url),f=e.parse(u,{sort:!1}),b=Object.assign(f,r.query);let h=e.stringify(b,n);h&&(h=`?${h}`);let I=F(r.url);return r.fragmentIdentifier&&(I=`#${n[d]?g(r.fragmentIdentifier,n):r.fragmentIdentifier}`),`${c}${h}${I}`},e.pick=(r,n,c)=>{c=Object.assign({parseFragmentIdentifier:!0,[d]:!1},c);const{url:u,query:f,fragmentIdentifier:b}=e.parseUrl(r,c);return e.stringifyUrl({url:u,query:o(f,n),fragmentIdentifier:b},c)},e.exclude=(r,n,c)=>{const u=Array.isArray(n)?f=>!n.includes(f):(f,b)=>!n(f,b);return e.pick(r,u,c)}})(Qe);var _e={};Object.defineProperty(_e,"__esModule",{value:!0});var de=V,et=typeof document<"u"?de.useLayoutEffect:de.useEffect;_e.default=et;const Z=qe();var H=(e=>(e[e.searchTerm=3]="searchTerm",e[e.searchResultAmount=4]="searchResultAmount",e[e.searchType=5]="searchType",e[e.searchResultTitle=6]="searchResultTitle",e[e.searchResultUrl=7]="searchResultUrl",e[e.searchResultType=8]="searchResultType",e[e.searchResultSelected=9]="searchResultSelected",e[e.contentTitle=10]="contentTitle",e[e.contentSubject=11]="contentSubject",e[e.contentTeam=12]="contentTeam",e[e.contentPublicationDate=13]="contentPublicationDate",e[e.contentType=14]="contentType",e[e.userIntext=15]="userIntext",e[e.searchMachine=16]="searchMachine",e[e.pageType=17]="pageType",e[e.contentId=20]="contentId",e[e.newState=36]="newState",e[e.routeName=43]="routeName",e[e.pushTitle=44]="pushTitle",e[e.pushContent=45]="pushContent",e[e.isPushNotificationDeeplink=47]="isPushNotificationDeeplink",e))(H||{}),D=(e=>(e[e.userType=1]="userType",e[e.userCity=2]="userCity",e[e.appVersion=18]="appVersion",e[e.appVersionWithBuild=19]="appVersionWithBuild",e[e.reduceMotionEnabled=21]="reduceMotionEnabled",e[e.screenReaderEnabled=22]="screenReaderEnabled",e[e.accessibilityServiceEnabled=23]="accessibilityServiceEnabled",e[e.boldTextEnabled=24]="boldTextEnabled",e[e.grayscaleEnabled=25]="grayscaleEnabled",e[e.invertColorsEnabled=26]="invertColorsEnabled",e[e.reduceTransparencyEnabled=27]="reduceTransparencyEnabled",e[e.fontScale=28]="fontScale",e[e.isLandscape=29]="isLandscape",e[e.isPortrait=30]="isPortrait",e[e.isTablet=31]="isTablet",e[e.hasCameraPermission=32]="hasCameraPermission",e[e.hasPhotosPermission=33]="hasPhotosPermission",e[e.hasLocationPermission=34]="hasLocationPermission",e[e.hasNotificationPermission=35]="hasNotificationPermission",e[e.hasBiometricsPermission=48]="hasBiometricsPermission",e[e.contactModule=37]="contactModule",e[e.redirectsModule=38]="redirectsModule",e[e.wasteGuideModule=39]="wasteGuideModule",e[e.reportProblemModule=40]="reportProblemModule",e[e.constructionWorkModule=41]="constructionWorkModule",e[e.constructionWorkEditorModule=42]="constructionWorkEditorModule",e[e.cityPassModule=46]="cityPassModule",e))(D||{}),tt=(e=>(e.accessibilityAction="accessibilityAction",e.accessibilityChange="accessibilityChange",e.addressAdd="addressAdd",e.addressChange="addressChange",e.blur="blur",e.buttonPress="buttonPress",e.deviceInfoChange="deviceInfoChange",e.finishedReport="finishedReport",e.locationOrAddressSelectionChange="locationOrAddressSelectionChange",e.moduleChange="moduleChange",e.pushNotificationDisplay="pushNotificationDisplay",e.pushNotificationTap="pushNotificationTap",e.radioChange="radioChange",e.startUp="startUp",e.swipeOut="swipeOut",e.toForeground="toForeground",e.toggle="toggle",e))(tt||{}),ee=(e=>(e.alreadyInitialized="Piwik Pro SDK has been already initialized",e.missingEnvVars="PIWIK_PRO_URL or PIWIK_PRO_ID are not defined in env",e))(ee||{});const rt=e=>{if(e)return Object.keys(e).filter(t=>e[t]!==void 0).reduce((t,a)=>({...t,[a]:e[a]}),{})},at="1.11.0",nt=Ue(),Ce=Ve?at:Me(),ct=`${Ce}.${nt}`,st={[D.appVersion]:Ce,[D.appVersionWithBuild]:ct},ut=(e,t=!1)=>t?Object.keys(e).reduce((a,i)=>{const o=D[i]??H[i];return o&&(a[o]=e[i]),a},{}):e,N=(e,t=!1)=>rt(ut({...st,...e},t)),it=e=>{const t={};return e&&Object.keys(e).forEach(a=>{if(typeof e[a]!="string"&&typeof e[a]!="number")return;const i=a==="id"?"contentId":a;Object.values(H).includes(i)&&(t[H[i]]=e[a].toString())}),{appInsights:N(t,!0),piwik:N(t,!1)}},ge=e=>{const t=(e==null?void 0:e.screenTitle)??(e==null?void 0:e.screenHeaderTitle);if(t)return decodeURIComponent(t)};var se={},z={},G={},re={},ae={};Object.defineProperty(ae,"__esModule",{value:!0});ae.encodeString=ft;const R=Array.from({length:256},(e,t)=>"%"+((t<16?"0":"")+t.toString(16)).toUpperCase()),ot=new Int8Array([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,1,1,1,1,0,0,1,1,0,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,0,1,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,1,0]);function ft(e){const t=e.length;if(t===0)return"";let a="",i=0,o=0;e:for(;o<t;o++){let s=e.charCodeAt(o);for(;s<128;){if(ot[s]!==1&&(i<o&&(a+=e.slice(i,o)),i=o+1,a+=R[s]),++o===t)break e;s=e.charCodeAt(o)}if(i<o&&(a+=e.slice(i,o)),s<2048){i=o+1,a+=R[192|s>>6]+R[128|s&63];continue}if(s<55296||s>=57344){i=o+1,a+=R[224|s>>12]+R[128|s>>6&63]+R[128|s&63];continue}if(++o,o>=t)throw new Error("URI malformed");const d=e.charCodeAt(o)&1023;i=o+1,s=65536+((s&1023)<<10|d),a+=R[240|s>>18]+R[128|s>>12&63]+R[128|s>>6&63]+R[128|s&63]}return i===0?e:i<t?a+e.slice(i):a}(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.defaultOptions=e.defaultShouldSerializeObject=e.defaultValueSerializer=void 0;const t=ae,a=s=>{switch(typeof s){case"string":return(0,t.encodeString)(s);case"bigint":case"boolean":return""+s;case"number":if(Number.isFinite(s))return s<1e21?""+s:(0,t.encodeString)(""+s);break}return s instanceof Date?(0,t.encodeString)(s.toISOString()):""};e.defaultValueSerializer=a;const i=s=>s instanceof Date;e.defaultShouldSerializeObject=i;const o=s=>s;e.defaultOptions={nesting:!0,nestingSyntax:"dot",arrayRepeat:!1,arrayRepeatSyntax:"repeat",delimiter:38,valueDeserializer:o,valueSerializer:e.defaultValueSerializer,keyDeserializer:o,shouldSerializeObject:e.defaultShouldSerializeObject}})(re);Object.defineProperty(G,"__esModule",{value:!0});G.getDeepObject=gt;G.stringifyObject=Ie;const U=re,lt=ae;function dt(e){return e==="__proto__"||e==="constructor"||e==="prototype"}function gt(e,t,a,i,o){if(dt(t))return e;const s=e[t];return typeof s=="object"&&s!==null?s:!i&&(o||typeof a=="number"||typeof a=="string"&&a*0===0&&a.indexOf(".")===-1)?e[t]=[]:e[t]={}}const yt=20,ht="[]",mt="[",bt="]",pt=".";function Ie(e,t,a=0,i,o){const{nestingSyntax:s=U.defaultOptions.nestingSyntax,arrayRepeat:d=U.defaultOptions.arrayRepeat,arrayRepeatSyntax:l=U.defaultOptions.arrayRepeatSyntax,nesting:m=U.defaultOptions.nesting,delimiter:p=U.defaultOptions.delimiter,valueSerializer:g=U.defaultOptions.valueSerializer,shouldSerializeObject:O=U.defaultOptions.shouldSerializeObject}=t,S=typeof p=="number"?String.fromCharCode(p):p,j=o===!0&&d,F=s==="dot"||s==="js"&&!o;if(a>yt)return"";let E="",C=!0,_=!1;for(const r in e){const n=e[r];if(n===void 0)continue;let c;i?(c=i,j?l==="bracket"&&(c+=ht):F?(c+=pt,c+=r):(c+=mt,c+=r,c+=bt)):c=r,C||(E+=S),typeof n=="object"&&n!==null&&!O(n)?(_=n.pop!==void 0,(m||d&&_)&&(E+=Ie(n,t,a+1,c,_))):(E+=(0,lt.encodeString)(c),E+="=",E+=g(n,r)),C&&(C=!1)}return E}var ye=12,Ot=0,ne=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,7,7,7,7,7,7,7,7,7,7,7,7,8,7,7,10,9,9,9,11,4,4,4,4,4,4,4,4,4,4,4,0,0,0,0,0,0,0,0,0,0,0,0,12,0,0,0,0,24,36,48,60,72,84,96,0,12,12,12,0,0,0,0,0,0,0,0,0,0,0,24,0,0,0,0,0,0,0,0,0,24,24,24,0,0,0,0,0,0,0,0,0,24,24,0,0,0,0,0,0,0,0,0,0,48,48,48,0,0,0,0,0,0,0,0,0,0,48,48,0,0,0,0,0,0,0,0,0,48,0,0,0,0,0,0,0,0,0,0,127,63,63,63,0,31,15,15,15,7,7,7];function Et(e){var t=e.indexOf("%");if(t===-1)return e;for(var a=e.length,i="",o=0,s=0,d=t,l=ye;t>-1&&t<a;){var m=he(e[t+1],4),p=he(e[t+2],0),g=m|p,O=ne[g];if(l=ne[256+l+O],s=s<<6|g&ne[364+O],l===ye)i+=e.slice(o,d),i+=s<=65535?String.fromCharCode(s):String.fromCharCode(55232+(s>>10),56320+(s&1023)),s=0,o=t+3,t=d=e.indexOf("%",o);else{if(l===Ot)return null;if(t+=3,t<a&&e.charCodeAt(t)===37)continue;return null}}return i+e.slice(o)}var _t={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,a:10,A:10,b:11,B:11,c:12,C:12,d:13,D:13,e:14,E:14,f:15,F:15};function he(e,t){var a=_t[e];return a===void 0?255:a<<t}var Ct=Et,It=$&&$.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(z,"__esModule",{value:!0});z.numberValueDeserializer=z.numberKeyDeserializer=void 0;z.parse=xt;const Y=G,M=re,ve=It(Ct),vt=e=>{const t=Number(e);return Number.isNaN(t)?e:t};z.numberKeyDeserializer=vt;const jt=e=>{const t=Number(e);return Number.isNaN(t)?e:t};z.numberValueDeserializer=jt;const je=/\+/g,xe=function(){};xe.prototype=Object.create(null);function k(e,t,a,i,o){let s=e.substring(t,a);return i&&(s=s.replace(je," ")),o&&(s=(0,ve.default)(s)||s),s}function xt(e,t){const{valueDeserializer:a=M.defaultOptions.valueDeserializer,keyDeserializer:i=M.defaultOptions.keyDeserializer,arrayRepeatSyntax:o=M.defaultOptions.arrayRepeatSyntax,nesting:s=M.defaultOptions.nesting,arrayRepeat:d=M.defaultOptions.arrayRepeat,nestingSyntax:l=M.defaultOptions.nestingSyntax,delimiter:m=M.defaultOptions.delimiter}=t??{},p=typeof m=="string"?m.charCodeAt(0):m,g=l==="js",O=new xe;if(typeof e!="string")return O;const S=e.length;let j="",F=-1,E=-1,C=-1,_=O,r,n="",c="",u=!1,f=!1,b=!1,h=!1,I=!1,A=!1,q=!1,T=0,L=-1,B=-1,ie=-1;for(let v=0;v<S+1;v++){if(T=v!==S?e.charCodeAt(v):p,T===p){if(q=E>F,q||(E=v),C!==E-1&&(c=k(e,C+1,L>-1?L:E,b,u),n=i(c),r!==void 0&&(_=(0,Y.getDeepObject)(_,r,n,g&&I,g&&A))),q||n!==""){q&&(j=e.slice(E+1,v),h&&(j=j.replace(je," ")),f&&(j=(0,ve.default)(j)||j));const w=a(j,n);if(d){const Q=_[n];Q===void 0?L>-1?_[n]=[w]:_[n]=w:Q.pop?Q.push(w):_[n]=[Q,w]}else _[n]=w}j="",F=v,E=v,u=!1,f=!1,b=!1,h=!1,I=!1,A=!1,L=-1,C=v,_=O,r=void 0,n=""}else T===93?(d&&o==="bracket"&&ie===91&&(L=B),s&&(l==="index"||g)&&E<=F&&(C!==B&&(c=k(e,C+1,v,b,u),n=i(c),r!==void 0&&(_=(0,Y.getDeepObject)(_,r,n,void 0,g)),r=n,b=!1,u=!1),C=v,A=!0,I=!1)):T===46?s&&(l==="dot"||g)&&E<=F&&(C!==B&&(c=k(e,C+1,v,b,u),n=i(c),r!==void 0&&(_=(0,Y.getDeepObject)(_,r,n,g)),r=n,b=!1,u=!1),I=!0,A=!1,C=v):T===91?s&&(l==="index"||g)&&E<=F&&(C!==B&&(c=k(e,C+1,v,b,u),n=i(c),g&&r!==void 0&&(_=(0,Y.getDeepObject)(_,r,n,g)),r=n,b=!1,u=!1,I=!1,A=!0),C=v):T===61?E<=F?E=v:f=!0:T===43?E>F?h=!0:b=!0:T===37&&(E>F?f=!0:u=!0);B=v,ie=T}return O}var ue={};Object.defineProperty(ue,"__esModule",{value:!0});ue.stringify=Rt;const Ft=G;function Rt(e,t){if(e===null||typeof e!="object")return"";const a=t??{};return(0,Ft.stringifyObject)(e,a)}(function(e){var t=$&&$.__createBinding||(Object.create?function(s,d,l,m){m===void 0&&(m=l);var p=Object.getOwnPropertyDescriptor(d,l);(!p||("get"in p?!d.__esModule:p.writable||p.configurable))&&(p={enumerable:!0,get:function(){return d[l]}}),Object.defineProperty(s,m,p)}:function(s,d,l,m){m===void 0&&(m=l),s[m]=d[l]}),a=$&&$.__exportStar||function(s,d){for(var l in s)l!=="default"&&!Object.prototype.hasOwnProperty.call(d,l)&&t(d,s,l)};Object.defineProperty(e,"__esModule",{value:!0}),e.stringify=e.parse=void 0;var i=z;Object.defineProperty(e,"parse",{enumerable:!0,get:function(){return i.parse}});var o=ue;Object.defineProperty(e,"stringify",{enumerable:!0,get:function(){return o.stringify}}),a(re,e)})(se);const St=e=>{if(!e)return"";const t={};return Object.keys(se.parse(e)).forEach(a=>{t[a]="___"}),`?${se.stringify(t)}`},Tt=e=>e?`#${e.split("/").map(()=>"___").join("/")}`:"",Nt=(e="")=>{const[t,a,...i]=e.split("#"),[o,s,...d]=t.split("?");if(i.length||d.length)return o;const l=St(s),m=Tt(a);return`${o}${l}${m}`},J="useTrackEvents.ts",At=(e,t,a,i,o,s)=>({ready:!!i,trackCustomEvent:(d,l,m,p=t,g=void 0)=>{i&&i.trackCustomEvent(p,l,{path:o,customDimensions:N(m),value:g,name:d}).catch(()=>{e(K.piwikTrackCustomEvent,J,{category:p,action:l,name:d,routeName:o,value:g})}),a.trackEvent({name:l,properties:{...N(m,!0),value:g,name:d,routeName:o,category:p}})},trackOutlink:(d,l)=>{const m=Nt(d);i&&i.trackOutlink(m,{...l,customDimensions:N({...l==null?void 0:l.customDimensions,[H.routeName]:o})}).catch(()=>{e(K.piwikTrackOutlink,J,{url:m})}),a.trackEvent({name:"outlink",properties:{...N(l==null?void 0:l.customDimensions,!0),url:m,routeName:o,category:t}})},trackScreen:d=>{const l=d??o;if(!l)return;const{appInsights:m,piwik:p}=it(s);i&&i.trackScreen(l,{title:ge(s),customDimensions:p}).catch(()=>{e(K.piwikTrackScreen,J,{path:d})}),a.trackPageView({name:l},{...m,title:ge(s)})},trackSearch:(d,l)=>{i&&i.trackSearch(d,{...l,customDimensions:N(l==null?void 0:l.customDimensions)}).catch(()=>{e(K.piwikTrackSearch,J)}),a.trackEvent({name:"search",properties:{...N(l==null?void 0:l.customDimensions,!0),keyword:d,routeName:o,category:t}})}});function Ut(e){if(!Number.isInteger(e))throw new Error("Parameter must be an integer number")}function X(e){e&&Object.entries(e).forEach(t=>{let[a,i]=t;const o=parseInt(a,10);if(a!==o.toString())throw new Error("ID (key) must be an integer");if(o<1)throw new Error("ID (key) must be an integer greater than 0")})}function P(e){e.forEach(t=>{let a=t.customDimensions;if(a){if(Object.keys(a).length>20)throw new Error("Max 20 product custom dimensions, 20 is max ID.");X(a)}})}function Mt(e){if(!/^[0-9a-f]{16}$/.test(e))throw new Error(`Visitor ID ${e} has invalid format. The format must match the regular expression: ^[0-9a-f]{16}$`)}const Vt="1.1.0",zt=`The package 'react-native-piwik-pro-sdk' doesn't seem to be linked. Make sure: 

`+Be.select({ios:`- You have run 'pod install'
`,default:""})+`- You rebuilt the app after installing the package
- You are not using Expo managed workflow
`,y=oe.PiwikProSdk?oe.PiwikProSdk:new Proxy({},{get(){throw new Error(zt)}});async function $t(e,t){return await y.init(e,t,Vt)}async function Lt(e,t){return x(t),await y.trackScreen(e,t)}async function Bt(e,t,a){return x(a),await y.trackCustomEvent(e,t,a)}async function wt(e,t){return x(t),await y.trackException(e,t)}async function Kt(e,t,a){return x(a),await y.trackSocialInteraction(e,t,a)}async function Wt(e,t){return x(t),await y.trackDownload(e,t)}async function Ht(){return await y.trackApplicationInstall()}async function Gt(e,t){return x(t),await y.trackOutlink(e,t)}async function Pt(e,t){return x(t),await y.trackSearch(e,t)}async function qt(e,t){return x(t),await y.trackImpression(e,t)}async function Qt(e,t,a){return x(a),await y.trackInteraction(e,t,a)}async function Yt(e,t){return x(t),await y.trackGoal(e,t)}async function kt(e,t,a){return await y.trackEcommerce(e,t,a)}async function Jt(e,t){return x(t),P(e),await y.trackEcommerceProductDetailView(e,t)}async function Xt(e,t,a){return x(a),P(e),await y.trackEcommerceCartUpdate(e,t,a)}async function Zt(e,t){return x(t),P(e),await y.trackEcommerceAddToCart(e,t)}async function Dt(e,t){return x(t),P(e),await y.trackEcommerceRemoveFromCart(e,t)}async function er(e,t,a,i){return x(i),P(a),await y.trackEcommerceOrder(e,t,a,i)}async function tr(e){return await y.trackCampaign(e)}async function rr(e){if(Array.isArray(e)){if(!e.length)throw new Error("Profile attributes cannot be an empty array");return await y.trackProfileAttributes(e)}return await y.trackProfileAttributes([e])}async function ar(){return await y.getProfileAttributes()}async function nr(e){return await y.checkAudienceMembership(e)}async function cr(e){return await y.setUserId(e)}async function sr(){return await y.getUserId()}async function ur(e){return await y.setUserEmail(e)}async function ir(){return await y.getUserEmail()}async function or(e){return Mt(e),await y.setVisitorId(e)}async function fr(){return await y.getVisitorId()}async function lr(e){return await y.setSessionTimeout(e)}async function dr(){return await y.getSessionTimeout()}async function gr(){return await y.startNewSession()}async function yr(){return await y.dispatch()}async function hr(e){return Ut(e),await y.setDispatchInterval(e)}async function mr(){return await y.getDispatchInterval()}async function br(e){return await y.setIncludeDefaultCustomVariables(e)}async function pr(){return await y.getIncludeDefaultCustomVariables()}async function Or(e){return await y.setAnonymizationState(e)}async function Er(){return await y.isAnonymizationOn()}async function _r(e){return await y.setOptOut(e)}async function Cr(e){return await y.setDryRun(e)}async function Ir(){return await y.getDryRun()}async function vr(){return await y.getOptOut()}async function jr(e){return await y.setPrefixing(e)}async function xr(){return await y.isPrefixingOn()}function x(e){X(e==null?void 0:e.customDimensions),X(e==null?void 0:e.visitCustomVariables),X(e==null?void 0:e.screenCustomVariables)}const W={init:$t,trackScreen:Lt,trackCustomEvent:Bt,trackException:wt,trackSocialInteraction:Kt,trackDownload:Wt,trackApplicationInstall:Ht,trackOutlink:Gt,trackSearch:Pt,trackImpression:qt,trackInteraction:Qt,trackGoal:Yt,trackEcommerce:kt,trackEcommerceProductDetailView:Jt,trackEcommerceCartUpdate:Xt,trackEcommerceAddToCart:Zt,trackEcommerceRemoveFromCart:Dt,trackEcommerceOrder:er,trackCampaign:tr,trackProfileAttributes:rr,getProfileAttributes:ar,checkAudienceMembership:nr,setUserId:cr,getUserId:sr,setUserEmail:ur,getUserEmail:ir,setVisitorId:or,getVisitorId:fr,setSessionTimeout:lr,getSessionTimeout:dr,startNewSession:gr,dispatch:yr,setDispatchInterval:hr,getDispatchInterval:mr,setIncludeDefaultCustomVariables:br,getIncludeDefaultCustomVariables:pr,setAnonymizationState:Or,isAnonymizationOn:Er,setOptOut:_r,getOptOut:vr,setDryRun:Cr,getDryRun:Ir,setPrefixing:jr,isPrefixingOn:xr},[me,be]=ze?[Fe,Re]:[Se,Te],Fr=async()=>!me||!be?Promise.reject(ee.missingEnvVars):(await W.init(me,be),await W.trackApplicationInstall(),await W.setIncludeDefaultCustomVariables(!0),Promise.resolve()),te=V.createContext(void 0),pe=({children:e})=>{const t=Oe(),[a,i]=V.useState();return V.useEffect(()=>{a===void 0&&Fr().then(()=>{i(W)}).catch(o=>{if(o.message===ee.alreadyInitialized){i(W);return}i(null),o.message!==ee.missingEnvVars&&t(K.piwikInitialization,"piwik.provider.tsx",{error:o})})},[a,t]),Le.jsx(te.Provider,{value:a,children:e})};try{te.displayName="PiwikContext",te.__docgenInfo={description:"The PiwikContext contains the object with all methods, to be used via the usePiwik hook only.",displayName:"PiwikContext",props:{}}}catch{}try{pe.displayName="PiwikProvider",pe.__docgenInfo={description:"",displayName:"PiwikProvider",props:{}}}catch{}const Rr=()=>{if(Z.isReady()){const e=Z.getRootState(),t=e==null?void 0:e.routes;if(t)for(let a=t.length-1;a>=0;a--){const i=Ne[t[a].name];if(i)return i}}},Sr=()=>{const e=V.useContext(te),t=Z.isReady()?Z.getCurrentRoute():void 0,a=Rr()??"general",i=Ae(),o=Oe();return V.useMemo(()=>At(o,a,i,e,t==null?void 0:t.name,t==null?void 0:t.params),[e,o,a,i,t==null?void 0:t.name,t==null?void 0:t.params])},Tr=e=>{const t=e.logName??e["logging-label"]??e.testID;return t||$e("No name found in props"),t},Br=({logAction:e,logCategory:t,logDimensions:a={},logValue:i,onEvent:o,testID:s,logName:d,"logging-label":l})=>{const{trackCustomEvent:m}=Sr();return V.useCallback((p,{nameSuffix:g,dimensions:O={},action:S=e}={})=>{o==null||o(p);const j=Tr({testID:s,logName:d,"logging-label":l});if(j){const F=g?`:${g}`:"";m(`${j}${F}`,S,{...a,...O},t,i)}},[e,t,a,d,i,o,l,s,m])};export{Ge as C,Pe as N,tt as P,Ce as V,Sr as a,H as b,D as c,Rr as g,se as m,Qe as q,We as r,Br as u};
