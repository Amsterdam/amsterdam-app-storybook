import{u as $,s as w,a as S,r as g,b as f,E,c as q,D as h,d as v,G as b,P as k,e as s,j as c}from"./iframe-CHKvvuAA.js";import{B as j}from"./Box-DFX4iW2V.js";import{S as C}from"./Switch-RJHTNvqz.js";import{C as L}from"./Column-1wU7ZTGX.js";import{R as A}from"./Row-H0a_LF87.js";import{I as B}from"./Icon-DFCBvrVD.js";import{P as G}from"./Phrase-DNYfE_wo.js";import{T as O}from"./Title-B_wL4CTk.js";import{u as y}from"./useTrackException-Qbg2YNDV.js";import{u as R}from"./useNavigation-DV8-D1o7.js";import{a as U}from"./accessibleText-gmNPjmn1.js";import"./preload-helper-Dp1pzeXC.js";import"./layoutStyles-DxZjUMWD.js";import"./useThemable-iX84CbSn.js";import"./index-DPIMtkhF.js";import"./index-CzpPVuqV.js";import"./PressableBase-DNimF3t2.js";import"./usePiwikTrackCustomEventFromProps-BnICbnCD.js";import"./FormField-Ukn4Wm6r.js";import"./HideFromAccessibility-Dc5nSIqo.js";import"./mapCrossAxisAlignment-DpnuLLqj.js";import"./mapMainAxisAlignment-BOa0GzUh.js";import"./index-CC8pzwy5.js";import"./types-CVDZqz9V.js";import"./useDeviceContext-DhwkWzYA.js";import"./AccessibleText-Dhk7Xs3w.js";const x=Object.freeze({UNAVAILABLE:"unavailable",BLOCKED:"blocked",DENIED:"denied",GRANTED:"granted",LIMITED:"limited"}),_=async()=>({status:x.UNAVAILABLE,settings:{}}),F={requestNotifications:_},M=F.requestNotifications,V=()=>({getToken:()=>Promise.resolve()}),W=async e=>(await M(["alert","badge","carPlay","sound"])).status,z=e=>{const t=$(w(e)),o=S(),n=y(),l=g.useCallback(()=>new Promise((r,u)=>{W().then(i=>{const a=i===x.GRANTED;o(f({permission:e,granted:a})),r(a)}).catch(i=>{o(f({permission:e,granted:!1})),n(E.updatePermission,"usePermission.ts",{error:i,permission:e,request:!0}),u(i)})}),[o,e,n]);return{hasPermission:t,requestPermission:l}},K=q.injectEndpoints({endpoints:e=>({[h.registerDevice]:e.mutation({query:t=>({body:{os:k.OS,...t},method:"POST",slug:b.notification,url:"/device/register",headers:v})}),[h.unregisterDevice]:e.mutation({query:()=>({method:"DELETE",slug:b.notification,url:"/device/register",headers:v})})}),overrideExisting:!0}),{useRegisterDeviceMutation:H,useUnregisterDeviceMutation:Q}=K,X=()=>{const[e]=H(),[t]=Q(),o=y(),{hasPermission:n,requestPermission:l}=z(s.notifications),r=g.useCallback(()=>{V().getToken().then(i=>{e({firebase_token:i})}).catch(i=>{o(E.registerDevice,"useRegisterDevice.ts",{error:i})})},[e,o]);return{registerDeviceIfPermitted:g.useCallback((i=!1)=>new Promise((a,ee)=>{i?l().then(p=>{p&&r(),a(p)}):(n&&r(),a(n))}),[l,r,n]),unregisterDevice:t}};var N=(e=>(e.permissionInstructions="PermissionInstructions",e))(N||{}),T=(e=>(e.bluetooth="bluetooth",e))(T||{});const J={[s.biometrics]:{iconName:"faceId",paragraph:"Ga naar Instellingen en geef de app toegang tot Face ID.",permission:s.biometrics,screenTitle:"Face ID",title:"Geef toegang tot Face ID"},[s.bluetooth]:{iconComponentName:T.bluetooth,paragraph:"Ga naar Instellingen en geef de app toegang tot bluetooth.",permission:s.bluetooth,screenTitle:"Bluetooth delen",title:"Geef toegang tot bluetooth"},[s.location]:{iconName:"location",paragraph:"Ga naar Instellingen en geef de app toegang tot uw locatie.",permission:s.location,screenTitle:"Locatie delen",title:"Geef uw locatie door"},[s.notifications]:{iconName:"bellOff",paragraph:"Ga naar Instellingen en zet de meldingen aan.",permission:s.notifications,screenTitle:"Pushmeldingen",title:"U ontvangt geen pushmeldingen"}},Y=e=>{const{navigate:t}=R();return g.useCallback(()=>t(N.permissionInstructions,J[e]),[t,e])},Z=({children:e})=>c.jsx(j,{borderColor:"default",borderStyle:"solid",borderWidth:"md",grow:!0,children:e}),d=({description:e,value:t,testID:o,onChange:n,disabled:l})=>{const r=Y(s.notifications),{registerDeviceIfPermitted:u}=X(),i=g.useCallback(()=>{t?n(!1):u(!0).then(a=>{a?n(!0):r()})},[n,t,u,r]);return c.jsx(C,{accessibilityLabel:`"${U(e)}" staat ${t?"aan":"uit"}`,disabled:l,label:c.jsxs(L,{grow:1,gutter:"sm",children:[c.jsxs(A,{gutter:"sm",children:[c.jsx(B,{name:"bell",size:"lg",testID:`${o}Icon`}),c.jsx(O,{level:"h5",text:"Meldingen"})]}),c.jsx(G,{children:e})]}),onChange:i,testID:`${o}Switch`,value:t,wrapper:Z})};try{d.displayName="NotificationToggleBox",d.__docgenInfo={description:"",displayName:"NotificationToggleBox",props:{description:{defaultValue:null,description:"",name:"description",required:!0,type:{name:"string"}},disabled:{defaultValue:null,description:"",name:"disabled",required:!1,type:{name:"boolean"}},onChange:{defaultValue:null,description:"",name:"onChange",required:!0,type:{name:"(value: boolean) => void"}},testID:{defaultValue:null,description:"",name:"testID",required:!0,type:{name:"`${string}Button` | `${string}Alert` | `${string}Icon` | `${string}Label` | `${string}Value` | `${string}Subtitle` | `${string}ProgressStep` | `${string}Preview` | `${string}OpenImagePicker` | `${string}Sections` | `${string}Entry` | `${string}FullScreenError` | `${string}Screen` | `${string}Field` | `${string}Fract..."}},value:{defaultValue:null,description:"",name:"value",required:!0,type:{name:"boolean"}}}}}catch{}const $e={argTypes:{onChange:{action:"onChange"}},component:d},m={args:{description:"U ontvangt meldingen over ophaaldagen voor ‘Mijn adres’."},parameters:{design:{type:"figma",url:"https://www.figma.com/design/BEitX3UOKyDPzW84UnmELq/Pushmeldingen?node-id=4799-2156&t=3FbaNkEPQHO2MWPe-4"}}};var P,D,I;m.parameters={...m.parameters,docs:{...(P=m.parameters)==null?void 0:P.docs,source:{originalSource:`{
  args: {
    description: 'U ontvangt meldingen over ophaaldagen voor ‘Mijn adres’.'
  },
  parameters: {
    design: {
      type: 'figma',
      url: 'https://www.figma.com/design/BEitX3UOKyDPzW84UnmELq/Pushmeldingen?node-id=4799-2156&t=3FbaNkEPQHO2MWPe-4'
    }
  }
}`,...(I=(D=m.parameters)==null?void 0:D.docs)==null?void 0:I.source}}};const we=["Default"];export{m as Default,we as __namedExportsOrder,$e as default};
