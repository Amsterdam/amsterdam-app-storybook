import"./index-4ab02870.js";import{P as a,i as w,N as u}from"./invariant-ee4e8dd1.js";import{a as b}from"./_commonjsHelpers-de833af9.js";class A{constructor(){this._registry={}}addListener(e,n,r){var i=R(this._registry,e),o={context:r,listener:n,remove(){i.delete(o)}};return i.add(o),o}emit(e){var n=this._registry[e];if(n!=null){for(var r=arguments.length,i=new Array(r>1?r-1:0),o=1;o<r;o++)i[o-1]=arguments[o];for(var s=0,p=[...n];s<p.length;s++){var h=p[s];h.listener.apply(h.context,i)}}}removeAllListeners(e){e==null?this._registry={}:delete this._registry[e]}listenerCount(e){var n=this._registry[e];return n==null?0:n.size}}function R(t,e){var n=t[e];return n==null&&(n=new Set,t[e]=n),n}const c=new A;class m{constructor(e){a.OS==="ios"&&(w(e!=null,"`new NativeEventEmitter()` requires a non-null argument."),this._nativeModule=e)}addListener(e,n,r){var i;(i=this._nativeModule)==null||i.addListener(e);var o=c.addListener(e,n,r);return{remove:()=>{if(o!=null){var s;(s=this._nativeModule)==null||s.removeListeners(1),o.remove(),o=null}}}}removeListener(e,n){var r;(r=this._nativeModule)==null||r.removeListeners(1),c.removeListener(e,n)}emit(e){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];c.emit(e,...r)}removeAllListeners(e){var n;w(e!=null,"`NativeEventEmitter.removeAllListener()` requires a non-null argument."),(n=this._nativeModule)==null||n.removeListeners(this.listenerCount(e)),c.removeAllListeners(e)}listenerCount(e){return c.listenerCount(e)}}new m(u.RNDeviceInfo);const g=new m(u.RNDeviceInfo);let v=!1,S=-1,l={};const f=t=>{const{level:e,charging:n,chargingtime:r,dischargingtime:i}=t;return{batteryLevel:e,lowPowerMode:!1,batteryState:e===1?"full":n?"charging":"unplugged",chargingtime:r,dischargingtime:i}},L=()=>window.performance&&window.performance.memory?window.performance.memory.jsHeapSizeLimit:-1,M=()=>document.referrer,D=()=>!!navigator.onLine,P=()=>window.navigator.userAgent,C=()=>!!navigator.geolocation,I=()=>navigator.deviceMemory?navigator.deviceMemory*1e9:-1,E=()=>window.performance&&window.performance.memory?window.performance.memory.usedJSHeapSize:-1,B=()=>{typeof navigator>"u"||!navigator.getBattery||navigator.getBattery().then(t=>{v=t.charging,t.addEventListener("chargingchange",()=>{const{charging:e}=t;v=e,l=f(t),g.emit("RNDeviceInfo_powerStateDidChange",l)}),t.addEventListener("levelchange",()=>{const{level:e}=t;S=e,l=f(t),g.emit("RNDeviceInfo_batteryLevelDidChange",e),e<.2&&g.emit("RNDeviceInfo_batteryLevelIsLow",e)})})},x=()=>{const t=window.navigator.userAgent,e=window.navigator.platform,n=["Macintosh","MacIntel","MacPPC","Mac68K"],r=["Win32","Win64","Windows","WinCE"],i=["iPhone","iPad","iPod"];let o=e;return n.indexOf(e)!==-1?o="Mac OS":i.indexOf(e)!==-1?o="iOS":r.indexOf(e)!==-1?o="Windows":/Android/.test(t)?o="Android":!o&&/Linux/.test(e)&&(o="Linux"),o};B();const _=async()=>M(),q=async()=>P(),F=async()=>navigator.getBattery?navigator.getBattery().then(t=>t.charging):!1,T=()=>v,k=async()=>navigator.mediaDevices&&navigator.mediaDevices.enumerateDevices?navigator.mediaDevices.enumerateDevices().then(t=>!!t.find(e=>e.kind==="videoinput")):!1,U=()=>(console.log("[react-native-device-info] isCameraPresentSync not supported - please use isCameraPresent"),!1),W=async()=>navigator.getBattery?navigator.getBattery().then(t=>t.level):-1,$=()=>S,j=async()=>C(),z=async()=>D(),H=async()=>x(),V=async()=>navigator.storage&&navigator.storage.estimate?navigator.storage.estimate().then(({quota:t})=>t):-1,G=()=>(console.log("[react-native-device-info] getTotalDiskCapacitySync not supported - please use getTotalDiskCapacity"),-1),J=async()=>navigator.storage&&navigator.storage.estimate?navigator.storage.estimate().then(({quota:t,usage:e})=>t-e):-1,X=()=>(console.log("[react-native-device-info] getFreeDiskStorageSync not supported - please use getFreeDiskStorage"),-1),Y=async()=>L(),Q=async()=>E(),Z=async()=>I(),K=async()=>navigator.getBattery?navigator.getBattery().then(t=>f(t)):{},ee=()=>l,te=Object.freeze(Object.defineProperty({__proto__:null,getBaseOs:H,getBatteryLevel:W,getBatteryLevelSync:$,getFreeDiskStorage:J,getFreeDiskStorageSync:X,getInstallReferrer:_,getInstallReferrerSync:M,getMaxMemory:Y,getMaxMemorySync:L,getPowerState:K,getPowerStateSync:ee,getTotalDiskCapacity:V,getTotalDiskCapacitySync:G,getTotalMemory:Z,getTotalMemorySync:I,getUsedMemory:Q,getUsedMemorySync:E,getUserAgent:q,getUserAgentSync:P,isAirplaneMode:z,isAirplaneModeSync:D,isBatteryCharging:F,isBatteryChargingSync:T,isCameraPresent:k,isCameraPresentSync:U,isLocationEnabled:j,isLocationEnabledSync:C},Symbol.toStringTag,{value:"Module"})),ne=b(te);let y=u.RNDeviceInfo;(a.OS==="web"||a.OS==="dom")&&(y=ne);if(!y&&(a.OS==="android"||a.OS==="ios"||a.OS==="web"||a.OS==="dom"))throw new Error("react-native-device-info: NativeModule.RNDeviceInfo is null. To fix this issue try these steps:\n  • For react-native <= 0.59: Run `react-native link react-native-device-info` in the project root.\n  • Rebuild and re-run the app.\n  • If you are using CocoaPods on iOS, run `pod install` in the `ios` directory and then rebuild and re-run the app. You may also need to re-open Xcode to get the new pods.\n  If none of these fix the issue, please open an issue on the Github repository: https://github.com/react-native-device-info/react-native-device-info");const N=y;let d={};function re(t,e,n){let r={};return t.filter(i=>a.OS==i).forEach(i=>r[i]=e),a.select({...r,default:n})}function O({getter:t,supportedPlatforms:e,defaultValue:n,memoKey:r}){if(r&&d[r]!=null)return d[r];{const i=re(e,t,()=>n)();return r&&(d[r]=i),i}}const se=()=>O({defaultValue:"unknown",memoKey:"uniqueId",supportedPlatforms:["android","ios","windows"],getter:()=>N.uniqueId}),ce=()=>O({defaultValue:!1,supportedPlatforms:["android","ios","windows"],memoKey:"tablet",getter:()=>N.isTablet});new m(u.RNDeviceInfo);export{A as E,m as N,c as R,se as g,ce as i};
//# sourceMappingURL=index-3ef41323.js.map
