import{r as u}from"./index-e67e0a49.js";import{e as Ke,f as _e,g as He,h as $e,k as Be,m as Ie,t as je,s as qe,y as Ae,l as Ge,n as Ve,i as We,p as Je,q as Qe,o as Ue,r as Xe,S as Ye,v as Ze}from"./useThemable-2475a59d.js";import{T as S}from"./Animated-efd8ed75.js";var Ne=(e,l)=>{var i=e.selectionEnd,f=e.selectionStart,C=l.start,y=l.end;return C!==f||y!==i},J=(e,l)=>{if(Ne(e,l)){var i=l.start,f=l.end;try{e.setSelectionRange(i,f||i)}catch{}}},et=Object.assign({},Ke,_e,He,$e,Be,Ie,je,qe,{autoCapitalize:!0,autoComplete:!0,autoCorrect:!0,autoFocus:!0,defaultValue:!0,disabled:!0,lang:!0,maxLength:!0,onChange:!0,onScroll:!0,placeholder:!0,pointerEvents:!0,readOnly:!0,rows:!0,spellCheck:!0,value:!0,type:!0}),tt=e=>Ze(e,et);function nt(e){return e.isComposing||e.keyCode===229}var k=null,O=u.forwardRef((e,l)=>{var i=e.autoCapitalize,f=i===void 0?"sentences":i,C=e.autoComplete,y=e.autoCompleteType,P=e.autoCorrect,F=P===void 0?!0:P,g=e.blurOnSubmit,Q=e.caretHidden,U=e.clearTextOnFocus,M=e.dir,X=e.editable,Y=e.enterKeyHint,d=e.inputMode,z=e.keyboardType,L=e.multiline,c=L===void 0?!1:L,Z=e.numberOfLines,D=e.onBlur,K=e.onChange,_=e.onChangeText,p=e.onContentSizeChange,H=e.onFocus,$=e.onKeyPress,N=e.onLayout,ee=e.onMoveShouldSetResponder,te=e.onMoveShouldSetResponderCapture,ne=e.onResponderEnd,re=e.onResponderGrant,ae=e.onResponderMove,oe=e.onResponderReject,le=e.onResponderRelease,ue=e.onResponderStart,ie=e.onResponderTerminate,ce=e.onResponderTerminationRequest,se=e.onScrollShouldSetResponder,de=e.onScrollShouldSetResponderCapture,B=e.onSelectionChange,ve=e.onSelectionChangeShouldSetResponder,fe=e.onSelectionChangeShouldSetResponderCapture,he=e.onStartShouldSetResponder,Se=e.onStartShouldSetResponderCapture,I=e.onSubmitEditing,Ce=e.placeholderTextColor,j=e.readOnly,me=j===void 0?!1:j,Re=e.returnKeyType,q=e.rows,A=e.secureTextEntry,m=A===void 0?!1:A,x=e.selection,ye=e.selectTextOnFocus,G=e.spellCheck,a,R;if(d!=null)R=d,d==="email"?a="email":d==="tel"?a="tel":d==="search"?a="search":d==="url"?a="url":a="text";else if(z!=null)switch(z){case"email-address":a="email";break;case"number-pad":case"numeric":R="numeric";break;case"decimal-pad":R="decimal";break;case"phone-pad":a="tel";break;case"search":case"web-search":a="search";break;case"url":a="url";break;default:a="text"}m&&(a="password");var v=u.useRef({height:null,width:null}),s=u.useRef(null),b=u.useRef(null),V=u.useRef(!1);u.useEffect(()=>{s.current&&b.current&&J(s.current,b.current),V.current=m},[m]);var T=u.useCallback(t=>{if(c&&p&&t!=null){var r=t.scrollHeight,o=t.scrollWidth;(r!==v.current.height||o!==v.current.width)&&(v.current.height=r,v.current.width=o,p({nativeEvent:{contentSize:{height:v.current.height,width:v.current.width}}}))}},[c,p]),ge=u.useMemo(()=>t=>{t!=null&&(t.clear=function(){t!=null&&(t.value="")},t.isFocused=function(){return t!=null&&S.currentlyFocusedField()===t},T(t))},[T]);function pe(t){S._currentlyFocusedNode=null,D&&(t.nativeEvent.text=t.target.value,D(t))}function xe(t){var r=t.target,o=r.value;t.nativeEvent.text=o,T(r),K&&K(t),_&&_(o)}function be(t){var r=t.target;H&&(t.nativeEvent.text=r.value,H(t)),r!=null&&(S._currentlyFocusedNode=r,U&&(r.value=""),ye&&(k!=null&&clearTimeout(k),k=setTimeout(()=>{r!=null&&r.select()},0)))}function Te(t){var r=t.target;t.stopPropagation();var o=!c,E=g??o,h=t.nativeEvent,W=nt(h);$&&$(t),t.key==="Enter"&&!t.shiftKey&&!W&&!t.isDefaultPrevented()&&((g||!c)&&I&&(t.preventDefault(),h.text=t.target.value,I(t)),E&&r!=null&&setTimeout(()=>r.blur(),0))}function Ee(t){try{var r=t.target,o=r.selectionStart,E=r.selectionEnd,h={start:o,end:E};B&&(t.nativeEvent.selection=h,t.nativeEvent.text=t.target.value,B(t)),V.current===m&&(b.current=h)}catch{}}Ae(()=>{var t=s.current;t!=null&&x!=null&&J(t,x),document.activeElement===t&&(S._currentlyFocusedNode=t)},[s,x]);var ke=c?"textarea":"input";Ge(s,N),Ve(s,{onMoveShouldSetResponder:ee,onMoveShouldSetResponderCapture:te,onResponderEnd:ne,onResponderGrant:re,onResponderMove:ae,onResponderReject:oe,onResponderRelease:le,onResponderStart:ue,onResponderTerminate:ie,onResponderTerminationRequest:ce,onScrollShouldSetResponder:se,onScrollShouldSetResponderCapture:de,onSelectionChangeShouldSetResponder:ve,onSelectionChangeShouldSetResponderCapture:fe,onStartShouldSetResponder:he,onStartShouldSetResponderCapture:Se});var we=We(),Oe=we.direction,n=tt(e);n.autoCapitalize=f,n.autoComplete=C||y||"on",n.autoCorrect=F?"on":"off",n.dir=M!==void 0?M:"auto",n.enterKeyHint=Y||Re,n.inputMode=R,n.onBlur=pe,n.onChange=xe,n.onFocus=be,n.onKeyDown=Te,n.onSelect=Ee,n.readOnly=me===!0||X===!1,n.rows=c?q??Z:1,n.spellCheck=G??F,n.style=[{"--placeholderTextColor":Ce},w.textinput$raw,w.placeholder,e.style,Q&&w.caretHidden],n.type=c?void 0:a;var Pe=Je(n),Fe=Qe(s,Pe,ge,l);n.ref=Fe;var Me=e.lang!=null?Ue(e.lang):null,ze=e.dir||Me,Le=ze||Oe,De=Xe(ke,n,{writingDirection:Le});return De});O.displayName="TextInput";O.State=S;var w=Ye.create({textinput$raw:{MozAppearance:"textfield",WebkitAppearance:"none",backgroundColor:"transparent",border:"0 solid black",borderRadius:0,boxSizing:"border-box",font:"14px System",margin:0,padding:0,resize:"none"},placeholder:{placeholderTextColor:"var(--placeholderTextColor)"},caretHidden:{caretColor:"transparent"}});const lt=O;export{lt as T};
//# sourceMappingURL=index-b6e46b99.js.map
