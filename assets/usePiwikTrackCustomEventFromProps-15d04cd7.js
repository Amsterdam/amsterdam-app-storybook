import{r as v}from"./index-76fb7be0.js";import{c as N}from"./_commonjsHelpers-de833af9.js";import"./index-e8e5dbb3.js";import{a as C,P as be,c as Oe,d as Ne,f as Pe,u as _e,M as Ie,h as Ce}from"./useTrackException-60532a2b.js";import{e as Ae,a as ye,c as Le}from"./development-6fd8b346.js";import{b as De,c as Fe}from"./index-ee304789.js";import{a as Me}from"./index-ec9b8831.js";import{j as je}from"./jsx-runtime-ffb262ed.js";import{P as xe,N as J}from"./index-115efad7.js";var ee="DELAY",b="ERROR",te="LONG_PRESS_DETECTED",T="NOT_RESPONDER",P="RESPONDER_ACTIVE_LONG_PRESS_START",z="RESPONDER_ACTIVE_PRESS_START",K="RESPONDER_INACTIVE_PRESS_START",Ve="RESPONDER_GRANT",j="RESPONDER_RELEASE",Re="RESPONDER_TERMINATED",re=Object.freeze({NOT_RESPONDER:{DELAY:b,RESPONDER_GRANT:K,RESPONDER_RELEASE:b,RESPONDER_TERMINATED:b,LONG_PRESS_DETECTED:b},RESPONDER_INACTIVE_PRESS_START:{DELAY:z,RESPONDER_GRANT:b,RESPONDER_RELEASE:T,RESPONDER_TERMINATED:T,LONG_PRESS_DETECTED:b},RESPONDER_ACTIVE_PRESS_START:{DELAY:b,RESPONDER_GRANT:b,RESPONDER_RELEASE:T,RESPONDER_TERMINATED:T,LONG_PRESS_DETECTED:P},RESPONDER_ACTIVE_LONG_PRESS_START:{DELAY:b,RESPONDER_GRANT:b,RESPONDER_RELEASE:T,RESPONDER_TERMINATED:T,LONG_PRESS_DETECTED:P},ERROR:{DELAY:T,RESPONDER_GRANT:K,RESPONDER_RELEASE:T,RESPONDER_TERMINATED:T,LONG_PRESS_DETECTED:T}}),me=e=>e.getAttribute("role"),W=e=>e.tagName.toLowerCase(),ae=e=>e===z||e===P,x=e=>me(e)==="button",ne=e=>e===K||e===z||e===P,Ue=e=>e===Re||e===j,ce=e=>{var t=e.key,r=e.target,c=t===" "||t==="Spacebar",a=W(r)==="button"||x(r);return t==="Enter"||c&&a},$e=450,Ge=50;class we{constructor(t){this._eventHandlers=null,this._isPointerTouch=!1,this._longPressDelayTimeout=null,this._longPressDispatched=!1,this._pressDelayTimeout=null,this._pressOutDelayTimeout=null,this._touchState=T,this.configure(t)}configure(t){this._config=t}reset(){this._cancelLongPressDelayTimeout(),this._cancelPressDelayTimeout(),this._cancelPressOutDelayTimeout()}getEventHandlers(){return this._eventHandlers==null&&(this._eventHandlers=this._createEventHandlers()),this._eventHandlers}_createEventHandlers(){var t=(a,i)=>{a.persist(),this._cancelPressOutDelayTimeout(),this._longPressDispatched=!1,this._selectionTerminated=!1,this._touchState=T,this._isPointerTouch=a.nativeEvent.type==="touchstart",this._receiveSignal(Ve,a);var d=Y(this._config.delayPressStart,0,Ge);i!==!1&&d>0?this._pressDelayTimeout=setTimeout(()=>{this._receiveSignal(ee,a)},d):this._receiveSignal(ee,a);var f=Y(this._config.delayLongPress,10,$e);this._longPressDelayTimeout=setTimeout(()=>{this._handleLongPress(a)},f+d)},r=a=>{this._receiveSignal(j,a)},c=a=>{var i=this._config.onPress,d=a.target;if(this._touchState!==T&&ce(a)){r(a),document.removeEventListener("keyup",c);var f=d.getAttribute("role"),_=W(d),R=f==="link"||_==="a"||_==="button"||_==="input"||_==="select"||_==="textarea";i!=null&&!R&&i(a)}};return{onStartShouldSetResponder:a=>{var i=this._config.disabled;return i&&x(a.currentTarget)&&a.stopPropagation(),i==null?!0:!i},onKeyDown:a=>{var i=this._config.disabled,d=a.key,f=a.target;if(!i&&ce(a)){this._touchState===T&&(t(a,!1),document.addEventListener("keyup",c));var _=d===" "||d==="Spacebar",R=me(f),E=R==="button"||R==="menuitem";_&&E&&W(f)!=="button"&&a.preventDefault(),a.stopPropagation()}},onResponderGrant:a=>t(a),onResponderMove:a=>{this._config.onPressMove!=null&&this._config.onPressMove(a);var i=se(a);if(this._touchActivatePosition!=null){var d=this._touchActivatePosition.pageX-i.pageX,f=this._touchActivatePosition.pageY-i.pageY;Math.hypot(d,f)>10&&this._cancelLongPressDelayTimeout()}},onResponderRelease:a=>r(a),onResponderTerminate:a=>{a.nativeEvent.type==="selectionchange"&&(this._selectionTerminated=!0),this._receiveSignal(Re,a)},onResponderTerminationRequest:a=>{var i=this._config,d=i.cancelable,f=i.disabled,_=i.onLongPress;return!f&&_!=null&&this._isPointerTouch&&a.nativeEvent.type==="contextmenu"?!1:d??!0},onClick:a=>{var i=this._config,d=i.disabled,f=i.onPress;d?x(a.currentTarget)&&a.stopPropagation():(a.stopPropagation(),this._longPressDispatched||this._selectionTerminated?a.preventDefault():f!=null&&a.altKey===!1&&f(a))},onContextMenu:a=>{var i=this._config,d=i.disabled,f=i.onLongPress;d?x(a.currentTarget)&&a.stopPropagation():f!=null&&this._isPointerTouch&&!a.defaultPrevented&&(a.preventDefault(),a.stopPropagation())}}}_receiveSignal(t,r){var c=this._touchState,a=null;re[c]!=null&&(a=re[c][t]),!(this._touchState===T&&t===j)&&(a==null||a===b?console.error("PressResponder: Invalid signal "+t+" for state "+c+" on responder"):c!==a&&(this._performTransitionSideEffects(c,a,t,r),this._touchState=a))}_performTransitionSideEffects(t,r,c,a){if(Ue(c)&&(setTimeout(()=>{this._isPointerTouch=!1},0),this._touchActivatePosition=null,this._cancelLongPressDelayTimeout()),ne(t)&&c===te){var i=this._config.onLongPress;i!=null&&a.nativeEvent.key==null&&(i(a),this._longPressDispatched=!0)}var d=ae(t),f=ae(r);if(!d&&f?this._activate(a):d&&!f&&this._deactivate(a),ne(t)&&c===j){var _=this._config,R=_.onLongPress,E=_.onPress;if(E!=null){var m=R!=null&&t===P;m||!f&&!d&&(this._activate(a),this._deactivate(a))}}this._cancelPressDelayTimeout()}_activate(t){var r=this._config,c=r.onPressChange,a=r.onPressStart,i=se(t);this._touchActivatePosition={pageX:i.pageX,pageY:i.pageY},a!=null&&a(t),c!=null&&c(!0)}_deactivate(t){var r=this._config,c=r.onPressChange,a=r.onPressEnd;function i(){a!=null&&a(t),c!=null&&c(!1)}var d=Y(this._config.delayPressEnd);d>0?this._pressOutDelayTimeout=setTimeout(()=>{i()},d):i()}_handleLongPress(t){(this._touchState===z||this._touchState===P)&&this._receiveSignal(te,t)}_cancelLongPressDelayTimeout(){this._longPressDelayTimeout!=null&&(clearTimeout(this._longPressDelayTimeout),this._longPressDelayTimeout=null)}_cancelPressDelayTimeout(){this._pressDelayTimeout!=null&&(clearTimeout(this._pressDelayTimeout),this._pressDelayTimeout=null)}_cancelPressOutDelayTimeout(){this._pressOutDelayTimeout!=null&&(clearTimeout(this._pressOutDelayTimeout),this._pressOutDelayTimeout=null)}}function Y(e,t,r){return t===void 0&&(t=0),r===void 0&&(r=0),Math.max(t,e??r)}function se(e){var t=e.nativeEvent,r=t.changedTouches,c=t.touches;return c!=null&&c.length>0?c[0]:r!=null&&r.length>0?r[0]:e.nativeEvent}function Ir(e,t){var r=v.useRef(null);r.current==null&&(r.current=new we(t));var c=r.current;return v.useEffect(()=>{c.configure(t)},[t,c]),v.useEffect(()=>()=>{c.reset()},[c]),v.useDebugValue(t),c.getEventHandlers()}function ze(){return{type:"GO_BACK"}}function Be(){if(typeof(arguments.length<=0?void 0:arguments[0])=="string")return{type:"NAVIGATE",payload:{name:arguments.length<=0?void 0:arguments[0],params:arguments.length<=1?void 0:arguments[1]}};{const e=(arguments.length<=0?void 0:arguments[0])||{};if(!e.hasOwnProperty("key")&&!e.hasOwnProperty("name"))throw new Error("You need to specify name or key when calling navigate with an object as the argument. See https://reactnavigation.org/docs/navigation-actions#navigate for usage.");return{type:"NAVIGATE",payload:e}}}function He(e){return{type:"RESET",payload:e}}function Ye(e){return{type:"SET_PARAMS",payload:{params:e}}}const Ke=Object.freeze(Object.defineProperty({__proto__:null,goBack:ze,navigate:Be,reset:He,setParams:Ye},Symbol.toStringTag,{value:"Module"})),We="The 'navigation' object hasn't been initialized yet. This might happen if you don't have a navigator mounted, or if the navigator hasn't finished mounting. See https://reactnavigation.org/docs/navigating-without-navigation-prop#handling-initialization for more details.";function qe(){const e=[...Object.keys(Ke),"addListener","removeListener","resetRoot","dispatch","isFocused","canGoBack","getRootState","getState","getParent","getCurrentRoute","getCurrentOptions"],t={},r=(i,d)=>{t[i]&&(t[i]=t[i].filter(f=>f!==d))};let c=null;return{get current(){return c},set current(i){c=i,i!=null&&Object.entries(t).forEach(d=>{let[f,_]=d;_.forEach(R=>{i.addListener(f,R)})})},isReady:()=>c==null?!1:c.isReady(),...e.reduce((i,d)=>(i[d]=function(){for(var f=arguments.length,_=new Array(f),R=0;R<f;R++)_[R]=arguments[R];if(c==null)switch(d){case"addListener":{const[E,m]=_;return t[E]=t[E]||[],t[E].push(m),()=>r(E,m)}case"removeListener":{const[E,m]=_;r(E,m);break}default:console.error(We)}else return c[d](..._)},i),{})}}var Qe={},Xe=e=>encodeURIComponent(e).replace(/[!'()*]/g,t=>`%${t.charCodeAt(0).toString(16).toUpperCase()}`),Te="%[a-f0-9]{2}",ue=new RegExp("("+Te+")|([^%]+?)","gi"),oe=new RegExp("("+Te+")+","gi");function q(e,t){try{return[decodeURIComponent(e.join(""))]}catch{}if(e.length===1)return e;t=t||1;var r=e.slice(0,t),c=e.slice(t);return Array.prototype.concat.call([],q(r),q(c))}function ke(e){try{return decodeURIComponent(e)}catch{for(var t=e.match(ue)||[],r=1;r<t.length;r++)e=q(t,r).join(""),t=e.match(ue)||[];return e}}function Ze(e){for(var t={"%FE%FF":"��","%FF%FE":"��"},r=oe.exec(e);r;){try{t[r[0]]=decodeURIComponent(r[0])}catch{var c=ke(r[0]);c!==r[0]&&(t[r[0]]=c)}r=oe.exec(e)}t["%C2"]="�";for(var a=Object.keys(t),i=0;i<a.length;i++){var d=a[i];e=e.replace(new RegExp(d,"g"),t[d])}return e}var Je=function(e){if(typeof e!="string")throw new TypeError("Expected `encodedURI` to be of type `string`, got `"+typeof e+"`");try{return e=e.replace(/\+/g," "),decodeURIComponent(e)}catch{return Ze(e)}},et=(e,t)=>{if(!(typeof e=="string"&&typeof t=="string"))throw new TypeError("Expected the arguments to be of type `string`");if(t==="")return[e];const r=e.indexOf(t);return r===-1?[e]:[e.slice(0,r),e.slice(r+t.length)]},tt=function(e,t){for(var r={},c=Object.keys(e),a=Array.isArray(t),i=0;i<c.length;i++){var d=c[i],f=e[d];(a?t.indexOf(d)!==-1:t(d,f,e))&&(r[d]=f)}return r};(function(e){const t=Xe,r=Je,c=et,a=tt,i=n=>n==null,d=Symbol("encodeFragmentIdentifier");function f(n){switch(n.arrayFormat){case"index":return s=>(o,u)=>{const l=o.length;return u===void 0||n.skipNull&&u===null||n.skipEmptyString&&u===""?o:u===null?[...o,[E(s,n),"[",l,"]"].join("")]:[...o,[E(s,n),"[",E(l,n),"]=",E(u,n)].join("")]};case"bracket":return s=>(o,u)=>u===void 0||n.skipNull&&u===null||n.skipEmptyString&&u===""?o:u===null?[...o,[E(s,n),"[]"].join("")]:[...o,[E(s,n),"[]=",E(u,n)].join("")];case"colon-list-separator":return s=>(o,u)=>u===void 0||n.skipNull&&u===null||n.skipEmptyString&&u===""?o:u===null?[...o,[E(s,n),":list="].join("")]:[...o,[E(s,n),":list=",E(u,n)].join("")];case"comma":case"separator":case"bracket-separator":{const s=n.arrayFormat==="bracket-separator"?"[]=":"=";return o=>(u,l)=>l===void 0||n.skipNull&&l===null||n.skipEmptyString&&l===""?u:(l=l===null?"":l,u.length===0?[[E(o,n),s,E(l,n)].join("")]:[[u,E(l,n)].join(n.arrayFormatSeparator)])}default:return s=>(o,u)=>u===void 0||n.skipNull&&u===null||n.skipEmptyString&&u===""?o:u===null?[...o,E(s,n)]:[...o,[E(s,n),"=",E(u,n)].join("")]}}function _(n){let s;switch(n.arrayFormat){case"index":return(o,u,l)=>{if(s=/\[(\d*)\]$/.exec(o),o=o.replace(/\[\d*\]$/,""),!s){l[o]=u;return}l[o]===void 0&&(l[o]={}),l[o][s[1]]=u};case"bracket":return(o,u,l)=>{if(s=/(\[\])$/.exec(o),o=o.replace(/\[\]$/,""),!s){l[o]=u;return}if(l[o]===void 0){l[o]=[u];return}l[o]=[].concat(l[o],u)};case"colon-list-separator":return(o,u,l)=>{if(s=/(:list)$/.exec(o),o=o.replace(/:list$/,""),!s){l[o]=u;return}if(l[o]===void 0){l[o]=[u];return}l[o]=[].concat(l[o],u)};case"comma":case"separator":return(o,u,l)=>{const y=typeof u=="string"&&u.includes(n.arrayFormatSeparator),g=typeof u=="string"&&!y&&m(u,n).includes(n.arrayFormatSeparator);u=g?m(u,n):u;const S=y||g?u.split(n.arrayFormatSeparator).map(ve=>m(ve,n)):u===null?u:m(u,n);l[o]=S};case"bracket-separator":return(o,u,l)=>{const y=/(\[\])$/.test(o);if(o=o.replace(/\[\]$/,""),!y){l[o]=u&&m(u,n);return}const g=u===null?[]:u.split(n.arrayFormatSeparator).map(S=>m(S,n));if(l[o]===void 0){l[o]=g;return}l[o]=[].concat(l[o],g)};default:return(o,u,l)=>{if(l[o]===void 0){l[o]=u;return}l[o]=[].concat(l[o],u)}}}function R(n){if(typeof n!="string"||n.length!==1)throw new TypeError("arrayFormatSeparator must be single character string")}function E(n,s){return s.encode?s.strict?t(n):encodeURIComponent(n):n}function m(n,s){return s.decode?r(n):n}function D(n){return Array.isArray(n)?n.sort():typeof n=="object"?D(Object.keys(n)).sort((s,o)=>Number(s)-Number(o)).map(s=>n[s]):n}function I(n){const s=n.indexOf("#");return s!==-1&&(n=n.slice(0,s)),n}function H(n){let s="";const o=n.indexOf("#");return o!==-1&&(s=n.slice(o)),s}function X(n){n=I(n);const s=n.indexOf("?");return s===-1?"":n.slice(s+1)}function k(n,s){return s.parseNumbers&&!Number.isNaN(Number(n))&&typeof n=="string"&&n.trim()!==""?n=Number(n):s.parseBooleans&&n!==null&&(n.toLowerCase()==="true"||n.toLowerCase()==="false")&&(n=n.toLowerCase()==="true"),n}function Z(n,s){s=Object.assign({decode:!0,sort:!0,arrayFormat:"none",arrayFormatSeparator:",",parseNumbers:!1,parseBooleans:!1},s),R(s.arrayFormatSeparator);const o=_(s),u=Object.create(null);if(typeof n!="string"||(n=n.trim().replace(/^[?#&]/,""),!n))return u;for(const l of n.split("&")){if(l==="")continue;let[y,g]=c(s.decode?l.replace(/\+/g," "):l,"=");g=g===void 0?null:["comma","separator","bracket-separator"].includes(s.arrayFormat)?g:m(g,s),o(m(y,s),g,u)}for(const l of Object.keys(u)){const y=u[l];if(typeof y=="object"&&y!==null)for(const g of Object.keys(y))y[g]=k(y[g],s);else u[l]=k(y,s)}return s.sort===!1?u:(s.sort===!0?Object.keys(u).sort():Object.keys(u).sort(s.sort)).reduce((l,y)=>{const g=u[y];return g&&typeof g=="object"&&!Array.isArray(g)?l[y]=D(g):l[y]=g,l},Object.create(null))}e.extract=X,e.parse=Z,e.stringify=(n,s)=>{if(!n)return"";s=Object.assign({encode:!0,strict:!0,arrayFormat:"none",arrayFormatSeparator:","},s),R(s.arrayFormatSeparator);const o=g=>s.skipNull&&i(n[g])||s.skipEmptyString&&n[g]==="",u=f(s),l={};for(const g of Object.keys(n))o(g)||(l[g]=n[g]);const y=Object.keys(l);return s.sort!==!1&&y.sort(s.sort),y.map(g=>{const S=n[g];return S===void 0?"":S===null?E(g,s):Array.isArray(S)?S.length===0&&s.arrayFormat==="bracket-separator"?E(g,s)+"[]":S.reduce(u(g),[]).join("&"):E(g,s)+"="+E(S,s)}).filter(g=>g.length>0).join("&")},e.parseUrl=(n,s)=>{s=Object.assign({decode:!0},s);const[o,u]=c(n,"#");return Object.assign({url:o.split("?")[0]||"",query:Z(X(n),s)},s&&s.parseFragmentIdentifier&&u?{fragmentIdentifier:m(u,s)}:{})},e.stringifyUrl=(n,s)=>{s=Object.assign({encode:!0,strict:!0,[d]:!0},s);const o=I(n.url).split("?")[0]||"",u=e.extract(n.url),l=e.parse(u,{sort:!1}),y=Object.assign(l,n.query);let g=e.stringify(y,s);g&&(g=`?${g}`);let S=H(n.url);return n.fragmentIdentifier&&(S=`#${s[d]?E(n.fragmentIdentifier,s):n.fragmentIdentifier}`),`${o}${g}${S}`},e.pick=(n,s,o)=>{o=Object.assign({parseFragmentIdentifier:!0,[d]:!1},o);const{url:u,query:l,fragmentIdentifier:y}=e.parseUrl(n,o);return e.stringifyUrl({url:u,query:a(l,s),fragmentIdentifier:y},o)},e.exclude=(n,s,o)=>{const u=Array.isArray(s)?l=>!s.includes(l):(l,y)=>!s(l,y);return e.pick(n,u,o)}})(Qe);var pe={},Q={};Object.defineProperty(Q,"__esModule",{value:!0});var ie=v,rt=typeof document<"u"?ie.useLayoutEffect:ie.useEffect;Q.default=rt;var at=N&&N.__createBinding||(Object.create?function(e,t,r,c){c===void 0&&(c=r);var a=Object.getOwnPropertyDescriptor(t,r);(!a||("get"in a?!t.__esModule:a.writable||a.configurable))&&(a={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,c,a)}:function(e,t,r,c){c===void 0&&(c=r),e[c]=t[r]}),nt=N&&N.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),ct=N&&N.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.prototype.hasOwnProperty.call(e,r)&&at(t,e,r);return nt(t,e),t},st=N&&N.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(pe,"__esModule",{value:!0});var le=ct(v),ut=st(Q);function ot(e){var t=le.useRef(e),r=le.useRef(function(){for(var a=[],i=0;i<arguments.length;i++)a[i]=arguments[i];return t.current.apply(this,a)}).current;return(0,ut.default)(function(){t.current=e}),r}pe.default=ot;const U=qe();var B=(e=>(e[e.searchTerm=3]="searchTerm",e[e.searchResultAmount=4]="searchResultAmount",e[e.searchType=5]="searchType",e[e.searchResultTitle=6]="searchResultTitle",e[e.searchResultUrl=7]="searchResultUrl",e[e.searchResultType=8]="searchResultType",e[e.searchResultSelected=9]="searchResultSelected",e[e.contentTitle=10]="contentTitle",e[e.contentSubject=11]="contentSubject",e[e.contentTeam=12]="contentTeam",e[e.contentPublicationDate=13]="contentPublicationDate",e[e.contentType=14]="contentType",e[e.userIntext=15]="userIntext",e[e.searchMachine=16]="searchMachine",e[e.pageType=17]="pageType",e[e.contentId=20]="contentId",e[e.newState=36]="newState",e[e.routeName=43]="routeName",e[e.pushTitle=44]="pushTitle",e[e.pushContent=45]="pushContent",e))(B||{}),$=(e=>(e[e.userType=1]="userType",e[e.userCity=2]="userCity",e[e.appVersion=18]="appVersion",e[e.appVersionWithBuild=19]="appVersionWithBuild",e[e.reduceMotionEnabled=21]="reduceMotionEnabled",e[e.screenReaderEnabled=22]="screenReaderEnabled",e[e.accessibilityServiceEnabled=23]="accessibilityServiceEnabled",e[e.boldTextEnabled=24]="boldTextEnabled",e[e.grayscaleEnabled=25]="grayscaleEnabled",e[e.invertColorsEnabled=26]="invertColorsEnabled",e[e.reduceTransparencyEnabled=27]="reduceTransparencyEnabled",e[e.fontScale=28]="fontScale",e[e.isLandscape=29]="isLandscape",e[e.isPortrait=30]="isPortrait",e[e.isTablet=31]="isTablet",e[e.hasCameraPermission=32]="hasCameraPermission",e[e.hasPhotosPermission=33]="hasPhotosPermission",e[e.hasLocationPermission=34]="hasLocationPermission",e[e.hasNotificationPermission=35]="hasNotificationPermission",e[e.contactModule=37]="contactModule",e[e.redirectsModule=38]="redirectsModule",e[e.wasteGuideModule=39]="wasteGuideModule",e[e.reportProblemModule=40]="reportProblemModule",e[e.constructionWorkModule=41]="constructionWorkModule",e[e.constructionWorkEditorModule=42]="constructionWorkEditorModule",e[e.cityPassModule=46]="cityPassModule",e))($||{}),it=(e=>(e.accessibilityAction="accessibilityAction",e.accessibilityChange="accessibilityChange",e.addressAdd="addressAdd",e.addressChange="addressChange",e.blur="blur",e.buttonPress="buttonPress",e.deviceInfoChange="deviceInfoChange",e.finishedReport="finishedReport",e.locationOrAddressSelectionChange="locationOrAddressSelectionChange",e.moduleChange="moduleChange",e.pushNotificationDisplay="pushNotificationDisplay",e.pushNotificationTap="pushNotificationTap",e.radioChange="radioChange",e.startUp="startUp",e.swipeOut="swipeOut",e.toForeground="toForeground",e.toggle="toggle",e))(it||{}),G=(e=>(e.alreadyInitialized="Piwik Pro SDK has been already initialized",e.missingEnvVars="PIWIK_PRO_URL or PIWIK_PRO_ID are not defined in env",e))(G||{});const lt=e=>{if(e)return Object.keys(e).filter(t=>e[t]!==void 0).reduce((t,r)=>({...t,[r]:e[r]}),{})},ft="1.6.0",dt=De(),Se=Ae?ft:Fe(),ht=`${Se}.${dt}`,gt={[$.appVersion]:Se,[$.appVersionWithBuild]:ht},Et=(e,t=!1)=>t?Object.keys(e).reduce((r,c)=>{const a=$[c]??B[c];return a&&(r[a]=e[c]),r},{}):e,O=(e,t=!1)=>lt(Et({...gt,...e},t)),_t=e=>{const t={};return(typeof(e==null?void 0:e.id)=="string"||typeof(e==null?void 0:e.id)=="number")&&(t[B.contentId]=e.id.toString()),{appInsights:O(t,!0),piwik:O(t,!1)}},fe=e=>{const t=(e==null?void 0:e.screenTitle)??(e==null?void 0:e.screenHeaderTitle);if(t)return decodeURIComponent(t)};var de=Me();const yt=e=>{if(!e)return"";const t={};return Object.keys(de.parse(e)).forEach(r=>{t[r]="___"}),`?${de.stringify(t)}`},Rt=e=>e?`#${e.split("/").map(()=>"___").join("/")}`:"",mt=(e="")=>{const[t,r,...c]=e.split("#"),[a,i,...d]=t.split("?");if(c.length||d.length)return a;const f=yt(i),_=Rt(r);return`${a}${f}${_}`},F=()=>ye("piwik not initialized"),M="useTrackEvents.ts",Tt=(e,t,r,c,a,i)=>({ready:!!c,trackCustomEvent:(d,f,_,R=t,E=void 0)=>{c?c.trackCustomEvent(R,f,{path:a,customDimensions:O(_),value:E}).catch(()=>{e(C.piwikTrackCustomEvent,M,{category:R,action:f,name:d,routeName:a,value:E})}):F(),r.trackEvent({name:f,properties:{...O(_,!0),value:E,routeName:a,category:R}})},trackOutlink:(d,f)=>{const _=mt(d);c?c.trackOutlink(_,{...f,customDimensions:O({...f==null?void 0:f.customDimensions,[B.routeName]:a})}).catch(()=>{e(C.piwikTrackOutlink,M,{url:_})}):F(),r.trackEvent({name:"outlink",properties:{...O(f==null?void 0:f.customDimensions,!0),url:_,routeName:a,category:t}})},trackScreen:d=>{const f=d??a;if(!f)return;const{appInsights:_,piwik:R}=_t(i);c?c.trackScreen(f,{title:fe(i),customDimensions:R}).catch(()=>{e(C.piwikTrackScreen,M,{path:d})}):F(),r.trackPageView({name:f},{..._,title:fe(i)})},trackSearch:(d,f)=>{c?c.trackSearch(d,{...f,customDimensions:O(f==null?void 0:f.customDimensions)}).catch(()=>{e(C.piwikTrackSearch,M)}):F(),r.trackEvent({name:"search",properties:{...O(f==null?void 0:f.customDimensions,!0),keyword:d,routeName:a,category:t}})}});function pt(e){if(!Number.isInteger(e))throw new Error("Parameter must be an integer number")}function V(e){e&&Object.entries(e).forEach(t=>{let[r,c]=t;const a=parseInt(r,10);if(r!==a.toString())throw new Error("ID (key) must be an integer");if(a<1)throw new Error("ID (key) must be an integer greater than 0")})}function L(e){e.forEach(t=>{let r=t.customDimensions;if(r){if(Object.keys(r).length>20)throw new Error("Max 20 product custom dimensions, 20 is max ID.");V(r)}})}function St(e){if(!/^[0-9a-f]{16}$/.test(e))throw new Error(`Visitor ID ${e} has invalid format. The format must match the regular expression: ^[0-9a-f]{16}$`)}const vt="1.1.0",bt=`The package 'react-native-piwik-pro-sdk' doesn't seem to be linked. Make sure: 

`+xe.select({ios:`- You have run 'pod install'
`,default:""})+`- You rebuilt the app after installing the package
- You are not using Expo managed workflow
`,h=J.PiwikProSdk?J.PiwikProSdk:new Proxy({},{get(){throw new Error(bt)}});async function Ot(e,t){return await h.init(e,t,vt)}async function Nt(e,t){return p(t),await h.trackScreen(e,t)}async function Pt(e,t,r){return p(r),await h.trackCustomEvent(e,t,r)}async function It(e,t){return p(t),await h.trackException(e,t)}async function Ct(e,t,r){return p(r),await h.trackSocialInteraction(e,t,r)}async function At(e,t){return p(t),await h.trackDownload(e,t)}async function Lt(){return await h.trackApplicationInstall()}async function Dt(e,t){return p(t),await h.trackOutlink(e,t)}async function Ft(e,t){return p(t),await h.trackSearch(e,t)}async function Mt(e,t){return p(t),await h.trackImpression(e,t)}async function jt(e,t,r){return p(r),await h.trackInteraction(e,t,r)}async function xt(e,t){return p(t),await h.trackGoal(e,t)}async function Vt(e,t,r){return await h.trackEcommerce(e,t,r)}async function Ut(e,t){return p(t),L(e),await h.trackEcommerceProductDetailView(e,t)}async function $t(e,t,r){return p(r),L(e),await h.trackEcommerceCartUpdate(e,t,r)}async function Gt(e,t){return p(t),L(e),await h.trackEcommerceAddToCart(e,t)}async function wt(e,t){return p(t),L(e),await h.trackEcommerceRemoveFromCart(e,t)}async function zt(e,t,r,c){return p(c),L(r),await h.trackEcommerceOrder(e,t,r,c)}async function Bt(e){return await h.trackCampaign(e)}async function Ht(e){if(Array.isArray(e)){if(!e.length)throw new Error("Profile attributes cannot be an empty array");return await h.trackProfileAttributes(e)}return await h.trackProfileAttributes([e])}async function Yt(){return await h.getProfileAttributes()}async function Kt(e){return await h.checkAudienceMembership(e)}async function Wt(e){return await h.setUserId(e)}async function qt(){return await h.getUserId()}async function Qt(e){return await h.setUserEmail(e)}async function Xt(){return await h.getUserEmail()}async function kt(e){return St(e),await h.setVisitorId(e)}async function Zt(){return await h.getVisitorId()}async function Jt(e){return await h.setSessionTimeout(e)}async function er(){return await h.getSessionTimeout()}async function tr(){return await h.startNewSession()}async function rr(){return await h.dispatch()}async function ar(e){return pt(e),await h.setDispatchInterval(e)}async function nr(){return await h.getDispatchInterval()}async function cr(e){return await h.setIncludeDefaultCustomVariables(e)}async function sr(){return await h.getIncludeDefaultCustomVariables()}async function ur(e){return await h.setAnonymizationState(e)}async function or(){return await h.isAnonymizationOn()}async function ir(e){return await h.setOptOut(e)}async function lr(e){return await h.setDryRun(e)}async function fr(){return await h.getDryRun()}async function dr(){return await h.getOptOut()}async function hr(e){return await h.setPrefixing(e)}async function gr(){return await h.isPrefixingOn()}function p(e){V(e==null?void 0:e.customDimensions),V(e==null?void 0:e.visitCustomVariables),V(e==null?void 0:e.screenCustomVariables)}const A={init:Ot,trackScreen:Nt,trackCustomEvent:Pt,trackException:It,trackSocialInteraction:Ct,trackDownload:At,trackApplicationInstall:Lt,trackOutlink:Dt,trackSearch:Ft,trackImpression:Mt,trackInteraction:jt,trackGoal:xt,trackEcommerce:Vt,trackEcommerceProductDetailView:Ut,trackEcommerceCartUpdate:$t,trackEcommerceAddToCart:Gt,trackEcommerceRemoveFromCart:wt,trackEcommerceOrder:zt,trackCampaign:Bt,trackProfileAttributes:Ht,getProfileAttributes:Yt,checkAudienceMembership:Kt,setUserId:Wt,getUserId:qt,setUserEmail:Qt,getUserEmail:Xt,setVisitorId:kt,getVisitorId:Zt,setSessionTimeout:Jt,getSessionTimeout:er,startNewSession:tr,dispatch:rr,setDispatchInterval:ar,getDispatchInterval:nr,setIncludeDefaultCustomVariables:cr,getIncludeDefaultCustomVariables:sr,setAnonymizationState:ur,isAnonymizationOn:or,setOptOut:ir,getOptOut:dr,setDryRun:lr,getDryRun:fr,setPrefixing:hr,isPrefixingOn:gr},[he,ge]=Le?[be,Oe]:[Ne,Pe],Er=async()=>!he||!ge?Promise.reject(G.missingEnvVars):(await A.init(he,ge),await A.trackApplicationInstall(),await A.setIncludeDefaultCustomVariables(!0),Promise.resolve()),w=v.createContext(void 0),Ee=({children:e})=>{const t=_e(),[r,c]=v.useState();return v.useEffect(()=>{r===void 0&&Er().then(()=>{c(A)}).catch(a=>{if(a.message===G.alreadyInitialized){c(A);return}c(null),a.message!==G.missingEnvVars&&t(C.piwikInitialization,"piwik.provider.tsx",{error:a})})},[r,t]),je.jsx(w.Provider,{value:r,children:e})};try{w.displayName="PiwikContext",w.__docgenInfo={description:"The PiwikContext contains the object with all methods, to be used via the usePiwik hook only.",displayName:"PiwikContext",props:{}}}catch{}try{Ee.displayName="PiwikProvider",Ee.__docgenInfo={description:"",displayName:"PiwikProvider",props:{}}}catch{}const _r=()=>{if(U.isReady()){const e=U.getRootState(),t=e==null?void 0:e.routes;if(t)for(let r=t.length-1;r>=0;r--){const c=Ie[t[r].name];if(c)return c}}},yr=()=>{const e=v.useContext(w),t=U.isReady()?U.getCurrentRoute():void 0,r=_r()??"general",c=Ce(),a=_e();return v.useMemo(()=>Tt(a,r,c,e,t==null?void 0:t.name,t==null?void 0:t.params),[e,a,r,c,t==null?void 0:t.name,t==null?void 0:t.params])},Rr=e=>{const t=e.logName??e["logging-label"]??e.testID;return t||ye("No name found in props"),t},Cr=({logAction:e,logCategory:t,logDimensions:r={},logValue:c,onEvent:a,testID:i,logName:d,"logging-label":f})=>{const{trackCustomEvent:_}=yr();return v.useCallback((R,{nameSuffix:E,dimensions:m={},action:D=e}={})=>{a==null||a(R);const I=Rr({testID:i,logName:d,"logging-label":f});if(I){const H=E?`:${E}`:"";_(`${I}${H}`,D,{...r,...m},t,c)}},[e,t,r,d,c,a,f,i,_])};export{Ke as C,We as N,$ as P,Se as V,B as a,Cr as b,it as c,yr as d,_r as g,de as l,Qe as q,He as r,Ir as u};
