{"version":3,"file":"Switch.stories-f74d37ae.js","sources":["../../src/components/ui/forms/Switch.tsx"],"sourcesContent":["import {ElementType, Fragment, ReactNode} from 'react'\nimport {\n  AccessibilityInfo,\n  Platform,\n  Pressable,\n  Switch as SwitchRN,\n  SwitchProps as SwitchRNProps,\n} from 'react-native'\nimport {FormField} from '@/components/ui/forms/FormField'\nimport {MainAxisPosition} from '@/components/ui/layout/types'\nimport {useTheme} from '@/themes/useTheme'\n\ntype Props = {\n  label: ReactNode\n  labelPosition?: MainAxisPosition\n  onChange?: () => void\n  wrapper?: ElementType\n} & Omit<SwitchRNProps, 'onChange'>\n\n/**\n * Wraps a switch with its label in a row and takes care of accessibility.\n */\nexport const Switch = ({\n  accessibilityLabel = '',\n  disabled = false,\n  label,\n  labelPosition = 'start',\n  onChange,\n  testID,\n  value,\n  wrapper: Wrapper = Fragment,\n  ...switchProps\n}: Props) => {\n  const {color} = useTheme()\n\n  const onPress = () => {\n    onChange?.()\n    setTimeout(\n      // Timeout is needed for iOS to announce the new value\n      () => AccessibilityInfo.announceForAccessibility(value ? 'uit' : 'aan'),\n      100,\n    )\n  }\n\n  return (\n    <Pressable\n      accessibilityLabel={\n        Platform.OS === 'android'\n          ? accessibilityLabel\n          : accessibilityLabel + (value ? ' aan' : ' uit')\n      }\n      accessibilityRole=\"switch\"\n      aria-disabled={disabled}\n      onPress={onPress}\n      testID={testID}>\n      <Wrapper>\n        <FormField\n          label={label}\n          labelPosition={labelPosition}>\n          <SwitchRN\n            accessibilityElementsHidden\n            importantForAccessibility=\"no-hide-descendants\"\n            ios_backgroundColor={color.control.switch.track.background.off}\n            onChange={onPress}\n            thumbColor={\n              color.control.switch.thumb.background[\n                disabled ? 'disabled' : 'enabled'\n              ]\n            }\n            trackColor={{\n              false: color.control.switch.track.background.off,\n              true: color.control.switch.track.background.on,\n            }}\n            value={value}\n            {...switchProps}\n          />\n        </FormField>\n      </Wrapper>\n    </Pressable>\n  )\n}\n"],"names":["Switch","accessibilityLabel","disabled","label","labelPosition","onChange","testID","value","Wrapper","Fragment","switchProps","color","useTheme","onPress","AccessibilityInfo","jsx","Pressable","Platform","FormField","SwitchRN"],"mappings":"qlBAsBO,MAAAA,EAAA,CAAA,CAAgB,mBAAAC,EAAA,GACA,SAAAC,EAAA,GACV,MAAAC,EACX,cAAAC,EAAA,QACgB,SAAAC,EAChB,OAAAC,EACA,MAAAC,EACA,QAAAC,EAAAC,EAAA,SACmB,GAAAC,CAErB,IAAA,CACE,KAAA,CAAA,MAAAC,GAAAC,IAEAC,EAAA,IAAA,CACER,GAAA,MAAAA,IACA,WAAA,IAAAS,EAAA,yBAAAP,EAAA,MAAA,KAAA,EAEwE,GACtE,CACF,EAGF,OAAAQ,EACEC,EAAC,CAAA,mBAAAC,EAAA,KAAA,UAAAhB,EAAAA,GAAAM,EAAA,OAAA,QAI8C,kBAAA,SAE3B,gBAAAL,EACH,QAAAW,EACf,OAAAP,EACA,SAAAS,EAAAP,EAAA,CAAA,SAAAO,EAEEG,EAAC,CAAA,MAAAf,EACC,cAAAC,EACA,SAAAW,EACAI,EAAC,CAAA,4BAAA,GAC4B,0BAAA,sBACD,oBAAAR,EAAA,QAAA,OAAA,MAAA,WAAA,IACiC,SAAAE,EACjD,WAAAF,EAAA,QAAA,OAAA,MAAA,WAAAT,EAAA,WAAA,SAAA,EAIR,WAAA,CAEU,MAAAS,EAAA,QAAA,OAAA,MAAA,WAAA,IACmC,KAAAA,EAAA,QAAA,OAAA,MAAA,WAAA,EACD,EAC9C,MAAAJ,EACA,GAAAG,CACI,CAAA,CACN,CAAA,EAAA,CAEJ,CAAA,CAGN;;;;;;"}