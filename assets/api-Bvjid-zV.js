import{c as ie,R as le,n as Ur,T as Nr,f as ve,g as Ze,S as Oe,p as ye,i as Tr,h as _e,j as pe,k as je,m as Hr,t as Kr,o as Pr,q as Fe,r as qr,v as wr,w as Le,x as Vr,y as $r,z as se,A as er,B as Wr}from"./useThemable-PLjH4_iL.js";import{r as U}from"./index-C6mWTJJr.js";import{u as _r,a as Lr}from"./useDispatch-DQ8ei2RG.js";import{r as Br}from"./index-zunobDwC.js";import{c as Jr,a as rr,g as Yr,b as Gr,d as Xr}from"./useTrackException-N30wvaUK.js";import{i as Zr,b as tr,a as Ar}from"./development-DJonjCCT.js";import{V as jr}from"./usePiwikTrackCustomEventFromProps-DF2fziNK.js";function nr(e,r){return e===r?e!==0||r!==0||1/e===1/r:e!==e&&r!==r}function Ie(e,r){if(nr(e,r))return!0;if(typeof e!="object"||e===null||typeof r!="object"||r===null)return!1;const t=Object.keys(e),i=Object.keys(r);if(t.length!==i.length)return!1;for(let u=0;u<t.length;u++)if(!Object.prototype.hasOwnProperty.call(r,t[u])||!nr(e[t[u]],r[t[u]]))return!1;return!0}var ke="NOT_FOUND";function et(e){var r;return{get:function(i){return r&&e(r.key,i)?r.value:ke},put:function(i,u){r={key:i,value:u}},getEntries:function(){return r?[r]:[]},clear:function(){r=void 0}}}function rt(e,r){var t=[];function i(w){var P=t.findIndex(function(p){return r(w,p.key)});if(P>-1){var h=t[P];return P>0&&(t.splice(P,1),t.unshift(h)),h.value}return ke}function u(w,P){i(w)===ke&&(t.unshift({key:w,value:P}),t.length>e&&t.pop())}function s(){return t}function T(){t=[]}return{get:i,put:u,getEntries:s,clear:T}}var tt=function(r,t){return r===t};function nt(e){return function(t,i){if(t===null||i===null||t.length!==i.length)return!1;for(var u=t.length,s=0;s<u;s++)if(!e(t[s],i[s]))return!1;return!0}}function Ve(e,r){var t=typeof r=="object"?r:{equalityCheck:r},i=t.equalityCheck,u=i===void 0?tt:i,s=t.maxSize,T=s===void 0?1:s,w=t.resultEqualityCheck,P=nt(u),h=T===1?et(P):rt(T,P);function p(){var y=h.get(arguments);if(y===ke){if(y=e.apply(null,arguments),w){var v=h.getEntries(),c=v.find(function(R){return w(R.value,y)});c&&(y=c.value)}h.put(arguments,y)}return y}return p.clearCache=function(){return h.clear()},p}function at(e){var r=Array.isArray(e[0])?e[0]:e;if(!r.every(function(i){return typeof i=="function"})){var t=r.map(function(i){return typeof i=="function"?"function "+(i.name||"unnamed")+"()":typeof i}).join(", ");throw new Error("createSelector expects all input-selectors to be functions, but received the following types: ["+t+"]")}return r}function it(e){for(var r=arguments.length,t=new Array(r>1?r-1:0),i=1;i<r;i++)t[i-1]=arguments[i];var u=function(){for(var T=arguments.length,w=new Array(T),P=0;P<T;P++)w[P]=arguments[P];var h=0,p,y={memoizeOptions:void 0},v=w.pop();if(typeof v=="object"&&(y=v,v=w.pop()),typeof v!="function")throw new Error("createSelector expects an output function after the inputs, but received: ["+typeof v+"]");var c=y,R=c.memoizeOptions,b=R===void 0?t:R,O=Array.isArray(b)?b:[b],k=at(w),I=e.apply(void 0,[function(){return h++,v.apply(null,arguments)}].concat(O)),S=e(function(){for(var l=[],a=k.length,o=0;o<a;o++)l.push(k[o].apply(null,arguments));return p=I.apply(null,l),p});return Object.assign(S,{resultFunc:v,memoizedResultFunc:I,dependencies:k,lastResult:function(){return p},recomputations:function(){return h},resetRecomputations:function(){return h=0}}),S};return u}var me=it(Ve);const ut=ie({name:le.environment,initialState:{custom:Jr,environment:Zr?rr.acceptance:rr.production},reducers:{setEnvironment:(e,{payload:r})=>{e.environment=r},setCustomEnvironment:(e,{payload:r})=>{e.custom={...e.custom,...r}}}});ut.actions;const ot=e=>e[le.environment],st=(e,r)=>t=>Yr(t[le.environment].environment,t[le.environment].custom,e,r);var fe=function(e,r){var t={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},i,u,s,T;return T={next:w(0),throw:w(1),return:w(2)},typeof Symbol=="function"&&(T[Symbol.iterator]=function(){return this}),T;function w(h){return function(p){return P([h,p])}}function P(h){if(i)throw new TypeError("Generator is already executing.");for(;t;)try{if(i=1,u&&(s=h[0]&2?u.return:h[0]?u.throw||((s=u.return)&&s.call(u),0):u.next)&&!(s=s.call(u,h[1])).done)return s;switch(u=0,s&&(h=[h[0]&2,s.value]),h[0]){case 0:case 1:s=h;break;case 4:return t.label++,{value:h[1],done:!1};case 5:t.label++,u=h[1],h=[0];continue;case 7:h=t.ops.pop(),t.trys.pop();continue;default:if(s=t.trys,!(s=s.length>0&&s[s.length-1])&&(h[0]===6||h[0]===2)){t=0;continue}if(h[0]===3&&(!s||h[1]>s[0]&&h[1]<s[3])){t.label=h[1];break}if(h[0]===6&&t.label<s[1]){t.label=s[1],s=h;break}if(s&&t.label<s[2]){t.label=s[2],t.ops.push(h);break}s[2]&&t.ops.pop(),t.trys.pop();continue}h=r.call(e,t)}catch(p){h=[6,p],u=0}finally{i=s=0}if(h[0]&5)throw h[1];return{value:h[0]?h[1]:void 0,done:!0}}},Ee=function(e,r){for(var t=0,i=r.length,u=e.length;t<i;t++,u++)e[u]=r[t];return e},ct=Object.defineProperty,lt=Object.defineProperties,ft=Object.getOwnPropertyDescriptors,Qe=Object.getOwnPropertySymbols,Ir=Object.prototype.hasOwnProperty,kr=Object.prototype.propertyIsEnumerable,ar=function(e,r,t){return r in e?ct(e,r,{enumerable:!0,configurable:!0,writable:!0,value:t}):e[r]=t},_=function(e,r){for(var t in r||(r={}))Ir.call(r,t)&&ar(e,t,r[t]);if(Qe)for(var i=0,u=Qe(r);i<u.length;i++){var t=u[i];kr.call(r,t)&&ar(e,t,r[t])}return e},ee=function(e,r){return lt(e,ft(r))},ir=function(e,r){var t={};for(var i in e)Ir.call(e,i)&&r.indexOf(i)<0&&(t[i]=e[i]);if(e!=null&&Qe)for(var u=0,s=Qe(e);u<s.length;u++){var i=s[u];r.indexOf(i)<0&&kr.call(e,i)&&(t[i]=e[i])}return t},de=function(e,r,t){return new Promise(function(i,u){var s=function(P){try{w(t.next(P))}catch(h){u(h)}},T=function(P){try{w(t.throw(P))}catch(h){u(h)}},w=function(P){return P.done?i(P.value):Promise.resolve(P.value).then(s,T)};w((t=t.apply(e,r)).next())})},W;(function(e){e.uninitialized="uninitialized",e.pending="pending",e.fulfilled="fulfilled",e.rejected="rejected"})(W||(W={}));function dt(e){return{status:e,isUninitialized:e===W.uninitialized,isLoading:e===W.pending,isSuccess:e===W.fulfilled,isError:e===W.rejected}}function vt(e){return new RegExp("(^|:)//").test(e)}var pt=function(e){return e.replace(/\/$/,"")},ht=function(e){return e.replace(/^\//,"")};function yt(e,r){if(!e)return r;if(!r)return e;if(vt(r))return r;var t=e.endsWith("/")||!r.startsWith("?")?"/":"";return e=pt(e),r=ht(r),""+e+t+r}var ur=function(e){return[].concat.apply([],e)};function gt(){return typeof navigator>"u"||navigator.onLine===void 0?!0:navigator.onLine}function mt(){return typeof document>"u"?!0:document.visibilityState!=="hidden"}var or=se;function Er(e,r){if(e===r||!(or(e)&&or(r)||Array.isArray(e)&&Array.isArray(r)))return r;for(var t=Object.keys(r),i=Object.keys(e),u=t.length===i.length,s=Array.isArray(r)?[]:{},T=0,w=t;T<w.length;T++){var P=w[T];s[P]=Er(e[P],r[P]),u&&(u=e[P]===s[P])}return u?e:s}var sr=function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];return fetch.apply(void 0,e)},bt=function(e){return e.status>=200&&e.status<=299},St=function(e){return/ion\/(vnd\.api\+)?json/.test(e.get("content-type")||"")};function cr(e){if(!se(e))return e;for(var r=_({},e),t=0,i=Object.entries(r);t<i.length;t++){var u=i[t],s=u[0],T=u[1];T===void 0&&delete r[s]}return r}function Rt(e){var r=this;e===void 0&&(e={});var t=e,i=t.baseUrl,u=t.prepareHeaders,s=u===void 0?function(S){return S}:u,T=t.fetchFn,w=T===void 0?sr:T,P=t.paramsSerializer,h=t.isJsonContentType,p=h===void 0?St:h,y=t.jsonContentType,v=y===void 0?"application/json":y,c=t.jsonReplacer,R=t.timeout,b=t.responseHandler,O=t.validateStatus,k=ir(t,["baseUrl","prepareHeaders","fetchFn","paramsSerializer","isJsonContentType","jsonContentType","jsonReplacer","timeout","responseHandler","validateStatus"]);return typeof fetch>"u"&&w===sr&&console.warn("Warning: `fetch` is not available. Please supply a custom `fetchFn` property to use `fetchBaseQuery` on SSR environments."),function(S,n){return de(r,null,function(){var l,a,o,f,m,d,g,A,q,E,Q,C,F,M,N,x,H,V,z,K,D,$,L,Y,ue,G,X,J,B,he,Ge,Ce,Re,xe,De,Xe;return fe(this,function(Z){switch(Z.label){case 0:return l=n.signal,a=n.getState,o=n.extra,f=n.endpoint,m=n.forced,d=n.type,A=typeof S=="string"?{url:S}:S,q=A.url,E=A.headers,Q=E===void 0?new Headers(k.headers):E,C=A.params,F=C===void 0?void 0:C,M=A.responseHandler,N=M===void 0?b??"json":M,x=A.validateStatus,H=x===void 0?O??bt:x,V=A.timeout,z=V===void 0?R:V,K=ir(A,["url","headers","params","responseHandler","validateStatus","timeout"]),D=_(ee(_({},k),{signal:l}),K),Q=new Headers(cr(Q)),$=D,[4,s(Q,{getState:a,extra:o,endpoint:f,forced:m,type:d})];case 1:$.headers=Z.sent()||Q,L=function(j){return typeof j=="object"&&(se(j)||Array.isArray(j)||typeof j.toJSON=="function")},!D.headers.has("content-type")&&L(D.body)&&D.headers.set("content-type",v),L(D.body)&&p(D.headers)&&(D.body=JSON.stringify(D.body,c)),F&&(Y=~q.indexOf("?")?"&":"?",ue=P?P(F):new URLSearchParams(cr(F)),q+=Y+ue),q=yt(i,q),G=new Request(q,D),X=new Request(q,D),g={request:X},B=!1,he=z&&setTimeout(function(){B=!0,n.abort()},z),Z.label=2;case 2:return Z.trys.push([2,4,5,6]),[4,w(G)];case 3:return J=Z.sent(),[3,6];case 4:return Ge=Z.sent(),[2,{error:{status:B?"TIMEOUT_ERROR":"FETCH_ERROR",error:String(Ge)},meta:g}];case 5:return he&&clearTimeout(he),[7];case 6:Ce=J.clone(),g.response=Ce,xe="",Z.label=7;case 7:return Z.trys.push([7,9,,10]),[4,Promise.all([I(J,N).then(function(j){return Re=j},function(j){return De=j}),Ce.text().then(function(j){return xe=j},function(){})])];case 8:if(Z.sent(),De)throw De;return[3,10];case 9:return Xe=Z.sent(),[2,{error:{status:"PARSING_ERROR",originalStatus:J.status,data:xe,error:String(Xe)},meta:g}];case 10:return[2,H(J,Re)?{data:Re,meta:g}:{error:{status:J.status,data:Re},meta:g}]}})})};function I(S,n){return de(this,null,function(){var l;return fe(this,function(a){switch(a.label){case 0:return typeof n=="function"?[2,n(S)]:(n==="content-type"&&(n=p(S.headers)?"json":"text"),n!=="json"?[3,2]:[4,S.text()]);case 1:return l=a.sent(),[2,l.length?JSON.parse(l):null];case 2:return[2,S.text()]}})})}}var ce=function(){function e(r,t){t===void 0&&(t=void 0),this.value=r,this.meta=t}return e}();function Ot(e,r){return e===void 0&&(e=0),r===void 0&&(r=5),de(this,null,function(){var t,i;return fe(this,function(u){switch(u.label){case 0:return t=Math.min(e,r),i=~~((Math.random()+.4)*(300<<t)),[4,new Promise(function(s){return setTimeout(function(T){return s(T)},i)})];case 1:return u.sent(),[2]}})})}function Tt(e){throw Object.assign(new ce({error:e}),{throwImmediately:!0})}var lr={},Pt=function(e,r){return function(t,i,u){return de(void 0,null,function(){var s,T,w,P,h,p,y;return fe(this,function(v){switch(v.label){case 0:s=[5,(r||lr).maxRetries,(u||lr).maxRetries].filter(function(c){return c!==void 0}),T=s.slice(-1)[0],w=function(c,R,b){var O=b.attempt;return O<=T},P=_(_({maxRetries:T,backoff:Ot,retryCondition:w},r),u),h=0,v.label=1;case 1:v.label=2;case 2:return v.trys.push([2,4,,6]),[4,e(t,i,u)];case 3:if(p=v.sent(),p.error)throw new ce(p);return[2,p];case 4:if(y=v.sent(),h++,y.throwImmediately){if(y instanceof ce)return[2,y.value];throw y}return y instanceof ce&&!P.retryCondition(y.value.error,t,{attempt:h,baseQueryApi:i,extraOptions:u})?[2,y.value]:[4,P.backoff(h,P.maxRetries)];case 5:return v.sent(),[3,6];case 6:return[3,1];case 7:return[2]}})})}},ze=Object.assign(Pt,{fail:Tt}),Be=ve("__rtkq/focused"),Qr=ve("__rtkq/unfocused"),Je=ve("__rtkq/online"),Mr=ve("__rtkq/offline"),re;(function(e){e.query="query",e.mutation="mutation"})(re||(re={}));function Cr(e){return e.type===re.query}function qt(e){return e.type===re.mutation}function Ye(e,r,t,i,u,s){return wt(e)?e(r,t,i,u).map($e).map(s):Array.isArray(e)?e.map($e).map(s):[]}function wt(e){return typeof e=="function"}function $e(e){return typeof e=="string"?{type:e}:e}function Ue(e){return e!=null}var be=Symbol("forceQueryFn"),We=function(e){return typeof e[be]=="function"};function At(e){var r=e.serializeQueryArgs,t=e.queryThunk,i=e.mutationThunk,u=e.api,s=e.context,T=new Map,w=new Map,P=u.internalActions,h=P.unsubscribeQueryResult,p=P.removeMutationResult,y=P.updateSubscriptionOptions;return{buildInitiateQuery:I,buildInitiateMutation:S,getRunningQueryThunk:R,getRunningMutationThunk:b,getRunningQueriesThunk:O,getRunningMutationsThunk:k,getRunningOperationPromises:c,removalWarning:v};function v(){throw new Error(`This method had to be removed due to a conceptual bug in RTK.
       Please see https://github.com/reduxjs/redux-toolkit/pull/2481 for details.
       See https://redux-toolkit.js.org/rtk-query/usage/server-side-rendering for new guidance on SSR.`)}function c(){typeof process<"u";var n=function(l){return Array.from(l.values()).flatMap(function(a){return a?Object.values(a):[]})};return Ee(Ee([],n(T)),n(w)).filter(Ue)}function R(n,l){return function(a){var o,f=s.endpointDefinitions[n],m=r({queryArgs:l,endpointDefinition:f,endpointName:n});return(o=T.get(a))==null?void 0:o[m]}}function b(n,l){return function(a){var o;return(o=w.get(a))==null?void 0:o[l]}}function O(){return function(n){return Object.values(T.get(n)||{}).filter(Ue)}}function k(){return function(n){return Object.values(w.get(n)||{}).filter(Ue)}}function I(n,l){var a=function(o,f){var m=f===void 0?{}:f,d=m.subscribe,g=d===void 0?!0:d,A=m.forceRefetch,q=m.subscriptionOptions,E=be,Q=m[E];return function(C,F){var M,N,x=r({queryArgs:o,endpointDefinition:l,endpointName:n}),H=t((M={type:"query",subscribe:g,forceRefetch:A,subscriptionOptions:q,endpointName:n,originalArgs:o,queryCacheKey:x},M[be]=Q,M)),V=u.endpoints[n].select(o),z=C(H),K=V(F()),D=z.requestId,$=z.abort,L=K.requestId!==D,Y=(N=T.get(C))==null?void 0:N[x],ue=function(){return V(F())},G=Object.assign(Q?z.then(ue):L&&!Y?Promise.resolve(K):Promise.all([Y,z]).then(ue),{arg:o,requestId:D,subscriptionOptions:q,queryCacheKey:x,abort:$,unwrap:function(){return de(this,null,function(){var J;return fe(this,function(B){switch(B.label){case 0:return[4,G];case 1:if(J=B.sent(),J.isError)throw J.error;return[2,J.data]}})})},refetch:function(){return C(a(o,{subscribe:!1,forceRefetch:!0}))},unsubscribe:function(){g&&C(h({queryCacheKey:x,requestId:D}))},updateSubscriptionOptions:function(J){G.subscriptionOptions=J,C(y({endpointName:n,requestId:D,queryCacheKey:x,options:J}))}});if(!Y&&!L&&!Q){var X=T.get(C)||{};X[x]=G,T.set(C,X),G.then(function(){delete X[x],Object.keys(X).length||T.delete(C)})}return G}};return a}function S(n){return function(l,a){var o=a===void 0?{}:a,f=o.track,m=f===void 0?!0:f,d=o.fixedCacheKey;return function(g,A){var q=i({type:"mutation",endpointName:n,originalArgs:l,track:m,fixedCacheKey:d}),E=g(q),Q=E.requestId,C=E.abort,F=E.unwrap,M=E.unwrap().then(function(V){return{data:V}}).catch(function(V){return{error:V}}),N=function(){g(p({requestId:Q,fixedCacheKey:d}))},x=Object.assign(M,{arg:E.arg,requestId:Q,abort:C,unwrap:F,unsubscribe:N,reset:N}),H=w.get(g)||{};return w.set(g,H),H[Q]=x,x.then(function(){delete H[Q],Object.keys(H).length||w.delete(g)}),d&&(H[d]=x,x.then(function(){H[d]===x&&(delete H[d],Object.keys(H).length||w.delete(g))})),x}}}}function fr(e){return e}function It(e){var r=this,t=e.reducerPath,i=e.baseQuery,u=e.context.endpointDefinitions,s=e.serializeQueryArgs,T=e.api,w=e.assertTagType,P=function(n,l,a,o){return function(f,m){var d=u[n],g=s({queryArgs:l,endpointDefinition:d,endpointName:n});if(f(T.internalActions.queryResultPatched({queryCacheKey:g,patches:a})),!!o){var A=T.endpoints[n].select(l)(m()),q=Ye(d.providesTags,A.data,void 0,l,{},w);f(T.internalActions.updateProvidedBy({queryCacheKey:g,providedTags:q}))}}},h=function(n,l,a,o){return o===void 0&&(o=!0),function(f,m){var d,g,A=T.endpoints[n],q=A.select(l)(m()),E={patches:[],inversePatches:[],undo:function(){return f(T.util.patchQueryData(n,l,E.inversePatches,o))}};if(q.status===W.uninitialized)return E;var Q;if("data"in q)if(Kr(q.data)){var C=Pr(q.data,a),F=C[0],M=C[1],N=C[2];(d=E.patches).push.apply(d,M),(g=E.inversePatches).push.apply(g,N),Q=F}else Q=a(q.data),E.patches.push({op:"replace",path:[],value:Q}),E.inversePatches.push({op:"replace",path:[],value:q.data});return f(T.util.patchQueryData(n,l,E.patches,o)),E}},p=function(n,l,a){return function(o){var f;return o(T.endpoints[n].initiate(l,(f={subscribe:!1,forceRefetch:!0},f[be]=function(){return{data:a}},f)))}},y=function(n,l){return de(r,[n,l],function(a,o){var f,m,d,g,A,q,E,Q,C,F,M,N,x,H,V,z,K,D,$=o.signal,L=o.abort,Y=o.rejectWithValue,ue=o.fulfillWithValue,G=o.dispatch,X=o.getState,J=o.extra;return fe(this,function(B){switch(B.label){case 0:f=u[a.endpointName],B.label=1;case 1:return B.trys.push([1,8,,13]),m=fr,d=void 0,g={signal:$,abort:L,dispatch:G,getState:X,extra:J,endpoint:a.endpointName,type:a.type,forced:a.type==="query"?v(a,X()):void 0},A=a.type==="query"?a[be]:void 0,A?(d=A(),[3,6]):[3,2];case 2:return f.query?[4,i(f.query(a.originalArgs),g,f.extraOptions)]:[3,4];case 3:return d=B.sent(),f.transformResponse&&(m=f.transformResponse),[3,6];case 4:return[4,f.queryFn(a.originalArgs,g,f.extraOptions,function(he){return i(he,g,f.extraOptions)})];case 5:d=B.sent(),B.label=6;case 6:if(typeof process<"u",d.error)throw new ce(d.error,d.meta);return M=ue,[4,m(d.data,d.meta,a.originalArgs)];case 7:return[2,M.apply(void 0,[B.sent(),(K={fulfilledTimeStamp:Date.now(),baseQueryMeta:d.meta},K[Oe]=!0,K)])];case 8:if(N=B.sent(),x=N,!(x instanceof ce))return[3,12];H=fr,f.query&&f.transformErrorResponse&&(H=f.transformErrorResponse),B.label=9;case 9:return B.trys.push([9,11,,12]),V=Y,[4,H(x.value,x.meta,a.originalArgs)];case 10:return[2,V.apply(void 0,[B.sent(),(D={baseQueryMeta:x.meta},D[Oe]=!0,D)])];case 11:return z=B.sent(),x=z,[3,12];case 12:throw typeof process<"u",console.error(x),x;case 13:return[2]}})})};function v(n,l){var a,o,f,m,d=(o=(a=l[t])==null?void 0:a.queries)==null?void 0:o[n.queryCacheKey],g=(f=l[t])==null?void 0:f.config.refetchOnMountOrArgChange,A=d==null?void 0:d.fulfilledTimeStamp,q=(m=n.forceRefetch)!=null?m:n.subscribe&&g;return q?q===!0||(Number(new Date)-Number(A))/1e3>=q:!1}var c=Ze(t+"/executeQuery",y,{getPendingMeta:function(){var n;return n={startedTimeStamp:Date.now()},n[Oe]=!0,n},condition:function(n,l){var a=l.getState,o,f,m,d=a(),g=(f=(o=d[t])==null?void 0:o.queries)==null?void 0:f[n.queryCacheKey],A=g==null?void 0:g.fulfilledTimeStamp,q=n.originalArgs,E=g==null?void 0:g.originalArgs,Q=u[n.endpointName];return We(n)?!0:(g==null?void 0:g.status)==="pending"?!1:v(n,d)||Cr(Q)&&((m=Q==null?void 0:Q.forceRefetch)!=null&&m.call(Q,{currentArg:q,previousArg:E,endpointState:g,state:d}))?!0:!A},dispatchConditionRejection:!0}),R=Ze(t+"/executeMutation",y,{getPendingMeta:function(){var n;return n={startedTimeStamp:Date.now()},n[Oe]=!0,n}}),b=function(n){return"force"in n},O=function(n){return"ifOlderThan"in n},k=function(n,l,a){return function(o,f){var m=b(a)&&a.force,d=O(a)&&a.ifOlderThan,g=function(Q){return Q===void 0&&(Q=!0),T.endpoints[n].initiate(l,{forceRefetch:Q})},A=T.endpoints[n].select(l)(f());if(m)o(g());else if(d){var q=A==null?void 0:A.fulfilledTimeStamp;if(!q){o(g());return}var E=(Number(new Date)-Number(new Date(q)))/1e3>=d;E&&o(g())}else o(g(!1))}};function I(n){return function(l){var a,o;return((o=(a=l==null?void 0:l.meta)==null?void 0:a.arg)==null?void 0:o.endpointName)===n}}function S(n,l){return{matchPending:Fe(qr(n),I(l)),matchFulfilled:Fe(pe(n),I(l)),matchRejected:Fe(wr(n),I(l))}}return{queryThunk:c,mutationThunk:R,prefetch:k,updateQueryData:h,upsertQueryData:p,patchQueryData:P,buildMatchThunkActions:S}}function xr(e,r,t,i){return Ye(t[e.meta.arg.endpointName][r],pe(e)?e.payload:void 0,_e(e)?e.payload:void 0,e.meta.arg.originalArgs,"baseQueryMeta"in e.meta?e.meta.baseQueryMeta:void 0,i)}function Te(e,r,t){var i=e[r];i&&t(i)}function Se(e){var r;return(r="arg"in e?e.arg.fixedCacheKey:e.fixedCacheKey)!=null?r:e.requestId}function dr(e,r,t){var i=e[Se(r)];i&&t(i)}var ge={};function kt(e){var r=e.reducerPath,t=e.queryThunk,i=e.mutationThunk,u=e.context,s=u.endpointDefinitions,T=u.apiUid,w=u.extractRehydrationInfo,P=u.hasRehydrationInfo,h=e.assertTagType,p=e.config,y=ve(r+"/resetApiState"),v=ie({name:r+"/queries",initialState:ge,reducers:{removeQueryResult:{reducer:function(l,a){var o=a.payload.queryCacheKey;delete l[o]},prepare:ye()},queryResultPatched:{reducer:function(l,a){var o=a.payload,f=o.queryCacheKey,m=o.patches;Te(l,f,function(d){d.data=je(d.data,m.concat())})},prepare:ye()}},extraReducers:function(l){l.addCase(t.pending,function(a,o){var f=o.meta,m=o.meta.arg,d,g,A=We(m);(m.subscribe||A)&&((g=a[d=m.queryCacheKey])!=null||(a[d]={status:W.uninitialized,endpointName:m.endpointName})),Te(a,m.queryCacheKey,function(q){q.status=W.pending,q.requestId=A&&q.requestId?q.requestId:f.requestId,m.originalArgs!==void 0&&(q.originalArgs=m.originalArgs),q.startedTimeStamp=f.startedTimeStamp})}).addCase(t.fulfilled,function(a,o){var f=o.meta,m=o.payload;Te(a,f.arg.queryCacheKey,function(d){var g;if(!(d.requestId!==f.requestId&&!We(f.arg))){var A=s[f.arg.endpointName].merge;if(d.status=W.fulfilled,A)if(d.data!==void 0){var q=f.fulfilledTimeStamp,E=f.arg,Q=f.baseQueryMeta,C=f.requestId,F=Le(d.data,function(M){return A(M,m,{arg:E.originalArgs,baseQueryMeta:Q,fulfilledTimeStamp:q,requestId:C})});d.data=F}else d.data=m;else d.data=(g=s[f.arg.endpointName].structuralSharing)==null||g?Er(Vr(d.data)?$r(d.data):d.data,m):m;delete d.error,d.fulfilledTimeStamp=f.fulfilledTimeStamp}})}).addCase(t.rejected,function(a,o){var f=o.meta,m=f.condition,d=f.arg,g=f.requestId,A=o.error,q=o.payload;Te(a,d.queryCacheKey,function(E){if(!m){if(E.requestId!==g)return;E.status=W.rejected,E.error=q??A}})}).addMatcher(P,function(a,o){for(var f=w(o).queries,m=0,d=Object.entries(f);m<d.length;m++){var g=d[m],A=g[0],q=g[1];((q==null?void 0:q.status)===W.fulfilled||(q==null?void 0:q.status)===W.rejected)&&(a[A]=q)}})}}),c=ie({name:r+"/mutations",initialState:ge,reducers:{removeMutationResult:{reducer:function(l,a){var o=a.payload,f=Se(o);f in l&&delete l[f]},prepare:ye()}},extraReducers:function(l){l.addCase(i.pending,function(a,o){var f=o.meta,m=o.meta,d=m.requestId,g=m.arg,A=m.startedTimeStamp;g.track&&(a[Se(f)]={requestId:d,status:W.pending,endpointName:g.endpointName,startedTimeStamp:A})}).addCase(i.fulfilled,function(a,o){var f=o.payload,m=o.meta;m.arg.track&&dr(a,m,function(d){d.requestId===m.requestId&&(d.status=W.fulfilled,d.data=f,d.fulfilledTimeStamp=m.fulfilledTimeStamp)})}).addCase(i.rejected,function(a,o){var f=o.payload,m=o.error,d=o.meta;d.arg.track&&dr(a,d,function(g){g.requestId===d.requestId&&(g.status=W.rejected,g.error=f??m)})}).addMatcher(P,function(a,o){for(var f=w(o).mutations,m=0,d=Object.entries(f);m<d.length;m++){var g=d[m],A=g[0],q=g[1];((q==null?void 0:q.status)===W.fulfilled||(q==null?void 0:q.status)===W.rejected)&&A!==(q==null?void 0:q.requestId)&&(a[A]=q)}})}}),R=ie({name:r+"/invalidation",initialState:ge,reducers:{updateProvidedBy:{reducer:function(l,a){for(var o,f,m,d,g=a.payload,A=g.queryCacheKey,q=g.providedTags,E=0,Q=Object.values(l);E<Q.length;E++)for(var C=Q[E],F=0,M=Object.values(C);F<M.length;F++){var N=M[F],x=N.indexOf(A);x!==-1&&N.splice(x,1)}for(var H=0,V=q;H<V.length;H++){var z=V[H],K=z.type,D=z.id,$=(d=(f=(o=l[K])!=null?o:l[K]={})[m=D||"__internal_without_id"])!=null?d:f[m]=[],L=$.includes(A);L||$.push(A)}},prepare:ye()}},extraReducers:function(l){l.addCase(v.actions.removeQueryResult,function(a,o){for(var f=o.payload.queryCacheKey,m=0,d=Object.values(a);m<d.length;m++)for(var g=d[m],A=0,q=Object.values(g);A<q.length;A++){var E=q[A],Q=E.indexOf(f);Q!==-1&&E.splice(Q,1)}}).addMatcher(P,function(a,o){for(var f,m,d,g,A=w(o).provided,q=0,E=Object.entries(A);q<E.length;q++)for(var Q=E[q],C=Q[0],F=Q[1],M=0,N=Object.entries(F);M<N.length;M++)for(var x=N[M],H=x[0],V=x[1],z=(g=(m=(f=a[C])!=null?f:a[C]={})[d=H||"__internal_without_id"])!=null?g:m[d]=[],K=0,D=V;K<D.length;K++){var $=D[K],L=z.includes($);L||z.push($)}}).addMatcher(Tr(pe(t),_e(t)),function(a,o){var f=xr(o,"providesTags",s,h),m=o.meta.arg.queryCacheKey;R.caseReducers.updateProvidedBy(a,R.actions.updateProvidedBy({queryCacheKey:m,providedTags:f}))})}}),b=ie({name:r+"/subscriptions",initialState:ge,reducers:{updateSubscriptionOptions:function(l,a){},unsubscribeQueryResult:function(l,a){},internal_probeSubscription:function(l,a){}}}),O=ie({name:r+"/internalSubscriptions",initialState:ge,reducers:{subscriptionsUpdated:{reducer:function(l,a){return je(l,a.payload)},prepare:ye()}}}),k=ie({name:r+"/config",initialState:_({online:gt(),focused:mt(),middlewareRegistered:!1},p),reducers:{middlewareRegistered:function(l,a){var o=a.payload;l.middlewareRegistered=l.middlewareRegistered==="conflict"||T!==o?"conflict":!0}},extraReducers:function(l){l.addCase(Je,function(a){a.online=!0}).addCase(Mr,function(a){a.online=!1}).addCase(Be,function(a){a.focused=!0}).addCase(Qr,function(a){a.focused=!1}).addMatcher(P,function(a){return _({},a)})}}),I=Hr({queries:v.reducer,mutations:c.reducer,provided:R.reducer,subscriptions:O.reducer,config:k.reducer}),S=function(l,a){return I(y.match(a)?void 0:l,a)},n=ee(_(_(_(_(_(_({},k.actions),v.actions),b.actions),O.actions),c.actions),R.actions),{unsubscribeMutationResult:c.actions.removeMutationResult,resetApiState:y});return{reducer:S,actions:n}}var oe=Symbol.for("RTKQ/skipToken"),Dr={status:W.uninitialized},vr=Le(Dr,function(){}),pr=Le(Dr,function(){});function Et(e){var r=e.serializeQueryArgs,t=e.reducerPath,i=function(p){return vr},u=function(p){return pr};return{buildQuerySelector:w,buildMutationSelector:P,selectInvalidatedBy:h};function s(p){return _(_({},p),dt(p.status))}function T(p){var y=p[t];return y}function w(p,y){return function(v){var c=r({queryArgs:v,endpointDefinition:y,endpointName:p}),R=function(O){var k,I,S;return(S=(I=(k=T(O))==null?void 0:k.queries)==null?void 0:I[c])!=null?S:vr},b=v===oe?i:R;return me(b,s)}}function P(){return function(p){var y,v;typeof p=="object"?v=(y=Se(p))!=null?y:oe:v=p;var c=function(b){var O,k,I;return(I=(k=(O=T(b))==null?void 0:O.mutations)==null?void 0:k[v])!=null?I:pr},R=v===oe?u:c;return me(R,s)}}function h(p,y){for(var v,c=p[t],R=new Set,b=0,O=y.map($e);b<O.length;b++){var k=O[b],I=c.provided[k.type];if(I)for(var S=(v=k.id!==void 0?I[k.id]:ur(Object.values(I)))!=null?v:[],n=0,l=S;n<l.length;n++){var a=l[n];R.add(a)}}return ur(Array.from(R.values()).map(function(o){var f=c.queries[o];return f?[{queryCacheKey:o,endpointName:f.endpointName,originalArgs:f.originalArgs}]:[]}))}}var Pe=WeakMap?new WeakMap:void 0,hr=function(e){var r=e.endpointName,t=e.queryArgs,i="",u=Pe==null?void 0:Pe.get(t);if(typeof u=="string")i=u;else{var s=JSON.stringify(t,function(T,w){return se(w)?Object.keys(w).sort().reduce(function(P,h){return P[h]=w[h],P},{}):w});se(t)&&(Pe==null||Pe.set(t,s)),i=s}return r+"("+i+")"};function Qt(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];return function(i){var u=Ve(function(p){var y,v;return(v=i.extractRehydrationInfo)==null?void 0:v.call(i,p,{reducerPath:(y=i.reducerPath)!=null?y:"api"})}),s=ee(_({reducerPath:"api",keepUnusedDataFor:60,refetchOnMountOrArgChange:!1,refetchOnFocus:!1,refetchOnReconnect:!1},i),{extractRehydrationInfo:u,serializeQueryArgs:function(p){var y=hr;if("serializeQueryArgs"in p.endpointDefinition){var v=p.endpointDefinition.serializeQueryArgs;y=function(c){var R=v(c);return typeof R=="string"?R:hr(ee(_({},c),{queryArgs:R}))}}else i.serializeQueryArgs&&(y=i.serializeQueryArgs);return y(p)},tagTypes:Ee([],i.tagTypes||[])}),T={endpointDefinitions:{},batch:function(p){p()},apiUid:Ur(),extractRehydrationInfo:u,hasRehydrationInfo:Ve(function(p){return u(p)!=null})},w={injectEndpoints:h,enhanceEndpoints:function(p){var y=p.addTagTypes,v=p.endpoints;if(y)for(var c=0,R=y;c<R.length;c++){var b=R[c];s.tagTypes.includes(b)||s.tagTypes.push(b)}if(v)for(var O=0,k=Object.entries(v);O<k.length;O++){var I=k[O],S=I[0],n=I[1];typeof n=="function"?n(T.endpointDefinitions[S]):Object.assign(T.endpointDefinitions[S]||{},n)}return w}},P=e.map(function(p){return p.init(w,s,T)});function h(p){for(var y=p.endpoints({query:function(n){return ee(_({},n),{type:re.query})},mutation:function(n){return ee(_({},n),{type:re.mutation})}}),v=0,c=Object.entries(y);v<c.length;v++){var R=c[v],b=R[0],O=R[1];if(!p.overrideExisting&&b in T.endpointDefinitions){typeof process<"u";continue}T.endpointDefinitions[b]=O;for(var k=0,I=P;k<I.length;k++){var S=I[k];S.injectEndpoint(b,O)}}return w}return w.injectEndpoints({endpoints:i.endpoints})}}function Mt(e){for(var r in e)return!1;return!0}var Ct=2147483647/1e3-1,xt=function(e){var r=e.reducerPath,t=e.api,i=e.context,u=e.internalState,s=t.internalActions,T=s.removeQueryResult,w=s.unsubscribeQueryResult;function P(v){var c=u.currentSubscriptions[v];return!!c&&!Mt(c)}var h={},p=function(v,c,R){var b;if(w.match(v)){var O=c.getState()[r],k=v.payload.queryCacheKey;y(k,(b=O.queries[k])==null?void 0:b.endpointName,c,O.config)}if(t.util.resetApiState.match(v))for(var I=0,S=Object.entries(h);I<S.length;I++){var n=S[I],l=n[0],a=n[1];a&&clearTimeout(a),delete h[l]}if(i.hasRehydrationInfo(v))for(var O=c.getState()[r],o=i.extractRehydrationInfo(v).queries,f=0,m=Object.entries(o);f<m.length;f++){var d=m[f],k=d[0],g=d[1];y(k,g==null?void 0:g.endpointName,c,O.config)}};function y(v,c,R,b){var O,k=i.endpointDefinitions[c],I=(O=k==null?void 0:k.keepUnusedDataFor)!=null?O:b.keepUnusedDataFor;if(I!==1/0){var S=Math.max(0,Math.min(I,Ct));if(!P(v)){var n=h[v];n&&clearTimeout(n),h[v]=setTimeout(function(){P(v)||R.dispatch(T({queryCacheKey:v})),delete h[v]},S*1e3)}}}return p},Dt=function(e){var r=e.reducerPath,t=e.context,i=e.context.endpointDefinitions,u=e.mutationThunk,s=e.api,T=e.assertTagType,w=e.refetchQuery,P=s.internalActions.removeQueryResult,h=Tr(pe(u),_e(u)),p=function(v,c){h(v)&&y(xr(v,"invalidatesTags",i,T),c),s.util.invalidateTags.match(v)&&y(Ye(v.payload,void 0,void 0,void 0,void 0,T),c)};function y(v,c){var R=c.getState(),b=R[r],O=s.util.selectInvalidatedBy(R,v);t.batch(function(){for(var k,I=Array.from(O.values()),S=0,n=I;S<n.length;S++){var l=n[S].queryCacheKey,a=b.queries[l],o=(k=b.subscriptions[l])!=null?k:{};a&&(Object.keys(o).length===0?c.dispatch(P({queryCacheKey:l})):a.status!==W.uninitialized&&c.dispatch(w(a,l)))}})}return p},Ft=function(e){var r=e.reducerPath,t=e.queryThunk,i=e.api,u=e.refetchQuery,s=e.internalState,T={},w=function(c,R){(i.internalActions.updateSubscriptionOptions.match(c)||i.internalActions.unsubscribeQueryResult.match(c))&&h(c.payload,R),(t.pending.match(c)||t.rejected.match(c)&&c.meta.condition)&&h(c.meta.arg,R),(t.fulfilled.match(c)||t.rejected.match(c)&&!c.meta.condition)&&P(c.meta.arg,R),i.util.resetApiState.match(c)&&y()};function P(c,R){var b=c.queryCacheKey,O=R.getState()[r],k=O.queries[b],I=s.currentSubscriptions[b];if(!(!k||k.status===W.uninitialized)){var S=v(I);if(Number.isFinite(S)){var n=T[b];n!=null&&n.timeout&&(clearTimeout(n.timeout),n.timeout=void 0);var l=Date.now()+S,a=T[b]={nextPollTimestamp:l,pollingInterval:S,timeout:setTimeout(function(){a.timeout=void 0,R.dispatch(u(k,b))},S)}}}}function h(c,R){var b=c.queryCacheKey,O=R.getState()[r],k=O.queries[b],I=s.currentSubscriptions[b];if(!(!k||k.status===W.uninitialized)){var S=v(I);if(!Number.isFinite(S)){p(b);return}var n=T[b],l=Date.now()+S;(!n||l<n.nextPollTimestamp)&&P({queryCacheKey:b},R)}}function p(c){var R=T[c];R!=null&&R.timeout&&clearTimeout(R.timeout),delete T[c]}function y(){for(var c=0,R=Object.keys(T);c<R.length;c++){var b=R[c];p(b)}}function v(c){c===void 0&&(c={});var R=Number.POSITIVE_INFINITY;for(var b in c)c[b].pollingInterval&&(R=Math.min(c[b].pollingInterval,R));return R}return w},zt=function(e){var r=e.reducerPath,t=e.context,i=e.api,u=e.refetchQuery,s=e.internalState,T=i.internalActions.removeQueryResult,w=function(h,p){Be.match(h)&&P(p,"refetchOnFocus"),Je.match(h)&&P(p,"refetchOnReconnect")};function P(h,p){var y=h.getState()[r],v=y.queries,c=s.currentSubscriptions;t.batch(function(){for(var R=0,b=Object.keys(c);R<b.length;R++){var O=b[R],k=v[O],I=c[O];if(!(!I||!k)){var S=Object.values(I).some(function(n){return n[p]===!0})||Object.values(I).every(function(n){return n[p]===void 0})&&y.config[p];S&&(Object.keys(I).length===0?h.dispatch(T({queryCacheKey:O})):k.status!==W.uninitialized&&h.dispatch(u(k,O)))}}})}return w},yr=new Error("Promise never resolved before cacheEntryRemoved."),Ut=function(e){var r=e.api,t=e.reducerPath,i=e.context,u=e.queryThunk,s=e.mutationThunk;e.internalState;var T=er(u),w=er(s),P=pe(u,s),h={},p=function(c,R,b){var O=y(c);if(u.pending.match(c)){var k=b[t].queries[O],I=R.getState()[t].queries[O];!k&&I&&v(c.meta.arg.endpointName,c.meta.arg.originalArgs,O,R,c.meta.requestId)}else if(s.pending.match(c)){var I=R.getState()[t].mutations[O];I&&v(c.meta.arg.endpointName,c.meta.arg.originalArgs,O,R,c.meta.requestId)}else if(P(c)){var S=h[O];S!=null&&S.valueResolved&&(S.valueResolved({data:c.payload,meta:c.meta.baseQueryMeta}),delete S.valueResolved)}else if(r.internalActions.removeQueryResult.match(c)||r.internalActions.removeMutationResult.match(c)){var S=h[O];S&&(delete h[O],S.cacheEntryRemoved())}else if(r.util.resetApiState.match(c))for(var n=0,l=Object.entries(h);n<l.length;n++){var a=l[n],o=a[0],S=a[1];delete h[o],S.cacheEntryRemoved()}};function y(c){return T(c)?c.meta.arg.queryCacheKey:w(c)?c.meta.requestId:r.internalActions.removeQueryResult.match(c)?c.payload.queryCacheKey:r.internalActions.removeMutationResult.match(c)?Se(c.payload):""}function v(c,R,b,O,k){var I=i.endpointDefinitions[c],S=I==null?void 0:I.onCacheEntryAdded;if(S){var n={},l=new Promise(function(g){n.cacheEntryRemoved=g}),a=Promise.race([new Promise(function(g){n.valueResolved=g}),l.then(function(){throw yr})]);a.catch(function(){}),h[b]=n;var o=r.endpoints[c].select(I.type===re.query?R:b),f=O.dispatch(function(g,A,q){return q}),m=ee(_({},O),{getCacheEntry:function(){return o(O.getState())},requestId:k,extra:f,updateCachedData:I.type===re.query?function(g){return O.dispatch(r.util.updateQueryData(c,R,g))}:void 0,cacheDataLoaded:a,cacheEntryRemoved:l}),d=S(R,m);Promise.resolve(d).catch(function(g){if(g!==yr)throw g})}}return p},Nt=function(e){var r=e.api,t=e.context,i=e.queryThunk,u=e.mutationThunk,s=qr(i,u),T=wr(i,u),w=pe(i,u),P={},h=function(p,y){var v,c,R;if(s(p)){var b=p.meta,O=b.requestId,k=b.arg,I=k.endpointName,S=k.originalArgs,n=t.endpointDefinitions[I],l=n==null?void 0:n.onQueryStarted;if(l){var a={},o=new Promise(function(Q,C){a.resolve=Q,a.reject=C});o.catch(function(){}),P[O]=a;var f=r.endpoints[I].select(n.type===re.query?S:O),m=y.dispatch(function(Q,C,F){return F}),d=ee(_({},y),{getCacheEntry:function(){return f(y.getState())},requestId:O,extra:m,updateCachedData:n.type===re.query?function(Q){return y.dispatch(r.util.updateQueryData(I,S,Q))}:void 0,queryFulfilled:o});l(S,d)}}else if(w(p)){var g=p.meta,O=g.requestId,A=g.baseQueryMeta;(v=P[O])==null||v.resolve({data:p.payload,meta:A}),delete P[O]}else if(T(p)){var q=p.meta,O=q.requestId,E=q.rejectedWithValue,A=q.baseQueryMeta;(R=P[O])==null||R.reject({error:(c=p.payload)!=null?c:p.error,isUnhandledError:!E,meta:A}),delete P[O]}};return h},Ht=function(e){var r=e.api,t=e.context.apiUid,i=e.reducerPath;return function(u,s){var T,w;r.util.resetApiState.match(u)&&s.dispatch(r.internalActions.middlewareRegistered(t)),typeof process<"u"}},gr,Kt=typeof queueMicrotask=="function"?queueMicrotask.bind(typeof window<"u"?window:typeof global<"u"?global:globalThis):function(e){return(gr||(gr=Promise.resolve())).then(e).catch(function(r){return setTimeout(function(){throw r},0)})},Vt=function(e){var r=e.api,t=e.queryThunk,i=e.internalState,u=r.reducerPath+"/subscriptions",s=null,T=!1,w=r.internalActions,P=w.updateSubscriptionOptions,h=w.unsubscribeQueryResult,p=function(y,v){var c,R,b,O,k,I,S,n,l;if(P.match(v)){var a=v.payload,o=a.queryCacheKey,f=a.requestId,m=a.options;return(c=y==null?void 0:y[o])!=null&&c[f]&&(y[o][f]=m),!0}if(h.match(v)){var d=v.payload,o=d.queryCacheKey,f=d.requestId;return y[o]&&delete y[o][f],!0}if(r.internalActions.removeQueryResult.match(v))return delete y[v.payload.queryCacheKey],!0;if(t.pending.match(v)){var g=v.meta,A=g.arg,f=g.requestId;if(A.subscribe){var q=(b=y[R=A.queryCacheKey])!=null?b:y[R]={};return q[f]=(k=(O=A.subscriptionOptions)!=null?O:q[f])!=null?k:{},!0}}if(t.rejected.match(v)){var E=v.meta,Q=E.condition,A=E.arg,f=E.requestId;if(Q&&A.subscribe){var q=(S=y[I=A.queryCacheKey])!=null?S:y[I]={};return q[f]=(l=(n=A.subscriptionOptions)!=null?n:q[f])!=null?l:{},!0}}return!1};return function(y,v){var c,R;if(s||(s=JSON.parse(JSON.stringify(i.currentSubscriptions))),r.util.resetApiState.match(y))return s=i.currentSubscriptions={},[!0,!1];if(r.internalActions.internal_probeSubscription.match(y)){var b=y.payload,O=b.queryCacheKey,k=b.requestId,I=!!((c=i.currentSubscriptions[O])!=null&&c[k]);return[!1,I]}var S=p(i.currentSubscriptions,y);if(S){T||(Kt(function(){var o=JSON.parse(JSON.stringify(i.currentSubscriptions)),f=Pr(s,function(){return o}),m=f[1];v.next(r.internalActions.subscriptionsUpdated(m)),s=o,T=!1}),T=!0);var n=!!((R=y.type)!=null&&R.startsWith(u)),l=t.rejected.match(y)&&y.meta.condition&&!!y.meta.arg.subscribe,a=!n&&!l;return[a,!1]}return[!0,!1]}};function $t(e){var r=e.reducerPath,t=e.queryThunk,i=e.api,u=e.context,s=u.apiUid,T={invalidateTags:ve(r+"/invalidateTags")},w=function(y){return!!y&&typeof y.type=="string"&&y.type.startsWith(r+"/")},P=[Ht,xt,Dt,Ft,Ut,Nt],h=function(y){var v=!1,c={currentSubscriptions:{}},R=ee(_({},e),{internalState:c,refetchQuery:p}),b=P.map(function(I){return I(R)}),O=Vt(R),k=zt(R);return function(I){return function(S){v||(v=!0,y.dispatch(i.internalActions.middlewareRegistered(s)));var n=ee(_({},y),{next:I}),l=y.getState(),a=O(S,n,l),o=a[0],f=a[1],m;if(o?m=I(S):m=f,y.getState()[r]&&(k(S,n,l),w(S)||u.hasRehydrationInfo(S)))for(var d=0,g=b;d<g.length;d++){var A=g[d];A(S,n,l)}return m}}};return{middleware:h,actions:T};function p(y,v,c){return c===void 0&&(c={}),t(_({type:"query",endpointName:y.endpointName,originalArgs:y.originalArgs,subscribe:!1,forceRefetch:!0,queryCacheKey:v},c))}}function ae(e){for(var r=[],t=1;t<arguments.length;t++)r[t-1]=arguments[t];Object.assign.apply(Object,Ee([e],r))}var mr=Symbol(),Wt=function(){return{name:mr,init:function(e,r,t){var i=r.baseQuery,u=r.tagTypes,s=r.reducerPath,T=r.serializeQueryArgs,w=r.keepUnusedDataFor,P=r.refetchOnMountOrArgChange,h=r.refetchOnFocus,p=r.refetchOnReconnect;Nr();var y=function(z){return typeof process<"u",z};Object.assign(e,{reducerPath:s,endpoints:{},internalActions:{onOnline:Je,onOffline:Mr,onFocus:Be,onFocusLost:Qr},util:{}});var v=It({baseQuery:i,reducerPath:s,context:t,api:e,serializeQueryArgs:T,assertTagType:y}),c=v.queryThunk,R=v.mutationThunk,b=v.patchQueryData,O=v.updateQueryData,k=v.upsertQueryData,I=v.prefetch,S=v.buildMatchThunkActions,n=kt({context:t,queryThunk:c,mutationThunk:R,reducerPath:s,assertTagType:y,config:{refetchOnFocus:h,refetchOnReconnect:p,refetchOnMountOrArgChange:P,keepUnusedDataFor:w,reducerPath:s}}),l=n.reducer,a=n.actions;ae(e.util,{patchQueryData:b,updateQueryData:O,upsertQueryData:k,prefetch:I,resetApiState:a.resetApiState}),ae(e.internalActions,a);var o=$t({reducerPath:s,context:t,queryThunk:c,mutationThunk:R,api:e,assertTagType:y}),f=o.middleware,m=o.actions;ae(e.util,m),ae(e,{reducer:l,middleware:f});var d=Et({serializeQueryArgs:T,reducerPath:s}),g=d.buildQuerySelector,A=d.buildMutationSelector,q=d.selectInvalidatedBy;ae(e.util,{selectInvalidatedBy:q});var E=At({queryThunk:c,mutationThunk:R,api:e,serializeQueryArgs:T,context:t}),Q=E.buildInitiateQuery,C=E.buildInitiateMutation,F=E.getRunningMutationThunk,M=E.getRunningMutationsThunk,N=E.getRunningQueriesThunk,x=E.getRunningQueryThunk,H=E.getRunningOperationPromises,V=E.removalWarning;return ae(e.util,{getRunningOperationPromises:H,getRunningOperationPromise:V,getRunningMutationThunk:F,getRunningMutationsThunk:M,getRunningQueryThunk:x,getRunningQueriesThunk:N}),{name:mr,injectEndpoint:function(z,K){var D,$,L=e;($=(D=L.endpoints)[z])!=null||(D[z]={}),Cr(K)?ae(L.endpoints[z],{name:z,select:g(z,K),initiate:Q(z,K)},S(c,z)):qt(K)&&ae(L.endpoints[z],{name:z,select:A(),initiate:C(z)},S(R,z))}}}}},_t=function(e,r){for(var t=0,i=r.length,u=e.length;t<i;t++,u++)e[u]=r[t];return e},Lt=Object.defineProperty,Bt=Object.defineProperties,Jt=Object.getOwnPropertyDescriptors,br=Object.getOwnPropertySymbols,Yt=Object.prototype.hasOwnProperty,Gt=Object.prototype.propertyIsEnumerable,Sr=function(e,r,t){return r in e?Lt(e,r,{enumerable:!0,configurable:!0,writable:!0,value:t}):e[r]=t},te=function(e,r){for(var t in r||(r={}))Yt.call(r,t)&&Sr(e,t,r[t]);if(br)for(var i=0,u=br(r);i<u.length;i++){var t=u[i];Gt.call(r,t)&&Sr(e,t,r[t])}return e},Ae=function(e,r){return Bt(e,Jt(r))};function Rr(e,r,t,i){var u=U.useMemo(function(){return{queryArgs:e,serialized:typeof e=="object"?r({queryArgs:e,endpointDefinition:t,endpointName:i}):e}},[e,r,t,i]),s=U.useRef(u);return U.useEffect(function(){s.current.serialized!==u.serialized&&(s.current=u)},[u]),s.current.serialized===u.serialized?s.current.queryArgs:e}var Ne=Symbol();function He(e){var r=U.useRef(e);return U.useEffect(function(){Ie(r.current,e)||(r.current=e)},[e]),Ie(r.current,e)?r.current:e}var qe=WeakMap?new WeakMap:void 0,Xt=function(e){var r=e.endpointName,t=e.queryArgs,i="",u=qe==null?void 0:qe.get(t);if(typeof u=="string")i=u;else{var s=JSON.stringify(t,function(T,w){return se(w)?Object.keys(w).sort().reduce(function(P,h){return P[h]=w[h],P},{}):w});se(t)&&(qe==null||qe.set(t,s)),i=s}return r+"("+i+")"},Zt=typeof window<"u"&&window.document&&window.document.createElement?U.useLayoutEffect:U.useEffect,jt=function(e){return e},en=function(e){return e.isUninitialized?Ae(te({},e),{isUninitialized:!1,isFetching:!0,isLoading:e.data===void 0,status:W.pending}):e};function rn(e){var r=e.api,t=e.moduleOptions,i=t.batch,u=t.useDispatch,s=t.useSelector,T=t.useStore,w=t.unstable__sideEffectsInRender,P=e.serializeQueryArgs,h=e.context,p=w?function(b){return b()}:U.useEffect;return{buildQueryHooks:c,buildMutationHook:R,usePrefetch:v};function y(b,O,k){if(O!=null&&O.endpointName&&b.isUninitialized){var I=O.endpointName,S=h.endpointDefinitions[I];P({queryArgs:O.originalArgs,endpointDefinition:S,endpointName:I})===P({queryArgs:k,endpointDefinition:S,endpointName:I})&&(O=void 0)}var n=b.isSuccess?b.data:O==null?void 0:O.data;n===void 0&&(n=b.data);var l=n!==void 0,a=b.isLoading,o=!l&&a,f=b.isSuccess||a&&l;return Ae(te({},b),{data:n,currentData:b.data,isFetching:a,isLoading:o,isSuccess:f})}function v(b,O){var k=u(),I=He(O);return U.useCallback(function(S,n){return k(r.util.prefetch(b,S,te(te({},I),n)))},[b,k,I])}function c(b){var O=function(S,n){var l=n===void 0?{}:n,a=l.refetchOnReconnect,o=l.refetchOnFocus,f=l.refetchOnMountOrArgChange,m=l.skip,d=m===void 0?!1:m,g=l.pollingInterval,A=g===void 0?0:g,q=r.endpoints[b].initiate,E=u(),Q=Rr(d?oe:S,Xt,h.endpointDefinitions[b],b),C=He({refetchOnReconnect:a,refetchOnFocus:o,pollingInterval:A}),F=U.useRef(!1),M=U.useRef(),N=M.current||{},x=N.queryCacheKey,H=N.requestId,V=!1;if(x&&H){var z=E(r.internalActions.internal_probeSubscription({queryCacheKey:x,requestId:H}));V=!!z}var K=!V&&F.current;return p(function(){F.current=V}),p(function(){K&&(M.current=void 0)},[K]),p(function(){var D,$=M.current;if(typeof process<"u",Q===oe){$==null||$.unsubscribe(),M.current=void 0;return}var L=(D=M.current)==null?void 0:D.subscriptionOptions;if(!$||$.arg!==Q){$==null||$.unsubscribe();var Y=E(q(Q,{subscriptionOptions:C,forceRefetch:f}));M.current=Y}else C!==L&&$.updateSubscriptionOptions(C)},[E,q,f,Q,C,K]),U.useEffect(function(){return function(){var D;(D=M.current)==null||D.unsubscribe(),M.current=void 0}},[]),U.useMemo(function(){return{refetch:function(){var D;if(!M.current)throw new Error("Cannot refetch a query that has not been started yet.");return(D=M.current)==null?void 0:D.refetch()}}},[])},k=function(S){var n=S===void 0?{}:S,l=n.refetchOnReconnect,a=n.refetchOnFocus,o=n.pollingInterval,f=o===void 0?0:o,m=r.endpoints[b].initiate,d=u(),g=U.useState(Ne),A=g[0],q=g[1],E=U.useRef(),Q=He({refetchOnReconnect:l,refetchOnFocus:a,pollingInterval:f});p(function(){var M,N,x=(M=E.current)==null?void 0:M.subscriptionOptions;Q!==x&&((N=E.current)==null||N.updateSubscriptionOptions(Q))},[Q]);var C=U.useRef(Q);p(function(){C.current=Q},[Q]);var F=U.useCallback(function(M,N){N===void 0&&(N=!1);var x;return i(function(){var H;(H=E.current)==null||H.unsubscribe(),E.current=x=d(m(M,{subscriptionOptions:C.current,forceRefetch:!N})),q(M)}),x},[d,m]);return U.useEffect(function(){return function(){var M;(M=E==null?void 0:E.current)==null||M.unsubscribe()}},[]),U.useEffect(function(){A!==Ne&&!E.current&&F(A,!0)},[A,F]),U.useMemo(function(){return[F,A]},[F,A])},I=function(S,n){var l=n===void 0?{}:n,a=l.skip,o=a===void 0?!1:a,f=l.selectFromResult,m=r.endpoints[b].select,d=Rr(o?oe:S,P,h.endpointDefinitions[b],b),g=U.useRef(),A=U.useMemo(function(){return me([m(d),function(F,M){return M},function(F){return d}],y)},[m,d]),q=U.useMemo(function(){return f?me([A],f):A},[A,f]),E=s(function(F){return q(F,g.current)},Ie),Q=T(),C=A(Q.getState(),g.current);return Zt(function(){g.current=C},[C]),E};return{useQueryState:I,useQuerySubscription:O,useLazyQuerySubscription:k,useLazyQuery:function(S){var n=k(S),l=n[0],a=n[1],o=I(a,Ae(te({},S),{skip:a===Ne})),f=U.useMemo(function(){return{lastArg:a}},[a]);return U.useMemo(function(){return[l,o,f]},[l,o,f])},useQuery:function(S,n){var l=O(S,n),a=I(S,te({selectFromResult:S===oe||n!=null&&n.skip?void 0:en},n)),o=a.data,f=a.status,m=a.isLoading,d=a.isSuccess,g=a.isError,A=a.error;return U.useDebugValue({data:o,status:f,isLoading:m,isSuccess:d,isError:g,error:A}),U.useMemo(function(){return te(te({},a),l)},[a,l])}}}function R(b){return function(O){var k=O===void 0?{}:O,I=k.selectFromResult,S=I===void 0?jt:I,n=k.fixedCacheKey,l=r.endpoints[b],a=l.select,o=l.initiate,f=u(),m=U.useState(),d=m[0],g=m[1];U.useEffect(function(){return function(){d!=null&&d.arg.fixedCacheKey||d==null||d.reset()}},[d]);var A=U.useCallback(function($){var L=f(o($,{fixedCacheKey:n}));return g(L),L},[f,o,n]),q=(d||{}).requestId,E=U.useMemo(function(){return me([a({fixedCacheKey:n,requestId:d==null?void 0:d.requestId})],S)},[a,d,S,n]),Q=s(E,Ie),C=n==null?d==null?void 0:d.arg.originalArgs:void 0,F=U.useCallback(function(){i(function(){d&&g(void 0),n&&f(r.internalActions.removeMutationResult({requestId:q,fixedCacheKey:n}))})},[f,n,d,q]),M=Q.endpointName,N=Q.data,x=Q.status,H=Q.isLoading,V=Q.isSuccess,z=Q.isError,K=Q.error;U.useDebugValue({endpointName:M,data:N,status:x,isLoading:H,isSuccess:V,isError:z,error:K});var D=U.useMemo(function(){return Ae(te({},Q),{originalArgs:C,reset:F})},[Q,C,F]);return U.useMemo(function(){return[A,D]},[A,D])}}}var Me;(function(e){e.query="query",e.mutation="mutation"})(Me||(Me={}));function tn(e){return e.type===Me.query}function nn(e){return e.type===Me.mutation}function Ke(e){return e.replace(e[0],e[0].toUpperCase())}function we(e){for(var r=[],t=1;t<arguments.length;t++)r[t-1]=arguments[t];Object.assign.apply(Object,_t([e],r))}var an=Symbol(),un=function(e){var r={},t=r.batch,i=t===void 0?Br.unstable_batchedUpdates:t,u=r.useDispatch,s=u===void 0?_r:u,T=r.useSelector,w=T===void 0?Wr:T,P=r.useStore,h=P===void 0?Lr:P,p=r.unstable__sideEffectsInRender,y=p===void 0?!1:p;return{name:an,init:function(v,c,R){var b=c.serializeQueryArgs,O=v,k=rn({api:v,moduleOptions:{batch:i,useDispatch:s,useSelector:w,useStore:h,unstable__sideEffectsInRender:y},serializeQueryArgs:b,context:R}),I=k.buildQueryHooks,S=k.buildMutationHook,n=k.usePrefetch;return we(O,{usePrefetch:n}),we(R,{batch:i}),{injectEndpoint:function(l,a){if(tn(a)){var o=I(l),f=o.useQuery,m=o.useLazyQuery,d=o.useLazyQuerySubscription,g=o.useQueryState,A=o.useQuerySubscription;we(O.endpoints[l],{useQuery:f,useLazyQuery:m,useLazyQuerySubscription:d,useQueryState:g,useQuerySubscription:A}),v["use"+Ke(l)+"Query"]=f,v["useLazy"+Ke(l)+"Query"]=m}else if(nn(a)){var q=S(l);we(O.endpoints[l],{useMutation:q}),v["use"+Ke(l)+"Mutation"]=q}}}}}},on=Qt(Wt(),un()),sn=(e=>(e[e.none=0]="none",e[e.second=1]="second",e[e.minute=60]="minute",e[e.fiveMinutes=300]="fiveMinutes",e[e.hour=3600]="hour",e[e.day=86400]="day",e[e.week=604800]="week",e))(sn||{}),Fr=(e=>(e[e.short=1e3]="short",e[e.medium=15e3]="medium",e[e.long=3e4]="long",e))(Fr||{});const cn=e=>new Promise(r=>setTimeout(r,e)),ln=(e,{getState:r})=>{const t=r(),{environment:i}=ot(t),u=Gr[i];return u?e.set("X-API-KEY",u):Ar(`No API key in .env for environment ${i}.`),e.set("releaseVersion",jr),e},fn=async(e,r,t)=>ze(async()=>{var c;const{slug:i,afterError:u,afterSuccess:s,prepareHeaders:T=R=>R}=e,w=st(i)(r.getState()),P=`${r.endpoint}: ${e.method??"GET"} ${w}${e.url}`;tr(`Request started: ${P}`);const h=await Rt({baseUrl:w,prepareHeaders:(R,b)=>ln(T(R,b),b),timeout:Fr.long})(e,r,t),{error:p,meta:y}=h,v=((c=y==null?void 0:y.response)==null?void 0:c.status)??(p==null?void 0:p.status)??0;return p?Ar(`Request failed (${v}): ${P}, ${JSON.stringify(p.data)}`):tr(`Request success: ${P}`),v===404&&ze.fail(p),((p==null?void 0:p.status)==="FETCH_ERROR"||(p==null?void 0:p.status)==="TIMEOUT_ERROR"||(p==null?void 0:p.status)===502)&&await cn(100),p?await(u==null?void 0:u(h,r,ze.fail)):await(s==null?void 0:s(h,r)),h},{maxRetries:2})(e,r,t),wn=on({baseQuery:fn,endpoints:()=>({}),reducerPath:"api",tagTypes:["Articles","FollowedProjects","LicensePlates","Modules","Notifications","ParkingSessions","Projects"]}),dn=ie({name:le.secureStorage,initialState:{},reducers:{setSecureItemUpdatedTimestamp:(e,{payload:r})=>{Object.assign(e,{[r]:Date.now()})},deleteSecureItemUpdatedTimestamp:(e,{payload:r})=>{e[r]&&delete e[r]}}}),{deleteSecureItemUpdatedTimestamp:An,setSecureItemUpdatedTimestamp:In}=dn.actions,kn=e=>r=>r[le.secureStorage][e],ne={},Or=2048;function vn(e,r){let t=0;for(let i=0;i<e.length;i++){const u=e.charCodeAt(i);if(u>=55296&&u<57344&&u<56320&&i+1<e.length){const s=e.charCodeAt(i+1);if(s>=56320&&s<57344){if(t+=4,t>r)return!0;i++;continue}}if(t+=u<128?1:u<2048?2:3,t>r)return!0}return t>r}ne.AFTER_FIRST_UNLOCK;ne.AFTER_FIRST_UNLOCK_THIS_DEVICE_ONLY;ne.ALWAYS;ne.WHEN_PASSCODE_SET_THIS_DEVICE_ONLY;ne.ALWAYS_THIS_DEVICE_ONLY;ne.WHEN_UNLOCKED;ne.WHEN_UNLOCKED_THIS_DEVICE_ONLY;async function pn(e,r={}){return zr(e),await ne.getValueWithKeyAsync(e,r)}async function hn(e,r,t={}){if(zr(e),!gn(r))throw new Error("Invalid value provided to SecureStore. Values must be strings; consider JSON-encoding your values if they are serializable.");await ne.setValueWithKeyAsync(r,e,t)}function zr(e){if(!yn(e))throw new Error('Invalid key provided to SecureStore. Keys must not be empty and contain only alphanumeric characters, ".", "-", and "_".')}function yn(e){return typeof e=="string"&&/^[\w.-]+$/.test(e)}function gn(e){return typeof e!="string"?!1:(vn(e,Or)&&console.warn(`Value being stored in SecureStore is larger than ${Or} bytes and it may not be stored successfully. In a future SDK version, this call may throw an error.`),!0)}var mn=(e=>(e.accessCode="accessCode",e.cityPassAccessToken="cityPassAccessToken",e.cityPassRefreshToken="cityPassRefreshToken",e.cityPasses="cityPasses",e.parkingPermitHolder="parkingPermitHolder",e.parkingVisitor="parkingVisitor",e.wasteCardNumber="wasteCardNumber",e))(mn||{});const En=(e,r)=>new Promise((t,i)=>{hn(e,r,{requireAuthentication:!1}).then(u=>t(u)).catch(u=>{Xr.trackException({exception:u}),i(u)})}),Qn=e=>new Promise((r,t)=>{pn(e,{requireAuthentication:!1}).then(i=>r(i)).catch(t)}),Mn=({params:e={},path:r})=>{const t=Object.entries(e).filter(([,s])=>Array.isArray(s)).flatMap(([s,T])=>T.flatMap(w=>`${s}=${w}`)),i=Object.entries(e).filter(([,s])=>!!s&&!Array.isArray(s)).flatMap(([s,T])=>`${s}=${T}`),u=t.concat(i).join("&");return u.length===0?r??"":[r,u].join("?")};export{sn as C,mn as S,En as a,In as b,wn as c,Mn as d,ut as e,dn as f,Qn as g,ot as h,kn as i,me as j,oe as s};
