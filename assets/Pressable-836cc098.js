import{j as R,S as z}from"./index-1401012c.js";import{r as f}from"./index-76fb7be0.js";import{B as F}from"./Box-35580222.js";import{a as j,b as D,d as B}from"./development-21049e2b.js";import{c as H,V as $,a as G,P as Y,b as X,d as J,e as Q,M as Z}from"./slugs-13c6b226.js";import{a as ee}from"./useThemable-27d8c265.js";import{u as M}from"./useSentry-c67ebe57.js";import{P as te}from"./invariant-f1a82cf7.js";import{N as P}from"./index-d983c834.js";import{S as y,s as ae}from"./logging-9ce2133e.js";import{P as re}from"./index-393588f7.js";const k=H();var W=(e=>(e[e.searchTerm=3]="searchTerm",e[e.searchResultAmount=4]="searchResultAmount",e[e.searchType=5]="searchType",e[e.searchResultTitle=6]="searchResultTitle",e[e.searchResultUrl=7]="searchResultUrl",e[e.searchResultType=8]="searchResultType",e[e.searchResultSelected=9]="searchResultSelected",e[e.contentTitle=10]="contentTitle",e[e.contentSubject=11]="contentSubject",e[e.contentTeam=12]="contentTeam",e[e.contentPublicationDate=13]="contentPublicationDate",e[e.contentType=14]="contentType",e[e.userIntext=15]="userIntext",e[e.searchMachine=16]="searchMachine",e[e.pageType=17]="pageType",e[e.contentId=20]="contentId",e))(W||{}),T=(e=>(e[e.userType=1]="userType",e[e.userCity=2]="userCity",e[e.appVersion=18]="appVersion",e[e.appVersionWithBuild=19]="appVersionWithBuild",e))(T||{}),q=(e=>(e.addressAdd="addressAdd",e.addressChange="addressChange",e.buttonPress="buttonPress",e.toForeground="toForeground",e))(q||{}),w=(e=>(e.alreadyInitialized="Piwik Pro SDK has been already initialized",e.missingEnvVars="PIWIK_PRO_URL or PIWIK_PRO_ID are not defined in env",e))(w||{});const _=e=>e&&Object.keys(e).filter(t=>e[t]!==void 0).reduce((t,a)=>({...t,[a]:e[a]}),{}),ne={[T.appVersion]:$,[T.appVersionWithBuild]:G},x=e=>({...e,customDimensions:_({...e==null?void 0:e.customDimensions,...ne})}),ce=e=>(e==null?void 0:e.screenTitle)??(e==null?void 0:e.screenHeaderTitle),ue=(e,t)=>!(t!=null&&t.id)&&typeof(t==null?void 0:t.id)!="number"?_(e):{..._(e),[W.contentId]:t.id.toString()};function se(e){if(!Number.isInteger(e))throw new Error("Parameter must be an integer number")}function p(e){e&&Object.entries(e).forEach(t=>{let[a,n]=t;const s=parseInt(a,10);if(a!==s.toString())throw new Error("ID (key) must be an integer");if(s<1)throw new Error("ID (key) must be an integer greater than 0")})}function g(e){e.forEach(t=>{let a=t.customDimensions;if(a){if(Object.keys(a).length>20)throw new Error("Max 20 product custom dimensions, 20 is max ID.");p(a)}})}function oe(e){if(!/^[0-9a-f]{16}$/.test(e))throw new Error(`Visitor ID ${e} has invalid format. The format must match the regular expression: ^[0-9a-f]{16}$`)}const ie="1.1.0",le=`The package 'react-native-piwik-pro-sdk' doesn't seem to be linked. Make sure: 

`+te.select({ios:`- You have run 'pod install'
`,default:""})+`- You rebuilt the app after installing the package
- You are not using Expo managed workflow
`,r=P.PiwikProSdk?P.PiwikProSdk:new Proxy({},{get(){throw new Error(le)}});async function de(e,t){return await r.init(e,t,ie)}async function fe(e,t){return c(t),await r.trackScreen(e,t)}async function me(e,t,a){return c(a),await r.trackCustomEvent(e,t,a)}async function ye(e,t){return c(t),await r.trackException(e,t)}async function ge(e,t,a){return c(a),await r.trackSocialInteraction(e,t,a)}async function ve(e,t){return c(t),await r.trackDownload(e,t)}async function he(){return await r.trackApplicationInstall()}async function pe(e,t){return c(t),await r.trackOutlink(e,t)}async function Ie(e,t){return c(t),await r.trackSearch(e,t)}async function ke(e,t){return c(t),await r.trackImpression(e,t)}async function we(e,t,a){return c(a),await r.trackInteraction(e,t,a)}async function be(e,t){return c(t),await r.trackGoal(e,t)}async function Ee(e,t,a){return await r.trackEcommerce(e,t,a)}async function Ce(e,t){return c(t),g(e),await r.trackEcommerceProductDetailView(e,t)}async function xe(e,t,a){return c(a),g(e),await r.trackEcommerceCartUpdate(e,t,a)}async function Re(e,t){return c(t),g(e),await r.trackEcommerceAddToCart(e,t)}async function Te(e,t){return c(t),g(e),await r.trackEcommerceRemoveFromCart(e,t)}async function _e(e,t,a,n){return c(n),g(a),await r.trackEcommerceOrder(e,t,a,n)}async function Ve(e){return await r.trackCampaign(e)}async function Se(e){if(Array.isArray(e)){if(!e.length)throw new Error("Profile attributes cannot be an empty array");return await r.trackProfileAttributes(e)}return await r.trackProfileAttributes([e])}async function Pe(){return await r.getProfileAttributes()}async function Oe(e){return await r.checkAudienceMembership(e)}async function Ne(e){return await r.setUserId(e)}async function Ae(){return await r.getUserId()}async function Ue(e){return await r.setUserEmail(e)}async function Me(){return await r.getUserEmail()}async function We(e){return oe(e),await r.setVisitorId(e)}async function qe(){return await r.getVisitorId()}async function Ke(e){return await r.setSessionTimeout(e)}async function Le(){return await r.getSessionTimeout()}async function ze(){return await r.startNewSession()}async function Fe(){return await r.dispatch()}async function je(e){return se(e),await r.setDispatchInterval(e)}async function De(){return await r.getDispatchInterval()}async function Be(e){return await r.setIncludeDefaultCustomVariables(e)}async function He(){return await r.getIncludeDefaultCustomVariables()}async function $e(e){return await r.setAnonymizationState(e)}async function Ge(){return await r.isAnonymizationOn()}async function Ye(e){return await r.setOptOut(e)}async function Xe(e){return await r.setDryRun(e)}async function Je(){return await r.getDryRun()}async function Qe(){return await r.getOptOut()}async function Ze(e){return await r.setPrefixing(e)}async function et(){return await r.isPrefixingOn()}function c(e){p(e==null?void 0:e.customDimensions),p(e==null?void 0:e.visitCustomVariables),p(e==null?void 0:e.screenCustomVariables)}const I={init:de,trackScreen:fe,trackCustomEvent:me,trackException:ye,trackSocialInteraction:ge,trackDownload:ve,trackApplicationInstall:he,trackOutlink:pe,trackSearch:Ie,trackImpression:ke,trackInteraction:we,trackGoal:be,trackEcommerce:Ee,trackEcommerceProductDetailView:Ce,trackEcommerceCartUpdate:xe,trackEcommerceAddToCart:Re,trackEcommerceRemoveFromCart:Te,trackEcommerceOrder:_e,trackCampaign:Ve,trackProfileAttributes:Se,getProfileAttributes:Pe,checkAudienceMembership:Oe,setUserId:Ne,getUserId:Ae,setUserEmail:Ue,getUserEmail:Me,setVisitorId:We,getVisitorId:qe,setSessionTimeout:Ke,getSessionTimeout:Le,startNewSession:ze,dispatch:Fe,setDispatchInterval:je,getDispatchInterval:De,setIncludeDefaultCustomVariables:Be,getIncludeDefaultCustomVariables:He,setAnonymizationState:$e,isAnonymizationOn:Ge,setOptOut:Ye,getOptOut:Qe,setDryRun:Xe,getDryRun:Je,setPrefixing:Ze,isPrefixingOn:et},[O,N]=j?[Y,X]:[J,Q],tt=async()=>!O||!N?Promise.reject(w.missingEnvVars):(await I.init(O,N),await I.trackApplicationInstall(),await I.setIncludeDefaultCustomVariables(!0),Promise.resolve()),b=f.createContext(void 0),A=({children:e})=>{const{sendSentryErrorLog:t}=M(),[a,n]=f.useState();return f.useEffect(()=>{a===void 0&&tt().then(()=>{n(I)}).catch(s=>{s.message!==w.alreadyInitialized&&(n(null),s.message!==w.missingEnvVars&&t(y.piwikInitialization,"piwik.provider.tsx",{error:s}))})},[a,t]),R(b.Provider,{value:a,children:e})};try{b.displayName="PiwikContext",b.__docgenInfo={description:"The PiwikContext contains the object with all methods, to be used via the usePiwik hook only.",displayName:"PiwikContext",props:{}}}catch{}try{A.displayName="PiwikProvider",A.__docgenInfo={description:"",displayName:"PiwikProvider",props:{}}}catch{}const at=()=>{if(k.isReady()){const e=k.getRootState(),t=e==null?void 0:e.routes;if(t)for(let a=t.length-1;a>=0;a--){const n=Z[t[a].name];if(n)return n}}},rt={trackCustomEvent:()=>{},trackOutlink:()=>{},trackScreen:()=>{},trackSearch:()=>{}},h="usePiwik.ts",nt=({trackCustomEvent:e,trackOutlink:t,trackScreen:a,trackSearch:n},s,E,l,v)=>({trackCustomEvent:(o,u,i,m=E,d=void 0)=>{D("trackCustomEvent",{name:o,action:u,dimensions:i,category:m,value:d}),e(m,u,x({path:l,customDimensions:i,value:d})).catch(()=>{s(y.piwikTrackCustomEvent,h,{category:m,action:u,name:o,path:l,value:d})})},trackOutlink:(o,u)=>{const i=ae(o);t(i,x(u)).catch(()=>{s(y.piwikTrackOutlink,h,{url:i})})},trackScreen:(o,u)=>{const i=o??l;i&&a(i,{...u,title:ce(v),customDimensions:ue(u==null?void 0:u.customDimensions,v)}).catch(()=>{s(y.piwikTrackScreen,h,{path:o})})},trackSearch:(o,u)=>{n(o,x(u)).catch(()=>{s(y.piwikTrackSearch,h)})}}),ct=()=>{const e=f.useContext(b),{sendSentryErrorLog:t}=M(),a=k.isReady()?k.getCurrentRoute():void 0,n=at()??"general";return f.useMemo(()=>e?nt(e,t,n,a==null?void 0:a.name,a==null?void 0:a.params):rt,[e,t,n,a==null?void 0:a.name,a==null?void 0:a.params])},U=f.forwardRef(({children:e,grow:t,inset:a="no",insetHorizontal:n,insetVertical:s,variant:E="tertiary",onPress:l=()=>null,logAction:v=q.buttonPress,logCategory:o,logName:u,logDimensions:i,logValue:m,...d},K)=>{const V=ee(ut(t,E)),{trackCustomEvent:L}=ct();return R(re,{accessibilityLanguage:"nl-NL",accessibilityRole:"button",onPress:C=>{l==null||l(C);const S=u??d["sentry-label"]??d.testID;S?L(S,v,i,o,m):B("No name found for component")},ref:K,style:({pressed:C})=>[V.button,C&&V.pressed],...d,children:R(F,{grow:!0,inset:a,insetHorizontal:n,insetVertical:s,children:e})})}),ut=(e,t)=>({color:a})=>z.create({button:{backgroundColor:t!=="transparent"?a.pressable[t].default:void 0,flex:e?1:void 0,flexShrink:e?0:1},pressed:{backgroundColor:t!=="transparent"?a.pressable[t].highlight:void 0}});try{U.displayName="Pressable",U.__docgenInfo={description:"Used to build other interactive components, do not use on its own.",displayName:"Pressable",props:{children:{defaultValue:null,description:`Either children or a render prop that receives a boolean reflecting whether
the component is currently pressed.`,name:"children",required:!1,type:{name:"((string | number | boolean | ReactElement<any, string | JSXElementConstructor<any>> | Iterable<ReactNode> | ReactPortal) & (string | ... 5 more ... | ((state: PressableStateCallbackType) => ReactNode))) | null"}},grow:{defaultValue:null,description:"Whether the button grows to fill its parent container.",name:"grow",required:!1,type:{name:"boolean"}},"sentry-label":{defaultValue:null,description:"",name:"sentry-label",required:!1,type:{name:"string"}},variant:{defaultValue:{value:"tertiary"},description:"",name:"variant",required:!1,type:{name:"enum",value:[{value:'"primary"'},{value:'"tertiary"'},{value:'"negative"'},{value:'"transparent"'}]}},inset:{defaultValue:{value:"no"},description:"The amount of inner spacing.",name:"inset",required:!1,type:{name:"enum",value:[{value:'"no"'},{value:'"xs"'},{value:'"sm"'},{value:'"md"'},{value:'"lg"'},{value:'"xl"'},{value:'"xxl"'},{value:'"xxxl"'}]}},insetHorizontal:{defaultValue:null,description:"The amount of inner spacing at the left and right.",name:"insetHorizontal",required:!1,type:{name:"enum",value:[{value:'"no"'},{value:'"xs"'},{value:'"sm"'},{value:'"md"'},{value:'"lg"'},{value:'"xl"'},{value:'"xxl"'},{value:'"xxxl"'}]}},insetVertical:{defaultValue:null,description:"The amount of inner spacing at the top and bottom.",name:"insetVertical",required:!1,type:{name:"enum",value:[{value:'"no"'},{value:'"xs"'},{value:'"sm"'},{value:'"md"'},{value:'"lg"'},{value:'"xl"'},{value:'"xxl"'},{value:'"xxxl"'}]}},logAction:{defaultValue:{value:"PiwikAction.buttonPress"},description:"",name:"logAction",required:!1,type:{name:"enum",value:[{value:'"addressAdd"'},{value:'"addressChange"'},{value:'"buttonPress"'},{value:'"toForeground"'}]}},logCategory:{defaultValue:null,description:"",name:"logCategory",required:!1,type:{name:"enum",value:[{value:'"about"'},{value:'"address"'},{value:'"construction-work"'},{value:'"construction-work-editor"'},{value:'"contact"'},{value:'"home"'},{value:'"onboarding"'},{value:'"open-waste-container"'},{value:'"redirects"'},{value:'"report-problem"'},{value:'"user"'},{value:'"waste-guide"'},{value:'"general"'}]}},logDimensions:{defaultValue:null,description:"",name:"logDimensions",required:!1,type:{name:"Partial<Record<PiwikDimension | PiwikSessionDimension, string>>"}},logName:{defaultValue:null,description:"",name:"logName",required:!1,type:{name:"string"}},logValue:{defaultValue:null,description:"",name:"logValue",required:!1,type:{name:"number"}}}}}catch{}export{U as P};
