{"version":3,"file":"useAccessibilityAnnounce-e5daf20d.js","sources":["../../src/hooks/accessibility/useAccessibilityAnnounce.ts"],"sourcesContent":["import {useCallback, useEffect} from 'react'\nimport {AccessibilityInfo} from 'react-native'\nimport {useIsScreenReaderEnabled} from '@/hooks/useIsScreenReaderEnabled'\nimport {useTimeout} from '@/hooks/useTimeout'\nimport {Duration} from '@/types/duration'\n\nconst DEFAULT_ANNOUNCE_DELAY = Duration.short\n\nexport const useAccessibilityAnnounce = () => {\n  const isScreenReaderEnabled = useIsScreenReaderEnabled()\n  const setTimeout = useTimeout()\n\n  return useCallback(\n    (\n      announcement: string,\n      focusDelay: Duration | undefined = DEFAULT_ANNOUNCE_DELAY,\n    ) => {\n      if (!isScreenReaderEnabled) {\n        return\n      }\n\n      setTimeout(\n        () =>\n          AccessibilityInfo.announceForAccessibilityWithOptions(announcement, {\n            queue: true, // queue behind existing announcements - iOS only\n          }),\n        focusDelay,\n      )\n    },\n    [isScreenReaderEnabled, setTimeout],\n  )\n}\n\nexport const useAccessibilityAnnounceEffect = (\n  announcement: string | undefined,\n  focusDelay: Duration | undefined = DEFAULT_ANNOUNCE_DELAY,\n) => {\n  const accessibilityAnnounce = useAccessibilityAnnounce()\n\n  useEffect(() => {\n    if (!announcement) {\n      return\n    }\n\n    accessibilityAnnounce(announcement, focusDelay)\n  }, [accessibilityAnnounce, announcement, focusDelay])\n}\n"],"names":["DEFAULT_ANNOUNCE_DELAY","Duration","useAccessibilityAnnounce","isScreenReaderEnabled","useIsScreenReaderEnabled","setTimeout","useTimeout","useCallback","announcement","focusDelay","AccessibilityInfo","useAccessibilityAnnounceEffect","accessibilityAnnounce","useEffect"],"mappings":"wLAMA,MAAMA,EAAyBC,EAAS,MAE3BC,EAA2B,IAAM,CAC5C,MAAMC,EAAwBC,IACxBC,EAAaC,IAEZ,OAAAC,EAAA,YACL,CACEC,EACAC,EAAmCT,IAChC,CACEG,GAILE,EACE,IACEK,EAAkB,oCAAoCF,EAAc,CAClE,MAAO,EAAA,CACR,EACHC,CAAA,CAEJ,EACA,CAACN,EAAuBE,CAAU,CAAA,CAEtC,EAEaM,EAAiC,CAC5CH,EACAC,EAAmCT,IAChC,CACH,MAAMY,EAAwBV,IAE9BW,EAAAA,UAAU,IAAM,CACTL,GAILI,EAAsBJ,EAAcC,CAAU,CAC7C,EAAA,CAACG,EAAuBJ,EAAcC,CAAU,CAAC,CACtD"}