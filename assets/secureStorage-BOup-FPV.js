import{c as ie,R as le,n as Ur,T as Nr,f as ve,g as Ze,S as Oe,p as ye,i as Tr,h as _e,j as pe,k as je,m as Hr,t as Kr,o as Pr,q as Fe,r as wr,v as qr,w as Le,x as Vr,y as $r,z as se,A as er,B as Wr}from"./useThemable-C_j1rl9R.js";import{r as U}from"./index-Cs7sjTYM.js";import{u as _r,a as Lr}from"./useDispatch-Qjb5YAfl.js";import{r as Br}from"./index-D5xlL9g-.js";import{c as Jr,a as rr,g as Yr,b as Gr,d as Xr}from"./useTrackException-DEzXmbBu.js";import{i as Zr,b as tr,a as Ir}from"./development-Cvxij4Vy.js";import{V as jr}from"./usePiwikTrackCustomEventFromProps-yuG0y8Gu.js";function nr(e,r){return e===r?e!==0||r!==0||1/e===1/r:e!==e&&r!==r}function Ae(e,r){if(nr(e,r))return!0;if(typeof e!="object"||e===null||typeof r!="object"||r===null)return!1;const t=Object.keys(e),i=Object.keys(r);if(t.length!==i.length)return!1;for(let u=0;u<t.length;u++)if(!Object.prototype.hasOwnProperty.call(r,t[u])||!nr(e[t[u]],r[t[u]]))return!1;return!0}var ke="NOT_FOUND";function et(e){var r;return{get:function(i){return r&&e(r.key,i)?r.value:ke},put:function(i,u){r={key:i,value:u}},getEntries:function(){return r?[r]:[]},clear:function(){r=void 0}}}function rt(e,r){var t=[];function i(I){var P=t.findIndex(function(p){return r(I,p.key)});if(P>-1){var h=t[P];return P>0&&(t.splice(P,1),t.unshift(h)),h.value}return ke}function u(I,P){i(I)===ke&&(t.unshift({key:I,value:P}),t.length>e&&t.pop())}function f(){return t}function T(){t=[]}return{get:i,put:u,getEntries:f,clear:T}}var tt=function(r,t){return r===t};function nt(e){return function(t,i){if(t===null||i===null||t.length!==i.length)return!1;for(var u=t.length,f=0;f<u;f++)if(!e(t[f],i[f]))return!1;return!0}}function Ve(e,r){var t=typeof r=="object"?r:{equalityCheck:r},i=t.equalityCheck,u=i===void 0?tt:i,f=t.maxSize,T=f===void 0?1:f,I=t.resultEqualityCheck,P=nt(u),h=T===1?et(P):rt(T,P);function p(){var y=h.get(arguments);if(y===ke){if(y=e.apply(null,arguments),I){var v=h.getEntries(),s=v.find(function(R){return I(R.value,y)});s&&(y=s.value)}h.put(arguments,y)}return y}return p.clearCache=function(){return h.clear()},p}function at(e){var r=Array.isArray(e[0])?e[0]:e;if(!r.every(function(i){return typeof i=="function"})){var t=r.map(function(i){return typeof i=="function"?"function "+(i.name||"unnamed")+"()":typeof i}).join(", ");throw new Error("createSelector expects all input-selectors to be functions, but received the following types: ["+t+"]")}return r}function it(e){for(var r=arguments.length,t=new Array(r>1?r-1:0),i=1;i<r;i++)t[i-1]=arguments[i];var u=function(){for(var T=arguments.length,I=new Array(T),P=0;P<T;P++)I[P]=arguments[P];var h=0,p,y={memoizeOptions:void 0},v=I.pop();if(typeof v=="object"&&(y=v,v=I.pop()),typeof v!="function")throw new Error("createSelector expects an output function after the inputs, but received: ["+typeof v+"]");var s=y,R=s.memoizeOptions,b=R===void 0?t:R,O=Array.isArray(b)?b:[b],k=at(I),A=e.apply(void 0,[function(){return h++,v.apply(null,arguments)}].concat(O)),S=e(function(){for(var c=[],a=k.length,o=0;o<a;o++)c.push(k[o].apply(null,arguments));return p=A.apply(null,c),p});return Object.assign(S,{resultFunc:v,memoizedResultFunc:A,dependencies:k,lastResult:function(){return p},recomputations:function(){return h},resetRecomputations:function(){return h=0}}),S};return u}var me=it(Ve);const ut=ie({name:le.environment,initialState:{custom:Jr,environment:Zr?rr.acceptance:rr.production},reducers:{setEnvironment:(e,{payload:r})=>{e.environment=r},setCustomEnvironment:(e,{payload:r})=>{e.custom={...e.custom,...r}}}});ut.actions;const ot=e=>e[le.environment],st=(e,r)=>t=>Yr(t[le.environment].environment,t[le.environment].custom,e,r);var fe=function(e,r){var t={label:0,sent:function(){if(f[0]&1)throw f[1];return f[1]},trys:[],ops:[]},i,u,f,T;return T={next:I(0),throw:I(1),return:I(2)},typeof Symbol=="function"&&(T[Symbol.iterator]=function(){return this}),T;function I(h){return function(p){return P([h,p])}}function P(h){if(i)throw new TypeError("Generator is already executing.");for(;t;)try{if(i=1,u&&(f=h[0]&2?u.return:h[0]?u.throw||((f=u.return)&&f.call(u),0):u.next)&&!(f=f.call(u,h[1])).done)return f;switch(u=0,f&&(h=[h[0]&2,f.value]),h[0]){case 0:case 1:f=h;break;case 4:return t.label++,{value:h[1],done:!1};case 5:t.label++,u=h[1],h=[0];continue;case 7:h=t.ops.pop(),t.trys.pop();continue;default:if(f=t.trys,!(f=f.length>0&&f[f.length-1])&&(h[0]===6||h[0]===2)){t=0;continue}if(h[0]===3&&(!f||h[1]>f[0]&&h[1]<f[3])){t.label=h[1];break}if(h[0]===6&&t.label<f[1]){t.label=f[1],f=h;break}if(f&&t.label<f[2]){t.label=f[2],t.ops.push(h);break}f[2]&&t.ops.pop(),t.trys.pop();continue}h=r.call(e,t)}catch(p){h=[6,p],u=0}finally{i=f=0}if(h[0]&5)throw h[1];return{value:h[0]?h[1]:void 0,done:!0}}},Ee=function(e,r){for(var t=0,i=r.length,u=e.length;t<i;t++,u++)e[u]=r[t];return e},ct=Object.defineProperty,lt=Object.defineProperties,ft=Object.getOwnPropertyDescriptors,Qe=Object.getOwnPropertySymbols,Ar=Object.prototype.hasOwnProperty,kr=Object.prototype.propertyIsEnumerable,ar=function(e,r,t){return r in e?ct(e,r,{enumerable:!0,configurable:!0,writable:!0,value:t}):e[r]=t},_=function(e,r){for(var t in r||(r={}))Ar.call(r,t)&&ar(e,t,r[t]);if(Qe)for(var i=0,u=Qe(r);i<u.length;i++){var t=u[i];kr.call(r,t)&&ar(e,t,r[t])}return e},ee=function(e,r){return lt(e,ft(r))},ir=function(e,r){var t={};for(var i in e)Ar.call(e,i)&&r.indexOf(i)<0&&(t[i]=e[i]);if(e!=null&&Qe)for(var u=0,f=Qe(e);u<f.length;u++){var i=f[u];r.indexOf(i)<0&&kr.call(e,i)&&(t[i]=e[i])}return t},de=function(e,r,t){return new Promise(function(i,u){var f=function(P){try{I(t.next(P))}catch(h){u(h)}},T=function(P){try{I(t.throw(P))}catch(h){u(h)}},I=function(P){return P.done?i(P.value):Promise.resolve(P.value).then(f,T)};I((t=t.apply(e,r)).next())})},W;(function(e){e.uninitialized="uninitialized",e.pending="pending",e.fulfilled="fulfilled",e.rejected="rejected"})(W||(W={}));function dt(e){return{status:e,isUninitialized:e===W.uninitialized,isLoading:e===W.pending,isSuccess:e===W.fulfilled,isError:e===W.rejected}}function vt(e){return new RegExp("(^|:)//").test(e)}var pt=function(e){return e.replace(/\/$/,"")},ht=function(e){return e.replace(/^\//,"")};function yt(e,r){if(!e)return r;if(!r)return e;if(vt(r))return r;var t=e.endsWith("/")||!r.startsWith("?")?"/":"";return e=pt(e),r=ht(r),""+e+t+r}var ur=function(e){return[].concat.apply([],e)};function gt(){return typeof navigator>"u"||navigator.onLine===void 0?!0:navigator.onLine}function mt(){return typeof document>"u"?!0:document.visibilityState!=="hidden"}var or=se;function Er(e,r){if(e===r||!(or(e)&&or(r)||Array.isArray(e)&&Array.isArray(r)))return r;for(var t=Object.keys(r),i=Object.keys(e),u=t.length===i.length,f=Array.isArray(r)?[]:{},T=0,I=t;T<I.length;T++){var P=I[T];f[P]=Er(e[P],r[P]),u&&(u=e[P]===f[P])}return u?e:f}var sr=function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];return fetch.apply(void 0,e)},bt=function(e){return e.status>=200&&e.status<=299},St=function(e){return/ion\/(vnd\.api\+)?json/.test(e.get("content-type")||"")};function cr(e){if(!se(e))return e;for(var r=_({},e),t=0,i=Object.entries(r);t<i.length;t++){var u=i[t],f=u[0],T=u[1];T===void 0&&delete r[f]}return r}function Rt(e){var r=this;e===void 0&&(e={});var t=e,i=t.baseUrl,u=t.prepareHeaders,f=u===void 0?function(S){return S}:u,T=t.fetchFn,I=T===void 0?sr:T,P=t.paramsSerializer,h=t.isJsonContentType,p=h===void 0?St:h,y=t.jsonContentType,v=y===void 0?"application/json":y,s=t.jsonReplacer,R=t.timeout,b=t.responseHandler,O=t.validateStatus,k=ir(t,["baseUrl","prepareHeaders","fetchFn","paramsSerializer","isJsonContentType","jsonContentType","jsonReplacer","timeout","responseHandler","validateStatus"]);return typeof fetch>"u"&&I===sr&&console.warn("Warning: `fetch` is not available. Please supply a custom `fetchFn` property to use `fetchBaseQuery` on SSR environments."),function(S,n){return de(r,null,function(){var c,a,o,l,m,d,g,q,w,E,Q,C,F,M,N,x,H,V,z,K,D,$,L,Y,ue,G,X,J,B,he,Ge,Ce,Re,xe,De,Xe;return fe(this,function(Z){switch(Z.label){case 0:return c=n.signal,a=n.getState,o=n.extra,l=n.endpoint,m=n.forced,d=n.type,q=typeof S=="string"?{url:S}:S,w=q.url,E=q.headers,Q=E===void 0?new Headers(k.headers):E,C=q.params,F=C===void 0?void 0:C,M=q.responseHandler,N=M===void 0?b??"json":M,x=q.validateStatus,H=x===void 0?O??bt:x,V=q.timeout,z=V===void 0?R:V,K=ir(q,["url","headers","params","responseHandler","validateStatus","timeout"]),D=_(ee(_({},k),{signal:c}),K),Q=new Headers(cr(Q)),$=D,[4,f(Q,{getState:a,extra:o,endpoint:l,forced:m,type:d})];case 1:$.headers=Z.sent()||Q,L=function(j){return typeof j=="object"&&(se(j)||Array.isArray(j)||typeof j.toJSON=="function")},!D.headers.has("content-type")&&L(D.body)&&D.headers.set("content-type",v),L(D.body)&&p(D.headers)&&(D.body=JSON.stringify(D.body,s)),F&&(Y=~w.indexOf("?")?"&":"?",ue=P?P(F):new URLSearchParams(cr(F)),w+=Y+ue),w=yt(i,w),G=new Request(w,D),X=new Request(w,D),g={request:X},B=!1,he=z&&setTimeout(function(){B=!0,n.abort()},z),Z.label=2;case 2:return Z.trys.push([2,4,5,6]),[4,I(G)];case 3:return J=Z.sent(),[3,6];case 4:return Ge=Z.sent(),[2,{error:{status:B?"TIMEOUT_ERROR":"FETCH_ERROR",error:String(Ge)},meta:g}];case 5:return he&&clearTimeout(he),[7];case 6:Ce=J.clone(),g.response=Ce,xe="",Z.label=7;case 7:return Z.trys.push([7,9,,10]),[4,Promise.all([A(J,N).then(function(j){return Re=j},function(j){return De=j}),Ce.text().then(function(j){return xe=j},function(){})])];case 8:if(Z.sent(),De)throw De;return[3,10];case 9:return Xe=Z.sent(),[2,{error:{status:"PARSING_ERROR",originalStatus:J.status,data:xe,error:String(Xe)},meta:g}];case 10:return[2,H(J,Re)?{data:Re,meta:g}:{error:{status:J.status,data:Re},meta:g}]}})})};function A(S,n){return de(this,null,function(){var c;return fe(this,function(a){switch(a.label){case 0:return typeof n=="function"?[2,n(S)]:(n==="content-type"&&(n=p(S.headers)?"json":"text"),n!=="json"?[3,2]:[4,S.text()]);case 1:return c=a.sent(),[2,c.length?JSON.parse(c):null];case 2:return[2,S.text()]}})})}}var ce=function(){function e(r,t){t===void 0&&(t=void 0),this.value=r,this.meta=t}return e}();function Ot(e,r){return e===void 0&&(e=0),r===void 0&&(r=5),de(this,null,function(){var t,i;return fe(this,function(u){switch(u.label){case 0:return t=Math.min(e,r),i=~~((Math.random()+.4)*(300<<t)),[4,new Promise(function(f){return setTimeout(function(T){return f(T)},i)})];case 1:return u.sent(),[2]}})})}function Tt(e){throw Object.assign(new ce({error:e}),{throwImmediately:!0})}var lr={},Pt=function(e,r){return function(t,i,u){return de(void 0,null,function(){var f,T,I,P,h,p,y;return fe(this,function(v){switch(v.label){case 0:f=[5,(r||lr).maxRetries,(u||lr).maxRetries].filter(function(s){return s!==void 0}),T=f.slice(-1)[0],I=function(s,R,b){var O=b.attempt;return O<=T},P=_(_({maxRetries:T,backoff:Ot,retryCondition:I},r),u),h=0,v.label=1;case 1:v.label=2;case 2:return v.trys.push([2,4,,6]),[4,e(t,i,u)];case 3:if(p=v.sent(),p.error)throw new ce(p);return[2,p];case 4:if(y=v.sent(),h++,y.throwImmediately){if(y instanceof ce)return[2,y.value];throw y}return y instanceof ce&&!P.retryCondition(y.value.error,t,{attempt:h,baseQueryApi:i,extraOptions:u})?[2,y.value]:[4,P.backoff(h,P.maxRetries)];case 5:return v.sent(),[3,6];case 6:return[3,1];case 7:return[2]}})})}},ze=Object.assign(Pt,{fail:Tt}),Be=ve("__rtkq/focused"),Qr=ve("__rtkq/unfocused"),Je=ve("__rtkq/online"),Mr=ve("__rtkq/offline"),re;(function(e){e.query="query",e.mutation="mutation"})(re||(re={}));function Cr(e){return e.type===re.query}function wt(e){return e.type===re.mutation}function Ye(e,r,t,i,u,f){return qt(e)?e(r,t,i,u).map($e).map(f):Array.isArray(e)?e.map($e).map(f):[]}function qt(e){return typeof e=="function"}function $e(e){return typeof e=="string"?{type:e}:e}function Ue(e){return e!=null}var be=Symbol("forceQueryFn"),We=function(e){return typeof e[be]=="function"};function It(e){var r=e.serializeQueryArgs,t=e.queryThunk,i=e.mutationThunk,u=e.api,f=e.context,T=new Map,I=new Map,P=u.internalActions,h=P.unsubscribeQueryResult,p=P.removeMutationResult,y=P.updateSubscriptionOptions;return{buildInitiateQuery:A,buildInitiateMutation:S,getRunningQueryThunk:R,getRunningMutationThunk:b,getRunningQueriesThunk:O,getRunningMutationsThunk:k,getRunningOperationPromises:s,removalWarning:v};function v(){throw new Error(`This method had to be removed due to a conceptual bug in RTK.
       Please see https://github.com/reduxjs/redux-toolkit/pull/2481 for details.
       See https://redux-toolkit.js.org/rtk-query/usage/server-side-rendering for new guidance on SSR.`)}function s(){typeof process<"u";var n=function(c){return Array.from(c.values()).flatMap(function(a){return a?Object.values(a):[]})};return Ee(Ee([],n(T)),n(I)).filter(Ue)}function R(n,c){return function(a){var o,l=f.endpointDefinitions[n],m=r({queryArgs:c,endpointDefinition:l,endpointName:n});return(o=T.get(a))==null?void 0:o[m]}}function b(n,c){return function(a){var o;return(o=I.get(a))==null?void 0:o[c]}}function O(){return function(n){return Object.values(T.get(n)||{}).filter(Ue)}}function k(){return function(n){return Object.values(I.get(n)||{}).filter(Ue)}}function A(n,c){var a=function(o,l){var m=l===void 0?{}:l,d=m.subscribe,g=d===void 0?!0:d,q=m.forceRefetch,w=m.subscriptionOptions,E=be,Q=m[E];return function(C,F){var M,N,x=r({queryArgs:o,endpointDefinition:c,endpointName:n}),H=t((M={type:"query",subscribe:g,forceRefetch:q,subscriptionOptions:w,endpointName:n,originalArgs:o,queryCacheKey:x},M[be]=Q,M)),V=u.endpoints[n].select(o),z=C(H),K=V(F()),D=z.requestId,$=z.abort,L=K.requestId!==D,Y=(N=T.get(C))==null?void 0:N[x],ue=function(){return V(F())},G=Object.assign(Q?z.then(ue):L&&!Y?Promise.resolve(K):Promise.all([Y,z]).then(ue),{arg:o,requestId:D,subscriptionOptions:w,queryCacheKey:x,abort:$,unwrap:function(){return de(this,null,function(){var J;return fe(this,function(B){switch(B.label){case 0:return[4,G];case 1:if(J=B.sent(),J.isError)throw J.error;return[2,J.data]}})})},refetch:function(){return C(a(o,{subscribe:!1,forceRefetch:!0}))},unsubscribe:function(){g&&C(h({queryCacheKey:x,requestId:D}))},updateSubscriptionOptions:function(J){G.subscriptionOptions=J,C(y({endpointName:n,requestId:D,queryCacheKey:x,options:J}))}});if(!Y&&!L&&!Q){var X=T.get(C)||{};X[x]=G,T.set(C,X),G.then(function(){delete X[x],Object.keys(X).length||T.delete(C)})}return G}};return a}function S(n){return function(c,a){var o=a===void 0?{}:a,l=o.track,m=l===void 0?!0:l,d=o.fixedCacheKey;return function(g,q){var w=i({type:"mutation",endpointName:n,originalArgs:c,track:m,fixedCacheKey:d}),E=g(w),Q=E.requestId,C=E.abort,F=E.unwrap,M=E.unwrap().then(function(V){return{data:V}}).catch(function(V){return{error:V}}),N=function(){g(p({requestId:Q,fixedCacheKey:d}))},x=Object.assign(M,{arg:E.arg,requestId:Q,abort:C,unwrap:F,unsubscribe:N,reset:N}),H=I.get(g)||{};return I.set(g,H),H[Q]=x,x.then(function(){delete H[Q],Object.keys(H).length||I.delete(g)}),d&&(H[d]=x,x.then(function(){H[d]===x&&(delete H[d],Object.keys(H).length||I.delete(g))})),x}}}}function fr(e){return e}function At(e){var r=this,t=e.reducerPath,i=e.baseQuery,u=e.context.endpointDefinitions,f=e.serializeQueryArgs,T=e.api,I=e.assertTagType,P=function(n,c,a,o){return function(l,m){var d=u[n],g=f({queryArgs:c,endpointDefinition:d,endpointName:n});if(l(T.internalActions.queryResultPatched({queryCacheKey:g,patches:a})),!!o){var q=T.endpoints[n].select(c)(m()),w=Ye(d.providesTags,q.data,void 0,c,{},I);l(T.internalActions.updateProvidedBy({queryCacheKey:g,providedTags:w}))}}},h=function(n,c,a,o){return o===void 0&&(o=!0),function(l,m){var d,g,q=T.endpoints[n],w=q.select(c)(m()),E={patches:[],inversePatches:[],undo:function(){return l(T.util.patchQueryData(n,c,E.inversePatches,o))}};if(w.status===W.uninitialized)return E;var Q;if("data"in w)if(Kr(w.data)){var C=Pr(w.data,a),F=C[0],M=C[1],N=C[2];(d=E.patches).push.apply(d,M),(g=E.inversePatches).push.apply(g,N),Q=F}else Q=a(w.data),E.patches.push({op:"replace",path:[],value:Q}),E.inversePatches.push({op:"replace",path:[],value:w.data});return l(T.util.patchQueryData(n,c,E.patches,o)),E}},p=function(n,c,a){return function(o){var l;return o(T.endpoints[n].initiate(c,(l={subscribe:!1,forceRefetch:!0},l[be]=function(){return{data:a}},l)))}},y=function(n,c){return de(r,[n,c],function(a,o){var l,m,d,g,q,w,E,Q,C,F,M,N,x,H,V,z,K,D,$=o.signal,L=o.abort,Y=o.rejectWithValue,ue=o.fulfillWithValue,G=o.dispatch,X=o.getState,J=o.extra;return fe(this,function(B){switch(B.label){case 0:l=u[a.endpointName],B.label=1;case 1:return B.trys.push([1,8,,13]),m=fr,d=void 0,g={signal:$,abort:L,dispatch:G,getState:X,extra:J,endpoint:a.endpointName,type:a.type,forced:a.type==="query"?v(a,X()):void 0},q=a.type==="query"?a[be]:void 0,q?(d=q(),[3,6]):[3,2];case 2:return l.query?[4,i(l.query(a.originalArgs),g,l.extraOptions)]:[3,4];case 3:return d=B.sent(),l.transformResponse&&(m=l.transformResponse),[3,6];case 4:return[4,l.queryFn(a.originalArgs,g,l.extraOptions,function(he){return i(he,g,l.extraOptions)})];case 5:d=B.sent(),B.label=6;case 6:if(typeof process<"u",d.error)throw new ce(d.error,d.meta);return M=ue,[4,m(d.data,d.meta,a.originalArgs)];case 7:return[2,M.apply(void 0,[B.sent(),(K={fulfilledTimeStamp:Date.now(),baseQueryMeta:d.meta},K[Oe]=!0,K)])];case 8:if(N=B.sent(),x=N,!(x instanceof ce))return[3,12];H=fr,l.query&&l.transformErrorResponse&&(H=l.transformErrorResponse),B.label=9;case 9:return B.trys.push([9,11,,12]),V=Y,[4,H(x.value,x.meta,a.originalArgs)];case 10:return[2,V.apply(void 0,[B.sent(),(D={baseQueryMeta:x.meta},D[Oe]=!0,D)])];case 11:return z=B.sent(),x=z,[3,12];case 12:throw typeof process<"u",console.error(x),x;case 13:return[2]}})})};function v(n,c){var a,o,l,m,d=(o=(a=c[t])==null?void 0:a.queries)==null?void 0:o[n.queryCacheKey],g=(l=c[t])==null?void 0:l.config.refetchOnMountOrArgChange,q=d==null?void 0:d.fulfilledTimeStamp,w=(m=n.forceRefetch)!=null?m:n.subscribe&&g;return w?w===!0||(Number(new Date)-Number(q))/1e3>=w:!1}var s=Ze(t+"/executeQuery",y,{getPendingMeta:function(){var n;return n={startedTimeStamp:Date.now()},n[Oe]=!0,n},condition:function(n,c){var a=c.getState,o,l,m,d=a(),g=(l=(o=d[t])==null?void 0:o.queries)==null?void 0:l[n.queryCacheKey],q=g==null?void 0:g.fulfilledTimeStamp,w=n.originalArgs,E=g==null?void 0:g.originalArgs,Q=u[n.endpointName];return We(n)?!0:(g==null?void 0:g.status)==="pending"?!1:v(n,d)||Cr(Q)&&((m=Q==null?void 0:Q.forceRefetch)!=null&&m.call(Q,{currentArg:w,previousArg:E,endpointState:g,state:d}))?!0:!q},dispatchConditionRejection:!0}),R=Ze(t+"/executeMutation",y,{getPendingMeta:function(){var n;return n={startedTimeStamp:Date.now()},n[Oe]=!0,n}}),b=function(n){return"force"in n},O=function(n){return"ifOlderThan"in n},k=function(n,c,a){return function(o,l){var m=b(a)&&a.force,d=O(a)&&a.ifOlderThan,g=function(Q){return Q===void 0&&(Q=!0),T.endpoints[n].initiate(c,{forceRefetch:Q})},q=T.endpoints[n].select(c)(l());if(m)o(g());else if(d){var w=q==null?void 0:q.fulfilledTimeStamp;if(!w){o(g());return}var E=(Number(new Date)-Number(new Date(w)))/1e3>=d;E&&o(g())}else o(g(!1))}};function A(n){return function(c){var a,o;return((o=(a=c==null?void 0:c.meta)==null?void 0:a.arg)==null?void 0:o.endpointName)===n}}function S(n,c){return{matchPending:Fe(wr(n),A(c)),matchFulfilled:Fe(pe(n),A(c)),matchRejected:Fe(qr(n),A(c))}}return{queryThunk:s,mutationThunk:R,prefetch:k,updateQueryData:h,upsertQueryData:p,patchQueryData:P,buildMatchThunkActions:S}}function xr(e,r,t,i){return Ye(t[e.meta.arg.endpointName][r],pe(e)?e.payload:void 0,_e(e)?e.payload:void 0,e.meta.arg.originalArgs,"baseQueryMeta"in e.meta?e.meta.baseQueryMeta:void 0,i)}function Te(e,r,t){var i=e[r];i&&t(i)}function Se(e){var r;return(r="arg"in e?e.arg.fixedCacheKey:e.fixedCacheKey)!=null?r:e.requestId}function dr(e,r,t){var i=e[Se(r)];i&&t(i)}var ge={};function kt(e){var r=e.reducerPath,t=e.queryThunk,i=e.mutationThunk,u=e.context,f=u.endpointDefinitions,T=u.apiUid,I=u.extractRehydrationInfo,P=u.hasRehydrationInfo,h=e.assertTagType,p=e.config,y=ve(r+"/resetApiState"),v=ie({name:r+"/queries",initialState:ge,reducers:{removeQueryResult:{reducer:function(c,a){var o=a.payload.queryCacheKey;delete c[o]},prepare:ye()},queryResultPatched:{reducer:function(c,a){var o=a.payload,l=o.queryCacheKey,m=o.patches;Te(c,l,function(d){d.data=je(d.data,m.concat())})},prepare:ye()}},extraReducers:function(c){c.addCase(t.pending,function(a,o){var l=o.meta,m=o.meta.arg,d,g,q=We(m);(m.subscribe||q)&&((g=a[d=m.queryCacheKey])!=null||(a[d]={status:W.uninitialized,endpointName:m.endpointName})),Te(a,m.queryCacheKey,function(w){w.status=W.pending,w.requestId=q&&w.requestId?w.requestId:l.requestId,m.originalArgs!==void 0&&(w.originalArgs=m.originalArgs),w.startedTimeStamp=l.startedTimeStamp})}).addCase(t.fulfilled,function(a,o){var l=o.meta,m=o.payload;Te(a,l.arg.queryCacheKey,function(d){var g;if(!(d.requestId!==l.requestId&&!We(l.arg))){var q=f[l.arg.endpointName].merge;if(d.status=W.fulfilled,q)if(d.data!==void 0){var w=l.fulfilledTimeStamp,E=l.arg,Q=l.baseQueryMeta,C=l.requestId,F=Le(d.data,function(M){return q(M,m,{arg:E.originalArgs,baseQueryMeta:Q,fulfilledTimeStamp:w,requestId:C})});d.data=F}else d.data=m;else d.data=(g=f[l.arg.endpointName].structuralSharing)==null||g?Er(Vr(d.data)?$r(d.data):d.data,m):m;delete d.error,d.fulfilledTimeStamp=l.fulfilledTimeStamp}})}).addCase(t.rejected,function(a,o){var l=o.meta,m=l.condition,d=l.arg,g=l.requestId,q=o.error,w=o.payload;Te(a,d.queryCacheKey,function(E){if(!m){if(E.requestId!==g)return;E.status=W.rejected,E.error=w??q}})}).addMatcher(P,function(a,o){for(var l=I(o).queries,m=0,d=Object.entries(l);m<d.length;m++){var g=d[m],q=g[0],w=g[1];((w==null?void 0:w.status)===W.fulfilled||(w==null?void 0:w.status)===W.rejected)&&(a[q]=w)}})}}),s=ie({name:r+"/mutations",initialState:ge,reducers:{removeMutationResult:{reducer:function(c,a){var o=a.payload,l=Se(o);l in c&&delete c[l]},prepare:ye()}},extraReducers:function(c){c.addCase(i.pending,function(a,o){var l=o.meta,m=o.meta,d=m.requestId,g=m.arg,q=m.startedTimeStamp;g.track&&(a[Se(l)]={requestId:d,status:W.pending,endpointName:g.endpointName,startedTimeStamp:q})}).addCase(i.fulfilled,function(a,o){var l=o.payload,m=o.meta;m.arg.track&&dr(a,m,function(d){d.requestId===m.requestId&&(d.status=W.fulfilled,d.data=l,d.fulfilledTimeStamp=m.fulfilledTimeStamp)})}).addCase(i.rejected,function(a,o){var l=o.payload,m=o.error,d=o.meta;d.arg.track&&dr(a,d,function(g){g.requestId===d.requestId&&(g.status=W.rejected,g.error=l??m)})}).addMatcher(P,function(a,o){for(var l=I(o).mutations,m=0,d=Object.entries(l);m<d.length;m++){var g=d[m],q=g[0],w=g[1];((w==null?void 0:w.status)===W.fulfilled||(w==null?void 0:w.status)===W.rejected)&&q!==(w==null?void 0:w.requestId)&&(a[q]=w)}})}}),R=ie({name:r+"/invalidation",initialState:ge,reducers:{updateProvidedBy:{reducer:function(c,a){for(var o,l,m,d,g=a.payload,q=g.queryCacheKey,w=g.providedTags,E=0,Q=Object.values(c);E<Q.length;E++)for(var C=Q[E],F=0,M=Object.values(C);F<M.length;F++){var N=M[F],x=N.indexOf(q);x!==-1&&N.splice(x,1)}for(var H=0,V=w;H<V.length;H++){var z=V[H],K=z.type,D=z.id,$=(d=(l=(o=c[K])!=null?o:c[K]={})[m=D||"__internal_without_id"])!=null?d:l[m]=[],L=$.includes(q);L||$.push(q)}},prepare:ye()}},extraReducers:function(c){c.addCase(v.actions.removeQueryResult,function(a,o){for(var l=o.payload.queryCacheKey,m=0,d=Object.values(a);m<d.length;m++)for(var g=d[m],q=0,w=Object.values(g);q<w.length;q++){var E=w[q],Q=E.indexOf(l);Q!==-1&&E.splice(Q,1)}}).addMatcher(P,function(a,o){for(var l,m,d,g,q=I(o).provided,w=0,E=Object.entries(q);w<E.length;w++)for(var Q=E[w],C=Q[0],F=Q[1],M=0,N=Object.entries(F);M<N.length;M++)for(var x=N[M],H=x[0],V=x[1],z=(g=(m=(l=a[C])!=null?l:a[C]={})[d=H||"__internal_without_id"])!=null?g:m[d]=[],K=0,D=V;K<D.length;K++){var $=D[K],L=z.includes($);L||z.push($)}}).addMatcher(Tr(pe(t),_e(t)),function(a,o){var l=xr(o,"providesTags",f,h),m=o.meta.arg.queryCacheKey;R.caseReducers.updateProvidedBy(a,R.actions.updateProvidedBy({queryCacheKey:m,providedTags:l}))})}}),b=ie({name:r+"/subscriptions",initialState:ge,reducers:{updateSubscriptionOptions:function(c,a){},unsubscribeQueryResult:function(c,a){},internal_probeSubscription:function(c,a){}}}),O=ie({name:r+"/internalSubscriptions",initialState:ge,reducers:{subscriptionsUpdated:{reducer:function(c,a){return je(c,a.payload)},prepare:ye()}}}),k=ie({name:r+"/config",initialState:_({online:gt(),focused:mt(),middlewareRegistered:!1},p),reducers:{middlewareRegistered:function(c,a){var o=a.payload;c.middlewareRegistered=c.middlewareRegistered==="conflict"||T!==o?"conflict":!0}},extraReducers:function(c){c.addCase(Je,function(a){a.online=!0}).addCase(Mr,function(a){a.online=!1}).addCase(Be,function(a){a.focused=!0}).addCase(Qr,function(a){a.focused=!1}).addMatcher(P,function(a){return _({},a)})}}),A=Hr({queries:v.reducer,mutations:s.reducer,provided:R.reducer,subscriptions:O.reducer,config:k.reducer}),S=function(c,a){return A(y.match(a)?void 0:c,a)},n=ee(_(_(_(_(_(_({},k.actions),v.actions),b.actions),O.actions),s.actions),R.actions),{unsubscribeMutationResult:s.actions.removeMutationResult,resetApiState:y});return{reducer:S,actions:n}}var oe=Symbol.for("RTKQ/skipToken"),Dr={status:W.uninitialized},vr=Le(Dr,function(){}),pr=Le(Dr,function(){});function Et(e){var r=e.serializeQueryArgs,t=e.reducerPath,i=function(p){return vr},u=function(p){return pr};return{buildQuerySelector:I,buildMutationSelector:P,selectInvalidatedBy:h};function f(p){return _(_({},p),dt(p.status))}function T(p){var y=p[t];return y}function I(p,y){return function(v){var s=r({queryArgs:v,endpointDefinition:y,endpointName:p}),R=function(O){var k,A,S;return(S=(A=(k=T(O))==null?void 0:k.queries)==null?void 0:A[s])!=null?S:vr},b=v===oe?i:R;return me(b,f)}}function P(){return function(p){var y,v;typeof p=="object"?v=(y=Se(p))!=null?y:oe:v=p;var s=function(b){var O,k,A;return(A=(k=(O=T(b))==null?void 0:O.mutations)==null?void 0:k[v])!=null?A:pr},R=v===oe?u:s;return me(R,f)}}function h(p,y){for(var v,s=p[t],R=new Set,b=0,O=y.map($e);b<O.length;b++){var k=O[b],A=s.provided[k.type];if(A)for(var S=(v=k.id!==void 0?A[k.id]:ur(Object.values(A)))!=null?v:[],n=0,c=S;n<c.length;n++){var a=c[n];R.add(a)}}return ur(Array.from(R.values()).map(function(o){var l=s.queries[o];return l?[{queryCacheKey:o,endpointName:l.endpointName,originalArgs:l.originalArgs}]:[]}))}}var Pe=WeakMap?new WeakMap:void 0,hr=function(e){var r=e.endpointName,t=e.queryArgs,i="",u=Pe==null?void 0:Pe.get(t);if(typeof u=="string")i=u;else{var f=JSON.stringify(t,function(T,I){return se(I)?Object.keys(I).sort().reduce(function(P,h){return P[h]=I[h],P},{}):I});se(t)&&(Pe==null||Pe.set(t,f)),i=f}return r+"("+i+")"};function Qt(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];return function(i){var u=Ve(function(p){var y,v;return(v=i.extractRehydrationInfo)==null?void 0:v.call(i,p,{reducerPath:(y=i.reducerPath)!=null?y:"api"})}),f=ee(_({reducerPath:"api",keepUnusedDataFor:60,refetchOnMountOrArgChange:!1,refetchOnFocus:!1,refetchOnReconnect:!1},i),{extractRehydrationInfo:u,serializeQueryArgs:function(p){var y=hr;if("serializeQueryArgs"in p.endpointDefinition){var v=p.endpointDefinition.serializeQueryArgs;y=function(s){var R=v(s);return typeof R=="string"?R:hr(ee(_({},s),{queryArgs:R}))}}else i.serializeQueryArgs&&(y=i.serializeQueryArgs);return y(p)},tagTypes:Ee([],i.tagTypes||[])}),T={endpointDefinitions:{},batch:function(p){p()},apiUid:Ur(),extractRehydrationInfo:u,hasRehydrationInfo:Ve(function(p){return u(p)!=null})},I={injectEndpoints:h,enhanceEndpoints:function(p){var y=p.addTagTypes,v=p.endpoints;if(y)for(var s=0,R=y;s<R.length;s++){var b=R[s];f.tagTypes.includes(b)||f.tagTypes.push(b)}if(v)for(var O=0,k=Object.entries(v);O<k.length;O++){var A=k[O],S=A[0],n=A[1];typeof n=="function"?n(T.endpointDefinitions[S]):Object.assign(T.endpointDefinitions[S]||{},n)}return I}},P=e.map(function(p){return p.init(I,f,T)});function h(p){for(var y=p.endpoints({query:function(n){return ee(_({},n),{type:re.query})},mutation:function(n){return ee(_({},n),{type:re.mutation})}}),v=0,s=Object.entries(y);v<s.length;v++){var R=s[v],b=R[0],O=R[1];if(!p.overrideExisting&&b in T.endpointDefinitions){typeof process<"u";continue}T.endpointDefinitions[b]=O;for(var k=0,A=P;k<A.length;k++){var S=A[k];S.injectEndpoint(b,O)}}return I}return I.injectEndpoints({endpoints:i.endpoints})}}function Mt(e){for(var r in e)return!1;return!0}var Ct=2147483647/1e3-1,xt=function(e){var r=e.reducerPath,t=e.api,i=e.context,u=e.internalState,f=t.internalActions,T=f.removeQueryResult,I=f.unsubscribeQueryResult;function P(v){var s=u.currentSubscriptions[v];return!!s&&!Mt(s)}var h={},p=function(v,s,R){var b;if(I.match(v)){var O=s.getState()[r],k=v.payload.queryCacheKey;y(k,(b=O.queries[k])==null?void 0:b.endpointName,s,O.config)}if(t.util.resetApiState.match(v))for(var A=0,S=Object.entries(h);A<S.length;A++){var n=S[A],c=n[0],a=n[1];a&&clearTimeout(a),delete h[c]}if(i.hasRehydrationInfo(v))for(var O=s.getState()[r],o=i.extractRehydrationInfo(v).queries,l=0,m=Object.entries(o);l<m.length;l++){var d=m[l],k=d[0],g=d[1];y(k,g==null?void 0:g.endpointName,s,O.config)}};function y(v,s,R,b){var O,k=i.endpointDefinitions[s],A=(O=k==null?void 0:k.keepUnusedDataFor)!=null?O:b.keepUnusedDataFor;if(A!==1/0){var S=Math.max(0,Math.min(A,Ct));if(!P(v)){var n=h[v];n&&clearTimeout(n),h[v]=setTimeout(function(){P(v)||R.dispatch(T({queryCacheKey:v})),delete h[v]},S*1e3)}}}return p},Dt=function(e){var r=e.reducerPath,t=e.context,i=e.context.endpointDefinitions,u=e.mutationThunk,f=e.api,T=e.assertTagType,I=e.refetchQuery,P=f.internalActions.removeQueryResult,h=Tr(pe(u),_e(u)),p=function(v,s){h(v)&&y(xr(v,"invalidatesTags",i,T),s),f.util.invalidateTags.match(v)&&y(Ye(v.payload,void 0,void 0,void 0,void 0,T),s)};function y(v,s){var R=s.getState(),b=R[r],O=f.util.selectInvalidatedBy(R,v);t.batch(function(){for(var k,A=Array.from(O.values()),S=0,n=A;S<n.length;S++){var c=n[S].queryCacheKey,a=b.queries[c],o=(k=b.subscriptions[c])!=null?k:{};a&&(Object.keys(o).length===0?s.dispatch(P({queryCacheKey:c})):a.status!==W.uninitialized&&s.dispatch(I(a,c)))}})}return p},Ft=function(e){var r=e.reducerPath,t=e.queryThunk,i=e.api,u=e.refetchQuery,f=e.internalState,T={},I=function(s,R){(i.internalActions.updateSubscriptionOptions.match(s)||i.internalActions.unsubscribeQueryResult.match(s))&&h(s.payload,R),(t.pending.match(s)||t.rejected.match(s)&&s.meta.condition)&&h(s.meta.arg,R),(t.fulfilled.match(s)||t.rejected.match(s)&&!s.meta.condition)&&P(s.meta.arg,R),i.util.resetApiState.match(s)&&y()};function P(s,R){var b=s.queryCacheKey,O=R.getState()[r],k=O.queries[b],A=f.currentSubscriptions[b];if(!(!k||k.status===W.uninitialized)){var S=v(A);if(Number.isFinite(S)){var n=T[b];n!=null&&n.timeout&&(clearTimeout(n.timeout),n.timeout=void 0);var c=Date.now()+S,a=T[b]={nextPollTimestamp:c,pollingInterval:S,timeout:setTimeout(function(){a.timeout=void 0,R.dispatch(u(k,b))},S)}}}}function h(s,R){var b=s.queryCacheKey,O=R.getState()[r],k=O.queries[b],A=f.currentSubscriptions[b];if(!(!k||k.status===W.uninitialized)){var S=v(A);if(!Number.isFinite(S)){p(b);return}var n=T[b],c=Date.now()+S;(!n||c<n.nextPollTimestamp)&&P({queryCacheKey:b},R)}}function p(s){var R=T[s];R!=null&&R.timeout&&clearTimeout(R.timeout),delete T[s]}function y(){for(var s=0,R=Object.keys(T);s<R.length;s++){var b=R[s];p(b)}}function v(s){s===void 0&&(s={});var R=Number.POSITIVE_INFINITY;for(var b in s)s[b].pollingInterval&&(R=Math.min(s[b].pollingInterval,R));return R}return I},zt=function(e){var r=e.reducerPath,t=e.context,i=e.api,u=e.refetchQuery,f=e.internalState,T=i.internalActions.removeQueryResult,I=function(h,p){Be.match(h)&&P(p,"refetchOnFocus"),Je.match(h)&&P(p,"refetchOnReconnect")};function P(h,p){var y=h.getState()[r],v=y.queries,s=f.currentSubscriptions;t.batch(function(){for(var R=0,b=Object.keys(s);R<b.length;R++){var O=b[R],k=v[O],A=s[O];if(!(!A||!k)){var S=Object.values(A).some(function(n){return n[p]===!0})||Object.values(A).every(function(n){return n[p]===void 0})&&y.config[p];S&&(Object.keys(A).length===0?h.dispatch(T({queryCacheKey:O})):k.status!==W.uninitialized&&h.dispatch(u(k,O)))}}})}return I},yr=new Error("Promise never resolved before cacheEntryRemoved."),Ut=function(e){var r=e.api,t=e.reducerPath,i=e.context,u=e.queryThunk,f=e.mutationThunk;e.internalState;var T=er(u),I=er(f),P=pe(u,f),h={},p=function(s,R,b){var O=y(s);if(u.pending.match(s)){var k=b[t].queries[O],A=R.getState()[t].queries[O];!k&&A&&v(s.meta.arg.endpointName,s.meta.arg.originalArgs,O,R,s.meta.requestId)}else if(f.pending.match(s)){var A=R.getState()[t].mutations[O];A&&v(s.meta.arg.endpointName,s.meta.arg.originalArgs,O,R,s.meta.requestId)}else if(P(s)){var S=h[O];S!=null&&S.valueResolved&&(S.valueResolved({data:s.payload,meta:s.meta.baseQueryMeta}),delete S.valueResolved)}else if(r.internalActions.removeQueryResult.match(s)||r.internalActions.removeMutationResult.match(s)){var S=h[O];S&&(delete h[O],S.cacheEntryRemoved())}else if(r.util.resetApiState.match(s))for(var n=0,c=Object.entries(h);n<c.length;n++){var a=c[n],o=a[0],S=a[1];delete h[o],S.cacheEntryRemoved()}};function y(s){return T(s)?s.meta.arg.queryCacheKey:I(s)?s.meta.requestId:r.internalActions.removeQueryResult.match(s)?s.payload.queryCacheKey:r.internalActions.removeMutationResult.match(s)?Se(s.payload):""}function v(s,R,b,O,k){var A=i.endpointDefinitions[s],S=A==null?void 0:A.onCacheEntryAdded;if(S){var n={},c=new Promise(function(g){n.cacheEntryRemoved=g}),a=Promise.race([new Promise(function(g){n.valueResolved=g}),c.then(function(){throw yr})]);a.catch(function(){}),h[b]=n;var o=r.endpoints[s].select(A.type===re.query?R:b),l=O.dispatch(function(g,q,w){return w}),m=ee(_({},O),{getCacheEntry:function(){return o(O.getState())},requestId:k,extra:l,updateCachedData:A.type===re.query?function(g){return O.dispatch(r.util.updateQueryData(s,R,g))}:void 0,cacheDataLoaded:a,cacheEntryRemoved:c}),d=S(R,m);Promise.resolve(d).catch(function(g){if(g!==yr)throw g})}}return p},Nt=function(e){var r=e.api,t=e.context,i=e.queryThunk,u=e.mutationThunk,f=wr(i,u),T=qr(i,u),I=pe(i,u),P={},h=function(p,y){var v,s,R;if(f(p)){var b=p.meta,O=b.requestId,k=b.arg,A=k.endpointName,S=k.originalArgs,n=t.endpointDefinitions[A],c=n==null?void 0:n.onQueryStarted;if(c){var a={},o=new Promise(function(Q,C){a.resolve=Q,a.reject=C});o.catch(function(){}),P[O]=a;var l=r.endpoints[A].select(n.type===re.query?S:O),m=y.dispatch(function(Q,C,F){return F}),d=ee(_({},y),{getCacheEntry:function(){return l(y.getState())},requestId:O,extra:m,updateCachedData:n.type===re.query?function(Q){return y.dispatch(r.util.updateQueryData(A,S,Q))}:void 0,queryFulfilled:o});c(S,d)}}else if(I(p)){var g=p.meta,O=g.requestId,q=g.baseQueryMeta;(v=P[O])==null||v.resolve({data:p.payload,meta:q}),delete P[O]}else if(T(p)){var w=p.meta,O=w.requestId,E=w.rejectedWithValue,q=w.baseQueryMeta;(R=P[O])==null||R.reject({error:(s=p.payload)!=null?s:p.error,isUnhandledError:!E,meta:q}),delete P[O]}};return h},Ht=function(e){var r=e.api,t=e.context.apiUid,i=e.reducerPath;return function(u,f){var T,I;r.util.resetApiState.match(u)&&f.dispatch(r.internalActions.middlewareRegistered(t)),typeof process<"u"}},gr,Kt=typeof queueMicrotask=="function"?queueMicrotask.bind(typeof window<"u"?window:typeof global<"u"?global:globalThis):function(e){return(gr||(gr=Promise.resolve())).then(e).catch(function(r){return setTimeout(function(){throw r},0)})},Vt=function(e){var r=e.api,t=e.queryThunk,i=e.internalState,u=r.reducerPath+"/subscriptions",f=null,T=!1,I=r.internalActions,P=I.updateSubscriptionOptions,h=I.unsubscribeQueryResult,p=function(y,v){var s,R,b,O,k,A,S,n,c;if(P.match(v)){var a=v.payload,o=a.queryCacheKey,l=a.requestId,m=a.options;return(s=y==null?void 0:y[o])!=null&&s[l]&&(y[o][l]=m),!0}if(h.match(v)){var d=v.payload,o=d.queryCacheKey,l=d.requestId;return y[o]&&delete y[o][l],!0}if(r.internalActions.removeQueryResult.match(v))return delete y[v.payload.queryCacheKey],!0;if(t.pending.match(v)){var g=v.meta,q=g.arg,l=g.requestId;if(q.subscribe){var w=(b=y[R=q.queryCacheKey])!=null?b:y[R]={};return w[l]=(k=(O=q.subscriptionOptions)!=null?O:w[l])!=null?k:{},!0}}if(t.rejected.match(v)){var E=v.meta,Q=E.condition,q=E.arg,l=E.requestId;if(Q&&q.subscribe){var w=(S=y[A=q.queryCacheKey])!=null?S:y[A]={};return w[l]=(c=(n=q.subscriptionOptions)!=null?n:w[l])!=null?c:{},!0}}return!1};return function(y,v){var s,R;if(f||(f=JSON.parse(JSON.stringify(i.currentSubscriptions))),r.util.resetApiState.match(y))return f=i.currentSubscriptions={},[!0,!1];if(r.internalActions.internal_probeSubscription.match(y)){var b=y.payload,O=b.queryCacheKey,k=b.requestId,A=!!((s=i.currentSubscriptions[O])!=null&&s[k]);return[!1,A]}var S=p(i.currentSubscriptions,y);if(S){T||(Kt(function(){var o=JSON.parse(JSON.stringify(i.currentSubscriptions)),l=Pr(f,function(){return o}),m=l[1];v.next(r.internalActions.subscriptionsUpdated(m)),f=o,T=!1}),T=!0);var n=!!((R=y.type)!=null&&R.startsWith(u)),c=t.rejected.match(y)&&y.meta.condition&&!!y.meta.arg.subscribe,a=!n&&!c;return[a,!1]}return[!0,!1]}};function $t(e){var r=e.reducerPath,t=e.queryThunk,i=e.api,u=e.context,f=u.apiUid,T={invalidateTags:ve(r+"/invalidateTags")},I=function(y){return!!y&&typeof y.type=="string"&&y.type.startsWith(r+"/")},P=[Ht,xt,Dt,Ft,Ut,Nt],h=function(y){var v=!1,s={currentSubscriptions:{}},R=ee(_({},e),{internalState:s,refetchQuery:p}),b=P.map(function(A){return A(R)}),O=Vt(R),k=zt(R);return function(A){return function(S){v||(v=!0,y.dispatch(i.internalActions.middlewareRegistered(f)));var n=ee(_({},y),{next:A}),c=y.getState(),a=O(S,n,c),o=a[0],l=a[1],m;if(o?m=A(S):m=l,y.getState()[r]&&(k(S,n,c),I(S)||u.hasRehydrationInfo(S)))for(var d=0,g=b;d<g.length;d++){var q=g[d];q(S,n,c)}return m}}};return{middleware:h,actions:T};function p(y,v,s){return s===void 0&&(s={}),t(_({type:"query",endpointName:y.endpointName,originalArgs:y.originalArgs,subscribe:!1,forceRefetch:!0,queryCacheKey:v},s))}}function ae(e){for(var r=[],t=1;t<arguments.length;t++)r[t-1]=arguments[t];Object.assign.apply(Object,Ee([e],r))}var mr=Symbol(),Wt=function(){return{name:mr,init:function(e,r,t){var i=r.baseQuery,u=r.tagTypes,f=r.reducerPath,T=r.serializeQueryArgs,I=r.keepUnusedDataFor,P=r.refetchOnMountOrArgChange,h=r.refetchOnFocus,p=r.refetchOnReconnect;Nr();var y=function(z){return typeof process<"u",z};Object.assign(e,{reducerPath:f,endpoints:{},internalActions:{onOnline:Je,onOffline:Mr,onFocus:Be,onFocusLost:Qr},util:{}});var v=At({baseQuery:i,reducerPath:f,context:t,api:e,serializeQueryArgs:T,assertTagType:y}),s=v.queryThunk,R=v.mutationThunk,b=v.patchQueryData,O=v.updateQueryData,k=v.upsertQueryData,A=v.prefetch,S=v.buildMatchThunkActions,n=kt({context:t,queryThunk:s,mutationThunk:R,reducerPath:f,assertTagType:y,config:{refetchOnFocus:h,refetchOnReconnect:p,refetchOnMountOrArgChange:P,keepUnusedDataFor:I,reducerPath:f}}),c=n.reducer,a=n.actions;ae(e.util,{patchQueryData:b,updateQueryData:O,upsertQueryData:k,prefetch:A,resetApiState:a.resetApiState}),ae(e.internalActions,a);var o=$t({reducerPath:f,context:t,queryThunk:s,mutationThunk:R,api:e,assertTagType:y}),l=o.middleware,m=o.actions;ae(e.util,m),ae(e,{reducer:c,middleware:l});var d=Et({serializeQueryArgs:T,reducerPath:f}),g=d.buildQuerySelector,q=d.buildMutationSelector,w=d.selectInvalidatedBy;ae(e.util,{selectInvalidatedBy:w});var E=It({queryThunk:s,mutationThunk:R,api:e,serializeQueryArgs:T,context:t}),Q=E.buildInitiateQuery,C=E.buildInitiateMutation,F=E.getRunningMutationThunk,M=E.getRunningMutationsThunk,N=E.getRunningQueriesThunk,x=E.getRunningQueryThunk,H=E.getRunningOperationPromises,V=E.removalWarning;return ae(e.util,{getRunningOperationPromises:H,getRunningOperationPromise:V,getRunningMutationThunk:F,getRunningMutationsThunk:M,getRunningQueryThunk:x,getRunningQueriesThunk:N}),{name:mr,injectEndpoint:function(z,K){var D,$,L=e;($=(D=L.endpoints)[z])!=null||(D[z]={}),Cr(K)?ae(L.endpoints[z],{name:z,select:g(z,K),initiate:Q(z,K)},S(s,z)):wt(K)&&ae(L.endpoints[z],{name:z,select:q(),initiate:C(z)},S(R,z))}}}}},_t=function(e,r){for(var t=0,i=r.length,u=e.length;t<i;t++,u++)e[u]=r[t];return e},Lt=Object.defineProperty,Bt=Object.defineProperties,Jt=Object.getOwnPropertyDescriptors,br=Object.getOwnPropertySymbols,Yt=Object.prototype.hasOwnProperty,Gt=Object.prototype.propertyIsEnumerable,Sr=function(e,r,t){return r in e?Lt(e,r,{enumerable:!0,configurable:!0,writable:!0,value:t}):e[r]=t},te=function(e,r){for(var t in r||(r={}))Yt.call(r,t)&&Sr(e,t,r[t]);if(br)for(var i=0,u=br(r);i<u.length;i++){var t=u[i];Gt.call(r,t)&&Sr(e,t,r[t])}return e},Ie=function(e,r){return Bt(e,Jt(r))};function Rr(e,r,t,i){var u=U.useMemo(function(){return{queryArgs:e,serialized:typeof e=="object"?r({queryArgs:e,endpointDefinition:t,endpointName:i}):e}},[e,r,t,i]),f=U.useRef(u);return U.useEffect(function(){f.current.serialized!==u.serialized&&(f.current=u)},[u]),f.current.serialized===u.serialized?f.current.queryArgs:e}var Ne=Symbol();function He(e){var r=U.useRef(e);return U.useEffect(function(){Ae(r.current,e)||(r.current=e)},[e]),Ae(r.current,e)?r.current:e}var we=WeakMap?new WeakMap:void 0,Xt=function(e){var r=e.endpointName,t=e.queryArgs,i="",u=we==null?void 0:we.get(t);if(typeof u=="string")i=u;else{var f=JSON.stringify(t,function(T,I){return se(I)?Object.keys(I).sort().reduce(function(P,h){return P[h]=I[h],P},{}):I});se(t)&&(we==null||we.set(t,f)),i=f}return r+"("+i+")"},Zt=typeof window<"u"&&window.document&&window.document.createElement?U.useLayoutEffect:U.useEffect,jt=function(e){return e},en=function(e){return e.isUninitialized?Ie(te({},e),{isUninitialized:!1,isFetching:!0,isLoading:e.data===void 0,status:W.pending}):e};function rn(e){var r=e.api,t=e.moduleOptions,i=t.batch,u=t.useDispatch,f=t.useSelector,T=t.useStore,I=t.unstable__sideEffectsInRender,P=e.serializeQueryArgs,h=e.context,p=I?function(b){return b()}:U.useEffect;return{buildQueryHooks:s,buildMutationHook:R,usePrefetch:v};function y(b,O,k){if(O!=null&&O.endpointName&&b.isUninitialized){var A=O.endpointName,S=h.endpointDefinitions[A];P({queryArgs:O.originalArgs,endpointDefinition:S,endpointName:A})===P({queryArgs:k,endpointDefinition:S,endpointName:A})&&(O=void 0)}var n=b.isSuccess?b.data:O==null?void 0:O.data;n===void 0&&(n=b.data);var c=n!==void 0,a=b.isLoading,o=!c&&a,l=b.isSuccess||a&&c;return Ie(te({},b),{data:n,currentData:b.data,isFetching:a,isLoading:o,isSuccess:l})}function v(b,O){var k=u(),A=He(O);return U.useCallback(function(S,n){return k(r.util.prefetch(b,S,te(te({},A),n)))},[b,k,A])}function s(b){var O=function(S,n){var c=n===void 0?{}:n,a=c.refetchOnReconnect,o=c.refetchOnFocus,l=c.refetchOnMountOrArgChange,m=c.skip,d=m===void 0?!1:m,g=c.pollingInterval,q=g===void 0?0:g,w=r.endpoints[b].initiate,E=u(),Q=Rr(d?oe:S,Xt,h.endpointDefinitions[b],b),C=He({refetchOnReconnect:a,refetchOnFocus:o,pollingInterval:q}),F=U.useRef(!1),M=U.useRef(),N=M.current||{},x=N.queryCacheKey,H=N.requestId,V=!1;if(x&&H){var z=E(r.internalActions.internal_probeSubscription({queryCacheKey:x,requestId:H}));V=!!z}var K=!V&&F.current;return p(function(){F.current=V}),p(function(){K&&(M.current=void 0)},[K]),p(function(){var D,$=M.current;if(typeof process<"u",Q===oe){$==null||$.unsubscribe(),M.current=void 0;return}var L=(D=M.current)==null?void 0:D.subscriptionOptions;if(!$||$.arg!==Q){$==null||$.unsubscribe();var Y=E(w(Q,{subscriptionOptions:C,forceRefetch:l}));M.current=Y}else C!==L&&$.updateSubscriptionOptions(C)},[E,w,l,Q,C,K]),U.useEffect(function(){return function(){var D;(D=M.current)==null||D.unsubscribe(),M.current=void 0}},[]),U.useMemo(function(){return{refetch:function(){var D;if(!M.current)throw new Error("Cannot refetch a query that has not been started yet.");return(D=M.current)==null?void 0:D.refetch()}}},[])},k=function(S){var n=S===void 0?{}:S,c=n.refetchOnReconnect,a=n.refetchOnFocus,o=n.pollingInterval,l=o===void 0?0:o,m=r.endpoints[b].initiate,d=u(),g=U.useState(Ne),q=g[0],w=g[1],E=U.useRef(),Q=He({refetchOnReconnect:c,refetchOnFocus:a,pollingInterval:l});p(function(){var M,N,x=(M=E.current)==null?void 0:M.subscriptionOptions;Q!==x&&((N=E.current)==null||N.updateSubscriptionOptions(Q))},[Q]);var C=U.useRef(Q);p(function(){C.current=Q},[Q]);var F=U.useCallback(function(M,N){N===void 0&&(N=!1);var x;return i(function(){var H;(H=E.current)==null||H.unsubscribe(),E.current=x=d(m(M,{subscriptionOptions:C.current,forceRefetch:!N})),w(M)}),x},[d,m]);return U.useEffect(function(){return function(){var M;(M=E==null?void 0:E.current)==null||M.unsubscribe()}},[]),U.useEffect(function(){q!==Ne&&!E.current&&F(q,!0)},[q,F]),U.useMemo(function(){return[F,q]},[F,q])},A=function(S,n){var c=n===void 0?{}:n,a=c.skip,o=a===void 0?!1:a,l=c.selectFromResult,m=r.endpoints[b].select,d=Rr(o?oe:S,P,h.endpointDefinitions[b],b),g=U.useRef(),q=U.useMemo(function(){return me([m(d),function(F,M){return M},function(F){return d}],y)},[m,d]),w=U.useMemo(function(){return l?me([q],l):q},[q,l]),E=f(function(F){return w(F,g.current)},Ae),Q=T(),C=q(Q.getState(),g.current);return Zt(function(){g.current=C},[C]),E};return{useQueryState:A,useQuerySubscription:O,useLazyQuerySubscription:k,useLazyQuery:function(S){var n=k(S),c=n[0],a=n[1],o=A(a,Ie(te({},S),{skip:a===Ne})),l=U.useMemo(function(){return{lastArg:a}},[a]);return U.useMemo(function(){return[c,o,l]},[c,o,l])},useQuery:function(S,n){var c=O(S,n),a=A(S,te({selectFromResult:S===oe||n!=null&&n.skip?void 0:en},n)),o=a.data,l=a.status,m=a.isLoading,d=a.isSuccess,g=a.isError,q=a.error;return U.useDebugValue({data:o,status:l,isLoading:m,isSuccess:d,isError:g,error:q}),U.useMemo(function(){return te(te({},a),c)},[a,c])}}}function R(b){return function(O){var k=O===void 0?{}:O,A=k.selectFromResult,S=A===void 0?jt:A,n=k.fixedCacheKey,c=r.endpoints[b],a=c.select,o=c.initiate,l=u(),m=U.useState(),d=m[0],g=m[1];U.useEffect(function(){return function(){d!=null&&d.arg.fixedCacheKey||d==null||d.reset()}},[d]);var q=U.useCallback(function($){var L=l(o($,{fixedCacheKey:n}));return g(L),L},[l,o,n]),w=(d||{}).requestId,E=U.useMemo(function(){return me([a({fixedCacheKey:n,requestId:d==null?void 0:d.requestId})],S)},[a,d,S,n]),Q=f(E,Ae),C=n==null?d==null?void 0:d.arg.originalArgs:void 0,F=U.useCallback(function(){i(function(){d&&g(void 0),n&&l(r.internalActions.removeMutationResult({requestId:w,fixedCacheKey:n}))})},[l,n,d,w]),M=Q.endpointName,N=Q.data,x=Q.status,H=Q.isLoading,V=Q.isSuccess,z=Q.isError,K=Q.error;U.useDebugValue({endpointName:M,data:N,status:x,isLoading:H,isSuccess:V,isError:z,error:K});var D=U.useMemo(function(){return Ie(te({},Q),{originalArgs:C,reset:F})},[Q,C,F]);return U.useMemo(function(){return[q,D]},[q,D])}}}var Me;(function(e){e.query="query",e.mutation="mutation"})(Me||(Me={}));function tn(e){return e.type===Me.query}function nn(e){return e.type===Me.mutation}function Ke(e){return e.replace(e[0],e[0].toUpperCase())}function qe(e){for(var r=[],t=1;t<arguments.length;t++)r[t-1]=arguments[t];Object.assign.apply(Object,_t([e],r))}var an=Symbol(),un=function(e){var r={},t=r.batch,i=t===void 0?Br.unstable_batchedUpdates:t,u=r.useDispatch,f=u===void 0?_r:u,T=r.useSelector,I=T===void 0?Wr:T,P=r.useStore,h=P===void 0?Lr:P,p=r.unstable__sideEffectsInRender,y=p===void 0?!1:p;return{name:an,init:function(v,s,R){var b=s.serializeQueryArgs,O=v,k=rn({api:v,moduleOptions:{batch:i,useDispatch:f,useSelector:I,useStore:h,unstable__sideEffectsInRender:y},serializeQueryArgs:b,context:R}),A=k.buildQueryHooks,S=k.buildMutationHook,n=k.usePrefetch;return qe(O,{usePrefetch:n}),qe(R,{batch:i}),{injectEndpoint:function(c,a){if(tn(a)){var o=A(c),l=o.useQuery,m=o.useLazyQuery,d=o.useLazyQuerySubscription,g=o.useQueryState,q=o.useQuerySubscription;qe(O.endpoints[c],{useQuery:l,useLazyQuery:m,useLazyQuerySubscription:d,useQueryState:g,useQuerySubscription:q}),v["use"+Ke(c)+"Query"]=l,v["useLazy"+Ke(c)+"Query"]=m}else if(nn(a)){var w=S(c);qe(O.endpoints[c],{useMutation:w}),v["use"+Ke(c)+"Mutation"]=w}}}}}},on=Qt(Wt(),un()),sn=(e=>(e[e.none=0]="none",e[e.second=1]="second",e[e.minute=60]="minute",e[e.fiveMinutes=300]="fiveMinutes",e[e.hour=3600]="hour",e[e.day=86400]="day",e[e.week=604800]="week",e))(sn||{}),Fr=(e=>(e[e.short=1e3]="short",e[e.medium=15e3]="medium",e[e.long=3e4]="long",e))(Fr||{});const cn=e=>new Promise(r=>setTimeout(r,e)),ln=(e,{getState:r})=>{const t=r(),{environment:i}=ot(t),u=Gr[i];return u?e.set("X-API-KEY",u):Ir(`No API key in .env for environment ${i}.`),e.set("releaseVersion",jr),e},fn=async(e,r,t)=>ze(async()=>{var s;const{slug:i,afterError:u,afterSuccess:f,prepareHeaders:T=R=>R}=e,I=st(i)(r.getState()),P=`${r.endpoint}: ${e.method??"GET"} ${I}${e.url}`;tr(`Request started: ${P}`);const h=await Rt({baseUrl:I,prepareHeaders:(R,b)=>ln(T(R,b),b),timeout:Fr.long})(e,r,t),{error:p,meta:y}=h,v=((s=y==null?void 0:y.response)==null?void 0:s.status)??(p==null?void 0:p.status)??0;return p?Ir(`Request failed (${v}): ${P}, ${JSON.stringify(p.data)}`):tr(`Request success: ${P}`),v===404&&ze.fail(p),((p==null?void 0:p.status)==="FETCH_ERROR"||(p==null?void 0:p.status)==="TIMEOUT_ERROR"||(p==null?void 0:p.status)===502)&&await cn(100),p?await(u==null?void 0:u(h,r,ze.fail)):await(f==null?void 0:f(h,r)),h},{maxRetries:2})(e,r,t),qn=on({baseQuery:fn,endpoints:()=>({}),reducerPath:"api",tagTypes:["Articles","FollowedProjects","LicensePlates","Modules","Notifications","ParkingSessions","Projects"]}),dn=ie({name:le.secureStorage,initialState:{},reducers:{setSecureItemUpdatedTimestamp:(e,{payload:r})=>{Object.assign(e,{[r]:Date.now()})},deleteSecureItemUpdatedTimestamp:(e,{payload:r})=>{e[r]&&delete e[r]}}}),{deleteSecureItemUpdatedTimestamp:In,setSecureItemUpdatedTimestamp:An}=dn.actions,kn=e=>r=>r[le.secureStorage][e],ne={},Or=2048;function vn(e,r){let t=0;for(let i=0;i<e.length;i++){const u=e.charCodeAt(i);if(u>=55296&&u<57344&&u<56320&&i+1<e.length){const f=e.charCodeAt(i+1);if(f>=56320&&f<57344){if(t+=4,t>r)return!0;i++;continue}}if(t+=u<128?1:u<2048?2:3,t>r)return!0}return t>r}ne.AFTER_FIRST_UNLOCK;ne.AFTER_FIRST_UNLOCK_THIS_DEVICE_ONLY;ne.ALWAYS;ne.WHEN_PASSCODE_SET_THIS_DEVICE_ONLY;ne.ALWAYS_THIS_DEVICE_ONLY;ne.WHEN_UNLOCKED;ne.WHEN_UNLOCKED_THIS_DEVICE_ONLY;async function pn(e,r={}){return zr(e),await ne.getValueWithKeyAsync(e,r)}async function hn(e,r,t={}){if(zr(e),!gn(r))throw new Error("Invalid value provided to SecureStore. Values must be strings; consider JSON-encoding your values if they are serializable.");await ne.setValueWithKeyAsync(r,e,t)}function zr(e){if(!yn(e))throw new Error('Invalid key provided to SecureStore. Keys must not be empty and contain only alphanumeric characters, ".", "-", and "_".')}function yn(e){return typeof e=="string"&&/^[\w.-]+$/.test(e)}function gn(e){return typeof e!="string"?!1:(vn(e,Or)&&console.warn(`Value being stored in SecureStore is larger than ${Or} bytes and it may not be stored successfully. In a future SDK version, this call may throw an error.`),!0)}var mn=(e=>(e.accessCode="accessCode",e.cityPassAccessToken="cityPassAccessToken",e.cityPassRefreshToken="cityPassRefreshToken",e.cityPasses="cityPasses",e.parkingPermitHolder="parkingPermitHolder",e.parkingVisitor="parkingVisitor",e.wasteCardNumber="wasteCardNumber",e))(mn||{});const En=(e,r)=>new Promise((t,i)=>{hn(e,r,{requireAuthentication:!1}).then(u=>t(u)).catch(u=>{Xr.trackException({exception:u}),i(u)})}),Qn=e=>new Promise((r,t)=>{pn(e,{requireAuthentication:!1}).then(i=>r(i)).catch(t)});export{sn as C,mn as S,En as a,An as b,qn as c,dn as d,ut as e,ot as f,Qn as g,kn as h,me as i,oe as s};
