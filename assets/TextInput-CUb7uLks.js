import{b2 as ie,bo as Bn,r as n,br as Ln,bs as _n,bB as wn,b0 as Yt,m as he,bC as De,bD as An,b3 as Mn,bE as Fn,b4 as Re,bF as gt,bp as pt,bG as Oe,bH as Kt,S as ae,j as v,V as Te,b5 as et,b1 as ue,bI as Vn,bJ as wt,bK as zt,bL as Xt,bM as Un,bN as Gn,a5 as Le,bO as jn,bu as Wn,bz as Yn,bP as Kn,bx as zn,aX as Xn,k as At,C as Mt,I as qn,a as $n}from"./iframe-oM-bDxC-.js";import{a as Ie,o as qt}from"./index-CJzqmMx7.js";import{u as Ne,G as tt,b as nt,a as Jn}from"./gestureObjects-m729pdED.js";import{L as Ft}from"./Label-Bhefp44Z.js";function be(e,t,o){const s=ie(null);let i=Object.values(e.__closure??{});Bn()&&!i.length&&o!=null&&o.length&&(i=o),o===void 0?o=[...Object.values(e.__closure??{}),...Object.values(t.__closure??{}),e.__workletHash,t.__workletHash]:o.push(e.__workletHash,t.__workletHash),n.useEffect(()=>{const r=Ln(()=>{"worklet";const c=e();t(c,s.value),s.value=c},i);return()=>{_n(r)}},o)}const Zn=wn();function Qn(){return Zn}const eo=n.createContext(!1),to=()=>n.useContext(eo),{height:$t,width:no}=Yt.get("window"),{height:Jt,width:ds}=Yt.get("screen");var se=function(e){return e[e.UNDETERMINED=0]="UNDETERMINED",e[e.SCROLLABLE=1]="SCROLLABLE",e[e.HANDLE=2]="HANDLE",e[e.CONTENT=3]="CONTENT",e}(se||{}),fe=function(e){return e[e.CLOSED=0]="CLOSED",e[e.OPENED=1]="OPENED",e[e.EXTENDED=2]="EXTENDED",e[e.OVER_EXTENDED=3]="OVER_EXTENDED",e[e.FILL_PARENT=4]="FILL_PARENT",e}(fe||{}),ce=function(e){return e[e.LOCKED=0]="LOCKED",e[e.UNLOCKED=1]="UNLOCKED",e[e.UNDETERMINED=2]="UNDETERMINED",e}(ce||{}),Se=function(e){return e[e.UNDETERMINED=0]="UNDETERMINED",e[e.VIEW=1]="VIEW",e[e.FLATLIST=2]="FLATLIST",e[e.SCROLLVIEW=3]="SCROLLVIEW",e[e.SECTIONLIST=4]="SECTIONLIST",e[e.VIRTUALIZEDLIST=5]="VIRTUALIZEDLIST",e}(Se||{}),Z=function(e){return e[e.UNDETERMINED=0]="UNDETERMINED",e[e.RUNNING=1]="RUNNING",e[e.STOPPED=2]="STOPPED",e[e.INTERRUPTED=3]="INTERRUPTED",e}(Z||{}),j=function(e){return e[e.NONE=0]="NONE",e[e.MOUNT=1]="MOUNT",e[e.GESTURE=2]="GESTURE",e[e.USER=3]="USER",e[e.CONTAINER_RESIZE=4]="CONTAINER_RESIZE",e[e.SNAP_POINT_CHANGE=5]="SNAP_POINT_CHANGE",e[e.KEYBOARD=6]="KEYBOARD",e}(j||{}),Qe=function(e){return e[e.TIMING=0]="TIMING",e[e.SPRING=1]="SPRING",e}(Qe||{}),W=function(e){return e[e.UNDETERMINED=0]="UNDETERMINED",e[e.SHOWN=1]="SHOWN",e[e.HIDDEN=2]="HIDDEN",e}(W||{}),bt=function(e){return e[e.PROVIDED=0]="PROVIDED",e[e.DYNAMIC=1]="DYNAMIC",e}(bt||{});const oo=De.out(De.exp),ao=250,so=he.select({android:{duration:ao,easing:oo},default:{damping:500,stiffness:1e3,mass:3,overshootClamping:!0,restDisplacementThreshold:10,restSpeedThreshold:10}}),io={[ce.UNDETERMINED]:0,[ce.LOCKED]:0,[ce.UNLOCKED]:he.select({ios:.998,android:.985,default:1})},pe={interactive:"interactive",extend:"extend",fillParent:"fillParent"},Et={none:"none",restore:"restore"},St={adjustPan:"adjustPan",adjustResize:"adjustResize"},X=-999,ro={offset:{top:0,bottom:0,right:0,left:0}},Zt=n.createContext(null),lo=Zt.Provider,Qt=n.createContext(null),co=Qt.Provider,en=n.createContext(null),tn=n.createContext(null),uo=n.createContext(null);uo.Provider;const nn=n.createContext(null);nn.Provider;const fo=()=>{const e=n.useContext(Zt);if(e===null)throw"'useBottomSheet' cannot be used out of the BottomSheet!";return e};function ne(e){const t=n.useContext(Qt);if(t===null)throw"'useBottomSheetInternal' cannot be used out of the BottomSheet!";return t}function ho(e){const t=n.useContext(nn);if(t===null)throw"'BottomSheetModalInternalContext' cannot be null!";return t}const on=(e,t)=>{"worklet";let o=e;return typeof o=="string"&&(o=Number(o.split("%")[0])*t/100),Math.max(0,t-o)},vt=({point:e,configs:t,velocity:o=0,overrideReduceMotion:s,onComplete:i})=>{"worklet";return t||(t=so),s&&(t.reduceMotion=s),("duration"in t||"easing"in t?Qe.TIMING:Qe.SPRING)===Qe.TIMING?An(e,t,i):Mn(e,Object.assign({velocity:o},t),i)},mo=(e,t)=>{"worklet";switch(e){case"easeIn":return{easing:De.in(De.ease),duration:t};case"easeOut":return{easing:De.out(De.ease),duration:t};case"easeInEaseOut":return{easing:De.inOut(De.ease),duration:t};case"linear":return{easing:De.linear,duration:t};case"keyboard":return{damping:500,stiffness:1e3,mass:3,overshootClamping:!0,restDisplacementThreshold:10,restSpeedThreshold:10}}};let an=()=>{};Object.freeze(an);function go(){return(window==null?void 0:window.nativeFabricUIManager)!=null}function _e(e){let t;try{if(t=Fn(e),t)return t}catch{}try{if(t=e.getNativeScrollRef(),t)return t}catch{}return t=e._scrollRef,t||(console.warn("could not find scrollable ref!"),e)}const po=(e,t,o,s)=>{const i=n.useRef(null),a=n.useRef(null),r=ie({type:Se.UNDETERMINED,contentOffsetY:0,refreshable:!1}),c=Ne(()=>!e||t.value===fe.FILL_PARENT||t.value===fe.EXTENDED||o.get().status===W.SHOWN&&s.get().status===Z.RUNNING?ce.UNLOCKED:ce.LOCKED,[e,t,o,s,r]),l=n.useCallback(f=>{var h;(((h=i.current)==null?void 0:h.id)??null)!==f.id&&(i.current&&(a.current=i.current),i.current=f)},[]),d=n.useCallback(f=>{var p;let u;try{u=_e(f.current)}catch{return}const h=((p=i.current)==null?void 0:p.id)??null;u===h&&(i.current=a.current)},[]);return{state:r,status:c,setScrollableRef:l,removeScrollableRef:d}},bo=(e,t,o,s,i=n.useEffect)=>{const{animatedScrollableState:a,setScrollableRef:r,removeScrollableRef:c}=ne(),l=n.useCallback(()=>{a.set(f=>({...f,contentOffsetY:o.value,type:t,refreshable:s}));const d=_e(e.current);return d?r({id:d,node:e}):console.warn("Couldn't find the scrollable node handle id!"),()=>{c(e)}},[e,t,s,o,a,r,c]);i(l)},Eo=(e,t)=>{const o=n.useRef(null),s=ie(0),{animatedScrollableState:i,animatedScrollableStatus:a,animatedAnimationState:r}=ne();return n.useEffect(()=>{const c=_e(o.current);let l=0,d=!1,f=!1,u=0;function h(D){D.touches.length===1&&(c.scrollTop,u=D.touches[0].clientY,f=l<=0)}function p(D){return a.value===ce.LOCKED&&D.cancelable||f&&(f=!1,D.touches[0].clientY-u>0&&D.cancelable)?D.preventDefault():!0}function I(){if(a.value===ce.LOCKED){c.scroll({top:0,left:0,behavior:"instant"}),s.value=0;return}}function m(D){if(l=c.scrollTop,r.get().status!==Z.RUNNING){const T=Math.max(0,l);s.value=T,i.set(H=>({...H,contentOffsetY:T}))}return l<=0&&D.cancelable?(D.preventDefault(),D.stopPropagation(),!1):!0}try{window.addEventListener("test",null,{get passive(){d=!0}})}catch{}return c.addEventListener("touchstart",h,d?{passive:!0}:!1),c.addEventListener("touchmove",p,d?{passive:!1}:!1),c.addEventListener("touchend",I,d?{passive:!1}:!1),c.addEventListener("scroll",m,d?{passive:!1}:!1),()=>{window.removeEventListener("test",null),c.removeEventListener("touchstart",h),c.removeEventListener("touchmove",p),c.removeEventListener("touchend",I),c.removeEventListener("scroll",m)}},[r,i,a,s]),{scrollHandler:t,scrollableRef:o,scrollableContentOffsetY:s}},Vt=(e,t,o,s,i,a,r)=>{const c=n.useCallback(u=>{"worklet";t.value=Ie.BEGAN,o.value=e,s(e,u)},[t,o,e,s]),l=n.useCallback(u=>{"worklet";o.value===e&&(t.value=u.state,i(e,u))},[t,o,e,i]),d=n.useCallback(u=>{"worklet";o.value===e&&(t.value=u.state,o.value=se.UNDETERMINED,a(e,u))},[t,o,e,a]),f=n.useCallback(u=>{"worklet";o.value===e&&(t.value=u.state,o.value=se.UNDETERMINED,r(e,u))},[t,o,e,r]);return{handleOnStart:c,handleOnChange:l,handleOnEnd:d,handleOnFinalize:f}},So=(e,t,o)=>{"worklet";return Math.min(Math.max(t,e),o)},vo=(e,t,o)=>{"worklet";const s=e+.2*t,i=o.map(r=>Math.abs(s-r)),a=Math.min.apply(null,i);return o.filter(r=>Math.abs(s-r)===a)[0]},Co={initialPosition:0,initialTranslationY:0,initialKeyboardStatus:W.UNDETERMINED,isScrollablePositionLocked:!1},Io=Re(gt.dismiss),Do=e=>{"worklet";Object.keys(e).map(t=>{e[t]=void 0})},No=()=>{const{animatedPosition:e,animatedDetentsState:t,animatedKeyboardState:o,animatedLayoutState:s,animatedScrollableState:i,enableOverDrag:a,enablePanDownToClose:r,overDragResistanceFactor:c,isInTemporaryPosition:l,animateToPosition:d,stopAnimation:f}=ne(),u=ie({...Co}),h=n.useCallback(function(T,{translationY:H}){"worklet";f(),u.value={...u.value,initialPosition:e.value,initialKeyboardStatus:o.get().status,initialTranslationY:H},i.get().contentOffsetY>0&&(u.value.isScrollablePositionLocked=!0)},[f,u,e,o,i]),p=n.useCallback(function(T,{translationY:H}){"worklet";const{highestDetentPosition:z,detents:b}=t.get();if(z===void 0||b===void 0)return;let N=z;H=H-u.value.initialTranslationY,l.value&&u.value.initialKeyboardStatus===W.SHOWN&&(N=u.value.initialPosition),l.value&&u.value.initialPosition<N&&(N=u.value.initialPosition);const{containerHeight:F}=s.get(),B=r?F:b[0],{refreshable:k,contentOffsetY:w,type:A}=i.get();if(T===se.CONTENT&&k&&e.value===N)return;const x=u.value.initialPosition===N&&T===se.CONTENT||!u.value.isScrollablePositionLocked?w*-1:0,C=u.value.initialPosition+H,oe=C+x,Q=So(oe,N,B);if(u.value.isScrollablePositionLocked&&T===se.CONTENT&&e.value===N&&(u.value.isScrollablePositionLocked=!1),a){if((T===se.HANDLE||A===Se.VIEW)&&C<N){const V=N-Math.sqrt(1+(N-C))*c;e.value=V;return}if(T===se.HANDLE&&C>B){const V=B+Math.sqrt(1+(C-B))*c;e.value=V;return}if(T===se.CONTENT&&C+x>B){const V=B+Math.sqrt(1+(C+x-B))*c;e.value=V;return}}e.value=Q},[u,a,r,c,l,t,s,e,i]),I=n.useCallback(function(T,{translationY:H,absoluteY:z,velocityY:b}){"worklet";const{highestDetentPosition:N,detents:F,closedDetentPosition:B}=t.get();if(N===void 0||F===void 0||B===void 0)return;const k=N,w=e.value===k,{refreshable:A,contentOffsetY:x,type:C}=i.get();if(T===se.CONTENT&&A&&w)return;if(l.value&&u.value.initialPosition>=e.value){u.value.initialPosition>e.value&&d(u.value.initialPosition,j.GESTURE,b/2);return}const oe=C!==Se.UNDETERMINED&&C!==Se.VIEW;u.value.initialKeyboardStatus===W.SHOWN&&e.value>u.value.initialPosition&&(he.OS==="ios"&&oe&&z>$t-o.get().heightWithinContainer||Io()),l.value&&(l.value=!1);const Q=F.slice();r&&Q.unshift(B);const V=vo(H+u.value.initialPosition,b,Q);V===e.value||T===se.CONTENT&&x>0&&w||d(V,j.GESTURE,b/2)},[r,l,i,t,o,e,d,u]),m=n.useCallback(function(){"worklet";Do(u)},[u]);return{handleOnStart:h,handleOnChange:p,handleOnEnd:I,handleOnFinalize:m}},sn=()=>{const e=n.useContext(en);if(e===null)throw"'useBottomSheetGestureHandlers' cannot be used out of the BottomSheet!";return e},yo={rawContainerHeight:X,containerHeight:X,containerOffset:ro.offset,handleHeight:X,footerHeight:X,contentHeight:X};function Oo(e,t,o,s,i){const a=n.useMemo(()=>t+o,[t,o]),r=n.useMemo(()=>{const l={...yo};if(e){const d=e.get();l.containerHeight=s?d.height-a:d.height,l.containerOffset=d.offset}return i&&(l.handleHeight=0),l},[e,s,i,a]),[c]=n.useState(()=>pt(r));return be(()=>c.value.rawContainerHeight,(l,d)=>{l!==d&&l!==X&&c.modify(f=>{"worklet";return f.containerHeight=s?l-a:l,f})},[c,a,s]),be(()=>e==null?void 0:e.get().height,(l,d)=>{!l||l===d||l!==X&&c.modify(f=>{"worklet";return f.containerHeight=s?l-a:l,f})},[c,a,s]),c}const Ut={KEYBOARD_SHOW:he.select({ios:"keyboardWillShow",android:"keyboardDidShow",default:""}),KEYBOARD_HIDE:he.select({ios:"keyboardWillHide",android:"keyboardDidHide",default:""})},xo={status:W.UNDETERMINED,height:0,heightWithinContainer:0,easing:"keyboard",duration:500},Po=()=>{const e=n.useRef(new Set),t=ie(xo),o=ie(null),s=n.useCallback((i,a,r,c,l)=>{"worklet";const d=t.get();if(i===W.SHOWN&&!d.target){o.set({status:i,height:a,duration:r,easing:c});return}o.set(null);let f=i===W.SHOWN?a:d.height;l&&(f=f+l),t.set(u=>({status:i,easing:c,duration:r,height:f,target:u.target,heightWithinContainer:u.heightWithinContainer}))},[t,o]);return n.useEffect(()=>{const i=l=>{Oe(s)(W.SHOWN,l.endCoordinates.height,l.duration,l.easing,Jt-l.endCoordinates.height-l.endCoordinates.screenY)},a=l=>{Oe(s)(W.HIDDEN,l.endCoordinates.height,l.duration,l.easing)},r=gt.addListener(Ut.KEYBOARD_SHOW,i),c=gt.addListener(Ut.KEYBOARD_HIDE,a);return()=>{r.remove(),c.remove()}},[s]),be(()=>t.value.target,(i,a)=>{if(!i||i===a)return;const r=o.get();r&&s(r.status,r.height,r.duration,r.easing)},[o,s]),{state:t,textInputNodesRef:e}};function rn(e){const t=n.useRef();return n.useLayoutEffect(()=>{t.current=e}),n.useEffect(()=>()=>{t.current=void 0},[]),n.useCallback((...o)=>{var s;return(s=t.current)==null?void 0:s.call(t,...o)},[])}const Ro=2.5,To=!0,ko=!0,Ho=!0,Bo=!1,Lo=!0,_o=!0,wo=pe.interactive,Ao=Et.none,Mo=St.adjustPan,Fo=!1,Vo=-998,Uo=Number.NEGATIVE_INFINITY,Go=Jt,jo=!0,Wo="Bottom Sheet",Yo="adjustable",Ko=(e,t,o,s,i,a,r=0)=>Ne(()=>{const{containerHeight:l,handleHeight:d,contentHeight:f}=t.get();if(l===X)return{};let h=(e?"value"in e?e.value:e:[]).map(T=>on(T,l)),p=h[h.length-1],I=l;if((a||i)&&(I=l+r),!o)return{detents:h,highestDetentPosition:p,closedDetentPosition:I};if(f===X)return{};if(d===X)return{};const m=l-Math.min(f+d,s!==void 0?s:l);h.includes(m)||h.push(m),h=h.sort((T,H)=>H-T),p=h[h.length-1];const D=h.indexOf(m);return{detents:h,dynamicDetentIndex:D,highestDetentPosition:p,closedDetentPosition:I}},[e,t,o,s,i,a,r]),zo=e=>{const t=n.useRef(null),o=n.useRef(null);return e&&typeof e=="object"&&"value"in e||(o.current===null?(t.current=e,typeof e=="object"?o.current=pt({...e}):o.current=pt(e)):t.current!==e&&(o.current.value=e)),n.useEffect(()=>()=>{o.current&&Kt(o.current)},[]),o.current??e};function ln(e,t){go()&&n.useLayoutEffect(()=>{if(!(!e||!e.current)){if(e.current.unstable_getBoundingClientRect!==null){const o=e.current.unstable_getBoundingClientRect();t(o);return}if(e.current.getBoundingClientRect!==null){const o=e.current.getBoundingClientRect();t(o)}}})}function cn(e,t){const[o,s]=n.useState(0),{animatedLayoutState:i}=ne(),a=n.useMemo(()=>t?Array.isArray(t)?ae.compose(...t):t:{},[t]),r=n.useMemo(()=>{if(!e)return a;let c=0;if(a&&typeof a=="object"){const{paddingBottom:l,padding:d,paddingVertical:f}=a;l!==void 0&&typeof l=="number"?c=l:f!==void 0&&typeof f=="number"?c=f:d!==void 0&&typeof d=="number"&&(c=d)}return[a,{paddingBottom:c+o,overflow:"visible"}]},[o,e,a]);return be(()=>i.get().footerHeight,(c,l)=>{e&&(Re(s)(c),he.OS==="web"&&c&&!l&&i.modify(d=>{"worklet";return d.contentHeight=d.contentHeight+c,d}))},[i,e]),r}const un=ae.create({container:ae.absoluteFillObject,background:{backgroundColor:"white",borderRadius:15}}),Xo=({pointerEvents:e,style:t})=>v.jsx(Te,{pointerEvents:e,accessible:!0,accessibilityRole:"adjustable",accessibilityLabel:"Bottom Sheet",style:[un.background,t]}),dn=n.memo(Xo);dn.displayName="BottomSheetBackground";const qo=({animatedIndex:e,animatedPosition:t,backgroundComponent:o,backgroundStyle:s})=>{const i=n.useMemo(()=>ae.flatten([un.container,s]),[s]),a=o??dn;return v.jsx(a,{pointerEvents:"none",animatedIndex:e,animatedPosition:t,style:i})},fn=n.memo(qo);fn.displayName="BottomSheetBackgroundContainer";const $o=ae.create({container:{position:"absolute",top:0,left:0,right:0,zIndex:9999,pointerEvents:"box-none"}});function Jo({animatedFooterPosition:e,bottomInset:t=0,style:o,children:s}){const i=n.useRef(null),{animatedLayoutState:a,animatedKeyboardState:r}=ne(),c=et(()=>{let u=e.get();return r.get().status!==W.SHOWN&&(u=u-t),{transform:[{translateY:Math.max(0,u)}]}},[t,r,e]),l=n.useMemo(()=>[$o.container,o,c],[o,c]),d=n.useCallback(({nativeEvent:{layout:{height:u}}})=>{a.modify(h=>{"worklet";return h.footerHeight=u,h})},[a]),f=n.useCallback(({height:u})=>{a.modify(h=>{"worklet";return h.footerHeight=u,h})},[a]);return ln(i,f),s!==null?v.jsx(ue.View,{ref:i,onLayout:d,style:l,children:s}):null}const Zo=n.memo(Jo);Zo.displayName="BottomSheetFooter";const Qo=({footerComponent:e})=>{const{animatedLayoutState:t,animatedPosition:o,animatedKeyboardState:s}=ne(),i=Ne(()=>{const{handleHeight:a,footerHeight:r,containerHeight:c}=t.get();if(a===X)return 0;const{status:l,heightWithinContainer:d}=s.get(),f=o.get();let u=Math.max(0,c-f);return l===W.SHOWN&&(u=u-d),u=u-r-a,u},[s,o,t]);return v.jsx(e,{animatedFooterPosition:i})},hn=n.memo(Qo);hn.displayName="BottomSheetFooterContainer";const ea=({gestureEventsHandlersHook:e=No,children:t})=>{const o=ie(se.UNDETERMINED),{animatedContentGestureState:s,animatedHandleGestureState:i}=ne(),{handleOnStart:a,handleOnChange:r,handleOnEnd:c,handleOnFinalize:l}=e(),d=Vt(se.CONTENT,s,o,a,r,c,l),f=Vt(se.HANDLE,i,o,a,r,c,l),u=n.useMemo(()=>({contentPanGestureHandler:d,handlePanGestureHandler:f,animatedGestureSource:o}),[d,f,o]);return v.jsx(en.Provider,{value:u,children:t})},ta=!0,na="adjustable",oa="Bottom sheet handle",aa="Drag up or down to extend or minimize the bottom sheet",Gt=ae.create({container:{padding:10,...he.select({web:{cursor:"pointer"},default:{}})},indicator:{alignSelf:"center",width:7.5*no/100,height:4,borderRadius:4,backgroundColor:"rgba(0, 0, 0, 0.75)"}});function sa({style:e,indicatorStyle:t,accessible:o=ta,accessibilityRole:s=na,accessibilityLabel:i=oa,accessibilityHint:a=aa,children:r}){const c=n.useMemo(()=>[Gt.container,ae.flatten(e)],[e]),l=n.useMemo(()=>[Gt.indicator,ae.flatten(t)],[t]);return v.jsxs(Te,{style:c,accessible:o??void 0,accessibilityRole:s??void 0,accessibilityLabel:i??void 0,accessibilityHint:a??void 0,collapsable:!0,children:[v.jsx(Te,{style:l}),r]})}const mn=n.memo(sa);mn.displayName="BottomSheetHandle";function ia({animatedIndex:e,animatedPosition:t,simultaneousHandlers:o,enableHandlePanningGesture:s=ko,handleComponent:i,handleStyle:a,handleIndicatorStyle:r}){const c=n.useRef(null),{animatedLayoutState:l,activeOffsetX:d,activeOffsetY:f,failOffsetX:u,failOffsetY:h,waitFor:p,simultaneousHandlers:I}=ne(),{handlePanGestureHandler:m}=sn(),D=n.useMemo(()=>{const b=[];return o&&b.push(o),I&&(Array.isArray(I)?b.push(...I):b.push(I)),b},[I,o]),T=n.useMemo(()=>{let b=tt.Pan().enabled(s).shouldCancelWhenOutside(!1).runOnJS(!1).onStart(m.handleOnStart).onChange(m.handleOnChange).onEnd(m.handleOnEnd).onFinalize(m.handleOnFinalize);return p&&(b=b.requireExternalGestureToFail(p)),D&&(b=b.simultaneousWithExternalGesture(D)),d&&(b=b.activeOffsetX(d)),f&&(b=b.activeOffsetY(f)),u&&(b=b.failOffsetX(u)),h&&(b=b.failOffsetY(h)),b},[d,f,s,u,h,D,p,m.handleOnChange,m.handleOnEnd,m.handleOnFinalize,m.handleOnStart]),H=n.useCallback(function({nativeEvent:{layout:{height:N}}}){l.modify(F=>{"worklet";return F.handleHeight=N,F})},[l]),z=n.useCallback(({height:b})=>{l.modify(N=>{"worklet";return N.handleHeight=b,N})},[l]);return ln(c,z),v.jsx(nt,{gesture:T,children:v.jsx(ue.View,{ref:c,onLayout:H,children:v.jsx(i,{animatedIndex:e,animatedPosition:t,style:a,indicatorStyle:r})},"BottomSheetHandleContainer")})}const gn=n.memo(ia);gn.displayName="BottomSheetHandleContainer";const ra=ae.create({container:{position:"absolute",left:0,right:0,bottom:0,top:0}});function la({containerLayoutState:e,layoutState:t,topInset:o=0,bottomInset:s=0,shouldCalculateHeight:i=!0,detached:a,style:r,children:c}){const l=n.useRef(null),d=n.useMemo(()=>[r,ra.container,{top:o,bottom:s,overflow:a?"visible":"hidden"}],[r,a,o,s]),f=n.useCallback(function({nativeEvent:{layout:{height:h}}}){var p;e&&e.modify(I=>{"worklet";return I.height=h,I}),t&&t.modify(I=>{"worklet";return I.rawContainerHeight=h,I}),(p=l.current)==null||p.measure((I,m,D,T,H,z)=>{const b={bottom:Math.max(0,$t-((z??0)+h+(Vn.currentHeight??0))),top:z??0,left:0,right:0};e&&e.modify(N=>{"worklet";return N.offset=b,N}),t&&t.modify(N=>{"worklet";return N.containerOffset=b,N})})},[t,e]);return v.jsx(Te,{ref:l,pointerEvents:"box-none",onLayout:i?f:void 0,style:d,collapsable:!0,children:c})}const pn=n.memo(la);pn.displayName="BottomSheetHostingContainer";const ca=ae.create({container:{flexDirection:"column-reverse",position:"absolute",top:0,left:0,right:0}});function ua({style:e,children:t}){const{animatedIndex:o,animatedPosition:s}=ne(),i=et(()=>({opacity:he.OS==="android"&&o.get()===-1?0:1,transform:[{translateY:s.get()}]}),[s,o]),a=n.useMemo(()=>[e,ca.container,i],[e,i]);return v.jsx(ue.View,{style:a,collapsable:!0,children:t})}const bn=n.memo(ua);bn.displayName="BottomSheetBody";const da=({nativeGestureRef:e,refreshControlGestureRef:t,style:o,children:s,...i})=>{const{enableContentPanningGesture:a,simultaneousHandlers:r,waitFor:c,activeOffsetX:l,activeOffsetY:d,failOffsetX:f,failOffsetY:u}=ne(),{contentPanGestureHandler:h}=sn(),p=n.useMemo(()=>{const m=[];return e&&m.push(e),t&&m.push(t),r&&(Array.isArray(r)?m.push(...r):m.push(r)),m},[r,e,t]),I=n.useMemo(()=>{let m=tt.Pan().enabled(a).shouldCancelWhenOutside(!1).runOnJS(!1).onStart(h.handleOnStart).onChange(h.handleOnChange).onEnd(h.handleOnEnd).onFinalize(h.handleOnFinalize);return c&&(m=m.requireExternalGestureToFail(c)),p&&(m=m.simultaneousWithExternalGesture(p)),l&&(m=m.activeOffsetX(l)),d&&(m=m.activeOffsetY(d)),f&&(m=m.failOffsetX(f)),u&&(m=m.failOffsetY(u)),m},[l,d,a,f,u,p,c,h.handleOnChange,h.handleOnEnd,h.handleOnFinalize,h.handleOnStart]);return v.jsx(nt,{gesture:I,children:v.jsx(tn.Provider,{value:I,children:v.jsx(ue.View,{style:o,...i,children:s})})})},En=n.memo(da);En.displayName="BottomSheetDraggableView";function fa({detached:e,animationConfigs:t,overrideReduceMotion:o,keyboardBehavior:s,accessible:i,accessibilityLabel:a,accessibilityHint:r,accessibilityRole:c,children:l}){const{enableDynamicSizing:d,overDragResistanceFactor:f,enableContentPanningGesture:u,animatedPosition:h,animatedLayoutState:p,animatedDetentsState:I,animatedSheetHeight:m,animatedKeyboardState:D,isInTemporaryPosition:T}=ne(),H=Ne(()=>{const{containerHeight:B,handleHeight:k}=p.get();if(B===X)return 0;const{status:w,heightWithinContainer:A}=D.get();let x=m.get()-Math.max(0,k);switch(s){case pe.extend:w===W.SHOWN&&(x=x-A);break;case pe.fillParent:if(!T.get())break;w===W.SHOWN?x=B-k-A:x=B-k;break;case pe.interactive:{if(!T.get())break;const C=x+A;w===W.SHOWN?A+m.get()>B&&(x=B-A-k):C+k>B?x=B-k:x=C;break}}return Math.max(x,0)},[p,D,m,T,s]),z=Ne(()=>{const B=p.get().containerHeight;if(B===X)return 0;const{highestDetentPosition:k}=I.get(),w=Math.max(k??0,h.get()),A=Math.sqrt(w-B*-1)*f;let x=A;const{status:C,heightWithinContainer:oe}=D.get();return C===W.SHOWN&&(x=A+oe),x},[f,h,p,I,D]),b=et(()=>{const{containerHeight:B,contentHeight:k}=p.get();if(B===X)return{};if(d&&k===X)return{};const w=e?0:z.get(),A=H.get()+w;return{paddingBottom:vt({point:w,configs:t,overrideReduceMotion:o}),height:vt({point:A,configs:t,overrideReduceMotion:o})}},[f,d,e,t,o,p,H,p]),N=n.useMemo(()=>[e?{overflow:"visible"}:{overflow:"hidden"},b],[b,e]),F=u?En:ue.View;return v.jsx(F,{accessible:i,accessibilityLabel:a,accessibilityHint:r,accessibilityRole:c,style:N,children:l})}const Sn=n.memo(fa);Sn.displayName="BottomSheetContent";ue.addWhitelistedUIProps({decelerationRate:!0});const ha=n.forwardRef(function(t,o){const{animationConfigs:s,index:i=0,snapPoints:a,animateOnMount:r=Lo,enableContentPanningGesture:c=To,enableHandlePanningGesture:l,enableOverDrag:d=Ho,enablePanDownToClose:f=Bo,enableDynamicSizing:u=_o,overDragResistanceFactor:h=Ro,overrideReduceMotion:p,style:I,containerStyle:m,backgroundStyle:D,handleStyle:T,handleIndicatorStyle:H,gestureEventsHandlersHook:z,keyboardBehavior:b=wo,keyboardBlurBehavior:N=Ao,android_keyboardInputMode:F=Mo,enableBlurKeyboardOnGesture:B=Fo,containerLayoutState:k,topInset:w=0,bottomInset:A=0,maxDynamicContentSize:x,containerHeight:C,containerOffset:oe,animatedPosition:Q,animatedIndex:V,simultaneousHandlers:ve,waitFor:Ce,activeOffsetX:Ye,activeOffsetY:Ke,failOffsetX:ze,failOffsetY:Xe,onChange:we,onClose:Ae,onAnimate:Me,$modal:xe=!1,detached:Fe=!1,handleComponent:Pe=mn,backdropComponent:qe,backgroundComponent:Ve,footerComponent:$e,children:at,accessible:st=jo,accessibilityLabel:G=Wo,accessibilityRole:y=Yo}=t,Y=Oo(k,w,A,xe,Pe===null),O=Ko(a,Y,u,x,Fe,xe,A),Ue=Ne(()=>{const{containerHeight:P}=Y.get(),{highestDetentPosition:g}=O.get();return g===void 0?X:P-g},[Y,O]),re=zo(r?-1:i),M=ie(Go),de=ie(!r||i===-1),ee=Ne(()=>{let P=!1;const{containerHeight:g,handleHeight:E}=Y.get();(g!==null||g!==void 0)&&(P=!0),g!==X&&(P=!0);let S=!1;Pe===null&&(S=!0),E!==X&&(S=!0);let R=!1;const{detents:_}=O.get();return _&&(R=!0),P&&S&&R},[Y,O,Pe]),K=ie(!1),ye=ie(!1),ke=ie(Ie.UNDETERMINED),He=ie(Ie.UNDETERMINED),{state:te,textInputNodesRef:Nt}=Po(),yt=Qn(),Ot=n.useMemo(()=>!p||p===wt.System?yt:p===wt.Always,[yt,p]),L=ie({status:Z.UNDETERMINED,source:j.MOUNT}),Ge=Ne(()=>{const{detents:P,closedDetentPosition:g}=O.get();if(!P||P.length===0||g===void 0||M.value>=g)return fe.CLOSED;const{containerHeight:E}=Y.get(),S=E-Ue.value;if(M.value===S)return fe.EXTENDED;const R=te.get().heightWithinContainer,_=Math.max(0,E-(Ue.value+R));return b===pe.interactive&&K.value&&M.value===_?fe.EXTENDED:M.value===0?fe.FILL_PARENT:M.value<S?fe.OVER_EXTENDED:fe.OPENED},[Y,O,te,M,Ue,K,b]),{state:xt,status:Pt,setScrollableRef:Rt,removeScrollableRef:Tt}=po(c,Ge,te,L),me=Ne(()=>{const{detents:P}=O.get();if(!P||P.length===0)return-1;const g=P.slice().reverse(),E=P.slice().map((le,ge)=>ge).reverse(),{containerHeight:S}=Y.get();g.push(S),E.push(-1);const R=ee.value?zt(M.value,g,E,Xt.CLAMP):-1,{status:_,source:U,nextIndex:J,nextPosition:$}=L.get();return F===St.adjustResize&&_===Z.RUNNING&&U===j.KEYBOARD&&K.value?Math.max(re.value,R):_===Z.RUNNING&&U===j.SNAP_POINT_CHANGE&&J!==void 0&&$!==void 0?J:R},[F,L,Y,re,M,O,K,ee]),kt=n.useCallback(function(g,E){if(!we)return;const{dynamicDetentIndex:S}=O.get();we(g,E,g===S?bt.DYNAMIC:bt.PROVIDED)},[we,O]),Ht=n.useCallback(function(g,E){g!==re.get()&&Me&&Me(re.value,g,M.value,E)},[Me,re,M]),Bt=n.useCallback(function(){Ae&&Ae()},[Ae]),Be=n.useCallback(()=>{"worklet";Kt(M),L.set({status:Z.STOPPED,source:j.NONE})},[M,L]),Lt=n.useCallback(function(g){"worklet";if(!g)return;const{nextIndex:E,nextPosition:S}=L.get();E===void 0||S===void 0||(E!==re.get()&&Re(kt)(E,S),E===-1&&Re(Bt)(),re.set(E),ye.set(!1),de.set(!0),L.set({status:Z.STOPPED,source:j.NONE,nextIndex:void 0,nextPosition:void 0,isForcedClosing:void 0}))},[kt,Bt,re,L,ye,de]),q=n.useCallback(function(g,E,S=0,R){"worklet";if(g===void 0||g===M.get())return;const{status:_,nextPosition:U}=L.get();if(_===Z.RUNNING&&g===U)return;_===Z.RUNNING&&Be();let J=0;const{status:$,heightWithinContainer:le}=te.get(),ge=Ge.get();$===W.SHOWN&&b!==pe.extend&&([j.KEYBOARD,j.SNAP_POINT_CHANGE].includes(E)||ge===fe.OVER_EXTENDED)&&(J=le);const{detents:Je,closedDetentPosition:ft,highestDetentPosition:ht}=O.get();let Ze=(Je==null?void 0:Je.indexOf(g+J))??-1;Ze===-1&&$===W.SHOWN&&g!==ft&&(Ze=ht??Vo),L.set(Hn=>{"worklet";return{...Hn,status:Z.RUNNING,source:E,nextIndex:Ze,nextPosition:g}}),Re(Ht)(Ze,g),M.value=vt({point:g,configs:R||s,velocity:S,overrideReduceMotion:p,onComplete:Lt})},[Ht,Be,Lt,b,s,p,O,L,te,M,Ge]),je=n.useCallback(function(g){"worklet";if(!g||g===M.get())return;const{status:E,nextPosition:S}=L.get();if(E===Z.RUNNING&&g===S)return;const{detents:R}=O.get(),_=(R==null?void 0:R.indexOf(g))??-1;L.set(U=>{"worklet";return{...U,nextPosition:g,nextIndex:_}}),Be(),M.value=g,ye.value=!1},[Be,M,ye,L,O]),it=n.useCallback(function(g){"worklet";const E=re.value,{detents:S,highestDetentPosition:R,closedDetentPosition:_}=O.get(),U=te.get().status;if(S===void 0||R===void 0||_===void 0)return;if(g===j.KEYBOARD&&N===Et.restore&&U===W.HIDDEN&&ke.value!==Ie.ACTIVE&&He.value!==Ie.ACTIVE)return K.value=!1,S[E];if(b===pe.extend&&U===W.SHOWN)return R;if(b===pe.fillParent&&U===W.SHOWN)return K.value=!0,0;if(b===pe.interactive&&U===W.SHOWN&&!(he.OS==="android"&&F==="adjustResize")){K.value=!0;const ge=te.get().heightWithinContainer;return Math.max(0,R-ge)}if(K.value)return M.value;if(!de.value)return i===-1?_:S[i];const{status:J,nextIndex:$,nextPosition:le}=L.get();return g===j.SNAP_POINT_CHANGE&&J===Z.RUNNING&&$!==void 0&&le!==void 0&&S[$]!==le?S[$]:S[E]},[ke,re,He,L,te,M,O,K,de,b,N,i,F]),_t=n.useCallback(function(g,E){"worklet";const{status:S,nextIndex:R,isForcedClosing:_}=L.get(),{detents:U,closedDetentPosition:J}=O.get();if(U===void 0||U.length===0||J===void 0||_&&g!==j.USER||!ee.value)return;const $=it(g);if($!==void 0){if(!de.value){r?q($,j.MOUNT,void 0,E):(je($),de.value=!0);return}if(S===Z.RUNNING){const le=R??Uo;if(le===-1&&!K.value){je(J);return}if(le!==re.value){q(U[le],g,void 0,E);return}}if(S!==Z.RUNNING&&re.value===-1){if(Ot&&U[me.value]!==M.value)return;je(J);return}if(ye.value){je($);return}q($,g,void 0,E)}},[it,q,je,Ot,r,L,ye,re,me,M,O,de,K,ee]),We=rn(function(g,E){const{detents:S}=O.get(),R=ee.get();if(S===void 0||S.length===0||!R)return;Un(g>=-1&&g<=S.length-1,`'index' was provided but out of the provided snap points range! expected value to be between -1, ${S.length-1}`);const _=S[g],{nextPosition:U,nextIndex:J,isForcedClosing:$}=L.get();!ee.value||g===J||_===U||$||(K.value=!1,Oe(q)(_,j.USER,0,E))}),rt=n.useCallback(function(g,E){"worklet";const{containerHeight:S}=Y.get(),R=on(g,S),{nextPosition:_,isForcedClosing:U}=L.get();!ee||R===_||U||(K.value=!0,Oe(q)(R,j.USER,0,E))},[q,K,ee,Y,L]),lt=n.useCallback(function(g){const E=O.get().closedDetentPosition;if(E===void 0)return;const S=E,{nextPosition:R,isForcedClosing:_}=L.get();!ee.value||S===R||_||(K.value=!1,Oe(q)(S,j.USER,0,g))},[q,ee,K,O,L]),ct=n.useCallback(function(g){const E=O.get().closedDetentPosition;if(E===void 0)return;const S=E,{nextPosition:R,isForcedClosing:_}=L.get();S===R||_||(K.value=!1,L.set(U=>{"worklet";return{...U,isForcedClosing:!0}}),Oe(q)(S,j.USER,0,g))},[q,K,O,L]),ut=n.useCallback(function(g){const{detents:E}=O.get();if(E===void 0||E.length===0)return;const S=E.length-1,R=E[S],{nextPosition:_,nextIndex:U,isForcedClosing:J}=L.get();!ee.value||S===U||R===_||J||(K.value=!1,Oe(q)(R,j.USER,0,g))},[q,K,ee,O,L]),dt=n.useCallback(function(g){const{detents:E}=O.get();if(E===void 0||E.length===0)return;const S=E[0],{nextPosition:R,nextIndex:_,isForcedClosing:U}=L.get();!ee||_===0||S===R||U||(K.value=!1,Oe(q)(S,j.USER,0,g))},[q,ee,K,O,L]);n.useImperativeHandle(o,()=>({snapToIndex:We,snapToPosition:rt,expand:ut,collapse:dt,close:lt,forceClose:ct}));const Tn=n.useMemo(()=>({textInputNodesRef:Nt,enableContentPanningGesture:c,enableDynamicSizing:u,overDragResistanceFactor:h,enableOverDrag:d,enablePanDownToClose:f,animatedAnimationState:L,animatedSheetState:Ge,animatedScrollableState:xt,animatedScrollableStatus:Pt,animatedContentGestureState:ke,animatedHandleGestureState:He,animatedKeyboardState:te,animatedLayoutState:Y,animatedIndex:me,animatedPosition:M,animatedSheetHeight:Ue,animatedDetentsState:O,isInTemporaryPosition:K,simultaneousHandlers:ve,waitFor:Ce,activeOffsetX:Ye,activeOffsetY:Ke,failOffsetX:ze,failOffsetY:Xe,enableBlurKeyboardOnGesture:B,animateToPosition:q,stopAnimation:Be,setScrollableRef:Rt,removeScrollableRef:Tt}),[Nt,me,M,Ue,Y,ke,He,L,te,Ge,xt,Pt,O,K,c,h,d,f,u,B,ve,Ce,Ye,Ke,ze,Xe,Rt,Tt,q,Be]),kn=n.useMemo(()=>({animatedIndex:me,animatedPosition:M,snapToIndex:We,snapToPosition:rt,expand:ut,collapse:dt,close:lt,forceClose:ct}),[me,M,We,rt,ut,dt,lt,ct]);return be(()=>Y.get().containerHeight,(P,g)=>{if(P===X)return;ye.value=P!==g;const{closedDetentPosition:E}=O.get();if(E===void 0)return;const{status:S,source:R,nextIndex:_}=L.get();S===Z.RUNNING&&R===j.GESTURE&&_===-1&&q(E,j.GESTURE)},[ye,L,O]),be(()=>O.get().detents,(P,g)=>{JSON.stringify(P)===JSON.stringify(g)&&de.value||ee.value&&_t(j.SNAP_POINT_CHANGE)},[ee,de,O]),be(()=>te.get().status+te.get().height,(P,g)=>{if(P===g)return;const{status:E,height:S,easing:R,duration:_,target:U}=te.get();if(E===W.UNDETERMINED)return;const{status:J,source:$}=L.get();if(E===W.HIDDEN&&J===Z.RUNNING&&$===j.GESTURE)return;const le=Y.get().containerOffset;let ge=S===0?0:Math.abs(xe?S-Math.abs(A-le.bottom):S-le.bottom);if(he.OS==="android"&&F===St.adjustResize&&(ge=0,b===pe.interactive)){te.set({target:U,status:E,height:S,easing:R,duration:_,heightWithinContainer:ge});return}if(te.set(ht=>({...ht,heightWithinContainer:ge})),ke.value===Ie.ACTIVE||ke.value===Ie.BEGAN||He.value===Ie.ACTIVE||He.value===Ie.BEGAN||E===W.HIDDEN&&N===Et.none)return;const ft=mo(R,_);_t(j.KEYBOARD,ft)},[xe,A,b,N,F,te,Y,it]),be(()=>M.value,P=>{Q&&(Q.value=P+w)},[Q,w]),be(()=>me.value,P=>{V&&(V.value=P)},[V]),n.useEffect(()=>{r&&!de.value||We(i)},[r,i,de,We]),v.jsx(lo,{value:kn,children:v.jsx(co,{value:Tn,children:v.jsxs(ea,{gestureEventsHandlersHook:z,children:[qe?v.jsx(qe,{animatedIndex:me,animatedPosition:M,style:ae.absoluteFillObject}):null,v.jsx(pn,{shouldCalculateHeight:!xe,layoutState:Y,containerLayoutState:k,topInset:w,bottomInset:A,detached:Fe,style:m,children:v.jsxs(bn,{style:I,children:[Ve===null?null:v.jsx(fn,{animatedIndex:me,animatedPosition:M,backgroundComponent:Ve,backgroundStyle:D},"BottomSheetBackgroundContainer"),v.jsxs(Sn,{pointerEvents:"box-none",accessible:st??void 0,accessibilityRole:y??void 0,accessibilityLabel:G??void 0,keyboardBehavior:b,detached:Fe,children:[at,$e?v.jsx(hn,{footerComponent:$e}):null]}),Pe!==null?v.jsx(gn,{animatedIndex:me,animatedPosition:M,enableHandlePanningGesture:l,enableOverDrag:d,enablePanDownToClose:f,overDragResistanceFactor:h,keyboardBehavior:b,handleComponent:Pe,handleStyle:T,handleIndicatorStyle:H},"BottomSheetHandleContainer"):null]})},"BottomSheetContainer")]})})})}),vn=n.memo(ha);vn.displayName="BottomSheet";var Ee;(function(e){e[e.REGISTER_HOST=0]="REGISTER_HOST",e[e.DEREGISTER_HOST=1]="DEREGISTER_HOST",e[e.ADD_UPDATE_PORTAL=2]="ADD_UPDATE_PORTAL",e[e.REMOVE_PORTAL=3]="REMOVE_PORTAL"})(Ee||(Ee={}));const ma={},Cn=n.createContext(null),In=n.createContext(null),It=(e="root")=>{const t=n.useContext(In);if(t===null)throw new Error("'PortalDispatchContext' cannot be null, please add 'PortalProvider' to the root component.");const o=n.useCallback(()=>{t({type:Ee.REGISTER_HOST,hostName:e})},[]),s=n.useCallback(()=>{t({type:Ee.DEREGISTER_HOST,hostName:e})},[]),i=n.useCallback((r,c)=>{t({type:Ee.ADD_UPDATE_PORTAL,hostName:e,portalName:r,node:c})},[]),a=n.useCallback(r=>{t({type:Ee.REMOVE_PORTAL,hostName:e,portalName:r})},[]);return{registerHost:o,deregisterHost:s,addPortal:i,updatePortal:i,removePortal:a}},ga=({name:e,hostName:t,handleOnMount:o,handleOnUnmount:s,handleOnUpdate:i,children:a})=>{const{addPortal:r,removePortal:c}=It(t),l=n.useMemo(()=>e||Gn(),[e]),d=n.useRef(),f=n.useRef(),u=n.useRef(),h=n.useCallback(()=>{o?o(()=>r(l,a)):r(l,a)},[o,r]);d.current=h;const p=n.useCallback(()=>{s?s(()=>c(l)):c(l)},[s,c]);f.current=p;const I=n.useCallback(()=>{i?i(()=>r(l,a)):r(l,a)},[i,r,a]);return u.current=I,n.useEffect(()=>{var m;return(m=d.current)===null||m===void 0||m.call(d),()=>{var D;(D=f.current)===null||D===void 0||D.call(f),d.current=void 0,f.current=void 0,u.current=void 0}},[]),n.useEffect(()=>{var m;(m=u.current)===null||m===void 0||m.call(u)},[a]),null},Dn=n.memo(ga);Dn.displayName="Portal";const pa=e=>{const t=n.useContext(Cn);if(t===null)throw new Error("'PortalStateContext' cannot be null, please add 'PortalProvider' to the root component.");return t[e]||[]},ba=({name:e})=>{const t=pa(e),{registerHost:o,deregisterHost:s}=It(e);return n.useEffect(()=>(o(),()=>{s()}),[]),Le.createElement(Le.Fragment,null,t.map(i=>i.node))},Nn=n.memo(ba);Nn.displayName="PortalHost";const Ea=!1;let Dt=()=>{};Ea&&(Dt=({component:e,method:t,params:o})=>{});Object.freeze(Dt);const yn=(e,t)=>(t in e||(e[t]=[]),e),Sa=(e,t)=>(delete e[t],e),va=(e,t,o,s)=>{t in e||(e=yn(e,t));const i=e[t].findIndex(a=>a.name===o);return i!==-1?e[t][i].node=s:e[t].push({name:o,node:s}),e},On=(e,t,o)=>{if(!(t in e))return Dt({component:xn.name,method:On.name,params:"Failed to remove portal '".concat(o,"', '").concat(t,"' was not registered!")}),e;const s=e[t].findIndex(i=>i.name===o);return s!==-1&&e[t].splice(s,1),e},xn=(e,t)=>{const{type:o}=t;let s={...e};switch(o){case Ee.REGISTER_HOST:return yn(s,t.hostName);case Ee.DEREGISTER_HOST:return Sa(s,t.hostName);case Ee.ADD_UPDATE_PORTAL:return va(s,t.hostName,t.portalName,t.node);case Ee.REMOVE_PORTAL:return On(s,t.hostName,t.portalName);default:return e}},Ca=({rootHostName:e="root",shouldAddRootHost:t=!0,children:o})=>{const[s,i]=n.useReducer(xn,ma);return Le.createElement(In.Provider,{value:i},Le.createElement(Cn.Provider,{value:s},o,t&&Le.createElement(Nn,{name:e})))},Ia=n.memo(Ca);Ia.displayName="PortalProvider";let mt=0;const Da=()=>(mt=(mt+1)%Number.MAX_SAFE_INTEGER,mt),Na="switch",ya=!0,jt={mount:!1,data:void 0};function Oa(e,t){const{name:o,stackBehavior:s=Na,enableDismissOnClose:i=ya,onDismiss:a,onAnimate:r,index:c=0,snapPoints:l,enablePanDownToClose:d=!0,animateOnMount:f=!0,containerComponent:u=Le.Fragment,onChange:h,children:p,...I}=e,[{mount:m,data:D},T]=n.useState(jt),{hostName:H,containerLayoutState:z,mountSheet:b,unmountSheet:N,willUnmountSheet:F}=ho(),{removePortal:B}=It(H),k=n.useRef(null),w=n.useRef(f?-1:c),A=n.useRef(null),x=n.useRef(-1),C=n.useRef(!1),oe=n.useRef(!1),Q=n.useRef(!1);Q.current=m;const V=n.useMemo(()=>o||`bottom-sheet-modal-${Da()}`,[o]),ve=n.useCallback(function G(){an({component:Pn.name,method:G.name}),w.current=-1,x.current=-1,C.current=!1,Q.current=!1,oe.current=!1},[]),Ce=n.useCallback(function(){const y=Q.current;ve(),N(V),B(V),y&&T(jt),a&&a()},[V,ve,N,B,a]),Ye=n.useCallback((...G)=>{var y;C.current||(y=k.current)==null||y.snapToIndex(...G)},[]),Ke=n.useCallback((...G)=>{var y;C.current||(y=k.current)==null||y.snapToPosition(...G)},[]),ze=n.useCallback((...G)=>{var y;C.current||(y=k.current)==null||y.expand(...G)},[]),Xe=n.useCallback((...G)=>{var y;C.current||(y=k.current)==null||y.collapse(...G)},[]),we=n.useCallback((...G)=>{var y;C.current||(y=k.current)==null||y.close(...G)},[]),Ae=n.useCallback((...G)=>{var y;C.current||(y=k.current)==null||y.forceClose(...G)},[]),Me=n.useCallback(function(y){requestAnimationFrame(()=>{T({mount:!0,data:y}),b(V,t,s)})},[V,s,b]),xe=n.useCallback(function(y){var O;const Y=A.current!=null;if(!(w.current===-1&&C.current===!1&&!Y)){if(!Y&&(C.current||w.current===-1&&d)){Ce();return}F(V),oe.current=!0,(O=k.current)==null||O.forceClose(y)}},[F,Ce,V,d]),Fe=n.useCallback(function(){var y;C.current||(C.current=!0,w.current===-1?x.current=c:x.current=w.current,(y=k.current)==null||y.close())},[c]),Pe=n.useCallback(function(){var y;!C.current||oe.current||(C.current=!1,(y=k.current)==null||y.snapToIndex(x.current))},[]),qe=n.useCallback(function(){var y;if(!(w.current===-1&&C.current===!1)){if(Q.current=!1,oe.current=!0,C.current){Ce();return}F(V),(y=k.current)==null||y.close()}},[V,Ce,F]),Ve=n.useCallback(function(y){Q.current&&y()},[]),$e=n.useCallback(function(y,Y,O){w.current=y,A.current=null,h&&h(y,Y,O)},[h]),at=n.useCallback((G,y,Y,O)=>{A.current=y,r&&r(G,y,Y,O)},[r]),st=n.useCallback(function(){C.current||i&&Ce()},[i,Ce]);return n.useImperativeHandle(t,()=>({snapToIndex:Ye,snapToPosition:Ke,expand:ze,collapse:Xe,close:we,forceClose:Ae,dismiss:xe,present:Me,minimize:Fe,restore:Pe})),m?v.jsx(Dn,{name:V,hostName:H,handleOnMount:Ve,handleOnUpdate:Ve,handleOnUnmount:qe,children:v.jsx(u,{children:n.createElement(vn,{...I,ref:k,key:V,index:c,snapPoints:l,enablePanDownToClose:d,animateOnMount:f,containerLayoutState:z,onChange:$e,onClose:st,onAnimate:at,$modal:!0},typeof p=="function"?v.jsx(p,{data:D}):p)},V)},V):null}const Pn=n.memo(n.forwardRef(Oa));Pn.displayName="BottomSheetModal";function xa({scrollableGesture:e,children:t}){return e?v.jsx(nt,{gesture:e,children:t}):t}const Pa=()=>navigator.userAgent.indexOf("Safari")>-1,Ra=n.forwardRef(function({nativeGesture:t,ScrollableComponent:o,animatedProps:s,setContentSize:i,onLayout:a,...r},c){const l=n.useRef(!1),{animatedLayoutState:d}=ne(),f=n.useCallback(h=>v.jsx(ue.ScrollView,{...h,animatedProps:s}),[s]),u=n.useCallback(h=>{if(a&&a(h),!l.current){if(l.current=!0,!Pa()||d.get().contentHeight!==X)return;window.requestAnimationFrame(()=>{i(h.nativeEvent.target.clientHeight)})}},[a,i,d]);return v.jsx(xa,{scrollableGesture:t,children:v.jsx(o,{ref:c,...r,onLayout:u,renderScrollComponent:f})})});function Ta(){const{enableDynamicSizing:e,animatedLayoutState:t}=ne();return{setContentSize:n.useCallback(s=>{e&&t.modify(i=>{"worklet";return i.contentHeight=s,i})},[e,t])}}function ot(e,t){return n.forwardRef((o,s)=>{const{focusHook:i,scrollEventsHandlersHook:a,enableFooterMarginAdjustment:r=!1,overScrollMode:c="never",keyboardDismissMode:l="interactive",showsVerticalScrollIndicator:d=!0,contentContainerStyle:f,refreshing:u,onRefresh:h,progressViewOffset:p,refreshControl:I,onScroll:m,onScrollBeginDrag:D,onScrollEndDrag:T,onContentSizeChange:H,...z}=o,b=n.useContext(tn),{scrollableRef:N,scrollableContentOffsetY:F,scrollHandler:B}=Eo(a,m),{animatedScrollableStatus:k,enableContentPanningGesture:w}=ne(),{setContentSize:A}=Ta();if(!b&&w)throw"'Scrollable' cannot be used out of the BottomSheet!";const x=Jn(()=>({decelerationRate:io[k.value],showsVerticalScrollIndicator:d&&k.value===ce.UNLOCKED}),[k,d]),C=n.useMemo(()=>b?tt.Native().simultaneousWithExternalGesture(b).shouldCancelWhenOutside(!1):void 0,[b]),oe=rn((V,ve)=>{A(ve),H&&H(V,ve)}),Q=cn(r,f);return n.useImperativeHandle(s,()=>N.current),bo(N,e,F,h!==void 0,i),v.jsx(Ra,{ref:N,nativeGesture:C,animatedProps:x,overScrollMode:c,keyboardDismissMode:l,refreshing:u,scrollEventThrottle:16,progressViewOffset:p,contentContainerStyle:Q,onRefresh:h,onScroll:B,onContentSizeChange:oe,setContentSize:A,ScrollableComponent:t,refreshControl:I,...z})})}const ka=ue.createAnimatedComponent(jn),Ha=ot(Se.SECTIONLIST,ka),Ba=n.memo(Ha);Ba.displayName="BottomSheetSectionList";const La=ue.createAnimatedComponent(Wn),_a=ot(Se.FLATLIST,La),wa=n.memo(_a);wa.displayName="BottomSheetFlatList";const Aa=ue.createAnimatedComponent(Yn),Ma=ot(Se.SCROLLVIEW,Aa),Fa=n.memo(Ma);Fa.displayName="BottomSheetScrollView";const Va=ue.createAnimatedComponent(Kn),Ua=ot(Se.VIRTUALIZEDLIST,Va),Ga=n.memo(Ua);Ga.displayName="BottomSheetVirtualizedList";const ja=ae.create({container:{position:"absolute",left:0,top:0,right:0}});function Wa({focusHook:e=n.useEffect,enableFooterMarginAdjustment:t=!1,onLayout:o,style:s,children:i,...a}){const{animatedScrollableState:r,enableDynamicSizing:c,animatedLayoutState:l}=ne(),d=cn(t,s),f=n.useMemo(()=>[d,ja.container],[d]),u=n.useCallback(()=>{r.set(p=>({...p,contentOffsetY:0,type:Se.VIEW}))},[r]),h=n.useCallback(p=>{if(c){const{nativeEvent:{layout:{height:I}}}=p;l.modify(m=>{"worklet";return m.contentHeight=I,m})}o&&o(p)},[o,l,c]);return e(u),v.jsx(Te,{...a,onLayout:h,style:f,children:i})}const Ya=n.memo(Wa);Ya.displayName="BottomSheetView";const Ka=n.forwardRef(({onFocus:e,onBlur:t,...o},s)=>{const i=n.useRef(null),{animatedKeyboardState:a,textInputNodesRef:r}=ne(),c=n.useCallback(d=>{a.set(f=>({...f,target:d.nativeEvent.target})),e&&e(d)},[e,a]),l=n.useCallback(d=>{const f=a.get(),u=_e(zn.State.currentlyFocusedInput()),h=f.target===d.nativeEvent.target,p=u&&r.current.has(u);h&&!p&&a.set(I=>({...I,target:void 0})),t&&t(d)},[t,a,r]);return n.useEffect(()=>{const d=_e(i.current);if(d)return r.current.has(d)||r.current.add(d),()=>{const f=_e(i.current);if(!f)return;a.get().target===f&&a.set(h=>({...h,target:void 0})),r.current.has(f)&&r.current.delete(f)}},[r,a]),n.useImperativeHandle(s,()=>i.current??void 0,[]),v.jsx(qt,{ref:i,onFocus:c,onBlur:l,...o})}),Rn=n.memo(Ka);Rn.displayName="BottomSheetTextInput";const za=.5,Xa=1,qa=0,$a=!1,Ja="close",Za=!0,Qa="button",es="Bottom sheet backdrop",ts="Tap to close the bottom sheet",ns=ae.create({backdrop:{...ae.absoluteFillObject,backgroundColor:"black"}}),os=({animatedIndex:e,opacity:t,appearsOnIndex:o,disappearsOnIndex:s,enableTouchThrough:i,pressBehavior:a=Ja,onPress:r,style:c,children:l,accessible:d=Za,accessibilityRole:f=Qa,accessibilityLabel:u=es,accessibilityHint:h=ts})=>{const{snapToIndex:p,close:I}=fo(),m=n.useRef(!1),D=t??za,T=o??Xa,H=s??qa,z=i??$a,[b,N]=n.useState(z?"none":"auto"),F=n.useCallback(()=>{r==null||r(),a==="close"?I():a==="collapse"?p(H):typeof a=="number"&&p(a)},[p,I,H,a,r]),B=n.useCallback(C=>{m.current&&N(C?"none":"auto")},[]),k=n.useMemo(()=>tt.Tap().onEnd(()=>{Re(F)()}),[F]),w=et(()=>({opacity:zt(e.value,[-1,H,T],[0,0,D],Xt.CLAMP)}),[e,T,H,D]),A=n.useMemo(()=>[ns.backdrop,c,w],[c,w]);be(()=>e.value<=H,(C,oe)=>{C!==oe&&Re(B)(C)},[H]),n.useEffect(()=>(m.current=!0,()=>{m.current=!1}),[]);const x=v.jsx(ue.View,{style:A,pointerEvents:b,accessible:d??void 0,accessibilityRole:f??void 0,accessibilityLabel:u??void 0,accessibilityHint:h||`Tap to ${typeof a=="string"?a:"move"} the Bottom Sheet`,children:l});return a!=="none"?v.jsx(nt,{gesture:k,children:x}):x},as=n.memo(os);as.displayName="BottomSheetBackdrop";const Ct=({autoFocus:e,ref:t,...o})=>{const{isOpen:s}=Xn();return n.useEffect(()=>{var i;s?e&&setTimeout(()=>{var a;return(a=t==null?void 0:t.current)==null?void 0:a.focus()},500):(i=t==null?void 0:t.current)==null||i.blur()},[e,s,t]),v.jsx(Rn,{ref:t,...o})};try{Ct.displayName="BottomSheetTextInput",Ct.__docgenInfo={description:"",displayName:"BottomSheetTextInput",props:{onChangeText:{defaultValue:null,description:`Callback that is called when the text input's text changes.
Changed text is passed as an argument to the callback handler.`,name:"onChangeText",required:!1,type:{name:"(((event: string) => void) & ((text: string) => void))"}},onFocus:{defaultValue:null,description:"Callback that is called when the text input is focused",name:"onFocus",required:!1,type:{name:"((() => void) & ((e: NativeSyntheticEvent<TextInputFocusEventData>) => void))"}},ref:{defaultValue:null,description:"",name:"ref",required:!1,type:{name:"RefObject<TextInput | null>"}},warning:{defaultValue:null,description:"",name:"warning",required:!1,type:{name:"boolean"}},hasClearButton:{defaultValue:null,description:"",name:"hasClearButton",required:!1,type:{name:"boolean"}},inputInstructions:{defaultValue:null,description:"",name:"inputInstructions",required:!1,type:{name:"string"}},label:{defaultValue:null,description:"",name:"label",required:!1,type:{name:"string"}},numberOfLines:{defaultValue:null,description:`Sets the number of lines for a TextInput.
Use it with multiline set to true to be able to fill the lines.`,name:"numberOfLines",required:!1,type:{name:"number"}},placeholder:{defaultValue:null,description:"The string that will be rendered before text input has been entered",name:"placeholder",required:!1,type:{name:"string"}},textTransform:{defaultValue:null,description:"",name:"textTransform",required:!1,type:{name:"((text: string) => string)"}}}}}catch{}const Wt=({ref:e,hasClearButton:t=!0,inputInstructions:o,label:s,numberOfLines:i,onChangeText:a,onFocus:r,placeholder:c="",warning:l,value:d="",testID:f="",textTransform:u,accessibilityLanguage:h="nl-NL",...p})=>{const I=to(),m=n.createRef(),[D,T]=n.useState(!1),[H,z]=n.useState(d),b=At(ss({hasFocus:D,numberOfLines:i,warning:l})),N=At(is),F=I?Ct:qt;n.useEffect(()=>{z(d)},[d]);const B=()=>T(!1),k=x=>{const C=u?u(x):x;z(C),a==null||a(C)},w=()=>{var x,C;z(""),a==null||a(""),typeof e!="function"&&((C=(x=(e==null?void 0:e.current)??(m==null?void 0:m.current))==null?void 0:x.focus)==null||C.call(x),A())},A=()=>{T(!0),r==null||r()};return v.jsxs(Mt,{gutter:"sm",children:[v.jsxs(Mt,{gutter:"xs",children:[!!s&&v.jsx(Ft,{isAccessible:!p.accessibilityLabel,text:s}),!!o&&v.jsx(Ft,{emphasis:"default",isAccessible:!p.accessibilityHint,text:o})]}),v.jsxs(Te,{style:b.frame,children:[v.jsx(F,{...p,...N,accessibilityLanguage:h,numberOfLines:he.OS==="ios"?void 0:i,onBlur:B,onChangeText:k,onFocus:A,placeholder:c,ref:e??m,style:b.textInput,testID:f,textAlignVertical:"top",value:H}),H&&t?v.jsx(Te,{children:v.jsx(qn,{accessibilityHint:"Maak dit tekstveld leeg",accessibilityLanguage:h,icon:v.jsx($n,{name:"close",size:"lg",testID:`${f}ClearIcon`}),onPress:w,testID:`${f}ClearButton`})}):null]})]})},ss=({hasFocus:e,numberOfLines:t,warning:o})=>({color:s,size:i,text:a})=>{const r=e||o?2:1,c=i.spacing.md-(r-1),l=i.spacing.sm-(r-1);return ae.create({frame:{flexDirection:"row",paddingHorizontal:c,paddingVertical:l,backgroundColor:s.textInput.container.background,borderStyle:"solid",borderColor:o?s.control.warning.border:e?s.control.focus.border:s.control.default.border,borderWidth:r},textInput:{minHeight:t?t*a.lineHeight.body+2*l:"auto",flex:1,padding:0,paddingTop:0,color:s.text.default,fontFamily:a.fontFamily.regular,fontSize:a.fontSize.body}})},is=({color:e})=>({placeholderTextColor:e.text.secondary});try{Wt.displayName="TextInput",Wt.__docgenInfo={description:"",displayName:"TextInput",props:{onChangeText:{defaultValue:null,description:`Callback that is called when the text input's text changes.
Changed text is passed as an argument to the callback handler.`,name:"onChangeText",required:!1,type:{name:"(((event: string) => void) & ((text: string) => void))"}},onFocus:{defaultValue:null,description:"Callback that is called when the text input is focused",name:"onFocus",required:!1,type:{name:"((() => void) & ((e: NativeSyntheticEvent<TextInputFocusEventData>) => void))"}},ref:{defaultValue:null,description:"",name:"ref",required:!1,type:{name:"RefObject<TextInput | null>"}},warning:{defaultValue:null,description:"",name:"warning",required:!1,type:{name:"boolean"}},hasClearButton:{defaultValue:{value:"true"},description:"",name:"hasClearButton",required:!1,type:{name:"boolean"}},inputInstructions:{defaultValue:null,description:"",name:"inputInstructions",required:!1,type:{name:"string"}},label:{defaultValue:null,description:"",name:"label",required:!1,type:{name:"string"}},numberOfLines:{defaultValue:null,description:`Sets the number of lines for a TextInput.
Use it with multiline set to true to be able to fill the lines.`,name:"numberOfLines",required:!1,type:{name:"number"}},placeholder:{defaultValue:{value:""},description:"The string that will be rendered before text input has been entered",name:"placeholder",required:!1,type:{name:"string"}},textTransform:{defaultValue:null,description:"",name:"textTransform",required:!1,type:{name:"((text: string) => string)"}}}}}catch{}export{Wt as T};
