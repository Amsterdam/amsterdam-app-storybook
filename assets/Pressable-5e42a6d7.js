import{j as x,S as q}from"./index-1401012c.js";import{r as d}from"./index-76fb7be0.js";import{B as z}from"./Box-35580222.js";import{c as F,V as L,a as D,P as j,b as B,d as H,e as $,M as G}from"./slugs-028d654e.js";import{a as Y}from"./useThemable-27d8c265.js";import{u as N}from"./useSentry-0d54ba21.js";import{P as X}from"./invariant-f1a82cf7.js";import{N as _}from"./index-d983c834.js";import{a as J}from"./development-b6e620df.js";import{S as m,s as Q}from"./logging-9a33af2c.js";import{P as Z}from"./index-393588f7.js";const p=F();var A=(e=>(e[e.searchTerm=3]="searchTerm",e[e.searchResultAmount=4]="searchResultAmount",e[e.searchType=5]="searchType",e[e.searchResultTitle=6]="searchResultTitle",e[e.searchResultUrl=7]="searchResultUrl",e[e.searchResultType=8]="searchResultType",e[e.searchResultSelected=9]="searchResultSelected",e[e.contentTitle=10]="contentTitle",e[e.contentSubject=11]="contentSubject",e[e.contentTeam=12]="contentTeam",e[e.contentPublicationDate=13]="contentPublicationDate",e[e.contentType=14]="contentType",e[e.userIntext=15]="userIntext",e[e.searchMachine=16]="searchMachine",e[e.pageType=17]="pageType",e[e.contentId=20]="contentId",e))(A||{}),R=(e=>(e[e.userType=1]="userType",e[e.userCity=2]="userCity",e[e.appVersion=18]="appVersion",e[e.appVersionWithBuild=19]="appVersionWithBuild",e))(R||{}),U=(e=>(e.addressAdd="addressAdd",e.addressChange="addressChange",e.buttonPress="buttonPress",e.toForeground="toForeground",e))(U||{}),I=(e=>(e.alreadyInitialized="Piwik Pro SDK has been already initialized",e.missingEnvVars="PIWIK_PRO_URL or PIWIK_PRO_ID are not defined in env",e))(I||{});const ee={[R.appVersion]:L,[R.appVersionWithBuild]:D},C=e=>({...e,customDimensions:{...e==null?void 0:e.customDimensions,...ee}}),te=e=>(e==null?void 0:e.screenTitle)??(e==null?void 0:e.screenHeaderTitle),ae=(e,t)=>!(t!=null&&t.id)&&typeof(t==null?void 0:t.id)!="number"?e:{...e,[A.contentId]:t.id.toString()};function re(e){if(!Number.isInteger(e))throw new Error("Parameter must be an integer number")}function v(e){e&&Object.entries(e).forEach(t=>{let[a,n]=t;const u=parseInt(a,10);if(a!==u.toString())throw new Error("ID (key) must be an integer");if(u<1)throw new Error("ID (key) must be an integer greater than 0")})}function f(e){e.forEach(t=>{let a=t.customDimensions;if(a){if(Object.keys(a).length>20)throw new Error("Max 20 product custom dimensions, 20 is max ID.");v(a)}})}function ne(e){if(!/^[0-9a-f]{16}$/.test(e))throw new Error(`Visitor ID ${e} has invalid format. The format must match the regular expression: ^[0-9a-f]{16}$`)}const ce="1.1.0",ue=`The package 'react-native-piwik-pro-sdk' doesn't seem to be linked. Make sure: 

`+X.select({ios:`- You have run 'pod install'
`,default:""})+`- You rebuilt the app after installing the package
- You are not using Expo managed workflow
`,r=_.PiwikProSdk?_.PiwikProSdk:new Proxy({},{get(){throw new Error(ue)}});async function se(e,t){return await r.init(e,t,ce)}async function ie(e,t){return c(t),await r.trackScreen(e,t)}async function oe(e,t,a){return c(a),await r.trackCustomEvent(e,t,a)}async function le(e,t){return c(t),await r.trackException(e,t)}async function de(e,t,a){return c(a),await r.trackSocialInteraction(e,t,a)}async function me(e,t){return c(t),await r.trackDownload(e,t)}async function fe(){return await r.trackApplicationInstall()}async function ye(e,t){return c(t),await r.trackOutlink(e,t)}async function ge(e,t){return c(t),await r.trackSearch(e,t)}async function ve(e,t){return c(t),await r.trackImpression(e,t)}async function he(e,t,a){return c(a),await r.trackInteraction(e,t,a)}async function pe(e,t){return c(t),await r.trackGoal(e,t)}async function Ie(e,t,a){return await r.trackEcommerce(e,t,a)}async function we(e,t){return c(t),f(e),await r.trackEcommerceProductDetailView(e,t)}async function ke(e,t,a){return c(a),f(e),await r.trackEcommerceCartUpdate(e,t,a)}async function be(e,t){return c(t),f(e),await r.trackEcommerceAddToCart(e,t)}async function Ee(e,t){return c(t),f(e),await r.trackEcommerceRemoveFromCart(e,t)}async function Ce(e,t,a,n){return c(n),f(a),await r.trackEcommerceOrder(e,t,a,n)}async function xe(e){return await r.trackCampaign(e)}async function Re(e){if(Array.isArray(e)){if(!e.length)throw new Error("Profile attributes cannot be an empty array");return await r.trackProfileAttributes(e)}return await r.trackProfileAttributes([e])}async function Te(){return await r.getProfileAttributes()}async function _e(e){return await r.checkAudienceMembership(e)}async function Se(e){return await r.setUserId(e)}async function Ve(){return await r.getUserId()}async function Pe(e){return await r.setUserEmail(e)}async function Oe(){return await r.getUserEmail()}async function Ne(e){return ne(e),await r.setVisitorId(e)}async function Ae(){return await r.getVisitorId()}async function Ue(e){return await r.setSessionTimeout(e)}async function Me(){return await r.getSessionTimeout()}async function We(){return await r.startNewSession()}async function Ke(){return await r.dispatch()}async function qe(e){return re(e),await r.setDispatchInterval(e)}async function ze(){return await r.getDispatchInterval()}async function Fe(e){return await r.setIncludeDefaultCustomVariables(e)}async function Le(){return await r.getIncludeDefaultCustomVariables()}async function De(e){return await r.setAnonymizationState(e)}async function je(){return await r.isAnonymizationOn()}async function Be(e){return await r.setOptOut(e)}async function He(e){return await r.setDryRun(e)}async function $e(){return await r.getDryRun()}async function Ge(){return await r.getOptOut()}async function Ye(e){return await r.setPrefixing(e)}async function Xe(){return await r.isPrefixingOn()}function c(e){v(e==null?void 0:e.customDimensions),v(e==null?void 0:e.visitCustomVariables),v(e==null?void 0:e.screenCustomVariables)}const h={init:se,trackScreen:ie,trackCustomEvent:oe,trackException:le,trackSocialInteraction:de,trackDownload:me,trackApplicationInstall:fe,trackOutlink:ye,trackSearch:ge,trackImpression:ve,trackInteraction:he,trackGoal:pe,trackEcommerce:Ie,trackEcommerceProductDetailView:we,trackEcommerceCartUpdate:ke,trackEcommerceAddToCart:be,trackEcommerceRemoveFromCart:Ee,trackEcommerceOrder:Ce,trackCampaign:xe,trackProfileAttributes:Re,getProfileAttributes:Te,checkAudienceMembership:_e,setUserId:Se,getUserId:Ve,setUserEmail:Pe,getUserEmail:Oe,setVisitorId:Ne,getVisitorId:Ae,setSessionTimeout:Ue,getSessionTimeout:Me,startNewSession:We,dispatch:Ke,setDispatchInterval:qe,getDispatchInterval:ze,setIncludeDefaultCustomVariables:Fe,getIncludeDefaultCustomVariables:Le,setAnonymizationState:De,isAnonymizationOn:je,setOptOut:Be,getOptOut:Ge,setDryRun:He,getDryRun:$e,setPrefixing:Ye,isPrefixingOn:Xe},[S,V]=J?[j,B]:[H,$],Je=async()=>!S||!V?Promise.reject(I.missingEnvVars):(await h.init(S,V),await h.trackApplicationInstall(),await h.setIncludeDefaultCustomVariables(!0),Promise.resolve()),w=d.createContext(void 0),P=({children:e})=>{const{sendSentryErrorLog:t}=N(),[a,n]=d.useState();return d.useEffect(()=>{a===void 0&&Je().then(()=>{n(h)}).catch(u=>{u.message!==I.alreadyInitialized&&(n(null),u.message!==I.missingEnvVars&&t(m.piwikInitialization,"piwik.provider.tsx",{error:u}))})},[a,t]),x(w.Provider,{value:a,children:e})};try{w.displayName="PiwikContext",w.__docgenInfo={description:"The PiwikContext contains the object with all methods, to be used via the usePiwik hook only.",displayName:"PiwikContext",props:{}}}catch{}try{P.displayName="PiwikProvider",P.__docgenInfo={description:"",displayName:"PiwikProvider",props:{}}}catch{}const Qe=()=>{if(p.isReady()){const e=p.getRootState(),t=e==null?void 0:e.routes;if(t)for(let a=t.length-1;a>=0;a--){const n=G[t[a].name];if(n)return n}}},Ze={suggestedCategory:"general",trackCustomEvent:()=>{},trackOutlink:()=>{},trackScreen:()=>{},trackSearch:()=>{}},g="usePiwik.ts",et=({trackCustomEvent:e,trackOutlink:t,trackScreen:a,trackSearch:n},u,k,l,y)=>({trackCustomEvent:(o,s,i)=>{e(o,s,C({path:l,...i})).catch(()=>{u(m.piwikTrackCustomEvent,g,{category:o,action:s,name:i==null?void 0:i.name})})},trackOutlink:(o,s)=>{const i=Q(o);t(i,C(s)).catch(()=>{u(m.piwikTrackOutlink,g,{url:i})})},trackScreen:(o,s)=>{const i=o??l;i&&a(i,{...s,title:te(y),customDimensions:ae(s==null?void 0:s.customDimensions,y)}).catch(()=>{u(m.piwikTrackScreen,g,{path:o})})},trackSearch:(o,s)=>{n(o,C(s)).catch(()=>{u(m.piwikTrackSearch,g)})},suggestedCategory:k}),tt=()=>{const e=d.useContext(w),{sendSentryErrorLog:t}=N(),a=p.isReady()?p.getCurrentRoute():void 0,n=Qe()??"general";return d.useMemo(()=>e?et(e,t,n,a==null?void 0:a.name,a==null?void 0:a.params):Ze,[e,t,n,a==null?void 0:a.name,a==null?void 0:a.params])},O=d.forwardRef(({children:e,grow:t,inset:a="no",insetHorizontal:n,insetVertical:u,variant:k="tertiary",onPress:l=()=>null,logAction:y=U.buttonPress,logCategory:o,logName:s,logDimensions:i,...b},M)=>{const T=Y(at(t,k)),{trackCustomEvent:W,suggestedCategory:K}=tt();return x(Z,{accessibilityLanguage:"nl-NL",accessibilityRole:"button",onPress:E=>{l==null||l(E),W(o??K,y,{name:s??b["sentry-label"]??b.testID,customDimensions:i})},ref:M,style:({pressed:E})=>[T.button,E&&T.pressed],...b,children:x(z,{grow:!0,inset:a,insetHorizontal:n,insetVertical:u,children:e})})}),at=(e,t)=>({color:a})=>q.create({button:{backgroundColor:t!=="transparent"?a.pressable[t].default:void 0,flex:e?1:void 0,flexShrink:e?0:1},pressed:{backgroundColor:t!=="transparent"?a.pressable[t].highlight:void 0}});try{O.displayName="Pressable",O.__docgenInfo={description:"Used to build other interactive components, do not use on its own.",displayName:"Pressable",props:{children:{defaultValue:null,description:`Either children or a render prop that receives a boolean reflecting whether
the component is currently pressed.`,name:"children",required:!1,type:{name:"((string | number | boolean | ReactElement<any, string | JSXElementConstructor<any>> | Iterable<ReactNode> | ReactPortal) & (string | ... 5 more ... | ((state: PressableStateCallbackType) => ReactNode))) | null"}},grow:{defaultValue:null,description:"Whether the button grows to fill its parent container.",name:"grow",required:!1,type:{name:"boolean"}},"sentry-label":{defaultValue:null,description:"",name:"sentry-label",required:!1,type:{name:"string"}},variant:{defaultValue:{value:"tertiary"},description:"",name:"variant",required:!1,type:{name:"enum",value:[{value:'"primary"'},{value:'"tertiary"'},{value:'"negative"'},{value:'"transparent"'}]}},inset:{defaultValue:{value:"no"},description:"The amount of inner spacing.",name:"inset",required:!1,type:{name:"enum",value:[{value:'"no"'},{value:'"xs"'},{value:'"sm"'},{value:'"md"'},{value:'"lg"'},{value:'"xl"'},{value:'"xxl"'},{value:'"xxxl"'}]}},insetHorizontal:{defaultValue:null,description:"The amount of inner spacing at the left and right.",name:"insetHorizontal",required:!1,type:{name:"enum",value:[{value:'"no"'},{value:'"xs"'},{value:'"sm"'},{value:'"md"'},{value:'"lg"'},{value:'"xl"'},{value:'"xxl"'},{value:'"xxxl"'}]}},insetVertical:{defaultValue:null,description:"The amount of inner spacing at the top and bottom.",name:"insetVertical",required:!1,type:{name:"enum",value:[{value:'"no"'},{value:'"xs"'},{value:'"sm"'},{value:'"md"'},{value:'"lg"'},{value:'"xl"'},{value:'"xxl"'},{value:'"xxxl"'}]}},logAction:{defaultValue:{value:"PiwikAction.buttonPress"},description:"",name:"logAction",required:!1,type:{name:"enum",value:[{value:'"addressAdd"'},{value:'"addressChange"'},{value:'"buttonPress"'},{value:'"toForeground"'}]}},logCategory:{defaultValue:null,description:"",name:"logCategory",required:!1,type:{name:"enum",value:[{value:'"about"'},{value:'"address"'},{value:'"construction-work"'},{value:'"construction-work-editor"'},{value:'"contact"'},{value:'"home"'},{value:'"onboarding"'},{value:'"open-waste-container"'},{value:'"redirects"'},{value:'"report-problem"'},{value:'"user"'},{value:'"waste-guide"'},{value:'"general"'}]}},logDimensions:{defaultValue:null,description:"",name:"logDimensions",required:!1,type:{name:"Partial<Record<PiwikDimension | PiwikSessionDimension, string>>"}},logName:{defaultValue:null,description:"",name:"logName",required:!1,type:{name:"string"}}}}}catch{}export{O as P};
