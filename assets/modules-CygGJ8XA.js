import{g as getDefaultExportFromCjs,c as commonjsGlobal,a as getAugmentedNamespace}from"./_commonjsHelpers-BosuxZz1.js";import{q as queryString,c as PiwikSessionDimension,a as useTrackEvents,P as PiwikAction}from"./usePiwikTrackCustomEventFromProps-DF2fziNK.js";import{r as reactExports}from"./index-C6mWTJJr.js";import{M as ModuleSlug,u as useTrackException,E as ExceptionLogKey,a as Environment,C as CHAT_DEVELOPER_NAME_PROD,j as CHAT_ORGANIZATION_ID_PROD,k as CHAT_URL_PROD,l as CHAT_DEVELOPER_NAME_ACC,m as CHAT_ORGANIZATION_ID_ACC,n as CHAT_URL_ACC,o as CHAT_DEVELOPER_NAME_TEST,p as CHAT_ORGANIZATION_ID_TEST,q as CHAT_URL_TEST,r as CHAT_DEVELOPER_NAME_DEV,s as CHAT_ORGANIZATION_ID_DEV,t as CHAT_URL_DEV,G as GlobalApiSlug}from"./useTrackException-N30wvaUK.js";import{c as createSlice,R as ReduxKey,G as SalesforceMessagingInApp,H as ConversationEntrySenderRole,I as ConversationEntryFormat,J as ConversationEntryStatus,P as ParticipantChangedOperationType,K as ConversationEntryRoutingType,a as useSelector,L as ConversationEntryRoutingWorkType,u as useThemable,M as ConnectionState}from"./useThemable-PLjH4_iL.js";import{P as Platform,N as NativeModules$1}from"./index-D9sity5J.js";import{j as jsxRuntimeExports}from"./jsx-runtime-BbjHj44Y.js";import{A as Animated,M as withTiming,u as useSharedValue,L as withSequence,x as withSpring,O as Easing}from"./Animated-Db2DkEap.js";import{a as useDispatch,u as useBottomSheet}from"./bottomSheet-BA8S1Y6d.js";import{u as useTheme}from"./useTheme-Du9lcFXl.js";import{u as useAnimatedStyle,w as withRepeat,S as SlideInDown,g as SlideOutDown,m as interpolateColor,l as interpolate}from"./interpolateColor-BkZD1F_M.js";import{s as stylesheet}from"./index-AX8Ze_yw.js";import{U as UnavailabilityError,u as useSafeAreaInsets,a as useScreen,s as simplur,P as Platform$1,C as CodedError}from"./index-D8GzBJyS.js";import{u as useDeviceContext}from"./useDeviceContext-xW-EhN6Y.js";import{P as PopUpMenu,a as PopupMenuOrientation}from"./types-CjBKWmGE.js";import{u as useOpenWebUrl,M as Modal,I as InlineLink,a as useOpenUrl,K as KeyboardAvoidingView,r as require$$1}from"./useOpenUrl-B2mpYeSh.js";import{h as selectEnvironment,c as baseApi,C as CacheLifetime,i as selectSecureItemUpdatedTimestamp,g as getSecureItem,S as SecureItemKey,d as generateRequestUrl,j as createSelector}from"./api-Bvjid-zV.js";import{A as AppLifecycle}from"./AppLifecycle-BscwXp36.js";import{d as devLog,a as devError,i as isDevApp}from"./development-DJonjCCT.js";import{a as dayjs,d as dayjsFromUnix}from"./dayjs-zGCqeocX.js";import{A as Alert}from"./index-D0PKEpwx.js";import{I as IconButton}from"./IconButton-BEJHaixU.js";import{B as Box}from"./Box-CSWHbegm.js";import{R as Row}from"./Row-DntmVv5M.js";import{I as Icon}from"./Icon-DOdVVD4L.js";import{T as Title}from"./Title-YQAWnDIP.js";import{S as Svg,P as Path,C as Circle}from"./index-DHvBt6_g.js";import{B as Badge}from"./Badge-C4PkjaHT.js";import{V as View}from"./index-DlZxTruE.js";import{M as MemoedPressable}from"./index-BBGu7yUP.js";import{K as Keyboard}from"./index-CADnye3g.js";import{C as Column}from"./Column-D_CP4QI0.js";import{G as Gutter}from"./Gutter-CayDglDw.js";import{C as ChatSystemEntry}from"./ChatSystemEntry-JLyP6475.js";import{P as Phrase}from"./Phrase-CdZ283Me.js";import{P as Pressable}from"./Pressable-6a5ieEum.js";import{I as ImageWithStatics}from"./index-BSOXSDKk.js";import{B as Button}from"./Button-69_aN3tO.js";import{P as PressableBase}from"./PressableBase-D1R9kh4w.js";import{a as ForwardedScrollView}from"./index-YyRL9FmO.js";import{u as useIsScreenReaderEnabled}from"./useIsScreenReaderEnabled-D8sJIFAJ.js";import{u as useAccessibilityFocus}from"./useAccessibilityFocus-px6UzNbP.js";import{D as Duration}from"./duration-lo4znGvN.js";import{T as TextInput}from"./index-DPAnNckc.js";import{P as Paragraph}from"./Paragraph-CoEXpyw0.js";import{S as SvgAmsterdamFacades}from"./amsterdam-facades-B--J4Orc.js";import{C as Center}from"./Center-BuRJ1gEq.js";import{E as ErrorFigure}from"./ErrorFigure-CwA2wLQs.js";import{A as ActionButton}from"./ActionButton-DfCdlJhY.js";import{u as useNavigation}from"./useNavigation-CX1weHF_.js";import{c as commonjsRequire}from"./iframe-BjjwaEFz.js";import{c as getUniqueIdSync}from"./index-DCc44by_.js";import"./index-8JwjhRSi.js";const useAppLifecycle=()=>{const[e,t]=reactExports.useState(AppLifecycle.currentState);return reactExports.useEffect(()=>{const r=AppLifecycle.addEventListener("change",n=>{t(n)});return()=>r.remove()},[]),e};function findFocusedRoute(e){var t,r;let n=e;for(;((a=n)===null||a===void 0?void 0:a.routes[n.index??0].state)!=null;){var a;n=n.routes[n.index??0].state}return(t=n)===null||t===void 0?void 0:t.routes[((r=n)===null||r===void 0?void 0:r.index)??0]}function getActionFromState(e,t){var r;const n=t?createNormalizedConfigItem(t):{},a=e.index!=null?e.routes.slice(0,e.index+1):e.routes;if(a.length===0)return;if(!(a.length===1&&a[0].key===void 0||a.length===2&&a[0].key===void 0&&a[0].name===(n==null?void 0:n.initialRouteName)&&a[1].key===void 0))return{type:"RESET",payload:e};const i=e.routes[e.index??e.routes.length-1];let u=i==null?void 0:i.state,l=n==null||(r=n.screens)===null||r===void 0?void 0:r[i==null?void 0:i.name],x={...i.params},s=i?{name:i.name,path:i.path,params:x}:void 0;for(;u;){var o,v,c;if(u.routes.length===0)return;const d=u.index!=null?u.routes.slice(0,u.index+1):u.routes,p=d[d.length-1];if(Object.assign(x,{initial:void 0,screen:void 0,params:void 0,state:void 0}),d.length===1&&d[0].key===void 0)x.initial=!0,x.screen=p.name;else if(d.length===2&&d[0].key===void 0&&d[0].name===((o=l)===null||o===void 0?void 0:o.initialRouteName)&&d[1].key===void 0)x.initial=!1,x.screen=p.name;else{x.state=u;break}p.state?(x.params={...p.params},x=x.params):(x.path=p.path,x.params=p.params),u=p.state,l=(v=l)===null||v===void 0||(c=v.screens)===null||c===void 0?void 0:c[p.name]}if(s)return{type:"NAVIGATE",payload:s}}const createNormalizedConfigItem=e=>typeof e=="object"&&e!=null?{initialRouteName:e.initialRouteName,screens:e.screens!=null?createNormalizedConfigs$1(e.screens):void 0}:{},createNormalizedConfigs$1=e=>Object.entries(e).reduce((t,r)=>{let[n,a]=r;return t[n]=createNormalizedConfigItem(a),t},{}),CHILD_STATE=Symbol("CHILD_STATE");function getFocusedRouteNameFromRoute(e){const t=e[CHILD_STATE]??e.state,r=e.params;return t?t.routes[t.index??(typeof t.type=="string"&&t.type!=="stack"?0:t.routes.length-1)].name:typeof(r==null?void 0:r.screen)=="string"?r.screen:void 0}const formatToList=e=>e.map(t=>`- ${t}`).join(`
`);function validatePathConfig(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;const r=["initialRouteName","screens"];t||r.push("path","exact","stringify","parse");const n=Object.keys(e).filter(a=>!r.includes(a));if(n.length)throw new Error(`Found invalid properties in the configuration:
${formatToList(n)}

Did you forget to specify them under a 'screens' property?

You can only specify the following properties:
${formatToList(r)}

See https://reactnavigation.org/docs/configuring-links for more details on how to specify a linking configuration.`);e.screens&&Object.entries(e.screens).forEach(a=>{let[i,u]=a;typeof u!="string"&&validatePathConfig(u,!1)})}var escapeStringRegexp=e=>{if(typeof e!="string")throw new TypeError("Expected a string");return e.replace(/[|\\{}()[\]^$+*?.]/g,"\\$&").replace(/-/g,"\\x2d")};const escape$1=getDefaultExportFromCjs(escapeStringRegexp);function getStateFromPath(e,t){t&&validatePathConfig(t);let r=[];t!=null&&t.initialRouteName&&r.push({initialRouteName:t.initialRouteName,parentScreens:[]});const n=t==null?void 0:t.screens;let a=e.replace(/\/+/g,"/").replace(/^\//,"").replace(/\?.*$/,"");if(a=a.endsWith("/")?a:`${a}/`,n===void 0){const o=a.split("/").filter(Boolean).map(v=>({name:decodeURIComponent(v)}));return o.length?createNestedStateObject(e,o,r):void 0}const i=[].concat(...Object.keys(n).map(o=>createNormalizedConfigs(o,n,[],r,[]))).sort((o,v)=>{if(o.pattern===v.pattern)return v.routeNames.join(">").localeCompare(o.routeNames.join(">"));if(o.pattern.startsWith(v.pattern))return-1;if(v.pattern.startsWith(o.pattern))return 1;const c=o.pattern.split("/"),d=v.pattern.split("/");for(let p=0;p<Math.max(c.length,d.length);p++){if(c[p]==null)return 1;if(d[p]==null)return-1;const C=c[p]==="*"||c[p].startsWith(":"),g=d[p]==="*"||d[p].startsWith(":");if(!(C&&g)){if(C)return 1;if(g)return-1}}return d.length-c.length});if(i.reduce((o,v)=>{if(o[v.pattern]){const c=o[v.pattern].routeNames,d=v.routeNames;if(!(c.length>d.length?d.every((C,g)=>c[g]===C):c.every((C,g)=>d[g]===C)))throw new Error(`Found conflicting screens with the same pattern. The pattern '${v.pattern}' resolves to both '${c.join(" > ")}' and '${d.join(" > ")}'. Patterns must be unique and cannot resolve to more than one screen.`)}return Object.assign(o,{[v.pattern]:v})},{}),a==="/"){const o=i.find(v=>v.path===""&&v.routeNames.every(c=>{var d;return!((d=i.find(p=>p.screen===c))!==null&&d!==void 0&&d.path)}));return o?createNestedStateObject(e,o.routeNames.map(v=>({name:v})),r,i):void 0}let u,l;const{routes:x,remainingPath:s}=matchAgainstConfigs(a,i.map(o=>({...o,regex:o.regex?new RegExp(o.regex.source+"$"):void 0})));if(x!==void 0&&(l=createNestedStateObject(e,x,r,i),a=s,u=l),!(l==null||u==null))return u}const joinPaths=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return[].concat(...t.map(n=>n.split("/"))).filter(Boolean).join("/")},matchAgainstConfigs=(e,t)=>{let r,n=e;for(const i of t){if(!i.regex)continue;const u=n.match(i.regex);if(u){var a;const x=((a=i.pattern)===null||a===void 0?void 0:a.split("/").reduce((s,o,v)=>{if(!o.startsWith(":"))return s;s.pos+=1;const c=decodeURIComponent(u[(s.pos+1)*2].replace(/\/$/,""));return Object.assign(s.matchedParams,{[o]:Object.assign(s.matchedParams[o]||{},{[v]:c})}),s},{pos:-1,matchedParams:{}})).matchedParams||{};r=i.routeNames.map(s=>{var o;const v=t.find(C=>C.screen===s&&i.pattern.startsWith(C.pattern)),c=v==null?void 0:v.path.split("/").filter(Boolean).join("/"),d=v==null||(o=v.pattern.replace(new RegExp(`${escape$1(c)}$`),""))===null||o===void 0?void 0:o.split("/").length,p=c==null?void 0:c.split("/").reduce((C,g,y)=>{var h;if(!g.startsWith(":"))return C;const m=d?d-1:0,E=(h=x[g])===null||h===void 0?void 0:h[y+m];if(E){var D;const b=g.replace(/^:/,"").replace(/\?$/,"");C[b]=v!=null&&(D=v.parse)!==null&&D!==void 0&&D[b]?v.parse[b](E):E}return C},{});return p&&Object.keys(p).length?{name:s,params:p}:{name:s}}),n=n.replace(u[1],"");break}}return{routes:r,remainingPath:n}},createNormalizedConfigs=function(e,t){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:[],n=arguments.length>3?arguments[3]:void 0,a=arguments.length>4?arguments[4]:void 0,i=arguments.length>5?arguments[5]:void 0;const u=[];r.push(e),a.push(e);const l=t[e];if(typeof l=="string"){const x=i?joinPaths(i,l):l;u.push(createConfigItem(e,r,x,l))}else if(typeof l=="object"){let x;if(typeof l.path=="string"){if(l.exact&&l.path===void 0)throw new Error("A 'path' needs to be specified when specifying 'exact: true'. If you don't want this screen in the URL, specify it as empty string, e.g. `path: ''`.");x=l.exact!==!0?joinPaths(i||"",l.path||""):l.path||"",u.push(createConfigItem(e,r,x,l.path,l.parse))}l.screens&&(l.initialRouteName&&n.push({initialRouteName:l.initialRouteName,parentScreens:a}),Object.keys(l.screens).forEach(s=>{const o=createNormalizedConfigs(s,l.screens,r,n,[...a],x??i);u.push(...o)}))}return r.pop(),u},createConfigItem=(e,t,r,n,a)=>{r=r.split("/").filter(Boolean).join("/");const i=r?new RegExp(`^(${r.split("/").map(u=>u.startsWith(":")?`(([^/]+\\/)${u.endsWith("?")?"?":""})`:`${u==="*"?".*":escape$1(u)}\\/`).join("")})`):void 0;return{screen:e,regex:i,pattern:r,path:n,routeNames:[...t],parse:a}},findParseConfigForRoute=(e,t)=>{for(const r of t)if(e===r.routeNames[r.routeNames.length-1])return r.parse},findInitialRoute=(e,t,r)=>{for(const n of r)if(t.length===n.parentScreens.length){let a=!0;for(let i=0;i<t.length;i++)if(t[i].localeCompare(n.parentScreens[i])!==0){a=!1;break}if(a)return e!==n.initialRouteName?n.initialRouteName:void 0}},createStateObject=(e,t,r)=>r?e?{index:1,routes:[{name:e},t]}:{routes:[t]}:e?{index:1,routes:[{name:e},{...t,state:{routes:[]}}]}:{routes:[{...t,state:{routes:[]}}]},createNestedStateObject=(e,t,r,n)=>{let a,i=t.shift();const u=[];let l=findInitialRoute(i.name,u,r);if(u.push(i.name),a=createStateObject(l,i,t.length===0),t.length>0){let s=a;for(;i=t.shift();){l=findInitialRoute(i.name,u,r);const o=s.index||s.routes.length-1;s.routes[o].state=createStateObject(l,i,t.length===0),t.length>0&&(s=s.routes[o].state),u.push(i.name)}}i=findFocusedRoute(a),i.path=e;const x=parseQueryParams(e,n?findParseConfigForRoute(i.name,n):void 0);return x&&(i.params={...i.params,...x}),a},parseQueryParams=(e,t)=>{const r=e.split("?")[1],n=queryString.parse(r);return t&&Object.keys(n).forEach(a=>{Object.hasOwnProperty.call(t,a)&&typeof n[a]=="string"&&(n[a]=t[a](n[a]))}),Object.keys(n).length?n:void 0},LinkingContext=reactExports.createContext({options:void 0});LinkingContext.displayName="LinkingContext";const notifee={displayNotification:()=>{},createChannel:()=>{},onForegroundEvent:()=>()=>{}};var EventType=(e=>(e[e.UNKNOWN=-1]="UNKNOWN",e[e.DISMISSED=0]="DISMISSED",e[e.PRESS=1]="PRESS",e[e.ACTION_PRESS=2]="ACTION_PRESS",e[e.DELIVERED=3]="DELIVERED",e[e.APP_BLOCKED=4]="APP_BLOCKED",e[e.CHANNEL_BLOCKED=5]="CHANNEL_BLOCKED",e[e.CHANNEL_GROUP_BLOCKED=6]="CHANNEL_GROUP_BLOCKED",e[e.TRIGGER_NOTIFICATION_CREATED=7]="TRIGGER_NOTIFICATION_CREATED",e[e.FG_ALREADY_EXIST=8]="FG_ALREADY_EXIST",e))(EventType||{});const messaging=()=>({getToken:()=>Promise.resolve()}),aboutModule={alwaysEnabled:!0,name:"AboutModule",slug:ModuleSlug.about};var AccessCodeType=(e=>(e.codeConfirmed="codeConfirmed",e.codeEntered="codeEntered",e.codeSet="codeSet",e))(AccessCodeType||{});const MAX_ATTEMPTS=5,initialValue$1={attemptsLeft:MAX_ATTEMPTS,[AccessCodeType.codeEntered]:[],[AccessCodeType.codeConfirmed]:[],[AccessCodeType.codeSet]:[],codeValidTimestamp:void 0,error:void 0,isCodeSet:!1,isCodeConfirmed:!1,isCodeValid:!1,isEnteringCode:!1,isForgotCode:!1,useBiometrics:void 0},accessCodeSlice=createSlice({name:"accessCode",initialState:initialValue$1,reducers:{addDigit:(e,{payload:{digit:t,type:r}})=>{e[r].push(t)},removeDigit:(e,{payload:t})=>{e[t].pop()},reset:()=>initialValue$1,setCode:(e,{payload:{code:t,type:r}})=>{e[r]=t},resetAttemptsLeft:e=>{e.attemptsLeft=initialValue$1.attemptsLeft},setAttemptsLeft:(e,{payload:t})=>{e.attemptsLeft=t},setError:(e,{payload:t})=>{e.error=t},setIsCodeSet:(e,{payload:t})=>{e.isCodeSet=t},setIsCodeConfirmed:(e,{payload:t})=>{e.isCodeConfirmed=t},setIsCodeValid:(e,{payload:t})=>{t?(e.isCodeValid=!0,e.codeValidTimestamp=Date.now()):(e.isCodeValid=!1,e.codeValidTimestamp=void 0)},setIsEnteringCode:(e,{payload:t})=>{e.isEnteringCode=t},setIsForgotCode:(e,{payload:t})=>{e.isForgotCode=t},setUseBiometrics:(e,{payload:t})=>{e.useBiometrics=t}}});accessCodeSlice.actions;const persistWhitelist$4=["attemptsLeft","useBiometrics"],accessCodeModule={hiddenInMenu:!0,name:"AccessCodeModule",reduxConfigs:[{key:ReduxKey.accessCode,persistVersion:0,persistWhitelist:persistWhitelist$4,slice:accessCodeSlice}],slug:ModuleSlug["access-code"],alwaysEnabled:!0},getAddition=(e,t)=>{if(!(!e&&!t))return e||t},getAddressLine2=(e,t)=>!e||!t?"":`${e.slice(0,4)} ${e.slice(4)} ${t.toUpperCase()}`,parseCentroid=(e,t)=>t||(e?{lat:e[1],lon:e[0]}:void 0),migrations={0:e=>{const{adres:t,bag_huisletter:r,bag_toevoeging:n,bagNummeraanduidingId:a,woonplaats:i,centroid:u,coordinates:l,huisnummer:x,postcode:s,straatnaam:o}=e;return[t,r,n,a,i,x,s,o].some(c=>c===void 0)?{}:{address:{addition:getAddition(r,n),additionLetter:r||void 0,additionNumber:n||void 0,addressLine1:t,addressLine2:getAddressLine2(s,i),bagId:a,city:i,coordinates:parseCentroid(u,l),number:x,postcode:s,street:o},locationType:"address"}}};var HighAccuracyPurposeKey=(e=>(e.PreciseLocationAddressConstructionWork="PreciseLocationAddressConstructionWork",e.PreciseLocationAddressLookup="PreciseLocationAddressLookup",e.PreciseLocationAddressWasteGuide="PreciseLocationAddressWasteGuide",e))(HighAccuracyPurposeKey||{});const initialState$a={},permissionsSlice=createSlice({name:ReduxKey.permissions,initialState:initialState$a,reducers:{setPermission:(e,{payload:{permission:t,granted:r}})=>{e[t]=r}}}),{setPermission}=permissionsSlice.actions,selectIsPermissionGranted=e=>t=>t[ReduxKey.permissions][e]??!1,RESULTS=Object.freeze({UNAVAILABLE:"unavailable",BLOCKED:"blocked",DENIED:"denied",GRANTED:"granted",LIMITED:"limited"}),getUnsupportedError=(e,t)=>new Error(`Only supported by ${e} ${t} and above`),openPhotoPicker=async()=>{throw getUnsupportedError("iOS",14)},requestLocationAccuracy=async()=>{throw getUnsupportedError("iOS",14)},checkLocationAccuracy=async()=>{throw getUnsupportedError("iOS",14)},check=async()=>RESULTS.UNAVAILABLE,checkNotifications=async()=>({status:RESULTS.UNAVAILABLE,settings:{}}),checkMultiple=async e=>{const t={};for(const r of e)t[r]=RESULTS.UNAVAILABLE;return t},methods={canScheduleExactAlarms:Promise.reject,check,checkLocationAccuracy,checkMultiple,checkNotifications,openPhotoPicker,openSettings:Promise.reject,request:check,requestLocationAccuracy,requestMultiple:checkMultiple,requestNotifications:checkNotifications},PERMISSIONS=Object.freeze({ANDROID:{},IOS:{},WINDOWS:{}}),request=methods.request,requestNotifications=methods.requestNotifications,Permissions={biometrics:PERMISSIONS.IOS.FACE_ID,bluetooth:Platform.OS==="android"?PERMISSIONS.ANDROID.BLUETOOTH_SCAN:PERMISSIONS.IOS.BLUETOOTH,bluetoothConnect:Platform.OS==="android"?PERMISSIONS.ANDROID.BLUETOOTH_CONNECT:PERMISSIONS.IOS.BLUETOOTH,camera:Platform.OS==="android"?PERMISSIONS.ANDROID.CAMERA:PERMISSIONS.IOS.CAMERA,location:Platform.OS==="android"?PERMISSIONS.ANDROID.ACCESS_FINE_LOCATION:PERMISSIONS.IOS.LOCATION_WHEN_IN_USE,photos:Platform.OS==="android"?PERMISSIONS.ANDROID.READ_MEDIA_IMAGES:PERMISSIONS.IOS.PHOTO_LIBRARY,notifications:"PERMISSION_NOTIFICATIONS"};Permissions.biometrics,PiwikSessionDimension.hasBiometricsPermission,Permissions.location,PiwikSessionDimension.hasLocationPermission,Permissions.camera,PiwikSessionDimension.hasCameraPermission,Permissions.photos,PiwikSessionDimension.hasPhotosPermission,Permissions.notifications,PiwikSessionDimension.hasNotificationPermission;const initialState$9={highAccuracyPurposeKey:HighAccuracyPurposeKey.PreciseLocationAddressLookup,locationType:void 0,startGettingLocation:void 0,getLocationIsError:void 0,isGettingLocation:void 0},addressSlice=createSlice({name:ReduxKey.address,initialState:initialState$9,reducers:{addAddress:(e,{payload:t})=>({...e,address:t}),addLocation:(e,{payload:t})=>({...e,location:t,getLocationIsError:!1}),removeAddress:({address:e,...t})=>t,setStartGettingLocation:(e,{payload:t})=>({...e,highAccuracyPurposeKey:t??initialState$9.highAccuracyPurposeKey,startGettingLocation:!0,getLocationIsError:!1}),setGetLocationIsError:(e,{payload:t})=>({...e,getLocationIsError:t,...t&&{startGettingLocation:!1}}),setIsGettingLocation:(e,{payload:t})=>({...e,isGettingLocation:t,...t&&{startGettingLocation:!1,getLocationIsError:!1}}),setLocationType:(e,{payload:{locationType:t}})=>({...e,locationType:t})}});addressSlice.actions;const persistWhitelist$3=["address","locationType"],addressModule={name:"AddressModule",slug:ModuleSlug.address,reduxConfigs:[{key:ReduxKey.address,migrations,persistVersion:0,slice:addressSlice,persistWhitelist:persistWhitelist$3}]},useListenerStatus=e=>{const[t,r]=reactExports.useState(null),n=reactExports.useRef(null);return reactExports.useEffect(()=>{var a;return(a=n.current)==null||a.remove(),n.current=e(i=>{r(i)}),()=>{var i;(i=n.current)==null||i.remove(),n.current=null}},[e]),t},createCoreClient=({developerName:e,organizationId:t,url:r})=>SalesforceMessagingInApp.createCoreClient(r,t,e),createConversationClient=e=>SalesforceMessagingInApp.createConversationClient(e??null),markAsRead=e=>SalesforceMessagingInApp.markAsRead(e),sendMessage=e=>SalesforceMessagingInApp.sendMessage(e),sendReply=e=>SalesforceMessagingInApp.sendReply(e),sendTypingEvent=()=>SalesforceMessagingInApp.sendTypingEvent(),sendPDF=(e,t)=>SalesforceMessagingInApp.sendPDF(e,t),sendImage=(e,t,r)=>SalesforceMessagingInApp.sendImage(e,t,r),retrieveRemoteConfiguration=()=>SalesforceMessagingInApp.retrieveRemoteConfiguration(),retrieveTranscript=()=>SalesforceMessagingInApp.retrieveTranscript(),generateUUID=()=>SalesforceMessagingInApp.generateUUID(),submitRemoteConfiguration=(e,t)=>SalesforceMessagingInApp.submitRemoteConfiguration(e,t),useCreateChat=({developerName:e,organizationId:t,url:r,conversationId:n=generateUUID()})=>{const[a,i]=reactExports.useState(!1),[u,l]=reactExports.useState(n),x=reactExports.useRef(null),s=reactExports.useRef(null),o=reactExports.useRef(null),v=reactExports.useRef(null),c=reactExports.useRef(null),[d,p]=reactExports.useState([]),[C,g]=reactExports.useState(!1),[y,h]=reactExports.useState(),[m,E]=reactExports.useState(null),D=useListenerStatus(SalesforceMessagingInApp.onNetworkStatusChanged),b=useListenerStatus(SalesforceMessagingInApp.onConnectionStatusChanged),[B,F]=reactExports.useState([]),[P,A]=reactExports.useState(!1),S=useTrackException(),w=reactExports.useMemo(()=>B.some(R=>R.role===ConversationEntrySenderRole.agent),[B]);return reactExports.useEffect(()=>{const R=[x,s,o,v,c];return e&&t&&r&&(F([]),p([]),h(void 0),createCoreClient({developerName:e,organizationId:t,url:r}).then(()=>{retrieveRemoteConfiguration().then(h,()=>{retrieveRemoteConfiguration().then(h,()=>{E({message:"Failed to retrieve remote configuration"})}).catch(T=>S(ExceptionLogKey.chatRetrieveRemoteConfiguration,"useCreateChat (index.tsx)",{error:T}))}),R.forEach(T=>{T.current&&(T.current.remove(),T.current=null)}),s.current=SalesforceMessagingInApp.onNewMessage(T=>{const M=T;M.format===ConversationEntryFormat.deliveryAcknowledgement?p(q=>q.map(L=>L.entryId===M.acknowledgedConversationEntryIdentifier?{...L,status:L.status!==ConversationEntryStatus.read?ConversationEntryStatus.delivered:ConversationEntryStatus.read}:L)):M.format===ConversationEntryFormat.readAcknowledgement?p(q=>q.map(L=>L.entryId===M.acknowledgedConversationEntryIdentifier?{...L,status:ConversationEntryStatus.read}:L)):p(q=>q.some(L=>L.entryId===M.entryId)?q.map(L=>L.entryId===M.entryId?M:L):[...q,M]),M.format===ConversationEntryFormat.participantChanged?M.operations.forEach(({participant:q,type:L})=>{L===ParticipantChangedOperationType.add?(F(H=>[...H,q]),q.role===ConversationEntrySenderRole.agent&&A(!1)):F(H=>H.filter(O=>!(O.displayName===q.displayName&&O.local===q.local&&O.role===q.role)))}):M.format===ConversationEntryFormat.routingResult&&M.routingType===ConversationEntryRoutingType.transfer&&A(!0)}),o.current=SalesforceMessagingInApp.onUpdatedMessage(T=>{const M=T;p(q=>q.map(L=>L.entryId===M.entryId?M:L))}),x.current=SalesforceMessagingInApp.onError(T=>{E(T)}),v.current=SalesforceMessagingInApp.onTypingStarted(T=>{g(T)}),c.current=SalesforceMessagingInApp.onTypingStopped(T=>{g(!1)}),createConversationClient(n??u).then(T=>{l(T),i(!0)}).catch(T=>S(ExceptionLogKey.chatCreateConversationClient,"useCreateChat (index.tsx)",{error:T}))})),()=>{R.forEach(T=>{var M;(M=T.current)==null||M.remove(),T.current=null})}},[n,e,t,r]),{agentInChat:w,connectionStatus:b,conversationId:u,isTyping:C,isWaitingForAgent:P,error:m,messages:d,networkStatus:D,participants:B,ready:a,remoteConfiguration:y}};var ChatVisibility=(e=>(e.maximized="maximized",e.minimized="minimized",e))(ChatVisibility||{});const initialState$8={headerHeight:0,isMenuOpen:!1,isOpen:!1,minimizedHeight:0,visibility:ChatVisibility.maximized,conversationId:void 0},chatSlice=createSlice({name:ReduxKey.chat,initialState:initialState$8,reducers:{closeChat:e=>({...e,isOpen:!1}),maximizeChat:e=>({...e,visibility:ChatVisibility.maximized}),minimizeChat:e=>({...e,visibility:ChatVisibility.minimized}),setHeightMinimized:(e,{payload:t})=>({...e,minimizedHeight:t}),openChat:e=>({...e,isOpen:!0,visibility:ChatVisibility.maximized}),clearChatMessages:e=>({...e,messages:[]}),toggleChatIsOpen:e=>({...e,isOpen:!e.isOpen}),toggleChatVisibility:e=>({...e,visibility:e.visibility===ChatVisibility.maximized?ChatVisibility.minimized:ChatVisibility.maximized}),setChatConversationId:(e,{payload:t})=>({...e,conversationId:t}),setChatHeaderHeight:(e,{payload:t})=>({...e,headerHeight:t}),setIsChatMenuOpen:(e,{payload:t})=>({...e,isMenuOpen:t})}}),{closeChat,openChat,minimizeChat,setHeightMinimized,toggleChatIsOpen,toggleChatVisibility,setChatConversationId,setChatHeaderHeight,setIsChatMenuOpen}=chatSlice.actions,{maximizeChat}=chatSlice.actions,selectChatIsOpen=e=>e[ReduxKey.chat].isOpen,selectChatVisibility=e=>e[ReduxKey.chat].visibility,selectChatMinimizedHeight=e=>e[ReduxKey.chat].minimizedHeight,selectChatConversationId=e=>e[ReduxKey.chat].conversationId,selectChatHeaderHeight=e=>e[ReduxKey.chat].headerHeight,selectIsMenuOpen=e=>e[ReduxKey.chat].isMenuOpen,useChat=()=>{const e=useSelector(selectChatIsOpen),t=useSelector(selectIsMenuOpen),r=useSelector(selectChatHeaderHeight),n=useSelector(selectChatConversationId),a=useSelector(selectChatVisibility),i=a===ChatVisibility.maximized,u=a===ChatVisibility.minimized,l=useSelector(selectChatMinimizedHeight),x=useDispatch(),s=reactExports.useCallback(()=>x(openChat()),[x]),o=reactExports.useCallback(()=>x(closeChat()),[x]),v=reactExports.useCallback(()=>x(maximizeChat()),[x]),c=reactExports.useCallback(()=>x(minimizeChat()),[x]),d=reactExports.useCallback(m=>x(setChatConversationId(m)),[x]),p=reactExports.useCallback(m=>x(setChatHeaderHeight(m)),[x]),C=reactExports.useCallback(m=>x(setIsChatMenuOpen(m)),[x]),g=reactExports.useCallback(m=>x(setHeightMinimized(m)),[x]),y=reactExports.useCallback(()=>x(toggleChatIsOpen()),[x]),h=reactExports.useCallback(()=>x(toggleChatVisibility()),[x]);return{close:o,conversationId:n,headerHeight:r,isMaximized:i,isMenuOpen:t,isMinimized:u,isOpen:e,open:s,maximize:v,minimize:c,minimizedHeight:l,setConversationId:d,setMinimizedHeight:g,setHeaderHeight:p,setIsMenuOpen:C,toggleIsOpen:y,toggleVisibility:h,visibility:a}},ChatAnimatedContentWrapper=({children:e})=>{const{isMaximized:t}=useChat(),{duration:r}=useTheme(),n=createStyles$d(),a=useAnimatedStyle(()=>({opacity:withTiming(t?1:0,{duration:r.transition.short})}));return jsxRuntimeExports.jsx(Animated.View,{style:[n.container,a],children:e})},createStyles$d=()=>stylesheet.create({container:{flexGrow:1}});try{ChatAnimatedContentWrapper.displayName="ChatAnimatedContentWrapper",ChatAnimatedContentWrapper.__docgenInfo={description:"",displayName:"ChatAnimatedContentWrapper",props:{}}}catch{}const CLOSE_CHAT_MESSAGE="Gebruiker heeft het gesprek verlaten",useCoreConfig=()=>{const{environment:e}=useSelector(selectEnvironment),t={};switch(e){case Environment.development:case Environment.custom:t.developerName=CHAT_DEVELOPER_NAME_DEV,t.organizationId=CHAT_ORGANIZATION_ID_DEV,t.url=CHAT_URL_DEV;break;case Environment.test:t.developerName=CHAT_DEVELOPER_NAME_TEST,t.organizationId=CHAT_ORGANIZATION_ID_TEST,t.url=CHAT_URL_TEST;break;case Environment.acceptance:t.developerName=CHAT_DEVELOPER_NAME_ACC,t.organizationId=CHAT_ORGANIZATION_ID_ACC,t.url=CHAT_URL_ACC;break;case Environment.production:t.developerName=CHAT_DEVELOPER_NAME_PROD,t.organizationId=CHAT_ORGANIZATION_ID_PROD,t.url=CHAT_URL_PROD;break}return t},useBoolean=(e=!1)=>{const[t,r]=reactExports.useState(e),n=reactExports.useCallback(()=>{r(u=>!u)},[]),a=reactExports.useCallback(()=>{r(!0)},[]),i=reactExports.useCallback(()=>{r(!1)},[]);return{value:t,toggle:n,enable:a,disable:i}},isChatEnded=(e,t,r,n)=>{const a=e.filter(u=>u.format!==ConversationEntryFormat.transcript),i=a[a.length-1];return(i==null?void 0:i.format)===ConversationEntryFormat.routingWorkResult&&i.workType===ConversationEntryRoutingWorkType.closed&&!t||r&&!n},useIsChatEnded=(e,t,r)=>{const{value:n,enable:a}=useBoolean(!1),[i,u]=reactExports.useState(r);return reactExports.useEffect(()=>{r&&u(!0)},[r]),{isEnded:n||isChatEnded(e,t,i,r),endChat:a}},useMarkAsRead=e=>{const{isMaximized:t}=useChat(),r=e.filter(n=>n.sender.role!==ConversationEntrySenderRole.user&&n.format!==ConversationEntryFormat.readAcknowledgement);reactExports.useEffect(()=>{t&&r.length>0&&markAsRead(r[r.length-1])},[r,r.length,t])},useAsync=(e,t)=>{const r=reactExports.useCallback(()=>{e()},t);reactExports.useEffect(r,[r])},isNewMessage=e=>e===ConversationEntryFormat.attachments||e===ConversationEntryFormat.carousel||e===ConversationEntryFormat.imageMessage||e===ConversationEntryFormat.inputs||e===ConversationEntryFormat.listPicker||e===ConversationEntryFormat.richLink||e===ConversationEntryFormat.quickReplies||e===ConversationEntryFormat.selections||e===ConversationEntryFormat.text,useSendNotificationWhenInBackground=e=>{const t=useAppLifecycle(),{trackCustomEvent:r}=useTrackEvents();useAsync(async()=>{var n;if(t!=="active"&&!(Platform.OS==="ios"&&t==="background")&&isNewMessage((n=e[e.length-1])==null?void 0:n.format)){const a=await notifee.createChannel({id:"default",name:"Default Channel"});notifee.displayNotification({title:e[e.length-1].senderDisplayName,body:e[e.length-1].text,android:{channelId:a,pressAction:{id:"default"}},data:{maximizeChat:1,module:ModuleSlug.chat}}).then(()=>{r("chat-push-notification",PiwikAction.pushNotificationDisplay,{})})}},[e.length])},useSubmitRemoteConfiguration=e=>{const t=useTrackException();reactExports.useEffect(()=>{var r;if(e){const n=JSON.parse(JSON.stringify(e));(r=n.preChatConfiguration[0])==null||r.hiddenPreChatFields.forEach(a=>{a.name==="Origin"||a.name==="Chat_Origin"?a.value="App":a.name==="Start_Location"&&(a.value="contact")}),submitRemoteConfiguration(n,!0).catch(a=>t(ExceptionLogKey.chatSubmitRemoteConfiguration,"useSubmitRemoteConfiguration.ts",{error:a}))}},[e,t])},filterOutCloseChatMessage=e=>e.filter(({format:t,text:r,sender:{role:n}})=>!(t===ConversationEntryFormat.text&&r===CLOSE_CHAT_MESSAGE&&n===ConversationEntrySenderRole.user)),filterOutDeliveryAcknowledgements=e=>e.filter(({format:t})=>t!==ConversationEntryFormat.deliveryAcknowledgement&&t!==ConversationEntryFormat.readAcknowledgement),initialValue={addDownloadedTranscriptId:()=>null,agentInChat:!1,downloadedTranscriptIds:[],connectionStatus:null,endChat:()=>null,isEnded:!1,isWaitingForAgent:!1,messages:[],newMessagesCount:0,ready:!1,remoteConfiguration:void 0},ChatContext=reactExports.createContext(initialValue),ChatProvider=({children:e})=>{const{isMaximized:t,isMinimized:r}=useChat(),[n,a]=reactExports.useState(),[i,u]=reactExports.useState(0),[l,x]=reactExports.useState([]),s=useCoreConfig(),{messages:o,isTyping:v,conversationId:c,ready:d,agentInChat:p,remoteConfiguration:C,connectionStatus:g,isWaitingForAgent:y}=useCreateChat({...s,conversationId:n}),{isEnded:h,endChat:m}=useIsChatEnded(o,y,p),E=reactExports.useCallback(b=>{x(B=>[...B,b])},[]);reactExports.useEffect(()=>{var b;r&&isNewMessage((b=o[o.length-1])==null?void 0:b.format)&&u(B=>B+1)},[o.length]),reactExports.useEffect(()=>{t&&u(0)},[t]),reactExports.useEffect(()=>{a(c??n)},[n,c,a]),useSendNotificationWhenInBackground(o),useMarkAsRead(o),useSubmitRemoteConfiguration(C);const D=reactExports.useMemo(()=>{const b=filterOutCloseChatMessage(filterOutDeliveryAcknowledgements(o)),B=v&&!h?[...b,v]:b;return{addDownloadedTranscriptId:E,agentInChat:p,connectionStatus:g,downloadedTranscriptIds:l,endChat:m,isEnded:h,isWaitingForAgent:y,messages:B,newMessagesCount:i,ready:d&&(!!v||o.some(F=>F.format===ConversationEntryFormat.text)),remoteConfiguration:C}},[E,p,g,l,m,h,y,v,o,i,d,C]);return jsxRuntimeExports.jsx(ChatContext.Provider,{value:D,children:e})};try{ChatProvider.displayName="ChatProvider",ChatProvider.__docgenInfo={description:"",displayName:"ChatProvider",props:{}}}catch{}class EventEmitter{addListener(t,r){var a,i,u,l;this.listeners||(this.listeners=new Map),(a=this.listeners)!=null&&a.has(t)||(i=this.listeners)==null||i.set(t,new Set);const n=this.listenerCount(t);return(l=(u=this.listeners)==null?void 0:u.get(t))==null||l.add(r),n===0&&this.listenerCount(t)===1&&this.startObserving(t),{remove:()=>{this.removeListener(t,r)}}}removeListener(t,r){var a,i;const n=(i=(a=this.listeners)==null?void 0:a.get(t))==null?void 0:i.delete(r);this.listenerCount(t)===0&&n&&this.stopObserving(t)}removeAllListeners(t){var n,a;const r=this.listenerCount(t);(a=(n=this.listeners)==null?void 0:n.get(t))==null||a.clear(),r>0&&this.stopObserving(t)}emit(t,...r){var a;new Set((a=this.listeners)==null?void 0:a.get(t)).forEach(i=>{try{i(...r)}catch(u){console.error(u)}})}listenerCount(t){var r,n;return((n=(r=this.listeners)==null?void 0:r.get(t))==null?void 0:n.size)??0}startObserving(t){}stopObserving(t){}}let NativeModule$1=class extends EventEmitter{};class SharedObject extends EventEmitter{release(){}}class SharedRef extends SharedObject{constructor(){super(...arguments),this.nativeRefType="unknown"}}function f(e,t,r,n){switch(e){case 0:return t&r^~t&n;case 1:return t^r^n;case 2:return t&r^t&n^r&n;case 3:return t^r^n;default:return 0}}function ROTL(e,t){return e<<t|e>>>32-t}function sha1$1(e){const t=[1518500249,1859775393,2400959708,3395469782],r=[1732584193,4023233417,2562383102,271733878,3285377520];if(typeof e=="string"){const u=unescape(encodeURIComponent(e));e=new Array(u.length);for(let l=0;l<u.length;l++)e[l]=u.charCodeAt(l)}e.push(128);const n=e.length/4+2,a=Math.ceil(n/16),i=new Array(a);for(let u=0;u<a;u++){i[u]=new Array(16);for(let l=0;l<16;l++)i[u][l]=e[u*64+l*4]<<24|e[u*64+l*4+1]<<16|e[u*64+l*4+2]<<8|e[u*64+l*4+3]}i[a-1][14]=(e.length-1)*8/Math.pow(2,32),i[a-1][14]=Math.floor(i[a-1][14]),i[a-1][15]=(e.length-1)*8&4294967295;for(let u=0;u<a;u++){const l=new Array(80);for(let d=0;d<16;d++)l[d]=i[u][d];for(let d=16;d<80;d++)l[d]=ROTL(l[d-3]^l[d-8]^l[d-14]^l[d-16],1);let x=r[0],s=r[1],o=r[2],v=r[3],c=r[4];for(let d=0;d<80;d++){const p=Math.floor(d/20),C=ROTL(x,5)+f(p,s,o,v)+c+t[p]+l[d]>>>0;c=v,v=o,o=ROTL(s,30)>>>0,s=x,x=C}r[0]=r[0]+x>>>0,r[1]=r[1]+s>>>0,r[2]=r[2]+o>>>0,r[3]=r[3]+v>>>0,r[4]=r[4]+c>>>0}return[r[0]>>24&255,r[0]>>16&255,r[0]>>8&255,r[0]&255,r[1]>>24&255,r[1]>>16&255,r[1]>>8&255,r[1]&255,r[2]>>24&255,r[2]>>16&255,r[2]>>8&255,r[2]&255,r[3]>>24&255,r[3]>>16&255,r[3]>>8&255,r[3]&255,r[4]>>24&255,r[4]>>16&255,r[4]>>8&255,r[4]&255]}const byteToHex=[];for(let e=0;e<256;++e)byteToHex[e]=(e+256).toString(16).substr(1);function bytesToUuid(e,t){let r=0;const n=byteToHex;return[n[e[r++]],n[e[r++]],n[e[r++]],n[e[r++]],"-",n[e[r++]],n[e[r++]],"-",n[e[r++]],n[e[r++]],"-",n[e[r++]],n[e[r++]],"-",n[e[r++]],n[e[r++]],n[e[r++]],n[e[r++]],n[e[r++]],n[e[r++]]].join("")}function uuidToBytes(e){const t=[];return e.replace(/[a-fA-F0-9]{2}/g,r=>(t.push(parseInt(r,16)),"")),t}function stringToBytes(e){e=unescape(encodeURIComponent(e));const t=new Array(e.length);for(let r=0;r<e.length;r++)t[r]=e.charCodeAt(r);return t}function v35(e,t,r){const n=function(a,i,u,l){const x=u&&l||0;if(typeof a=="string"&&(a=stringToBytes(a)),typeof i=="string"&&(i=uuidToBytes(i)),!Array.isArray(a))throw TypeError("value must be an array of bytes");if(!Array.isArray(i)||i.length!==16)throw TypeError("namespace must be uuid string or an Array of 16 byte values");const s=r(i.concat(a));if(s[6]=s[6]&15|t,s[8]=s[8]&63|128,u)for(let o=0;o<16;++o)u[x+o]=s[o];return bytesToUuid(s)};try{n.name=e}catch{}return n.DNS="6ba7b810-9dad-11d1-80b4-00c04fd430c8",n.URL="6ba7b811-9dad-11d1-80b4-00c04fd430c8",n}var Uuidv5Namespace=(e=>(e.dns="6ba7b810-9dad-11d1-80b4-00c04fd430c8",e.url="6ba7b811-9dad-11d1-80b4-00c04fd430c8",e.oid="6ba7b812-9dad-11d1-80b4-00c04fd430c8",e.x500="6ba7b814-9dad-11d1-80b4-00c04fd430c8",e))(Uuidv5Namespace||{});function uuidv4(){return typeof crypto>"u"&&typeof window>"u"?eval("require")("node:crypto").randomUUID():crypto.randomUUID()}const uuid={v4:uuidv4,v5:v35("v5",80,sha1$1),namespace:Uuidv5Namespace};function registerWebGlobals(){var e;globalThis.expo||(globalThis.expo={EventEmitter,NativeModule:NativeModule$1,SharedObject,SharedRef,modules:((e=globalThis.ExpoDomWebView)==null?void 0:e.expoModulesProxy)??{},uuidv4:uuid.v4,uuidv5:uuid.v5,getViewConfig:()=>{throw new Error("Method not implemented.")},reloadAppAsync:async()=>{window.location.reload()}})}registerWebGlobals();function ensureNativeModulesAreInstalled(){var e;if(!globalThis.expo)try{Platform.OS==="web"?registerWebGlobals():(e=NativeModules$1.ExpoModulesCore)==null||e.installModules()}catch(t){console.error(`Unable to install Expo modules: ${t}`)}}ensureNativeModulesAreInstalled();const NativeModule=globalThis.expo.NativeModule;var PermissionStatus=(e=>(e.GRANTED="granted",e.UNDETERMINED="undetermined",e.DENIED="denied",e))(PermissionStatus||{});class FileSystemShim extends NativeModule{constructor(){super(...arguments),this.documentDirectory=null,this.cacheDirectory=null,this.bundleDirectory=null}}var FileSystemSessionType=(e=>(e[e.BACKGROUND=0]="BACKGROUND",e[e.FOREGROUND=1]="FOREGROUND",e))(FileSystemSessionType||{}),EncodingType=(e=>(e.UTF8="utf8",e.Base64="base64",e))(EncodingType||{});FileSystemShim||console.warn("No native ExponentFileSystem module found, are you sure the expo-file-system's module is linked properly?");function normalizeEndingSlash(e){return e!=null?e.replace(/\/*$/,"")+"/":null}const documentDirectory=normalizeEndingSlash(FileSystemShim.documentDirectory);normalizeEndingSlash(FileSystemShim.cacheDirectory);normalizeEndingSlash(FileSystemShim.bundleDirectory);async function readAsStringAsync(e,t={}){if(!FileSystemShim.readAsStringAsync)throw new UnavailabilityError("expo-file-system","readAsStringAsync");return await FileSystemShim.readAsStringAsync(e,t)}async function writeAsStringAsync(e,t,r={}){if(!FileSystemShim.writeAsStringAsync)throw new UnavailabilityError("expo-file-system","writeAsStringAsync");return await FileSystemShim.writeAsStringAsync(e,t,r)}async function deleteAsync(e,t={}){if(!FileSystemShim.deleteAsync)throw new UnavailabilityError("expo-file-system","deleteAsync");return await FileSystemShim.deleteAsync(e,t)}async function moveAsync(e){if(!FileSystemShim.moveAsync)throw new UnavailabilityError("expo-file-system","moveAsync");return await FileSystemShim.moveAsync(e)}async function copyAsync(e){if(!FileSystemShim.copyAsync)throw new UnavailabilityError("expo-file-system","copyAsync");return await FileSystemShim.copyAsync(e)}async function downloadAsync(e,t,r={}){if(!FileSystemShim.downloadAsync)throw new UnavailabilityError("expo-file-system","downloadAsync");return await FileSystemShim.downloadAsync(e,t,{sessionType:FileSystemSessionType.BACKGROUND,...r})}const baseReadAsStringAsync=readAsStringAsync,baseWriteAsStringAsync=writeAsStringAsync,baseDeleteAsync=deleteAsync,baseMoveAsync=moveAsync,baseCopyAsync=copyAsync;var StorageAccessFramework;(e=>{function t(u){return`content://com.android.externalstorage.documents/tree/primary:${u}/document/primary:${u}`}e.getUriForDirectoryInRoot=t;async function r(u=null){if(!FileSystemShim.requestDirectoryPermissionsAsync)throw new UnavailabilityError("expo-file-system","StorageAccessFramework.requestDirectoryPermissionsAsync");return await FileSystemShim.requestDirectoryPermissionsAsync(u)}e.requestDirectoryPermissionsAsync=r;async function n(u){if(!FileSystemShim.readSAFDirectoryAsync)throw new UnavailabilityError("expo-file-system","StorageAccessFramework.readDirectoryAsync");return await FileSystemShim.readSAFDirectoryAsync(u)}e.readDirectoryAsync=n;async function a(u,l){if(!FileSystemShim.makeSAFDirectoryAsync)throw new UnavailabilityError("expo-file-system","StorageAccessFramework.makeDirectoryAsync");return await FileSystemShim.makeSAFDirectoryAsync(u,l)}e.makeDirectoryAsync=a;async function i(u,l,x){if(!FileSystemShim.createSAFFileAsync)throw new UnavailabilityError("expo-file-system","StorageAccessFramework.createFileAsync");return await FileSystemShim.createSAFFileAsync(u,l,x)}e.createFileAsync=i,e.writeAsStringAsync=baseWriteAsStringAsync,e.readAsStringAsync=baseReadAsStringAsync,e.deleteAsync=baseDeleteAsync,e.moveAsync=baseMoveAsync,e.copyAsync=baseCopyAsync})(StorageAccessFramework||(StorageAccessFramework={}));const Sharing={async isAvailableAsync(){return typeof navigator>"u"?!1:!!navigator.share},async shareAsync(e,t={}){if(navigator.share)await navigator.share({...t,url:e});else throw new UnavailabilityError("navigator","share")}};async function shareAsync(e,t={}){if(!Sharing||!Sharing.shareAsync)throw new UnavailabilityError("Sharing","shareAsync");return await Sharing.shareAsync(e,t)}const contentTypeToUTI={"application/pdf":"com.adobe.pdf","image/png":"public.png","image/jpeg":"public.jpeg","image/gif":"com.compuserve.gif","image/bmp":"com.microsoft.bmp","image/svg+xml":"public.svg-image"},downloadFile=async(e,t)=>{const{headers:r,uri:n}=await downloadAsync(e,documentDirectory+t);return{uri:n,mimeType:r["content-type"]}},fileExtensionToMimeType={jpg:"image/jpeg",jpeg:"image/jpeg",png:"image/png",gif:"image/gif",pdf:"application/pdf",txt:"text/plain",mp4:"video/mp4",mp3:"audio/mpeg",json:"application/json"},saveFile=async({base64:e,downloadUri:t,fileName:r,localUri:n})=>{try{if(t){const{mimeType:a,uri:i}=await downloadFile(t,r),u=await readContentsAsBase64(i);await saveFileOnDevice(u,r,a)}else if(e)await saveFileOnDevice(e.data,r,e.mimeType);else if(n){const a=await readContentsAsBase64(n);await saveFileOnDevice(a,r)}else throw"Give either base64 or downloadUri as an argument to saveFile."}catch(a){throw devLog(a),a}},requestDirectoryPermission=async()=>{try{const e=await StorageAccessFramework.requestDirectoryPermissionsAsync();if(e.granted)return e.directoryUri;throw"Not granted directory permission."}catch{throw"Requesting directory permission failed."}},createEmptyFile=async(e,t,r="application/pdf")=>{try{return await StorageAccessFramework.createFileAsync(e,t,r)}catch{throw"Creating empty file failed."}},readContentsAsBase64=async e=>{try{return await StorageAccessFramework.readAsStringAsync(e,{encoding:EncodingType.Base64})}catch{throw"Reading file as base64 string failed."}},writeFileContentsAsBase64String=async(e,t)=>{try{await StorageAccessFramework.writeAsStringAsync(e,t,{encoding:EncodingType.Base64}),devLog(`saved to file ${e}`)}catch{throw"Writing base64 string to file failed."}},shareFile=async(e,t,r)=>{const n=`${documentDirectory}${t}`;try{await writeAsStringAsync(n,e,{encoding:EncodingType.Base64}),await shareAsync(n,{mimeType:r,UTI:r?contentTypeToUTI[r]:void 0}),devLog(`saved to file ${n}`)}catch{throw"Failed to share file with other applications."}},saveOnAndroid=async(e,t,r)=>{try{const n=await requestDirectoryPermission(),a=await createEmptyFile(n,t,r);await writeFileContentsAsBase64String(a,e)}catch(n){throw await shareFile(e,t,r),n}},saveFileOnDevice=async(e,t,r)=>{const n=fileExtensionToMimeType[t.split(".").pop()||""]||r;Platform.OS==="android"?await saveOnAndroid(e,t,n):await shareFile(e,t,n)},formatDateTime=e=>e==null||e===""?"":dayjs(e).format("D MMMM YYYY HH.mm:ss"),downloadChat=async()=>{try{const{transcript:e,entryId:t}=await retrieveTranscript(),r=`Chatgeschiedenis ${formatDateTime(dayjs()).replaceAll("."," ").replaceAll(":"," ")}.pdf`;return await saveFile({base64:{data:e,mimeType:"application/pdf"},fileName:r}),t}catch(e){devError(e,JSON.stringify(e)),Alert.alert("Chat downloaden mislukt.")}};var RedirectEndpointName=(e=>(e.getRedirectUrls="getRedirectUrls",e))(RedirectEndpointName||{});const redirectApi=baseApi.injectEndpoints({endpoints:e=>({[RedirectEndpointName.getRedirectUrls]:e.query({query:()=>({slug:ModuleSlug.contact,url:"/links"}),keepUnusedDataFor:CacheLifetime.hour})}),overrideExisting:!0}),{useGetRedirectUrlsQuery}=redirectApi,useChatMenuItems=()=>{const{setIsMenuOpen:e,close:t}=useChat(),{addDownloadedTranscriptId:r,endChat:n,ready:a,isEnded:i}=reactExports.useContext(ChatContext),u=useOpenWebUrl(),{data:l,isLoading:x,isError:s}=useGetRedirectUrlsQuery(),o=useTrackException();return reactExports.useMemo(()=>{const v=[];return v.push({color:"link",label:"Chat downloaden",onPress:()=>{e(!1),downloadChat().then(c=>c&&r(c))},testID:"ChatMenuPressableDownloadChat"}),!x&&!s&&v.push({color:"link",label:"Privacy",onPress:()=>{l!=null&&l.chatPrivacy?(e(!1),u(l.chatPrivacy)):(Alert.alert("Sorry, deze functie is nu niet beschikbaar. Probeer het later nog eens."),o(ExceptionLogKey.getRedirectsUrl,"ChatMenu.ts",{redirectsKey:"chatPrivacy"}))},testID:"ChatMenuPressableChatPrivacy"}),i||v.push({color:"warning",label:"Chat stoppen",onPress:()=>{e(!1),a?(sendMessage(CLOSE_CHAT_MESSAGE).catch(c=>o(ExceptionLogKey.chatSendMessage,"useChatMenuItems.ts",{error:c})),n()):t()},testID:"ChatMenuPressableStopChat"}),v},[r,t,n,i,s,x,u,a,l==null?void 0:l.chatPrivacy,e,o])},ChatMenu=()=>{const{headerHeight:e,isMenuOpen:t}=useChat(),r=useChatMenuItems(),n=useSafeAreaInsets();return jsxRuntimeExports.jsx(PopUpMenu,{isVisible:t,menuItems:r,orientation:PopupMenuOrientation.left,topInset:e+n.top})},CHAT_MINIMIZED_HEIGHT=60,HEIGHT_CORRECTION=8,BOUNCE_HEIGHT=25,ChatAnimatedWrapper=({children:e})=>{const t=useTheme(),{isOpen:r}=useBottomSheet(),{isMaximized:n}=useChat(),[a,i]=reactExports.useState(0),u=useSharedValue(0),l=useSharedValue(0),x=useSharedValue(n?1:0),s=useSafeAreaInsets(),{fontScale:o}=useDeviceContext(),{newMessagesCount:v}=reactExports.useContext(ChatContext),{setSpaceBottom:c}=useScreen(),d=createStyles$c(t,s),p=CHAT_MINIMIZED_HEIGHT*o+s.bottom;reactExports.useEffect(()=>{x.value=withTiming(n?1:0)},[n,x]),reactExports.useEffect(()=>(c(p-HEIGHT_CORRECTION),()=>{c(0)}),[p,c]),reactExports.useEffect(()=>{v>0&&!n&&!r?l.value=withRepeat(withSequence(withTiming(-BOUNCE_HEIGHT,{duration:400}),withSpring(0,{duration:1e3,dampingRatio:.3}),withTiming(0,{duration:3e3})),-1):l.value=0},[l,n,r,v]),reactExports.useEffect(()=>{u.value=withTiming(n?0:a-(r?0:p))},[n,u,a,r,p]);const C=useAnimatedStyle(()=>({transform:[{translateY:u.value+l.value}],backgroundColor:interpolateColor(x.value,[0,1],[t.color.chat.minimized.background,t.color.chat.maximized.background]),borderTopColor:interpolateColor(x.value,[0,1],[t.color.chat.border,"transparent"]),borderTopWidth:interpolate(x.value,[0,1],[t.border.width.md,0])})),g=useAnimatedStyle(()=>({transform:[{translateY:interpolate(x.value,[0,1],[-s.top,0])}]}));return jsxRuntimeExports.jsxs(Animated.View,{entering:SlideInDown,exiting:SlideOutDown,onLayout:y=>{i(y.nativeEvent.layout.height)},style:[stylesheet.absoluteFill,d.container,C],children:[jsxRuntimeExports.jsx(ChatMenu,{}),jsxRuntimeExports.jsx(Animated.View,{style:[d.inner,g],children:e})]})},createStyles$c=({z:e},t)=>stylesheet.create({container:{paddingTop:t.top,paddingRight:t.right,paddingBottom:t.bottom,paddingLeft:t.left,zIndex:e.overlay-1},inner:{flexGrow:1}});try{ChatAnimatedWrapper.displayName="ChatAnimatedWrapper",ChatAnimatedWrapper.__docgenInfo={description:"",displayName:"ChatAnimatedWrapper",props:{}}}catch(e){}const ScreenHeaderTitle=({accessibilityLanguage:e="nl-NL",text:t})=>jsxRuntimeExports.jsx(Title,{accessibilityLanguage:e,level:"h5",numberOfLines:1,testID:"HeaderTitle",text:t,textAlign:"center"});try{ScreenHeaderTitle.displayName="ScreenHeaderTitle",ScreenHeaderTitle.__docgenInfo={description:"",displayName:"ScreenHeaderTitle",props:{accessibilityLanguage:{defaultValue:{value:"nl-NL"},description:"",name:"accessibilityLanguage",required:!1,type:{name:"string"}},text:{defaultValue:null,description:"",name:"text",required:!0,type:{name:"string"}}}}}catch(e){}const DIMENSION=28,MeatballsMenu=({color:e,width:t=DIMENSION,height:r=DIMENSION,...n})=>{const{fontScale:a}=useDeviceContext();return jsxRuntimeExports.jsxs(Svg,{...n,fill:"none",height:Number(r)*a,viewBox:"0 0 28 28",width:Number(t)*a,children:[jsxRuntimeExports.jsx(Path,{"clip-rule":"evenodd",d:"M14 2C7.37258 2 2 7.37258 2 14C2 20.6274 7.37258 26 14 26C20.6274 26 26 20.6274 26 14C26 7.37258 20.6274 2 14 2ZM0 14C0 6.26801 6.26801 0 14 0C21.732 0 28 6.26801 28 14C28 21.732 21.732 28 14 28C6.26801 28 0 21.732 0 14Z",fill:e,"fill-rule":"evenodd"}),jsxRuntimeExports.jsx(Path,{d:"M16 14C16 15.1046 15.1046 16 14 16C12.8954 16 12 15.1046 12 14C12 12.8954 12.8954 12 14 12C15.1046 12 16 12.8954 16 14Z",fill:e}),jsxRuntimeExports.jsx(Path,{d:"M10 14C10 15.1046 9.10457 16 8 16C6.89543 16 6 15.1046 6 14C6 12.8954 6.89543 12 8 12C9.10457 12 10 12.8954 10 14Z",fill:e}),jsxRuntimeExports.jsx(Path,{d:"M22 14C22 15.1046 21.1046 16 20 16C18.8954 16 18 15.1046 18 14C18 12.8954 18.8954 12 20 12C21.1046 12 22 12.8954 22 14Z",fill:e})]})};try{MeatballsMenu.displayName="MeatballsMenu",MeatballsMenu.__docgenInfo={description:"",displayName:"MeatballsMenu",props:{}}}catch(e){}const NewMessageIndicator=()=>{const{newMessagesCount:e}=reactExports.useContext(ChatContext);return e?jsxRuntimeExports.jsx(Badge,{accessibilityLabel:e+" "+simplur`[nieuw bericht|nieuwe berichten]${[e]} `,testID:"ChatNewMessageIndicatorBadge",value:e,variant:"small"}):null},PressableWhenMinimized=({children:e,isMaximized:t,onPress:r,style:n,...a})=>t?e:jsxRuntimeExports.jsx(MemoedPressable,{...a,onPress:r,style:n,children:e}),ChatHeader=()=>{const{isMaximized:e,isMenuOpen:t,setHeaderHeight:r,setIsMenuOpen:n,toggleVisibility:a}=useChat(),{setHideFromAccessibility:i}=useScreen(),{color:u}=useTheme(),l=createStyles$b(),x=useAnimatedStyle(()=>({transform:[{rotate:withTiming(e?"0deg":"-180deg")}]})),s=useAnimatedStyle(()=>({opacity:withTiming(e?1:0)})),o=()=>{a(),Keyboard.dismiss(),n(!1)};return reactExports.useEffect(()=>(i(e),()=>{i(!1)}),[e,i]),jsxRuntimeExports.jsx(View,{onLayout:v=>r(v.nativeEvent.layout.height),style:l.container,children:jsxRuntimeExports.jsx(PressableWhenMinimized,{accessibilityHint:"Activeer om de chat te maximaliseren",isMaximized:e,onPress:a,style:l.pressableWhenMinimized,children:jsxRuntimeExports.jsx(Box,{testID:"ChatHeader",children:jsxRuntimeExports.jsxs(Row,{align:"between",children:[jsxRuntimeExports.jsx(Animated.View,{style:s,children:jsxRuntimeExports.jsx(IconButton,{accessibilityLabel:`Chat menu ${t?"sluiten":"openen"}.`,icon:jsxRuntimeExports.jsx(MeatballsMenu,{color:u.pressable.secondary.default.icon}),onPress:()=>n(!t),pointerEvents:e?"auto":"none",testID:"ChatHeaderMeatballsMenuButton"})}),jsxRuntimeExports.jsx(View,{accessible:!0,children:jsxRuntimeExports.jsxs(Row,{gutter:"xs",children:[jsxRuntimeExports.jsx(ScreenHeaderTitle,{text:"Chat"}),jsxRuntimeExports.jsx(NewMessageIndicator,{})]})}),jsxRuntimeExports.jsx(Animated.View,{style:x,children:jsxRuntimeExports.jsx(IconButton,{accessibilityLabel:`Chat ${e?"minimaliseren":"maximaliseren"}`,icon:jsxRuntimeExports.jsx(Icon,{color:"link",name:"chevron-down",size:"lg",testID:"ChatHeaderToggleVisibilityButtonIcon"}),onPress:o,testID:"ChatHeaderToggleVisibilityButton"})})]})})})})},createStyles$b=()=>stylesheet.create({container:{zIndex:1},pressableWhenMinimized:{flexGrow:1}}),ChatStartTime=({firstMessage:e})=>jsxRuntimeExports.jsx(ChatSystemEntry,{icon:"chat",testID:"ChatStartingTime",text:"Chat gestart",timestamp:(e==null?void 0:e.timestamp)??dayjs().unix()});try{ChatStartTime.displayName="ChatStartTime",ChatStartTime.__docgenInfo={description:"",displayName:"ChatStartTime",props:{firstMessage:{defaultValue:null,description:"",name:"firstMessage",required:!1,type:{name:"ConversationEntry"}}}}}catch(e){}const BOT_NAME="Chatbot Gemeente Amsterdam",getMessageStatus=e=>{switch(e){case ConversationEntryStatus.sent:return"Verzonden";case ConversationEntryStatus.delivered:return"Bezorgd";case ConversationEntryStatus.read:return"Gelezen";case ConversationEntryStatus.error:return"Mislukt";case ConversationEntryStatus.sending:return"Wordt verzonden...";default:return"Onbekend"}},getChatAgentInfo=(e,t,r,n,a)=>{const i=dayjsFromUnix(r).format("HH:mm");return t===ConversationEntrySenderRole.user?a?`${i} - ${getMessageStatus(n)}`:i:t===ConversationEntrySenderRole.chatbot?`${BOT_NAME} - ${i}`:`${e} - ${i}`},ChatAgentInfo=({message:{sender:{role:e},senderDisplayName:t,timestamp:r,status:n},isLastOfGroup:a})=>{const i=useThemable(l=>createStyles$a(l,e===ConversationEntrySenderRole.user)),{agentInChat:u}=reactExports.useContext(ChatContext);return e===ConversationEntrySenderRole.system?null:!!a&&jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(Gutter,{height:"xs"}),jsxRuntimeExports.jsx(View,{style:i.container,children:jsxRuntimeExports.jsx(Phrase,{color:"secondary",testID:`ChatHistoryGroupName${e}`,variant:"extraSmall",children:getChatAgentInfo(t,e,r,n,u)})})]})},AVATAR_DIMENSION=40,createStyles$a=({size:e},t)=>stylesheet.create({container:{paddingLeft:t?void 0:AVATAR_DIMENSION+e.spacing.sm,alignItems:t?"flex-end":"flex-start"}});try{ChatAgentInfo.displayName="ChatAgentInfo",ChatAgentInfo.__docgenInfo={description:"",displayName:"ChatAgentInfo",props:{isLast:{defaultValue:null,description:"",name:"isLast",required:!0,type:{name:"boolean"}},isLastOfGroup:{defaultValue:null,description:"",name:"isLastOfGroup",required:!0,type:{name:"boolean"}},message:{defaultValue:null,description:"",name:"message",required:!0,type:{name:"ConversationEntry"}}}}}catch(e){}const AvatarAgent=()=>{const{color:e}=useTheme();return jsxRuntimeExports.jsxs(Svg,{fill:"none",height:"40",viewBox:"0 0 40 40",width:"40",children:[jsxRuntimeExports.jsx(Circle,{cx:"20",cy:"20",fill:e.chat.avatar.background,r:"19.5",stroke:e.chat.avatar.border}),jsxRuntimeExports.jsx(Path,{"clip-rule":"evenodd",d:"M20 35C13.5 35 9 30.5 9 30.1981C9 24.5731 12.15 21.625 16.5 21.625H24C28.35 21.625 31.5 24.0062 31.5 29.6312C31.5 30.1981 26.5 35 20 35ZM20.25 19.75C23.3397 19.7096 25.8346 17.2147 25.875 14.125C25.875 11.0184 23.3566 8.5 20.25 8.5C17.1434 8.5 14.625 11.0184 14.625 14.125C14.6654 17.2147 17.1603 19.7096 20.25 19.75Z",fill:e.chat.avatar.foreground,"fill-rule":"evenodd"})]})},AvatarBot=()=>{const{color:e}=useTheme();return jsxRuntimeExports.jsxs(Svg,{fill:"none",height:"40",viewBox:"0 0 40 40",width:"40",children:[jsxRuntimeExports.jsx(Circle,{cx:"20",cy:"20",fill:e.chat.avatar.background,r:"19.5",stroke:e.chat.avatar.border}),jsxRuntimeExports.jsx(Path,{d:"M16.3604 30.9196L18.5404 28.7396L16.3604 26.5396L17.8204 25.0996L20.0004 27.2796L22.1804 25.0996L23.6404 26.5396L21.4604 28.7396L23.6404 30.9196L22.1804 32.3596L20.0004 30.1796L17.8204 32.3596L16.3604 30.9196Z",fill:e.logo}),jsxRuntimeExports.jsx(Path,{d:"M16.3604 22.1799L18.5404 19.9999L16.3604 17.8199L17.8204 16.3799L20.0004 18.5599L22.1804 16.3799L23.6404 17.8199L21.4604 19.9999L23.6404 22.1799L22.1804 23.6399L20.0004 21.4599L17.8204 23.6399L16.3604 22.1799Z",fill:e.logo}),jsxRuntimeExports.jsx(Path,{d:"M16.3604 13.4596L18.5404 11.2596L16.3604 9.07965L17.8204 7.63965L20.0004 9.81965L22.1804 7.63965L23.6404 9.07965L21.4604 11.2596L23.6404 13.4596L22.1804 14.8996L20.0004 12.7196L17.8204 14.8996L16.3604 13.4596Z",fill:e.logo})]})},ChatMessageBubble=({children:e,senderRole:t})=>{const r=useThemable(n=>createStyles$9(n,t));return jsxRuntimeExports.jsx(View,{accessible:!0,style:r.bubble,children:e})},createStyles$9=({color:e,size:t},r)=>{const n=r===ConversationEntrySenderRole.user,a=12;return stylesheet.create({bubble:{flexShrink:1,borderRadius:a,borderBottomRightRadius:n?0:a,borderBottomLeftRadius:n?a:0,backgroundColor:e.chat.message[r].background,paddingHorizontal:t.spacing.md,paddingVertical:t.spacing.sm}})};try{ChatMessageBubble.displayName="ChatMessageBubble",ChatMessageBubble.__docgenInfo={description:"",displayName:"ChatMessageBubble",props:{senderRole:{defaultValue:null,description:"",name:"senderRole",required:!0,type:{name:"enum",value:[{value:'"Agent"'},{value:'"Chatbot"'},{value:'"System"'},{value:'"USER"'}]}}}}}catch(e){}const isAgent=e=>e.sender.role===ConversationEntrySenderRole.agent||e.sender.role===ConversationEntrySenderRole.system&&e.format===ConversationEntryFormat.text,ChatMessageEntry=({message:e,children:t,isText:r=!0})=>{const n=e.sender.role===ConversationEntrySenderRole.user;return jsxRuntimeExports.jsxs(Row,{align:n?"end":"start",gutter:"sm",valign:"end",children:[e.sender.role===ConversationEntrySenderRole.chatbot&&jsxRuntimeExports.jsx(AvatarBot,{}),isAgent(e)&&jsxRuntimeExports.jsx(AvatarAgent,{}),r?jsxRuntimeExports.jsx(ChatMessageBubble,{senderRole:e.sender.role,children:t}):t]})};try{ChatMessageEntry.displayName="ChatMessageEntry",ChatMessageEntry.__docgenInfo={description:"",displayName:"ChatMessageEntry",props:{isText:{defaultValue:{value:"true"},description:"",name:"isText",required:!1,type:{name:"boolean"}},message:{defaultValue:null,description:"",name:"message",required:!0,type:{name:"ConversationEntry"}}}}}catch(e){}const ThumbnailViewer=({accessibilityLabel:e="Afbeelding, miniatuurweergave.",fileName:t="afbeelding.jpg",imageSource:r,thumbnailSize:n,headerTitle:a,...i})=>{const[u,l]=reactExports.useState(!1),[x,s]=reactExports.useState(),o=useSafeAreaInsets(),v=()=>{l(!u)},c=reactExports.useMemo(()=>{if(typeof r!="number")return r&&typeof r=="object"&&"uri"in r?r.uri:void 0},[r]);reactExports.useEffect(()=>{ImageWithStatics.getSize(c??"",(C,g)=>s(C/g),C=>devLog(C))},[c]);const d=useThemable(C=>createStyles$8(C,n,o,x)),p=c==null?void 0:c.startsWith("file://");return jsxRuntimeExports.jsxs(View,{children:[jsxRuntimeExports.jsx(Pressable,{...i,accessibilityLabel:e,onPress:v,testID:"ThumbnailViewerThumbnailPressable",children:jsxRuntimeExports.jsx(ImageWithStatics,{source:r,style:d.thumbnail,testID:"ThumbnailViewerThumbnailImage"})}),jsxRuntimeExports.jsx(Modal,{animationType:"fade",onRequestClose:v,supportedOrientations:["portrait","landscape"],testID:"ThumbnailViewerModal",transparent:!0,visible:u,children:jsxRuntimeExports.jsxs(View,{style:d.overlay,children:[jsxRuntimeExports.jsx(Box,{children:jsxRuntimeExports.jsxs(Row,{align:"between",children:[jsxRuntimeExports.jsx(IconButton,{accessibilityLabel:"Terug",icon:jsxRuntimeExports.jsx(Icon,{color:"link",name:"chevron-left",size:"lg",testID:"ThumbnailViewerCloseIcon"}),onPress:v,testID:"ThumbnailViewerCloseButton"}),!!a&&jsxRuntimeExports.jsx(ScreenHeaderTitle,{text:a}),jsxRuntimeExports.jsx(IconButton,{accessibilityLabel:"Download de afbeelding.",icon:jsxRuntimeExports.jsx(Icon,{color:"link",name:"download",size:"lg",testID:"ThumbnailViewerDownloadIcon"}),onPress:()=>saveFile({localUri:p?c:void 0,downloadUri:p?void 0:c,fileName:t}),testID:"ThumbnailViewerDownloadButton"})]})}),jsxRuntimeExports.jsx(ImageWithStatics,{accessibilityLabel:"Afbeelding",accessible:!0,resizeMode:"contain",source:r,style:d.fullImage,testID:"ThumbnailViewerFullImage"})]})})]})},createStyles$8=({color:e,size:t,z:r},n,a,i)=>stylesheet.create({thumbnail:{width:n,height:n},overlay:{flex:1,backgroundColor:e.box.background.distinct,justifyContent:"center",zIndex:r.overlay,paddingTop:Platform.OS==="android"?0:a.top,paddingRight:a.right,paddingBottom:t.spacing.md+a.bottom,paddingLeft:a.left},fullImage:{aspectRatio:i,alignSelf:"center",maxWidth:"100%",maxHeight:"100%",flex:1}});try{ThumbnailViewer.displayName="ThumbnailViewer",ThumbnailViewer.__docgenInfo={description:"",displayName:"ThumbnailViewer",props:{fileName:{defaultValue:{value:"afbeelding.jpg"},description:"",name:"fileName",required:!1,type:{name:"string"}},headerTitle:{defaultValue:null,description:"",name:"headerTitle",required:!1,type:{name:"string"}},imageSource:{defaultValue:null,description:"",name:"imageSource",required:!0,type:{name:"ImageSourcePropType | undefined"}},thumbnailSize:{defaultValue:null,description:"",name:"thumbnailSize",required:!0,type:{name:"DimensionValue"}},"logging-label":{defaultValue:null,description:"",name:"logging-label",required:!1,type:{name:"string"}},logAction:{defaultValue:null,description:"",name:"logAction",required:!1,type:{name:"enum",value:[{value:'"accessibilityAction"'},{value:'"accessibilityChange"'},{value:'"addressAdd"'},{value:'"addressChange"'},{value:'"blur"'},{value:'"buttonPress"'},{value:'"deviceInfoChange"'},{value:'"finishedReport"'},{value:'"locationOrAddressSelectionChange"'},{value:'"moduleChange"'},{value:'"pushNotificationDisplay"'},{value:'"pushNotificationTap"'},{value:'"radioChange"'},{value:'"startUp"'},{value:'"swipeOut"'},{value:'"toForeground"'},{value:'"toggle"'}]}},logCategory:{defaultValue:null,description:"",name:"logCategory",required:!1,type:{name:"enum",value:[{value:'"about"'},{value:'"access-code"'},{value:'"address"'},{value:'"chat"'},{value:'"city-pass"'},{value:'"construction-work"'},{value:'"construction-work-editor"'},{value:'"contact"'},{value:'"home"'},{value:'"notification-history"'},{value:'"onboarding"'},{value:'"parking"'},{value:'"redirects"'},{value:'"report-problem"'},{value:'"user"'},{value:'"waste-container"'},{value:'"waste-guide"'},{value:'"general"'}]}},logDimensions:{defaultValue:null,description:"Custom dimensions to log with the event.",name:"logDimensions",required:!1,type:{name:"Partial<Record<CustomDimensionKeys, string>>"}},logName:{defaultValue:null,description:"",name:"logName",required:!1,type:{name:"string"}},logValue:{defaultValue:null,description:"",name:"logValue",required:!1,type:{name:"number"}},variant:{defaultValue:null,description:"",name:"variant",required:!1,type:{name:"enum",value:[{value:'"primary"'},{value:'"tertiary"'},{value:'"transparent"'}]}},inset:{defaultValue:null,description:"The amount of inner spacing.",name:"inset",required:!1,type:{name:"enum",value:[{value:'"no"'},{value:'"xxs"'},{value:'"xs"'},{value:'"sm"'},{value:'"smd"'},{value:'"md"'},{value:'"lg"'},{value:'"xl"'},{value:'"xxl"'}]}},insetHorizontal:{defaultValue:null,description:"The amount of inner spacing at the left and right.",name:"insetHorizontal",required:!1,type:{name:"enum",value:[{value:'"no"'},{value:'"xxs"'},{value:'"xs"'},{value:'"sm"'},{value:'"smd"'},{value:'"md"'},{value:'"lg"'},{value:'"xl"'},{value:'"xxl"'}]}},insetVertical:{defaultValue:null,description:"The amount of inner spacing at the top and bottom.",name:"insetVertical",required:!1,type:{name:"enum",value:[{value:'"no"'},{value:'"xxs"'},{value:'"xs"'},{value:'"sm"'},{value:'"smd"'},{value:'"md"'},{value:'"lg"'},{value:'"xl"'},{value:'"xxl"'}]}},border:{defaultValue:null,description:"",name:"border",required:!1,type:{name:"boolean"}}}}}catch(e){}const THUMBNAIL_SIZE=220,ChatMessageImage=({image:e,message:{sender:t,senderDisplayName:r}})=>{const n=t.role===ConversationEntrySenderRole.user,a=createStyles$7(n);return jsxRuntimeExports.jsx(View,{style:a.container,children:jsxRuntimeExports.jsx(ThumbnailViewer,{accessibilityLabel:`Miniatuurweergave van door ${n?"u":r} gedeelde afbeelding.`,fileName:e.name,imageSource:{uri:e.url},thumbnailSize:THUMBNAIL_SIZE})})},createStyles$7=e=>stylesheet.create({container:{overflow:"hidden",alignItems:"center",justifyContent:"center",borderRadius:12,borderBottomRightRadius:e?0:12,borderBottomLeftRadius:e?12:0}});try{ChatMessageImage.displayName="ChatMessageImage",ChatMessageImage.__docgenInfo={description:"",displayName:"ChatMessageImage",props:{image:{defaultValue:null,description:"",name:"image",required:!0,type:{name:"Attachment"}},message:{defaultValue:null,description:"",name:"message",required:!0,type:{name:"ConversationEntry"}}}}}catch(e){}const EntryAttachments=({message:e})=>{const t=e.attachments[0].mimeType.startsWith("image"),r=e.sender.role===ConversationEntrySenderRole.agent;return jsxRuntimeExports.jsx(jsxRuntimeExports.Fragment,{children:e.attachments.map(n=>t?jsxRuntimeExports.jsx(ChatMessageEntry,{isText:!1,message:e,children:jsxRuntimeExports.jsx(ChatMessageImage,{image:n,message:e})},n.id):jsxRuntimeExports.jsx(ChatMessageEntry,{message:e,children:jsxRuntimeExports.jsxs(Row,{grow:1,gutter:"sm",children:[jsxRuntimeExports.jsx(Icon,{color:r?"link":"inverse",name:"document",size:"lg",testID:"EntryAttachmentsIcon"}),r?jsxRuntimeExports.jsx(InlineLink,{accessibilityLabel:`Bijlage gedeeld door ${e.senderDisplayName}. Dubbeltik om bijlage te downloaden.`,ellipsizeMode:"middle",emphasis:"strong",inverse:e.sender.role===ConversationEntrySenderRole.user,numberOfLines:1,onPress:()=>{saveFile({downloadUri:n.url,fileName:n.name})},testID:"ChatEntryAttachmentsInlineLink",children:n.name}):jsxRuntimeExports.jsx(Phrase,{color:"inverse",testID:"ChatEntryAttachmentFileName",textAlign:"center",children:n.name})]})},n.id))})};try{EntryAttachments.displayName="EntryAttachments",EntryAttachments.__docgenInfo={description:"",displayName:"EntryAttachments",props:{message:{defaultValue:null,description:"",name:"message",required:!0,type:{name:"ConversationEntryAttachments"}}}}}catch(e){}const EntryGutter=({isLastOfGroup:e})=>jsxRuntimeExports.jsx(Gutter,{height:e?"md":"sm"});try{EntryGutter.displayName="EntryGutter",EntryGutter.__docgenInfo={description:"",displayName:"EntryGutter",props:{isLastOfGroup:{defaultValue:null,description:"",name:"isLastOfGroup",required:!0,type:{name:"boolean"}}}}}catch(e){}const EntryChoices=({message:{choices:e},isLastOfGroup:t})=>{const r=useTrackException(),[n,a]=reactExports.useState(!1),i=reactExports.useCallback(u=>{sendReply(u).then(()=>a(!0)).catch(l=>r(ExceptionLogKey.chatSendReply,"EntryChoices.tsx",{error:l}))},[r]);return e&&!n?jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(Gutter,{height:"sm"}),jsxRuntimeExports.jsx(Row,{align:"end",gutter:"sm",wrap:!0,children:e.map(({optionId:u,title:l,optionValue:x,parentEntryId:s})=>jsxRuntimeExports.jsx(Button,{accessibilityLabel:`Keuzeknop: ${l}`,label:l,onPressOut:()=>{i({optionId:u,title:l,optionValue:x,parentEntryId:s})},testID:`ChatHistoryChoices${l}`,variant:"secondary"},u))}),jsxRuntimeExports.jsx(EntryGutter,{isLastOfGroup:t})]}):null};try{EntryChoices.displayName="EntryChoices",EntryChoices.__docgenInfo={description:"",displayName:"EntryChoices",props:{isLastOfGroup:{defaultValue:null,description:"",name:"isLastOfGroup",required:!0,type:{name:"boolean"}},message:{defaultValue:null,description:"",name:"message",required:!0,type:{name:"ConversationEntryQuickReplies"}}}}}catch(e){}const hasDisplayname=e=>!!e&&e!=="User",EntryParticipantChanged=({message:e,isLastOfGroup:t})=>{const r=e.operations.find(i=>i.type===ParticipantChangedOperationType.add&&i.participant.role===ConversationEntrySenderRole.agent),n=e.operations.find(i=>i.type===ParticipantChangedOperationType.remove&&i.participant.role===ConversationEntrySenderRole.agent);if(!r&&!n)return null;const a=r?r.participant.displayName:n==null?void 0:n.participant.displayName;return jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(ChatSystemEntry,{icon:"person",testID:`ChatSystemMessage${e.format}`,text:r?`U chat nu met ${hasDisplayname(a)?a:"een medewerker"}`:`${hasDisplayname(a)?a:"Medewerker"} heeft het gesprek verlaten`,timestamp:e.timestamp}),jsxRuntimeExports.jsx(EntryGutter,{isLastOfGroup:t})]})};try{EntryParticipantChanged.displayName="EntryParticipantChanged",EntryParticipantChanged.__docgenInfo={description:"",displayName:"EntryParticipantChanged",props:{isLastOfGroup:{defaultValue:null,description:"",name:"isLastOfGroup",required:!0,type:{name:"boolean"}},message:{defaultValue:null,description:"",name:"message",required:!0,type:{name:"ConversationEntryParticipantChanged"}}}}}catch(e){}const getDomainName=e=>{if(!e)return null;const r=RegExp(/https?:\/\/([^/?]+)/).exec(e);return r!=null&&r[1]?r[1]:e},EntryRichLink=({message:e})=>{const t=useOpenUrl(),{title:r,url:n}=e,a=getDomainName(n),i=reactExports.useCallback(()=>{n&&t(n,!1)},[t,n]);return jsxRuntimeExports.jsxs(ChatMessageEntry,{message:e,children:[jsxRuntimeExports.jsx(PressableBase,{onPressOut:i,testID:"ChatMessageRichLinkTitlePressable",children:jsxRuntimeExports.jsx(Phrase,{color:e.sender.role===ConversationEntrySenderRole.user?"inverse":"link",emphasis:"strong",testID:"ChatMessageRichLinkTitle",underline:!0,children:r})}),!!a&&jsxRuntimeExports.jsx(PressableBase,{onPressOut:i,testID:"ChatMessageRichLinkUrlPressable",children:jsxRuntimeExports.jsx(Phrase,{color:e.sender.role===ConversationEntrySenderRole.user?"inverse":"link",testID:"ChatMessageRichLinkUrl",underline:!0,children:a})})]})};try{EntryRichLink.displayName="EntryRichLink",EntryRichLink.__docgenInfo={description:"",displayName:"EntryRichLink",props:{message:{defaultValue:null,description:"",name:"message",required:!0,type:{name:"ConversationEntryRichLink"}}}}}catch(e){}const DEFAULT_DOT_ACTIVE_SIZE=10,DEFAULT_DOT_INACTIVE_SIZE=8,DOT_BORDER_RADIUS=8,Dot=({activeSize:e,inactiveSize:t,index:r,sharedValue:n})=>{const{color:a}=useTheme(),i=createStyles$6(e,t),u=useAnimatedStyle(()=>{const l=r===Math.floor(n.value);return{backgroundColor:l?a.chat.loading.active:a.chat.loading.inactive,height:withTiming(l?e:t),width:withTiming(l?e:t)}},[r,n]);return jsxRuntimeExports.jsx(View,{style:i.loadingDot,children:jsxRuntimeExports.jsx(Animated.View,{style:[i.loadingDotInner,u]})})},LoadingDots=({dotActiveSize:e=DEFAULT_DOT_ACTIVE_SIZE,dotInactiveSize:t=DEFAULT_DOT_INACTIVE_SIZE})=>{const r=useSharedValue(0);return reactExports.useEffect(()=>{r.value=withRepeat(withTiming(4,{duration:1e3,easing:Easing.bezier(.5,.5,.5,1)}),-1)},[r]),jsxRuntimeExports.jsx(Row,{align:"center",gutter:"xs",children:Array.from({length:3}).map((n,a)=>jsxRuntimeExports.jsx(Dot,{activeSize:e,inactiveSize:t,index:a,sharedValue:r},a))})},createStyles$6=(e,t)=>stylesheet.create({loadingDot:{justifyContent:"center",alignItems:"center",marginHorizontal:t*3/4-e/2,borderRadius:DOT_BORDER_RADIUS,height:e,width:e},loadingDotInner:{borderRadius:DOT_BORDER_RADIUS}});try{LoadingDots.displayName="LoadingDots",LoadingDots.__docgenInfo={description:"",displayName:"LoadingDots",props:{dotActiveSize:{defaultValue:{value:"10"},description:"",name:"dotActiveSize",required:!1,type:{name:"number"}},dotInactiveSize:{defaultValue:{value:"8"},description:"",name:"dotInactiveSize",required:!1,type:{name:"number"}}}}}catch(e){}const getWaitingTimePhrase=e=>e<=60?"minder dan een minuut":`${Math.ceil(e/60)} minuten`,EntryRoutingResult=({message:e,isLastOfGroup:t})=>{const{isEWTAvailable:r,estimatedWaitTime:n,routingType:a}=e,{isWaitingForAgent:i,messages:u}=reactExports.useContext(ChatContext),x=u.slice(u.indexOf(e)+1).filter(s=>s.format===ConversationEntryFormat.text).length>0;return a!==ConversationEntryRoutingType.transfer||!i||x?null:jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsxs(Column,{gutter:"sm",halign:"center",children:[jsxRuntimeExports.jsx(LoadingDots,{dotActiveSize:15,dotInactiveSize:12}),jsxRuntimeExports.jsx(Phrase,{emphasis:"strong",testID:"ChatEntryRoutingResultPhrase",children:"Een medewerker neemt het gesprek over."}),!!r&&jsxRuntimeExports.jsxs(Phrase,{testID:"ChatEntryRoutingResultEstimatedWaitingTimePhrase",children:["Geschatte wachttijd: ",getWaitingTimePhrase(n)]})]}),jsxRuntimeExports.jsx(EntryGutter,{isLastOfGroup:t})]})};try{EntryRoutingResult.displayName="EntryRoutingResult",EntryRoutingResult.__docgenInfo={description:"",displayName:"EntryRoutingResult",props:{isLastOfGroup:{defaultValue:null,description:"",name:"isLastOfGroup",required:!0,type:{name:"boolean"}},message:{defaultValue:null,description:"",name:"message",required:!0,type:{name:"ConversationEntryRoutingResult"}}}}}catch(e){}const EntryRoutingWorkResult=({message:e,isLastOfGroup:t})=>{const{messages:r,isEnded:n}=reactExports.useContext(ChatContext),i=r.slice(r.indexOf(e)+1).filter(u=>u.format===ConversationEntryFormat.routingWorkResult).length>0;return e.workType!==ConversationEntryRoutingWorkType.closed||!n||i?null:jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(ChatSystemEntry,{icon:"chat",testID:"ChatEntryRoutingWorkResult",text:"Chat gestopt",timestamp:e.timestamp}),jsxRuntimeExports.jsx(EntryGutter,{isLastOfGroup:t})]})};try{EntryRoutingWorkResult.displayName="EntryRoutingWorkResult",EntryRoutingWorkResult.__docgenInfo={description:"",displayName:"EntryRoutingWorkResult",props:{isLast:{defaultValue:null,description:"",name:"isLast",required:!0,type:{name:"boolean"}},isLastOfGroup:{defaultValue:null,description:"",name:"isLastOfGroup",required:!0,type:{name:"boolean"}},message:{defaultValue:null,description:"",name:"message",required:!0,type:{name:"ConversationEntryRoutingWorkResult"}}}}}catch(e){}const parseTextToComponentsForLinks=(e,t,r=n=>n)=>{const n=/((?:(?:https?:\/\/)|(?:www.))[^\s]+)/g;return e.split(n).filter(i=>i.length>0).map(i=>n.test(i)?t(i.startsWith("http")?i:`http://${i}`):r(i))},parseTextToComponentsWithInlineLinks=(e,t,r)=>parseTextToComponentsForLinks(e,n=>jsxRuntimeExports.jsx(InlineLink,{inverse:r,onPress:()=>t(n),testID:`InlineLink${n}`,children:n})),MessagePhrase=({children:e,message:t,testID:r,...n})=>{const a=useOpenWebUrl();return jsxRuntimeExports.jsx(Phrase,{...n,color:t.sender.role===ConversationEntrySenderRole.user?"inverse":void 0,testID:r,children:parseTextToComponentsWithInlineLinks(e,a,t.sender.role===ConversationEntrySenderRole.user)})};try{MessagePhrase.displayName="MessagePhrase",MessagePhrase.__docgenInfo={description:"",displayName:"MessagePhrase",props:{message:{defaultValue:null,description:"",name:"message",required:!0,type:{name:"ConversationEntry"}},testID:{defaultValue:null,description:"Used to locate this view in end-to-end tests.",name:"testID",required:!1,type:{name:"string"}},color:{defaultValue:null,description:"Defines the color of the phrase. Maps with the text color tokens.",name:"color",required:!1,type:{name:"enum",value:[{value:'"link"'},{value:'"secondary"'},{value:'"tertiary"'},{value:'"warning"'},{value:'"default"'},{value:'"cityPass"'},{value:'"confirm"'},{value:'"inverse"'}]}},emphasis:{defaultValue:null,description:"Allows the phrase to convey more emphasis.",name:"emphasis",required:!1,type:{name:"enum",value:[{value:'"default"'},{value:'"strong"'}]}},flexShrink:{defaultValue:null,description:"Defines how to shrink the phrase in case the parent container is smaller than the phrase.",name:"flexShrink",required:!1,type:{name:"number"}},"logging-label":{defaultValue:null,description:"Label used for logging to Piwik and AppInsights.",name:"logging-label",required:!1,type:{name:"string"}},textAlign:{defaultValue:null,description:"Defines the alignment of the text. Maps with the textAlign style prop options.",name:"textAlign",required:!1,type:{name:"enum",value:[{value:'"auto"'},{value:'"left"'},{value:'"right"'},{value:'"center"'},{value:'"justify"'}]}},underline:{defaultValue:null,description:"Whether the phrase is underlined. Use this for a link only.",name:"underline",required:!1,type:{name:"boolean"}},variant:{defaultValue:null,description:"Which variation of a phrase to display.",name:"variant",required:!1,type:{name:"enum",value:[{value:'"small"'},{value:'"extraSmall"'},{value:'"body"'},{value:'"intro"'},{value:'"quote"'}]}}}}}catch(e){}const EntrySelections=({message:e})=>{var t;return jsxRuntimeExports.jsx(ChatMessageEntry,{message:e,children:jsxRuntimeExports.jsx(MessagePhrase,{message:e,testID:"ChatEntrySelections",children:(t=e.selections)==null?void 0:t.map(r=>r.title).join(", ")})})};try{EntrySelections.displayName="EntrySelections",EntrySelections.__docgenInfo={description:"",displayName:"EntrySelections",props:{message:{defaultValue:null,description:"",name:"message",required:!0,type:{name:"ConversationEntrySelections"}}}}}catch(e){}const EntryText=({message:e})=>{const t=e.sender.role===ConversationEntrySenderRole.user;return jsxRuntimeExports.jsx(ChatMessageEntry,{message:e,children:jsxRuntimeExports.jsx(MessagePhrase,{accessibilityLabel:t?`Uw bericht: ${e.text}`:`${e.text} ontvangen van ${e.senderDisplayName}`,message:e,testID:"ChatEntryText",children:e.text})})};try{EntryText.displayName="EntryText",EntryText.__docgenInfo={description:"",displayName:"EntryText",props:{message:{defaultValue:null,description:"",name:"message",required:!0,type:{name:"ConversationEntryText"}}}}}catch(e){}const EntryTranscript=({message:e})=>{const{downloadedTranscriptIds:t}=reactExports.useContext(ChatContext);return t.includes(e.entryId)?jsxRuntimeExports.jsx(ChatSystemEntry,{icon:"download",testID:"ChatEntryTranscript",text:"Chat gedownload",timestamp:e.timestamp}):null};try{EntryTranscript.displayName="EntryTranscript",EntryTranscript.__docgenInfo={description:"",displayName:"EntryTranscript",props:{message:{defaultValue:null,description:"",name:"message",required:!0,type:{name:"ConversationEntry"}}}}}catch(e){}const EntryTypingIndicator=({dotActiveSize:e,dotInactiveSize:t,message:r})=>jsxRuntimeExports.jsx(ChatMessageEntry,{message:r,children:jsxRuntimeExports.jsx(Box,{insetVertical:"xs",children:jsxRuntimeExports.jsx(LoadingDots,{dotActiveSize:e,dotInactiveSize:t})})});try{EntryTypingIndicator.displayName="EntryTypingIndicator",EntryTypingIndicator.__docgenInfo={description:"",displayName:"EntryTypingIndicator",props:{dotActiveSize:{defaultValue:null,description:"",name:"dotActiveSize",required:!1,type:{name:"number"}},dotInactiveSize:{defaultValue:null,description:"",name:"dotInactiveSize",required:!1,type:{name:"number"}},message:{defaultValue:null,description:"",name:"message",required:!0,type:{name:"ConversationEntryTypingStartedIndicator"}}}}}catch(e){}const options={[ConversationEntryFormat.selections]:{Component:EntrySelections,agentInfo:!0,LastComponent:EntryGutter},[ConversationEntryFormat.text]:{Component:EntryText,agentInfo:!0,LastComponent:EntryGutter},[ConversationEntryFormat.attachments]:{Component:EntryAttachments,agentInfo:!1,LastComponent:EntryGutter},[ConversationEntryFormat.carousel]:{Component:void 0,LastComponent:void 0,agentInfo:void 0},[ConversationEntryFormat.deliveryAcknowledgement]:{Component:void 0,LastComponent:void 0,agentInfo:void 0},[ConversationEntryFormat.imageMessage]:{Component:void 0,LastComponent:void 0,agentInfo:void 0},[ConversationEntryFormat.inputs]:{Component:void 0,LastComponent:void 0,agentInfo:void 0},[ConversationEntryFormat.listPicker]:{Component:EntryText,LastComponent:EntryChoices,agentInfo:!0},[ConversationEntryFormat.participantChanged]:{Component:EntryParticipantChanged,agentInfo:!1},[ConversationEntryFormat.quickReplies]:{Component:EntryText,LastComponent:EntryChoices,agentInfo:!0},[ConversationEntryFormat.readAcknowledgement]:{Component:void 0,LastComponent:void 0,agentInfo:void 0},[ConversationEntryFormat.result]:{Component:void 0,LastComponent:void 0,agentInfo:void 0},[ConversationEntryFormat.richLink]:{Component:EntryRichLink,agentInfo:!0,LastComponent:EntryGutter},[ConversationEntryFormat.routingResult]:{Component:EntryRoutingResult,agentInfo:!1},[ConversationEntryFormat.routingWorkResult]:{Component:EntryRoutingWorkResult,agentInfo:!1},[ConversationEntryFormat.typingStartedIndicator]:{Component:EntryTypingIndicator,agentInfo:!1,LastComponent:EntryGutter},[ConversationEntryFormat.typingStoppedIndicator]:{Component:void 0,LastComponent:void 0,agentInfo:void 0},[ConversationEntryFormat.unspecified]:{Component:void 0,LastComponent:void 0,agentInfo:void 0},[ConversationEntryFormat.webview]:{Component:void 0,LastComponent:void 0,agentInfo:void 0},[ConversationEntryFormat.transcript]:{Component:EntryTranscript,LastComponent:EntryGutter}},Entry=({message:e,isLast:t,isLastOfGroup:r})=>{const n=options[e.format];if(!n)return null;const{Component:a,agentInfo:i,LastComponent:u}=n;return!a&&!u&&!i?null:jsxRuntimeExports.jsxs(Animated.View,{entering:SlideInDown,children:[!!a&&jsxRuntimeExports.jsx(a,{isLast:t,isLastOfGroup:r,message:e}),!!i&&jsxRuntimeExports.jsx(ChatAgentInfo,{isLast:t,isLastOfGroup:r,message:e}),!!u&&jsxRuntimeExports.jsx(u,{isLast:t,isLastOfGroup:r,message:e})]})};try{Entry.displayName="Entry",Entry.__docgenInfo={description:"",displayName:"Entry",props:{isLast:{defaultValue:null,description:"",name:"isLast",required:!0,type:{name:"boolean"}},isLastOfGroup:{defaultValue:null,description:"",name:"isLastOfGroup",required:!0,type:{name:"boolean"}},message:{defaultValue:null,description:"",name:"message",required:!0,type:{name:"ConversationEntry"}}}}}catch(e){}const checkIsMessageLastOfGroup=(e,t,r)=>{var n,a,i;return((n=r[t+1])==null?void 0:n.sender.role)!==e.sender.role||e.sender.role===ConversationEntrySenderRole.user&&((a=r[t+1])==null?void 0:a.status)!==e.status||dayjsFromUnix((i=r[t+1])==null?void 0:i.timestamp).format("HH:mm")!==dayjsFromUnix(e.timestamp).format("HH:mm")},ChatHistory=()=>{const e=reactExports.useRef(null),t=createStyles$5(),{messages:r}=reactExports.useContext(ChatContext);return jsxRuntimeExports.jsx(ForwardedScrollView,{contentContainerStyle:t.contentContainer,keyboardShouldPersistTaps:"handled",onContentSizeChange:()=>{var n;return(n=e==null?void 0:e.current)==null?void 0:n.scrollToEnd()},onScrollBeginDrag:Keyboard.dismiss,ref:e,style:t.scrollView,testID:"ChatHistoryScrollView",children:jsxRuntimeExports.jsx(Box,{grow:!0,insetHorizontal:"md",children:jsxRuntimeExports.jsxs(Column,{children:[jsxRuntimeExports.jsx(ChatStartTime,{firstMessage:r[0]}),jsxRuntimeExports.jsx(Gutter,{height:"md"}),r.map((n,a)=>{const i=checkIsMessageLastOfGroup(n,a,r);return jsxRuntimeExports.jsx(Entry,{isLast:a===r.length-1,isLastOfGroup:i,message:n},n.entryId+a)})]})})})},createStyles$5=()=>stylesheet.create({contentContainer:{flexGrow:1},scrollView:{flex:1}}),useKeyboardHeight=()=>{const[e,t]=reactExports.useState(0),[r,n]=reactExports.useState(!1);return reactExports.useEffect(()=>{const a=x=>{t(x.endCoordinates.height)},i=()=>{n(!1)},u=Keyboard.addListener("keyboardDidShow",a),l=Keyboard.addListener("keyboardDidHide",i);return()=>{u.remove(),l.remove()}},[]),{height:e,visible:r}},ExpoDocumentPicker={async getDocumentAsync({type:e="*/*",multiple:t=!1}){if(!Platform$1.isDOMAvailable)return{canceled:!0,assets:null};const r=document.createElement("input");return r.style.display="none",r.setAttribute("type","file"),r.setAttribute("accept",Array.isArray(e)?e.join(","):e),r.setAttribute("id",String(Math.random())),t&&r.setAttribute("multiple","multiple"),document.body.appendChild(r),new Promise((n,a)=>{r.addEventListener("change",async()=>{if(r.files){const u=[];for(let l=0;l<r.files.length;l++)u.push(readFileAsync(r.files[l]));try{const l=await Promise.all(u);n({canceled:!1,assets:l,output:r.files})}catch(l){a(l)}}else n({canceled:!0,assets:null});document.body.removeChild(r)}),r.addEventListener("cancel",()=>{n({canceled:!0,assets:null})});const i=new MouseEvent("click");r.dispatchEvent(i)})}};function readFileAsync(e){return new Promise((t,r)=>{const n=e.type,a=new FileReader;a.onerror=()=>{r(new Error("Failed to read the selected media because the operation failed."))},a.onload=({target:i})=>{const u=i.result;t({uri:u,mimeType:n,name:e.name,lastModified:e.lastModified,size:e.size,file:e})},a.readAsDataURL(e)})}async function getDocumentAsync({type:e="*/*",copyToCacheDirectory:t=!0,multiple:r=!1}={}){return typeof e=="string"&&(e=[e]),await ExpoDocumentPicker.getDocumentAsync({type:e,copyToCacheDirectory:t,multiple:r})}var MediaTypeOptions;(function(e){e.All="All",e.Videos="Videos",e.Images="Images"})(MediaTypeOptions||(MediaTypeOptions={}));var VideoExportPreset;(function(e){e[e.Passthrough=0]="Passthrough",e[e.LowQuality=1]="LowQuality",e[e.MediumQuality=2]="MediumQuality",e[e.HighestQuality=3]="HighestQuality",e[e.H264_640x480=4]="H264_640x480",e[e.H264_960x540=5]="H264_960x540",e[e.H264_1280x720=6]="H264_1280x720",e[e.H264_1920x1080=7]="H264_1920x1080",e[e.H264_3840x2160=8]="H264_3840x2160",e[e.HEVC_1920x1080=9]="HEVC_1920x1080",e[e.HEVC_3840x2160=10]="HEVC_3840x2160"})(VideoExportPreset||(VideoExportPreset={}));var UIImagePickerControllerQualityType;(function(e){e[e.High=0]="High",e[e.Medium=1]="Medium",e[e.Low=2]="Low",e[e.VGA640x480=3]="VGA640x480",e[e.IFrame1280x720=4]="IFrame1280x720",e[e.IFrame960x540=5]="IFrame960x540"})(UIImagePickerControllerQualityType||(UIImagePickerControllerQualityType={}));var UIImagePickerPresentationStyle;(function(e){e.FULL_SCREEN="fullScreen",e.PAGE_SHEET="pageSheet",e.FORM_SHEET="formSheet",e.CURRENT_CONTEXT="currentContext",e.OVER_FULL_SCREEN="overFullScreen",e.OVER_CURRENT_CONTEXT="overCurrentContext",e.POPOVER="popover",e.AUTOMATIC="automatic"})(UIImagePickerPresentationStyle||(UIImagePickerPresentationStyle={}));var UIImagePickerPreferredAssetRepresentationMode;(function(e){e.Automatic="automatic",e.Compatible="compatible",e.Current="current"})(UIImagePickerPreferredAssetRepresentationMode||(UIImagePickerPreferredAssetRepresentationMode={}));var CameraType;(function(e){e.back="back",e.front="front"})(CameraType||(CameraType={}));function parseMediaTypes(e){const t={Images:["images"],Videos:["videos"],All:["images","videos"]};return e===MediaTypeOptions.Images||e===MediaTypeOptions.Videos||e===MediaTypeOptions.All?(console.warn("[expo-image-picker] `ImagePicker.MediaTypeOptions` have been deprecated. Use `ImagePicker.MediaType` or an array of `ImagePicker.MediaType` instead."),t[e]):typeof e=="string"?[e]:e}function mapDeprecatedOptions(e){return e.mediaTypes?{...e,mediaTypes:parseMediaTypes(e.mediaTypes??[])}:e}const MediaTypeInput={images:"image/*",videos:"video/mp4,video/quicktime,video/x-m4v,video/*",livePhotos:""},ExponentImagePicker={async launchImageLibraryAsync({mediaTypes:e=["images"],allowsMultipleSelection:t=!1,base64:r=!1}){return Platform$1.isDOMAvailable?await openFileBrowserAsync({mediaTypes:e,allowsMultipleSelection:t,base64:r}):{canceled:!0,assets:null}},async launchCameraAsync({mediaTypes:e=MediaTypeOptions.Images,allowsMultipleSelection:t=!1,base64:r=!1}){return Platform$1.isDOMAvailable?await openFileBrowserAsync({mediaTypes:e,allowsMultipleSelection:t,capture:!0,base64:r}):{canceled:!0,assets:null}},async getCameraPermissionsAsync(){return permissionGrantedResponse()},async requestCameraPermissionsAsync(){return permissionGrantedResponse()},async getMediaLibraryPermissionsAsync(e){return permissionGrantedResponse()},async requestMediaLibraryPermissionsAsync(e){return permissionGrantedResponse()}};function permissionGrantedResponse(){return{status:PermissionStatus.GRANTED,expires:"never",granted:!0,canAskAgain:!0}}function openFileBrowserAsync({mediaTypes:e,capture:t=!1,allowsMultipleSelection:r=!1,base64:n}){const a=parseMediaTypes(e),i=createMediaTypeFormat(a),u=document.createElement("input");return u.style.display="none",u.setAttribute("type","file"),u.setAttribute("accept",i),u.setAttribute("id",String(Math.random())),u.setAttribute("data-testid","file-input"),r&&u.setAttribute("multiple","multiple"),t&&u.setAttribute("capture","camera"),document.body.appendChild(u),new Promise(l=>{u.addEventListener("change",async()=>{var s;if((s=u.files)!=null&&s.length){const o=r?u.files:[u.files[0]],v=await Promise.all(Array.from(o).map(c=>readFile(c,{base64:n})));l({canceled:!1,assets:v})}else l({canceled:!0,assets:null});document.body.removeChild(u)}),u.addEventListener("cancel",()=>{u.dispatchEvent(new Event("change"))});const x=new MouseEvent("click");u.dispatchEvent(x)})}function readFile(e,t){return new Promise((r,n)=>{const a=new FileReader;a.onerror=()=>{n(new Error("Failed to read the selected media because the operation failed."))},a.onload=({target:i})=>{const u=i.result,l=()=>r({uri:u,width:0,height:0}),x=s=>{r({...s,...t.base64&&{base64:u.substr(u.indexOf(",")+1)},file:e})};if(typeof u=="string")if(e.type.startsWith("image/")){const s=new Image;s.src=u,s.onload=()=>{x({uri:u,width:s.naturalWidth??s.width,height:s.naturalHeight??s.height,type:"image",mimeType:e.type,fileName:e.name,fileSize:e.size})},s.onerror=()=>l()}else if(e.type.startsWith("video/")){const s=document.createElement("video");s.preload="metadata",s.src=u,s.onloadedmetadata=()=>{x({uri:u,width:s.videoWidth,height:s.videoHeight,type:"video",mimeType:e.type,fileName:e.name,fileSize:e.size,duration:s.duration})},s.onerror=()=>l()}else l();else l()},a.readAsDataURL(e)})}function createMediaTypeFormat(e){const t=e.filter(n=>n!=="livePhotos");if(t.length===0)return"image/*";let r="";for(const n of t)r.includes(MediaTypeInput[n])||(r=r.concat(",",MediaTypeInput[n]));return r}function validateOptions(e){const{aspect:t,quality:r,videoMaxDuration:n}=e;if(t!=null){const[a,i]=t;if(a<=0||i<=0)throw new CodedError("ERR_INVALID_ARGUMENT",`Invalid aspect ratio values ${a}:${i}. Provide positive numbers.`)}if(r&&(r<0||r>1))throw new CodedError("ERR_INVALID_ARGUMENT",`Invalid 'quality' value ${r}. Provide a value between 0 and 1.`);if(n&&n<0)throw new CodedError("ERR_INVALID_ARGUMENT",`Invalid 'videoMaxDuration' value ${n}. Provide a non-negative number.`);return e}async function launchCameraAsync(e={}){if(!ExponentImagePicker.launchCameraAsync)throw new UnavailabilityError("ImagePicker","launchCameraAsync");const t=mapDeprecatedOptions(e);return await ExponentImagePicker.launchCameraAsync(validateOptions(t))}async function launchImageLibraryAsync(e={}){const t=mapDeprecatedOptions(e);if(!ExponentImagePicker.launchImageLibraryAsync)throw new UnavailabilityError("ImagePicker","launchImageLibraryAsync");return t!=null&&t.allowsEditing&&t.allowsMultipleSelection&&console.warn("[expo-image-picker] `allowsEditing` is not supported when `allowsMultipleSelection` is enabled and will be ignored.Disable either 'allowsEditing' or 'allowsMultipleSelection' in 'launchImageLibraryAsync' to fix this warning."),await ExponentImagePicker.launchImageLibraryAsync(t)}const requestPermission=async e=>{if(e===Permissions.notifications)return(await requestNotifications(["alert","badge","carPlay","sound"])).status;if(e)return request(e)},usePermission=e=>{const t=useSelector(selectIsPermissionGranted(e)),r=useDispatch(),n=useTrackException(),a=reactExports.useCallback(()=>new Promise((i,u)=>{requestPermission(e).then(l=>{const x=l===RESULTS.GRANTED;r(setPermission({permission:e,granted:x})),i(x)}).catch(l=>{r(setPermission({permission:e,granted:!1})),n(ExceptionLogKey.updatePermission,"usePermission.ts",{error:l,permission:e,request:!0}),u(l)})}),[r,e,n]);return{hasPermission:t,requestPermission:a}},ChatAttachmentButton=reactExports.forwardRef(({onPress:e,iconName:t,testID:r,label:n},a)=>{const i=useThemable(createStyles$4);return jsxRuntimeExports.jsx(PressableBase,{onPress:e,ref:a,testID:r,children:jsxRuntimeExports.jsxs(Column,{gutter:"xs",halign:"center",children:[jsxRuntimeExports.jsx(View,{style:i.circle,children:jsxRuntimeExports.jsx(Icon,{color:"link",name:t,size:"xl",testID:r+"Icon"})}),jsxRuntimeExports.jsx(Phrase,{testID:r+"Phrase",children:n})]})})}),createStyles$4=({color:e,size:t})=>stylesheet.create({circle:{backgroundColor:e.chat.attachmentButtonCircle.background,borderRadius:50,padding:t.spacing.md}});try{ChatAttachmentButton.displayName="ChatAttachmentButton",ChatAttachmentButton.__docgenInfo={description:"",displayName:"ChatAttachmentButton",props:{iconName:{defaultValue:null,description:"",name:"iconName",required:!0,type:{name:"enum",value:[{value:'"search"'},{value:'"alert"'},{value:'"list"'},{value:'"document"'},{value:'"accessCode"'},{value:'"add"'},{value:'"alarm"'},{value:'"alarmFilled"'},{value:'"announcement"'},{value:'"api"'},{value:'"asterisk"'},{value:'"attachment"'},{value:'"biometrics"'},{value:'"chat"'},{value:'"circle-check-mark"'},{value:'"clock"'},{value:'"backspace"'},{value:'"camera"'},{value:'"car"'},{value:'"card"'},{value:'"chatting"'},{value:'"check-mark"'},{value:'"chevron-down"'},{value:'"chevron-left"'},{value:'"chevron-right"'},{value:'"chevron-up"'},{value:'"child"'},{value:'"circle"'},{value:'"city-office"'},{value:'"city-pass-pass"'},{value:'"city-pass"'},{value:'"close"'},{value:'"collaborate"'},{value:'"construction-work"'},{value:'"copy"'},{value:'"documentCheckmark"'},{value:'"document-text"'},{value:'"download"'},{value:'"edit"'},{value:'"euroCoins"'},{value:'"email"'},{value:'"enlarge"'},{value:'"error"'},{value:'"external-link"'},{value:'"eye"'},{value:'"facade"'},{value:'"faceId"'},{value:'"housing"'},{value:'"park-sign"'},{value:'"info"'},{value:'"keyboard"'},{value:'"location"'},{value:'"lock"'},{value:'"login"'},{value:'"organic-waste-container"'},{value:'"parking"'},{value:'"parkingCar"'},{value:'"parkingSession"'},{value:'"person"'},{value:'"person-desk"'},{value:'"phone"'},{value:'"picture"'},{value:'"pointer"'},{value:'"question-mark-circle"'},{value:'"settings"'},{value:'"spinner"'},{value:'"touchId"'},{value:'"trash-bin"'},{value:'"vote"'},{value:'"wasteCard"'},{value:'"whatsapp"'},{value:'"wifi-disconnect"'}]}},label:{defaultValue:null,description:"",name:"label",required:!0,type:{name:"string"}},onPress:{defaultValue:null,description:"",name:"onPress",required:!0,type:{name:"() => void"}},testID:{defaultValue:null,description:"",name:"testID",required:!0,type:{name:"string"}}}}}catch(e){}const fileName="ChatAttachment.tsx",ChatAttachment=({onSelect:e,minHeight:t})=>{const r=useAccessibilityFocus(Duration.long),n=useThemable(createStyles$3),a=useTrackException(),{hasPermission:i,requestPermission:u}=usePermission(Permissions.camera),l=reactExports.useCallback(()=>{launchImageLibraryAsync({mediaTypes:MediaTypeOptions.Images,allowsMultipleSelection:!1,allowsEditing:!1,base64:!0}).then(o=>{var v,c;if((v=o.assets)!=null&&v[0].uri){const d=(c=o.assets)==null?void 0:c[0];sendImage(d.base64,d.fileName??"image.png",d.uri).then(e,p=>{Alert.alert("Sorry, opsturen van de afbeelding is mislukt. Probeer het later nog eens."),a(ExceptionLogKey.chatSendImageFromLibrary,fileName,{error:p})})}},o=>{Alert.alert("Afbeelding kiezen is mislukt","Sorry, kiezen van een afbeelding is mislukt. Probeer het later nog eens."),a(ExceptionLogKey.chatPickImageFromLibrary,fileName,{error:o})})},[e,a]),x=reactExports.useCallback(async()=>{i||await u(),launchCameraAsync({mediaTypes:MediaTypeOptions.Images,allowsMultipleSelection:!1,allowsEditing:!1,base64:!0}).then(o=>{var v,c;if((v=o.assets)!=null&&v[0].uri){const d=(c=o.assets)==null?void 0:c[0];sendImage(d.base64,d.fileName??"image.png",d.uri).then(e,p=>{Alert.alert("Foto opsturen is niet gelukt","Sorry, opsturen van de afbeelding is mislukt. Probeer het later nog eens."),a(ExceptionLogKey.chatSendImageFromCamera,fileName,{error:p})})}},o=>{Alert.alert("Foto maken is niet gelukt","Sorry, maken van een foto is mislukt. Probeer het later nog eens."),a(ExceptionLogKey.chatTakeImageWithCamera,fileName,{error:o})})},[i,u,e,a]),s=reactExports.useCallback(()=>{getDocumentAsync({type:"application/pdf"}).then(o=>{var c;const v=(c=o.assets)==null?void 0:c[0];if(v){const{uri:d,name:p}=v;sendPDF(d,p).then(e,C=>{Alert.alert("PDF opsturen is mislukt","Sorry, opsturen van het PDF document is mislukt. Probeer het later nog eens."),a(ExceptionLogKey.chatSendPDF,fileName,{error:C})})}},o=>{Alert.alert("PDF kiezen is mislukt","Sorry, kiezen van een PDF document is mislukt. Probeer het later nog eens."),a(ExceptionLogKey.chatPickPDF,fileName,{error:o})})},[e,a]);return jsxRuntimeExports.jsx(Animated.View,{entering:SlideInDown,style:[n.attachments,{minHeight:Math.round(t??0)}],children:jsxRuntimeExports.jsx(Box,{children:jsxRuntimeExports.jsxs(Row,{align:"evenly",gutter:"sm",children:[jsxRuntimeExports.jsx(ChatAttachmentButton,{iconName:"picture",label:"Foto",onPress:l,ref:r,testID:"pdf"}),jsxRuntimeExports.jsx(ChatAttachmentButton,{iconName:"camera",label:"Camera",onPress:x,testID:"pdf"}),jsxRuntimeExports.jsx(ChatAttachmentButton,{iconName:"document",label:"PDF",onPress:s,testID:"pdf"})]})})})},createStyles$3=({color:e})=>stylesheet.create({attachments:{backgroundColor:e.chat.attachment.background}});try{ChatAttachment.displayName="ChatAttachment",ChatAttachment.__docgenInfo={description:"",displayName:"ChatAttachment",props:{minHeight:{defaultValue:null,description:"",name:"minHeight",required:!1,type:{name:"number"}},onSelect:{defaultValue:null,description:"",name:"onSelect",required:!0,type:{name:"() => void"}}}}}catch(e){}const ChatEnded=()=>{const{close:e}=useChat(),{addDownloadedTranscriptId:t}=reactExports.useContext(ChatContext);return jsxRuntimeExports.jsx(Box,{children:jsxRuntimeExports.jsxs(Column,{gutter:"smd",children:[jsxRuntimeExports.jsx(Button,{label:"Chat downloaden",onPress:()=>{downloadChat().then(r=>r&&t(r))},testID:"ChatEndedDownloadButton",variant:"secondary"}),jsxRuntimeExports.jsx(Button,{label:"Chat sluiten",onPress:e,testID:"ChatEndedCloseButton"})]})})},ChatInput=({onSubmit:e})=>{const t=useIsScreenReaderEnabled(),r=useSafeAreaInsets(),n=useTrackException(),a=useThemable(createStyles$2),i=useThemable(createTextInputProps),[u,l]=reactExports.useState(""),x=reactExports.useRef(null),{value:s,disable:o,enable:v}=useBoolean(!1),c=reactExports.useCallback(h=>{l(h),sendTypingEvent().catch(m=>n(ExceptionLogKey.chatSendTypingEvent,"ChatInput.tsx",{error:m}))},[n]),d=reactExports.useCallback(h=>{e(h),l("")},[e]),{height:p,visible:C}=useKeyboardHeight(),{agentInChat:g,isEnded:y}=reactExports.useContext(ChatContext);return y?jsxRuntimeExports.jsx(ChatEnded,{}):jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(KeyboardAvoidingView,{behavior:Platform.OS==="ios"?"padding":"height",keyboardVerticalOffset:r.top,children:jsxRuntimeExports.jsx(Box,{children:jsxRuntimeExports.jsxs(Row,{gutter:"sm",children:[!!g&&jsxRuntimeExports.jsx(IconButton,{accessibilityLabel:s?"Naar toetsenbord":"Naar bijlages",hitSlop:16,icon:jsxRuntimeExports.jsx(Icon,{color:"link",name:s?"keyboard":"attachment",size:"xl",testID:"ChatAttachmentsIcon"}),onPress:()=>{var h;s?((h=x.current)==null||h.focus(),o()):(Keyboard.dismiss(),setTimeout(v,300))},testID:"ChatAttachmentsButton"}),jsxRuntimeExports.jsxs(View,{style:a.container,testID:"ChatTextInputContainer",children:[jsxRuntimeExports.jsx(TextInput,{...i,autoFocus:t,multiline:!0,onChangeText:c,onFocus:o,placeholder:"Typ uw bericht",ref:x,style:a.textInput,testID:"ChatTextInput",value:u}),u.length>0&&jsxRuntimeExports.jsxs(View,{style:a.buttonWrapper,children:[jsxRuntimeExports.jsx(View,{style:a.spacePlaceholder}),jsxRuntimeExports.jsx(PressableBase,{accessibilityLabel:"Verstuur bericht",onPress:()=>d(u),style:a.button,testID:"ChatTextInputSendButton",children:jsxRuntimeExports.jsx(Icon,{color:"inverse",name:"chevron-right",testID:"ChatTextInputSendButtonIcon"})})]})]})]})})}),!!s&&!C&&jsxRuntimeExports.jsx(ChatAttachment,{minHeight:p,onSelect:o})]})},SEND_BUTTON_DIMENSION=40,createStyles$2=({border:e,color:t,text:r,size:n})=>stylesheet.create({button:{backgroundColor:t.pressable.primary.default.background,alignItems:"center",justifyContent:"center",height:SEND_BUTTON_DIMENSION,width:SEND_BUTTON_DIMENSION},buttonWrapper:{height:"100%"},spacePlaceholder:{flexGrow:1},container:{flexDirection:"row",alignItems:"center",justifyContent:"space-between",borderWidth:e.width.sm,padding:n.spacing.xs,columnGap:n.spacing.sm,flex:1},textInput:{flex:1,color:t.text.default,fontFamily:r.fontFamily.regular,fontSize:r.fontSize.body,padding:0,paddingLeft:n.spacing.md,paddingTop:n.spacing.sm,paddingBottom:n.spacing.sm}}),createTextInputProps=({color:e})=>({placeholderTextColor:e.text.secondary});try{ChatInput.displayName="ChatInput",ChatInput.__docgenInfo={description:"",displayName:"ChatInput",props:{onSubmit:{defaultValue:null,description:"",name:"onSubmit",required:!0,type:{name:"(message: string) => void"}}}}}catch(e){}const DEFAULT_ERROR_CODE="0",isFetchBaseQueryError=e=>!!(e!=null&&e.status),getErrorCode=e=>!e||!isFetchBaseQueryError(e)?DEFAULT_ERROR_CODE:typeof e.status=="string"&&e.status==="PARSING_ERROR"?e.originalStatus??DEFAULT_ERROR_CODE:e.status??DEFAULT_ERROR_CODE,FullScreenErrorHeader=({error:e,isPortrait:t,testID:r,text:n,title:a,TopComponent:i})=>jsxRuntimeExports.jsxs(Box,{grow:!t,variant:t?"default":"distinct",children:[!!i&&i,jsxRuntimeExports.jsxs(Column,{align:"center",grow:1,gutter:"md",children:[jsxRuntimeExports.jsx(Title,{level:"h3",testID:r+"Title",text:a,textAlign:"center"}),(!!e||!!n)&&jsxRuntimeExports.jsxs(Column,{children:[!!n&&jsxRuntimeExports.jsx(Paragraph,{testID:r+"Paragraph",textAlign:"center",children:n??""}),!!e&&jsxRuntimeExports.jsx(Paragraph,{testID:r+"Error",textAlign:"center",children:`Foutcode is ${getErrorCode(e)}`})]})]})]});try{FullScreenErrorHeader.displayName="FullScreenErrorHeader",FullScreenErrorHeader.__docgenInfo={description:"",displayName:"FullScreenErrorHeader",props:{TopComponent:{defaultValue:null,description:"",name:"TopComponent",required:!0,type:{name:"ReactNode"}},error:{defaultValue:null,description:"",name:"error",required:!0,type:{name:"ErrorType"}},isPortrait:{defaultValue:null,description:"",name:"isPortrait",required:!0,type:{name:"boolean"}},testID:{defaultValue:null,description:"",name:"testID",required:!0,type:{name:"string"}},text:{defaultValue:null,description:"",name:"text",required:!0,type:{name:"string | undefined"}},title:{defaultValue:null,description:"",name:"title",required:!0,type:{name:"string"}}}}}catch(e){}const HideOnSmallSize=({children:e,minHeight:t,minWidth:r,...n})=>{const[a,i]=reactExports.useState(),u=reactExports.useMemo(()=>a?a.height>=(t??0)&&a.width>=(r??0):!0,[a,t,r]),l=createStyles$1(u);return jsxRuntimeExports.jsx(View,{collapsable:!1,onLayout:x=>i(x.nativeEvent.layout),...n,style:l.wrapper,children:e})},createStyles$1=e=>stylesheet.create({wrapper:{opacity:e?1:0}});try{HideOnSmallSize.displayName="HideOnSmallSize",HideOnSmallSize.__docgenInfo={description:"",displayName:"HideOnSmallSize",props:{minHeight:{defaultValue:null,description:"",name:"minHeight",required:!1,type:{name:"number"}},minWidth:{defaultValue:null,description:"",name:"minWidth",required:!1,type:{name:"number"}}}}}catch(e){}const MIN_IMAGE_HEIGHT=200,ImageWithBackground=({backgroundPosition:e,isImageFullSize:t=!0,Image:r,testID:n,withFacadesBackground:a,isPortrait:i})=>{const u=useThemable(createStyles({backgroundPosition:e,isImageFullSize:t,isPortrait:i}));return jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[!!a&&jsxRuntimeExports.jsx(View,{style:u.figureBackground,testID:n+"BackgroundImage",children:jsxRuntimeExports.jsx(View,{style:u.facade,children:jsxRuntimeExports.jsx(SvgAmsterdamFacades,{})})}),i?jsxRuntimeExports.jsx(View,{style:u.figureForeground,children:jsxRuntimeExports.jsx(HideOnSmallSize,{minHeight:MIN_IMAGE_HEIGHT,testID:n+"Image",children:jsxRuntimeExports.jsx(Box,{inset:"md",children:jsxRuntimeExports.jsx(r,{height:"100%",width:t?"100%":void 0})})})}):jsxRuntimeExports.jsx(View,{style:u.figureForeground,testID:n+"Image",children:jsxRuntimeExports.jsx(r,{height:"100%",width:"100%"})})]})},createStyles=({backgroundPosition:e="bottom",isPortrait:t,isImageFullSize:r})=>({media:n,size:a})=>stylesheet.create({figureBackground:{position:"absolute",bottom:e==="center"&&t?"50%":"20%",width:"100%",alignContent:"flex-start",overflow:"hidden"},figureForeground:{flexGrow:1,alignSelf:!r&&t?"center":void 0,justifyContent:"center",paddingBottom:t?void 0:a.spacing.md},facade:{aspectRatio:n.illustrationAspectRatio.facades,height:n.figureHeight.lg*(3/4),alignSelf:"center"}});try{ImageWithBackground.displayName="ImageWithBackground",ImageWithBackground.__docgenInfo={description:"",displayName:"ImageWithBackground",props:{Image:{defaultValue:null,description:"",name:"Image",required:!0,type:{name:"ComponentType<SvgProps>"}},backgroundPosition:{defaultValue:{value:"bottom"},description:"",name:"backgroundPosition",required:!1,type:{name:"enum",value:[{value:'"center"'},{value:'"bottom"'}]}},isImageFullSize:{defaultValue:{value:"true"},description:"",name:"isImageFullSize",required:!1,type:{name:"boolean"}},isPortrait:{defaultValue:null,description:"",name:"isPortrait",required:!0,type:{name:"boolean"}},testID:{defaultValue:null,description:"",name:"testID",required:!0,type:{name:"string"}},withFacadesBackground:{defaultValue:null,description:"",name:"withFacadesBackground",required:!0,type:{name:"boolean | undefined"}}}}}catch(e){}const FullScreenErrorContent=({backgroundPosition:e,error:t,isImageFullSize:r,text:n,Image:a,isPortrait:i,testID:u,title:l,TopComponent:x,withFacadesBackground:s})=>{const o=reactExports.useMemo(()=>jsxRuntimeExports.jsx(ImageWithBackground,{backgroundPosition:e,Image:a,isImageFullSize:r,isPortrait:i,testID:u,withFacadesBackground:s}),[a,e,r,i,u,s]);return i?jsxRuntimeExports.jsx(Column,{flex:1,children:o}):jsxRuntimeExports.jsxs(Row,{flex:1,children:[jsxRuntimeExports.jsx(Column,{flex:1,children:jsxRuntimeExports.jsx(FullScreenErrorHeader,{error:t,isPortrait:i,testID:u,text:n,title:l,TopComponent:x})}),jsxRuntimeExports.jsx(Column,{flex:1,children:o})]})};try{FullScreenErrorContent.displayName="FullScreenErrorContent",FullScreenErrorContent.__docgenInfo={description:"",displayName:"FullScreenErrorContent",props:{TopComponent:{defaultValue:null,description:"",name:"TopComponent",required:!0,type:{name:"ReactNode"}},error:{defaultValue:null,description:"",name:"error",required:!0,type:{name:"ErrorType"}},isPortrait:{defaultValue:null,description:"",name:"isPortrait",required:!0,type:{name:"boolean"}},testID:{defaultValue:null,description:"",name:"testID",required:!0,type:{name:"string"}},text:{defaultValue:null,description:"",name:"text",required:!0,type:{name:"string | undefined"}},title:{defaultValue:null,description:"",name:"title",required:!0,type:{name:"string"}},Image:{defaultValue:null,description:"",name:"Image",required:!0,type:{name:"ComponentType<SvgProps>"}},backgroundPosition:{defaultValue:null,description:"",name:"backgroundPosition",required:!0,type:{name:"enum",value:[{value:"undefined"},{value:'"center"'},{value:'"bottom"'}]}},isImageFullSize:{defaultValue:null,description:"",name:"isImageFullSize",required:!0,type:{name:"boolean | undefined"}},withFacadesBackground:{defaultValue:null,description:"",name:"withFacadesBackground",required:!0,type:{name:"boolean | undefined"}}}}}catch(e){}const FullScreenError=({backgroundPosition:e,buttonAccessibilityLabel:t,buttonLabel:r,error:n,isImageFullSize:a,text:i,Image:u,onPress:l,testID:x,title:s,TopComponent:o,withFacadesBackground:v=!0,...c})=>{const{isPortrait:d}=useDeviceContext();return jsxRuntimeExports.jsxs(Column,{grow:1,...c,children:[!!d&&jsxRuntimeExports.jsx(FullScreenErrorHeader,{error:n,isPortrait:d,testID:x+"Header",text:i,title:s,TopComponent:o}),jsxRuntimeExports.jsx(FullScreenErrorContent,{backgroundPosition:e,error:n,Image:u,isImageFullSize:a,isPortrait:d,testID:x+"Content",text:i,title:s,TopComponent:o,withFacadesBackground:v}),jsxRuntimeExports.jsx(Box,{inset:"md",children:jsxRuntimeExports.jsx(Button,{accessibilityLabel:t,label:r,onPress:l,testID:x+"Button"})})]})};try{FullScreenError.displayName="FullScreenError",FullScreenError.__docgenInfo={description:"",displayName:"FullScreenError",props:{Image:{defaultValue:null,description:"",name:"Image",required:!0,type:{name:"ComponentType<SvgProps>"}},TopComponent:{defaultValue:null,description:"",name:"TopComponent",required:!1,type:{name:"ReactNode"}},backgroundPosition:{defaultValue:null,description:"",name:"backgroundPosition",required:!1,type:{name:"enum",value:[{value:'"center"'},{value:'"bottom"'}]}},buttonAccessibilityLabel:{defaultValue:null,description:"",name:"buttonAccessibilityLabel",required:!1,type:{name:"string"}},buttonLabel:{defaultValue:null,description:"",name:"buttonLabel",required:!0,type:{name:"string"}},error:{defaultValue:null,description:"",name:"error",required:!1,type:{name:"ErrorType"}},isImageFullSize:{defaultValue:null,description:"",name:"isImageFullSize",required:!1,type:{name:"boolean"}},onPress:{defaultValue:null,description:"",name:"onPress",required:!0,type:{name:"() => void"}},testID:{defaultValue:null,description:"",name:"testID",required:!0,type:{name:"string"}},text:{defaultValue:null,description:"",name:"text",required:!1,type:{name:"string"}},title:{defaultValue:null,description:"",name:"title",required:!0,type:{name:"string"}},withFacadesBackground:{defaultValue:{value:"true"},description:"",name:"withFacadesBackground",required:!1,type:{name:"boolean"}},grow:{defaultValue:null,description:"Whether the column should grow to fill the available space.",name:"grow",required:!1,type:{name:"number"}},shrink:{defaultValue:null,description:"Whether the column should shrink to fill the available space.",name:"shrink",required:!1,type:{name:"number"}},align:{defaultValue:null,description:"The vertical alignment of the items in the column.",name:"align",required:!1,type:{name:"enum",value:[{value:'"start"'},{value:'"end"'},{value:'"center"'},{value:'"around"'},{value:'"between"'},{value:'"evenly"'}]}},basis:{defaultValue:null,description:"The flex basis factor of the column.",name:"basis",required:!1,type:{name:"number"}},gutter:{defaultValue:null,description:"The amount of vertical spacing between the items in the column.",name:"gutter",required:!1,type:{name:"enum",value:[{value:'"no"'},{value:'"xxs"'},{value:'"xs"'},{value:'"sm"'},{value:'"smd"'},{value:'"md"'},{value:'"lg"'},{value:'"xl"'},{value:'"xxl"'}]}},halign:{defaultValue:null,description:"The horizontal alignment of the items in the column.",name:"halign",required:!1,type:{name:"enum",value:[{value:'"start"'},{value:'"end"'},{value:'"center"'},{value:'"baseline"'},{value:'"stretch"'}]}},reverse:{defaultValue:null,description:"Whether the items in the column should be reversed.",name:"reverse",required:!1,type:{name:"boolean"}},zIndex:{defaultValue:null,description:"Sets the zIndex style property",name:"zIndex",required:!1,type:{name:"number"}}}}}catch(e){}const ChatWaitToStart=({children:e})=>{const[t,r]=reactExports.useState(!1),{ready:n,connectionStatus:a}=reactExports.useContext(ChatContext),{close:i}=useChat();return reactExports.useEffect(()=>{setTimeout(()=>{r(!0)},6e4)},[]),n?e:a!==ConnectionState.closed&&!t?jsxRuntimeExports.jsxs(Center,{grow:!0,children:[jsxRuntimeExports.jsx(LoadingDots,{dotActiveSize:15,dotInactiveSize:12}),jsxRuntimeExports.jsx(Title,{level:"h4",testID:"ChatWaitToStartTitle",text:"De chat wordt geladen",textAlign:"center"})]}):jsxRuntimeExports.jsx(ChatAnimatedContentWrapper,{children:jsxRuntimeExports.jsx(FullScreenError,{backgroundPosition:"center",buttonLabel:"Chat sluiten",Image:ErrorFigure,isImageFullSize:!1,onPress:i,testID:"ChatWaitToStartErrorTitle",text:isDevApp?"Switchen van omgeving: verander eerst van omgeving en herstart dan de app":"Probeer het later nog eens.",title:"De chat kon niet geladen worden"})})};try{ChatWaitToStart.displayName="ChatWaitToStart",ChatWaitToStart.__docgenInfo={description:"",displayName:"ChatWaitToStart",props:{}}}catch(e){}const Chat=()=>{const{isOpen:e}=useChat(),t=useTrackException(),r=reactExports.useCallback(n=>{sendMessage(n).catch(a=>t(ExceptionLogKey.chatSendMessage,"Chat.tsx",{error:a}))},[t]);return e?jsxRuntimeExports.jsx(ChatProvider,{children:jsxRuntimeExports.jsxs(ChatAnimatedWrapper,{children:[jsxRuntimeExports.jsx(ChatHeader,{}),jsxRuntimeExports.jsxs(ChatWaitToStart,{children:[jsxRuntimeExports.jsx(ChatAnimatedContentWrapper,{children:jsxRuntimeExports.jsx(ChatHistory,{})}),jsxRuntimeExports.jsx(ChatInput,{onSubmit:r})]})]})}):null},onNotificationEvent=(e,t,r)=>{var n,a;e===EventType.PRESS&&((a=(n=t.notification)==null?void 0:n.data)!=null&&a.maximizeChat)&&r(maximizeChat())},persistWhitelist$2=["conversationId"],chatModule={hiddenInMenu:!0,onNotificationEvent,name:"ChatModule",PostRenderComponent:Chat,reduxConfigs:[{key:ReduxKey.chat,persistVersion:0,persistWhitelist:persistWhitelist$2,slice:chatSlice}],slug:ModuleSlug.chat,alwaysEnabled:!0},useGetSecureItem=e=>{const[t,r]=reactExports.useState(!0),[n,a]=reactExports.useState(null),i=useSelector(selectSecureItemUpdatedTimestamp(e));return reactExports.useEffect(()=>{getSecureItem(e).then(u=>{a(u),r(!1)}).catch(()=>{a(null),r(!1)})},[e,i]),{item:n,isLoading:t}},transformResponse=e=>e.map(t=>({dateEndFormatted:t.d,firstname:t.f,infix:t.i,lastname:t.l,passNumberComplete:t.p})),useGetSecureCityPasses=()=>{const{item:e}=useGetSecureItem(SecureItemKey.cityPasses);return reactExports.useMemo(()=>e?transformResponse(JSON.parse(e)):[],[e])};var CityPassRouteName=(e=>(e.budget="Budget",e.cityPassDetails="CityPassDetails",e.cityPassLogout="CityPassLogout",e.cityPasses="CityPasses",e.dashboard="Dashboard",e.login="Login",e.loginSteps="LoginSteps",e.restartLogin="RestartLogin",e.securityCode="SecurityCode",e))(CityPassRouteName||{});const initialState$7={isCityPassOwnerRegistered:!1,isLoginStepsActive:!1,shouldShowLoginScreen:!0,startIndex:0},cityPassSlice=createSlice({name:ReduxKey.cityPass,initialState:initialState$7,reducers:{setIsCityPassOwnerRegistered:(e,{payload:t})=>{e.isCityPassOwnerRegistered=t},setLoginStepsActive:(e,{payload:t})=>{e.isLoginStepsActive=t},setShouldShowLoginScreen:(e,{payload:t})=>{e.shouldShowLoginScreen=t},setStartIndex:(e,{payload:t})=>{e.startIndex=t??0}}});cityPassSlice.actions;const selectIsCityPassOwnerRegistered=e=>e[ReduxKey.cityPass].isCityPassOwnerRegistered,CityPassActionButton=()=>{const{navigate:e}=useNavigation(),t=useGetSecureCityPasses(),r=useSelector(selectIsCityPassOwnerRegistered),n=reactExports.useCallback(()=>{e(ModuleSlug["city-pass"],{screen:CityPassRouteName.cityPasses})},[e]);return!(t!=null&&t.length)||!r?null:jsxRuntimeExports.jsxs(Column,{children:[jsxRuntimeExports.jsx(ActionButton,{iconName:"city-pass-pass",label:"Stadspas",onPress:n,testID:"CityPassActionButton"}),jsxRuntimeExports.jsx(Gutter,{height:"lg"})]})},cityPassModule={ActionButton:CityPassActionButton,linking:{[CityPassRouteName.loginSteps]:"stadspas/:loginResult/:accessToken?/:refreshToken?/:errorMessage?/:errorCode?"},logDimension:PiwikSessionDimension.cityPassModule,name:"CityPassModule",reduxConfigs:[{key:ReduxKey.cityPass,slice:cityPassSlice,persistVersion:0,persistWhitelist:["isCityPassOwnerRegistered"]}],slug:ModuleSlug["city-pass"]};var lookup=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,62,0,62,0,63,52,53,54,55,56,57,58,59,60,61,0,0,0,0,0,0,0,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,0,0,0,0,63,0,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51],fastBase64Decode=function e(t,r){for(var n=t.length,a=t[n-2]==="="?2:t[n-1]==="="?1:0,i,u=0,l=n-a&4294967292,x=0;x<l;x+=4)i=lookup[t.charCodeAt(x)]<<18|lookup[t.charCodeAt(x+1)]<<12|lookup[t.charCodeAt(x+2)]<<6|lookup[t.charCodeAt(x+3)],r[u++]=i>>16&255,r[u++]=i>>8&255,r[u++]=i&255;a===1&&(i=lookup[t.charCodeAt(x)]<<10|lookup[t.charCodeAt(x+1)]<<4|lookup[t.charCodeAt(x+2)]>>2,r[u++]=i>>8&255,r[u++]=i&255),a===2&&(i=lookup[t.charCodeAt(x)]<<2|lookup[t.charCodeAt(x+1)]>>4,r[u++]=i&255)};const base64Decode=fastBase64Decode,{NativeModules}=require$$1;class TypeMismatchError extends Error{}class QuotaExceededError extends Error{}let warned=!1;function insecureRandomValues(e){warned||(console.warn("Using an insecure random number generator, this should only happen when running in a debugger without support for crypto.getRandomValues"),warned=!0);for(let t=0,r;t<e.length;t++)t&3||(r=Math.random()*4294967296),e[t]=r>>>((t&3)<<3)&255;return e}function getRandomBase64(e){if(NativeModules.RNGetRandomValues)return NativeModules.RNGetRandomValues.getRandomBase64(e);if(NativeModules.ExpoRandom)return NativeModules.ExpoRandom.getRandomBase64String(e);if(commonjsGlobal.ExpoModules)return commonjsGlobal.ExpoModules.ExpoRandom.getRandomBase64String(e);throw new Error("Native module not found")}function getRandomValues(e){if(!(e instanceof Int8Array||e instanceof Uint8Array||e instanceof Int16Array||e instanceof Uint16Array||e instanceof Int32Array||e instanceof Uint32Array||e instanceof Uint8ClampedArray))throw new TypeMismatchError("Expected an integer array");if(e.byteLength>65536)throw new QuotaExceededError("Can only request a maximum of 65536 bytes");return commonjsGlobal.expo&&commonjsGlobal.expo.modules&&commonjsGlobal.expo.modules.ExpoCrypto&&commonjsGlobal.expo.modules.ExpoCrypto.getRandomValues?(commonjsGlobal.expo.modules.ExpoCrypto.getRandomValues(e),e):isRemoteDebuggingInChrome()?insecureRandomValues(e):(base64Decode(getRandomBase64(e.byteLength),new Uint8Array(e.buffer,e.byteOffset,e.byteLength)),e)}function isRemoteDebuggingInChrome(){return"RN$Bridgeless"in commonjsGlobal&&RN$Bridgeless===!0,!1}typeof commonjsGlobal.crypto!="object"&&(commonjsGlobal.crypto={});typeof commonjsGlobal.crypto.getRandomValues!="function"&&(commonjsGlobal.crypto.getRandomValues=getRandomValues);var cryptoJs={exports:{}},core={exports:{}};const __viteBrowserExternal={},__viteBrowserExternal$1=Object.freeze(Object.defineProperty({__proto__:null,default:__viteBrowserExternal},Symbol.toStringTag,{value:"Module"})),require$$0=getAugmentedNamespace(__viteBrowserExternal$1);var hasRequiredCore;function requireCore(){return hasRequiredCore||(hasRequiredCore=1,function(e,t){(function(r,n){e.exports=n()})(commonjsGlobal,function(){var r=r||function(n,a){var i;if(typeof window<"u"&&window.crypto&&(i=window.crypto),typeof self<"u"&&self.crypto&&(i=self.crypto),typeof globalThis<"u"&&globalThis.crypto&&(i=globalThis.crypto),!i&&typeof window<"u"&&window.msCrypto&&(i=window.msCrypto),!i&&typeof commonjsGlobal<"u"&&commonjsGlobal.crypto&&(i=commonjsGlobal.crypto),!i&&typeof commonjsRequire=="function")try{i=require$$0}catch{}var u=function(){if(i){if(typeof i.getRandomValues=="function")try{return i.getRandomValues(new Uint32Array(1))[0]}catch{}if(typeof i.randomBytes=="function")try{return i.randomBytes(4).readInt32LE()}catch{}}throw new Error("Native crypto module could not be used to get secure random number.")},l=Object.create||function(){function h(){}return function(m){var E;return h.prototype=m,E=new h,h.prototype=null,E}}(),x={},s=x.lib={},o=s.Base=function(){return{extend:function(h){var m=l(this);return h&&m.mixIn(h),(!m.hasOwnProperty("init")||this.init===m.init)&&(m.init=function(){m.$super.init.apply(this,arguments)}),m.init.prototype=m,m.$super=this,m},create:function(){var h=this.extend();return h.init.apply(h,arguments),h},init:function(){},mixIn:function(h){for(var m in h)h.hasOwnProperty(m)&&(this[m]=h[m]);h.hasOwnProperty("toString")&&(this.toString=h.toString)},clone:function(){return this.init.prototype.extend(this)}}}(),v=s.WordArray=o.extend({init:function(h,m){h=this.words=h||[],m!=a?this.sigBytes=m:this.sigBytes=h.length*4},toString:function(h){return(h||d).stringify(this)},concat:function(h){var m=this.words,E=h.words,D=this.sigBytes,b=h.sigBytes;if(this.clamp(),D%4)for(var B=0;B<b;B++){var F=E[B>>>2]>>>24-B%4*8&255;m[D+B>>>2]|=F<<24-(D+B)%4*8}else for(var P=0;P<b;P+=4)m[D+P>>>2]=E[P>>>2];return this.sigBytes+=b,this},clamp:function(){var h=this.words,m=this.sigBytes;h[m>>>2]&=4294967295<<32-m%4*8,h.length=n.ceil(m/4)},clone:function(){var h=o.clone.call(this);return h.words=this.words.slice(0),h},random:function(h){for(var m=[],E=0;E<h;E+=4)m.push(u());return new v.init(m,h)}}),c=x.enc={},d=c.Hex={stringify:function(h){for(var m=h.words,E=h.sigBytes,D=[],b=0;b<E;b++){var B=m[b>>>2]>>>24-b%4*8&255;D.push((B>>>4).toString(16)),D.push((B&15).toString(16))}return D.join("")},parse:function(h){for(var m=h.length,E=[],D=0;D<m;D+=2)E[D>>>3]|=parseInt(h.substr(D,2),16)<<24-D%8*4;return new v.init(E,m/2)}},p=c.Latin1={stringify:function(h){for(var m=h.words,E=h.sigBytes,D=[],b=0;b<E;b++){var B=m[b>>>2]>>>24-b%4*8&255;D.push(String.fromCharCode(B))}return D.join("")},parse:function(h){for(var m=h.length,E=[],D=0;D<m;D++)E[D>>>2]|=(h.charCodeAt(D)&255)<<24-D%4*8;return new v.init(E,m)}},C=c.Utf8={stringify:function(h){try{return decodeURIComponent(escape(p.stringify(h)))}catch{throw new Error("Malformed UTF-8 data")}},parse:function(h){return p.parse(unescape(encodeURIComponent(h)))}},g=s.BufferedBlockAlgorithm=o.extend({reset:function(){this._data=new v.init,this._nDataBytes=0},_append:function(h){typeof h=="string"&&(h=C.parse(h)),this._data.concat(h),this._nDataBytes+=h.sigBytes},_process:function(h){var m,E=this._data,D=E.words,b=E.sigBytes,B=this.blockSize,F=B*4,P=b/F;h?P=n.ceil(P):P=n.max((P|0)-this._minBufferSize,0);var A=P*B,S=n.min(A*4,b);if(A){for(var w=0;w<A;w+=B)this._doProcessBlock(D,w);m=D.splice(0,A),E.sigBytes-=S}return new v.init(m,S)},clone:function(){var h=o.clone.call(this);return h._data=this._data.clone(),h},_minBufferSize:0});s.Hasher=g.extend({cfg:o.extend(),init:function(h){this.cfg=this.cfg.extend(h),this.reset()},reset:function(){g.reset.call(this),this._doReset()},update:function(h){return this._append(h),this._process(),this},finalize:function(h){h&&this._append(h);var m=this._doFinalize();return m},blockSize:16,_createHelper:function(h){return function(m,E){return new h.init(E).finalize(m)}},_createHmacHelper:function(h){return function(m,E){return new y.HMAC.init(h,E).finalize(m)}}});var y=x.algo={};return x}(Math);return r})}(core)),core.exports}var x64Core={exports:{}},hasRequiredX64Core;function requireX64Core(){return hasRequiredX64Core||(hasRequiredX64Core=1,function(e,t){(function(r,n){e.exports=n(requireCore())})(commonjsGlobal,function(r){return function(n){var a=r,i=a.lib,u=i.Base,l=i.WordArray,x=a.x64={};x.Word=u.extend({init:function(s,o){this.high=s,this.low=o}}),x.WordArray=u.extend({init:function(s,o){s=this.words=s||[],o!=n?this.sigBytes=o:this.sigBytes=s.length*8},toX32:function(){for(var s=this.words,o=s.length,v=[],c=0;c<o;c++){var d=s[c];v.push(d.high),v.push(d.low)}return l.create(v,this.sigBytes)},clone:function(){for(var s=u.clone.call(this),o=s.words=this.words.slice(0),v=o.length,c=0;c<v;c++)o[c]=o[c].clone();return s}})}(),r})}(x64Core)),x64Core.exports}var libTypedarrays={exports:{}},hasRequiredLibTypedarrays;function requireLibTypedarrays(){return hasRequiredLibTypedarrays||(hasRequiredLibTypedarrays=1,function(e,t){(function(r,n){e.exports=n(requireCore())})(commonjsGlobal,function(r){return function(){if(typeof ArrayBuffer=="function"){var n=r,a=n.lib,i=a.WordArray,u=i.init,l=i.init=function(x){if(x instanceof ArrayBuffer&&(x=new Uint8Array(x)),(x instanceof Int8Array||typeof Uint8ClampedArray<"u"&&x instanceof Uint8ClampedArray||x instanceof Int16Array||x instanceof Uint16Array||x instanceof Int32Array||x instanceof Uint32Array||x instanceof Float32Array||x instanceof Float64Array)&&(x=new Uint8Array(x.buffer,x.byteOffset,x.byteLength)),x instanceof Uint8Array){for(var s=x.byteLength,o=[],v=0;v<s;v++)o[v>>>2]|=x[v]<<24-v%4*8;u.call(this,o,s)}else u.apply(this,arguments)};l.prototype=i}}(),r.lib.WordArray})}(libTypedarrays)),libTypedarrays.exports}var encUtf16={exports:{}},hasRequiredEncUtf16;function requireEncUtf16(){return hasRequiredEncUtf16||(hasRequiredEncUtf16=1,function(e,t){(function(r,n){e.exports=n(requireCore())})(commonjsGlobal,function(r){return function(){var n=r,a=n.lib,i=a.WordArray,u=n.enc;u.Utf16=u.Utf16BE={stringify:function(x){for(var s=x.words,o=x.sigBytes,v=[],c=0;c<o;c+=2){var d=s[c>>>2]>>>16-c%4*8&65535;v.push(String.fromCharCode(d))}return v.join("")},parse:function(x){for(var s=x.length,o=[],v=0;v<s;v++)o[v>>>1]|=x.charCodeAt(v)<<16-v%2*16;return i.create(o,s*2)}},u.Utf16LE={stringify:function(x){for(var s=x.words,o=x.sigBytes,v=[],c=0;c<o;c+=2){var d=l(s[c>>>2]>>>16-c%4*8&65535);v.push(String.fromCharCode(d))}return v.join("")},parse:function(x){for(var s=x.length,o=[],v=0;v<s;v++)o[v>>>1]|=l(x.charCodeAt(v)<<16-v%2*16);return i.create(o,s*2)}};function l(x){return x<<8&4278255360|x>>>8&16711935}}(),r.enc.Utf16})}(encUtf16)),encUtf16.exports}var encBase64={exports:{}},hasRequiredEncBase64;function requireEncBase64(){return hasRequiredEncBase64||(hasRequiredEncBase64=1,function(e,t){(function(r,n){e.exports=n(requireCore())})(commonjsGlobal,function(r){return function(){var n=r,a=n.lib,i=a.WordArray,u=n.enc;u.Base64={stringify:function(x){var s=x.words,o=x.sigBytes,v=this._map;x.clamp();for(var c=[],d=0;d<o;d+=3)for(var p=s[d>>>2]>>>24-d%4*8&255,C=s[d+1>>>2]>>>24-(d+1)%4*8&255,g=s[d+2>>>2]>>>24-(d+2)%4*8&255,y=p<<16|C<<8|g,h=0;h<4&&d+h*.75<o;h++)c.push(v.charAt(y>>>6*(3-h)&63));var m=v.charAt(64);if(m)for(;c.length%4;)c.push(m);return c.join("")},parse:function(x){var s=x.length,o=this._map,v=this._reverseMap;if(!v){v=this._reverseMap=[];for(var c=0;c<o.length;c++)v[o.charCodeAt(c)]=c}var d=o.charAt(64);if(d){var p=x.indexOf(d);p!==-1&&(s=p)}return l(x,s,v)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="};function l(x,s,o){for(var v=[],c=0,d=0;d<s;d++)if(d%4){var p=o[x.charCodeAt(d-1)]<<d%4*2,C=o[x.charCodeAt(d)]>>>6-d%4*2,g=p|C;v[c>>>2]|=g<<24-c%4*8,c++}return i.create(v,c)}}(),r.enc.Base64})}(encBase64)),encBase64.exports}var encBase64url={exports:{}},hasRequiredEncBase64url;function requireEncBase64url(){return hasRequiredEncBase64url||(hasRequiredEncBase64url=1,function(e,t){(function(r,n){e.exports=n(requireCore())})(commonjsGlobal,function(r){return function(){var n=r,a=n.lib,i=a.WordArray,u=n.enc;u.Base64url={stringify:function(x,s){s===void 0&&(s=!0);var o=x.words,v=x.sigBytes,c=s?this._safe_map:this._map;x.clamp();for(var d=[],p=0;p<v;p+=3)for(var C=o[p>>>2]>>>24-p%4*8&255,g=o[p+1>>>2]>>>24-(p+1)%4*8&255,y=o[p+2>>>2]>>>24-(p+2)%4*8&255,h=C<<16|g<<8|y,m=0;m<4&&p+m*.75<v;m++)d.push(c.charAt(h>>>6*(3-m)&63));var E=c.charAt(64);if(E)for(;d.length%4;)d.push(E);return d.join("")},parse:function(x,s){s===void 0&&(s=!0);var o=x.length,v=s?this._safe_map:this._map,c=this._reverseMap;if(!c){c=this._reverseMap=[];for(var d=0;d<v.length;d++)c[v.charCodeAt(d)]=d}var p=v.charAt(64);if(p){var C=x.indexOf(p);C!==-1&&(o=C)}return l(x,o,c)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",_safe_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_"};function l(x,s,o){for(var v=[],c=0,d=0;d<s;d++)if(d%4){var p=o[x.charCodeAt(d-1)]<<d%4*2,C=o[x.charCodeAt(d)]>>>6-d%4*2,g=p|C;v[c>>>2]|=g<<24-c%4*8,c++}return i.create(v,c)}}(),r.enc.Base64url})}(encBase64url)),encBase64url.exports}var md5={exports:{}},hasRequiredMd5;function requireMd5(){return hasRequiredMd5||(hasRequiredMd5=1,function(e,t){(function(r,n){e.exports=n(requireCore())})(commonjsGlobal,function(r){return function(n){var a=r,i=a.lib,u=i.WordArray,l=i.Hasher,x=a.algo,s=[];(function(){for(var C=0;C<64;C++)s[C]=n.abs(n.sin(C+1))*4294967296|0})();var o=x.MD5=l.extend({_doReset:function(){this._hash=new u.init([1732584193,4023233417,2562383102,271733878])},_doProcessBlock:function(C,g){for(var y=0;y<16;y++){var h=g+y,m=C[h];C[h]=(m<<8|m>>>24)&16711935|(m<<24|m>>>8)&4278255360}var E=this._hash.words,D=C[g+0],b=C[g+1],B=C[g+2],F=C[g+3],P=C[g+4],A=C[g+5],S=C[g+6],w=C[g+7],R=C[g+8],T=C[g+9],M=C[g+10],q=C[g+11],L=C[g+12],H=C[g+13],O=C[g+14],V=C[g+15],_=E[0],k=E[1],j=E[2],I=E[3];_=v(_,k,j,I,D,7,s[0]),I=v(I,_,k,j,b,12,s[1]),j=v(j,I,_,k,B,17,s[2]),k=v(k,j,I,_,F,22,s[3]),_=v(_,k,j,I,P,7,s[4]),I=v(I,_,k,j,A,12,s[5]),j=v(j,I,_,k,S,17,s[6]),k=v(k,j,I,_,w,22,s[7]),_=v(_,k,j,I,R,7,s[8]),I=v(I,_,k,j,T,12,s[9]),j=v(j,I,_,k,M,17,s[10]),k=v(k,j,I,_,q,22,s[11]),_=v(_,k,j,I,L,7,s[12]),I=v(I,_,k,j,H,12,s[13]),j=v(j,I,_,k,O,17,s[14]),k=v(k,j,I,_,V,22,s[15]),_=c(_,k,j,I,b,5,s[16]),I=c(I,_,k,j,S,9,s[17]),j=c(j,I,_,k,q,14,s[18]),k=c(k,j,I,_,D,20,s[19]),_=c(_,k,j,I,A,5,s[20]),I=c(I,_,k,j,M,9,s[21]),j=c(j,I,_,k,V,14,s[22]),k=c(k,j,I,_,P,20,s[23]),_=c(_,k,j,I,T,5,s[24]),I=c(I,_,k,j,O,9,s[25]),j=c(j,I,_,k,F,14,s[26]),k=c(k,j,I,_,R,20,s[27]),_=c(_,k,j,I,H,5,s[28]),I=c(I,_,k,j,B,9,s[29]),j=c(j,I,_,k,w,14,s[30]),k=c(k,j,I,_,L,20,s[31]),_=d(_,k,j,I,A,4,s[32]),I=d(I,_,k,j,R,11,s[33]),j=d(j,I,_,k,q,16,s[34]),k=d(k,j,I,_,O,23,s[35]),_=d(_,k,j,I,b,4,s[36]),I=d(I,_,k,j,P,11,s[37]),j=d(j,I,_,k,w,16,s[38]),k=d(k,j,I,_,M,23,s[39]),_=d(_,k,j,I,H,4,s[40]),I=d(I,_,k,j,D,11,s[41]),j=d(j,I,_,k,F,16,s[42]),k=d(k,j,I,_,S,23,s[43]),_=d(_,k,j,I,T,4,s[44]),I=d(I,_,k,j,L,11,s[45]),j=d(j,I,_,k,V,16,s[46]),k=d(k,j,I,_,B,23,s[47]),_=p(_,k,j,I,D,6,s[48]),I=p(I,_,k,j,w,10,s[49]),j=p(j,I,_,k,O,15,s[50]),k=p(k,j,I,_,A,21,s[51]),_=p(_,k,j,I,L,6,s[52]),I=p(I,_,k,j,F,10,s[53]),j=p(j,I,_,k,M,15,s[54]),k=p(k,j,I,_,b,21,s[55]),_=p(_,k,j,I,R,6,s[56]),I=p(I,_,k,j,V,10,s[57]),j=p(j,I,_,k,S,15,s[58]),k=p(k,j,I,_,H,21,s[59]),_=p(_,k,j,I,P,6,s[60]),I=p(I,_,k,j,q,10,s[61]),j=p(j,I,_,k,B,15,s[62]),k=p(k,j,I,_,T,21,s[63]),E[0]=E[0]+_|0,E[1]=E[1]+k|0,E[2]=E[2]+j|0,E[3]=E[3]+I|0},_doFinalize:function(){var C=this._data,g=C.words,y=this._nDataBytes*8,h=C.sigBytes*8;g[h>>>5]|=128<<24-h%32;var m=n.floor(y/4294967296),E=y;g[(h+64>>>9<<4)+15]=(m<<8|m>>>24)&16711935|(m<<24|m>>>8)&4278255360,g[(h+64>>>9<<4)+14]=(E<<8|E>>>24)&16711935|(E<<24|E>>>8)&4278255360,C.sigBytes=(g.length+1)*4,this._process();for(var D=this._hash,b=D.words,B=0;B<4;B++){var F=b[B];b[B]=(F<<8|F>>>24)&16711935|(F<<24|F>>>8)&4278255360}return D},clone:function(){var C=l.clone.call(this);return C._hash=this._hash.clone(),C}});function v(C,g,y,h,m,E,D){var b=C+(g&y|~g&h)+m+D;return(b<<E|b>>>32-E)+g}function c(C,g,y,h,m,E,D){var b=C+(g&h|y&~h)+m+D;return(b<<E|b>>>32-E)+g}function d(C,g,y,h,m,E,D){var b=C+(g^y^h)+m+D;return(b<<E|b>>>32-E)+g}function p(C,g,y,h,m,E,D){var b=C+(y^(g|~h))+m+D;return(b<<E|b>>>32-E)+g}a.MD5=l._createHelper(o),a.HmacMD5=l._createHmacHelper(o)}(Math),r.MD5})}(md5)),md5.exports}var sha1={exports:{}},hasRequiredSha1;function requireSha1(){return hasRequiredSha1||(hasRequiredSha1=1,function(e,t){(function(r,n){e.exports=n(requireCore())})(commonjsGlobal,function(r){return function(){var n=r,a=n.lib,i=a.WordArray,u=a.Hasher,l=n.algo,x=[],s=l.SHA1=u.extend({_doReset:function(){this._hash=new i.init([1732584193,4023233417,2562383102,271733878,3285377520])},_doProcessBlock:function(o,v){for(var c=this._hash.words,d=c[0],p=c[1],C=c[2],g=c[3],y=c[4],h=0;h<80;h++){if(h<16)x[h]=o[v+h]|0;else{var m=x[h-3]^x[h-8]^x[h-14]^x[h-16];x[h]=m<<1|m>>>31}var E=(d<<5|d>>>27)+y+x[h];h<20?E+=(p&C|~p&g)+1518500249:h<40?E+=(p^C^g)+1859775393:h<60?E+=(p&C|p&g|C&g)-1894007588:E+=(p^C^g)-899497514,y=g,g=C,C=p<<30|p>>>2,p=d,d=E}c[0]=c[0]+d|0,c[1]=c[1]+p|0,c[2]=c[2]+C|0,c[3]=c[3]+g|0,c[4]=c[4]+y|0},_doFinalize:function(){var o=this._data,v=o.words,c=this._nDataBytes*8,d=o.sigBytes*8;return v[d>>>5]|=128<<24-d%32,v[(d+64>>>9<<4)+14]=Math.floor(c/4294967296),v[(d+64>>>9<<4)+15]=c,o.sigBytes=v.length*4,this._process(),this._hash},clone:function(){var o=u.clone.call(this);return o._hash=this._hash.clone(),o}});n.SHA1=u._createHelper(s),n.HmacSHA1=u._createHmacHelper(s)}(),r.SHA1})}(sha1)),sha1.exports}var sha256={exports:{}},hasRequiredSha256;function requireSha256(){return hasRequiredSha256||(hasRequiredSha256=1,function(e,t){(function(r,n){e.exports=n(requireCore())})(commonjsGlobal,function(r){return function(n){var a=r,i=a.lib,u=i.WordArray,l=i.Hasher,x=a.algo,s=[],o=[];(function(){function d(y){for(var h=n.sqrt(y),m=2;m<=h;m++)if(!(y%m))return!1;return!0}function p(y){return(y-(y|0))*4294967296|0}for(var C=2,g=0;g<64;)d(C)&&(g<8&&(s[g]=p(n.pow(C,1/2))),o[g]=p(n.pow(C,1/3)),g++),C++})();var v=[],c=x.SHA256=l.extend({_doReset:function(){this._hash=new u.init(s.slice(0))},_doProcessBlock:function(d,p){for(var C=this._hash.words,g=C[0],y=C[1],h=C[2],m=C[3],E=C[4],D=C[5],b=C[6],B=C[7],F=0;F<64;F++){if(F<16)v[F]=d[p+F]|0;else{var P=v[F-15],A=(P<<25|P>>>7)^(P<<14|P>>>18)^P>>>3,S=v[F-2],w=(S<<15|S>>>17)^(S<<13|S>>>19)^S>>>10;v[F]=A+v[F-7]+w+v[F-16]}var R=E&D^~E&b,T=g&y^g&h^y&h,M=(g<<30|g>>>2)^(g<<19|g>>>13)^(g<<10|g>>>22),q=(E<<26|E>>>6)^(E<<21|E>>>11)^(E<<7|E>>>25),L=B+q+R+o[F]+v[F],H=M+T;B=b,b=D,D=E,E=m+L|0,m=h,h=y,y=g,g=L+H|0}C[0]=C[0]+g|0,C[1]=C[1]+y|0,C[2]=C[2]+h|0,C[3]=C[3]+m|0,C[4]=C[4]+E|0,C[5]=C[5]+D|0,C[6]=C[6]+b|0,C[7]=C[7]+B|0},_doFinalize:function(){var d=this._data,p=d.words,C=this._nDataBytes*8,g=d.sigBytes*8;return p[g>>>5]|=128<<24-g%32,p[(g+64>>>9<<4)+14]=n.floor(C/4294967296),p[(g+64>>>9<<4)+15]=C,d.sigBytes=p.length*4,this._process(),this._hash},clone:function(){var d=l.clone.call(this);return d._hash=this._hash.clone(),d}});a.SHA256=l._createHelper(c),a.HmacSHA256=l._createHmacHelper(c)}(Math),r.SHA256})}(sha256)),sha256.exports}var sha224={exports:{}},hasRequiredSha224;function requireSha224(){return hasRequiredSha224||(hasRequiredSha224=1,function(e,t){(function(r,n,a){e.exports=n(requireCore(),requireSha256())})(commonjsGlobal,function(r){return function(){var n=r,a=n.lib,i=a.WordArray,u=n.algo,l=u.SHA256,x=u.SHA224=l.extend({_doReset:function(){this._hash=new i.init([3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428])},_doFinalize:function(){var s=l._doFinalize.call(this);return s.sigBytes-=4,s}});n.SHA224=l._createHelper(x),n.HmacSHA224=l._createHmacHelper(x)}(),r.SHA224})}(sha224)),sha224.exports}var sha512={exports:{}},hasRequiredSha512;function requireSha512(){return hasRequiredSha512||(hasRequiredSha512=1,function(e,t){(function(r,n,a){e.exports=n(requireCore(),requireX64Core())})(commonjsGlobal,function(r){return function(){var n=r,a=n.lib,i=a.Hasher,u=n.x64,l=u.Word,x=u.WordArray,s=n.algo;function o(){return l.create.apply(l,arguments)}var v=[o(1116352408,3609767458),o(1899447441,602891725),o(3049323471,3964484399),o(3921009573,2173295548),o(961987163,4081628472),o(1508970993,3053834265),o(2453635748,2937671579),o(2870763221,3664609560),o(3624381080,2734883394),o(310598401,1164996542),o(607225278,1323610764),o(1426881987,3590304994),o(1925078388,4068182383),o(2162078206,991336113),o(2614888103,633803317),o(3248222580,3479774868),o(3835390401,2666613458),o(4022224774,944711139),o(264347078,2341262773),o(604807628,2007800933),o(770255983,1495990901),o(1249150122,1856431235),o(1555081692,3175218132),o(1996064986,2198950837),o(2554220882,3999719339),o(2821834349,766784016),o(2952996808,2566594879),o(3210313671,3203337956),o(3336571891,1034457026),o(3584528711,2466948901),o(113926993,3758326383),o(338241895,168717936),o(666307205,1188179964),o(773529912,1546045734),o(1294757372,1522805485),o(1396182291,2643833823),o(1695183700,2343527390),o(1986661051,1014477480),o(2177026350,1206759142),o(2456956037,344077627),o(2730485921,1290863460),o(2820302411,3158454273),o(3259730800,3505952657),o(3345764771,106217008),o(3516065817,3606008344),o(3600352804,1432725776),o(4094571909,1467031594),o(275423344,851169720),o(430227734,3100823752),o(506948616,1363258195),o(659060556,3750685593),o(883997877,3785050280),o(958139571,3318307427),o(1322822218,3812723403),o(1537002063,2003034995),o(1747873779,3602036899),o(1955562222,1575990012),o(2024104815,1125592928),o(2227730452,2716904306),o(2361852424,442776044),o(2428436474,593698344),o(2756734187,3733110249),o(3204031479,2999351573),o(3329325298,3815920427),o(3391569614,3928383900),o(3515267271,566280711),o(3940187606,3454069534),o(4118630271,4000239992),o(116418474,1914138554),o(174292421,2731055270),o(289380356,3203993006),o(460393269,320620315),o(685471733,587496836),o(852142971,1086792851),o(1017036298,365543100),o(1126000580,2618297676),o(1288033470,3409855158),o(1501505948,4234509866),o(1607167915,987167468),o(1816402316,1246189591)],c=[];(function(){for(var p=0;p<80;p++)c[p]=o()})();var d=s.SHA512=i.extend({_doReset:function(){this._hash=new x.init([new l.init(1779033703,4089235720),new l.init(3144134277,2227873595),new l.init(1013904242,4271175723),new l.init(2773480762,1595750129),new l.init(1359893119,2917565137),new l.init(2600822924,725511199),new l.init(528734635,4215389547),new l.init(1541459225,327033209)])},_doProcessBlock:function(p,C){for(var g=this._hash.words,y=g[0],h=g[1],m=g[2],E=g[3],D=g[4],b=g[5],B=g[6],F=g[7],P=y.high,A=y.low,S=h.high,w=h.low,R=m.high,T=m.low,M=E.high,q=E.low,L=D.high,H=D.low,O=b.high,V=b.low,_=B.high,k=B.low,j=F.high,I=F.low,z=P,W=A,G=S,N=w,re=R,J=T,de=M,ne=q,Z=L,U=H,le=O,ae=V,ue=_,se=k,pe=j,ie=I,X=0;X<80;X++){var K,Q,xe=c[X];if(X<16)Q=xe.high=p[C+X*2]|0,K=xe.low=p[C+X*2+1]|0;else{var fe=c[X-15],ee=fe.high,oe=fe.low,Se=(ee>>>1|oe<<31)^(ee>>>8|oe<<24)^ee>>>7,he=(oe>>>1|ee<<31)^(oe>>>8|ee<<24)^(oe>>>7|ee<<25),me=c[X-2],te=me.high,ce=me.low,Fe=(te>>>19|ce<<13)^(te<<3|ce>>>29)^te>>>6,ve=(ce>>>19|te<<13)^(ce<<3|te>>>29)^(ce>>>6|te<<26),ge=c[X-7],_e=ge.high,Re=ge.low,Ce=c[X-16],we=Ce.high,Ee=Ce.low;K=he+Re,Q=Se+_e+(K>>>0<he>>>0?1:0),K=K+ve,Q=Q+Fe+(K>>>0<ve>>>0?1:0),K=K+Ee,Q=Q+we+(K>>>0<Ee>>>0?1:0),xe.high=Q,xe.low=K}var Ie=Z&le^~Z&ue,ye=U&ae^~U&se,ke=z&G^z&re^G&re,je=W&N^W&J^N&J,Pe=(z>>>28|W<<4)^(z<<30|W>>>2)^(z<<25|W>>>7),Ae=(W>>>28|z<<4)^(W<<30|z>>>2)^(W<<25|z>>>7),Te=(Z>>>14|U<<18)^(Z>>>18|U<<14)^(Z<<23|U>>>9),Me=(U>>>14|Z<<18)^(U>>>18|Z<<14)^(U<<23|Z>>>9),be=v[X],qe=be.high,De=be.low,$=ie+Me,Y=pe+Te+($>>>0<ie>>>0?1:0),$=$+ye,Y=Y+Ie+($>>>0<ye>>>0?1:0),$=$+De,Y=Y+qe+($>>>0<De>>>0?1:0),$=$+K,Y=Y+Q+($>>>0<K>>>0?1:0),Be=Ae+je,Le=Pe+ke+(Be>>>0<Ae>>>0?1:0);pe=ue,ie=se,ue=le,se=ae,le=Z,ae=U,U=ne+$|0,Z=de+Y+(U>>>0<ne>>>0?1:0)|0,de=re,ne=J,re=G,J=N,G=z,N=W,W=$+Be|0,z=Y+Le+(W>>>0<$>>>0?1:0)|0}A=y.low=A+W,y.high=P+z+(A>>>0<W>>>0?1:0),w=h.low=w+N,h.high=S+G+(w>>>0<N>>>0?1:0),T=m.low=T+J,m.high=R+re+(T>>>0<J>>>0?1:0),q=E.low=q+ne,E.high=M+de+(q>>>0<ne>>>0?1:0),H=D.low=H+U,D.high=L+Z+(H>>>0<U>>>0?1:0),V=b.low=V+ae,b.high=O+le+(V>>>0<ae>>>0?1:0),k=B.low=k+se,B.high=_+ue+(k>>>0<se>>>0?1:0),I=F.low=I+ie,F.high=j+pe+(I>>>0<ie>>>0?1:0)},_doFinalize:function(){var p=this._data,C=p.words,g=this._nDataBytes*8,y=p.sigBytes*8;C[y>>>5]|=128<<24-y%32,C[(y+128>>>10<<5)+30]=Math.floor(g/4294967296),C[(y+128>>>10<<5)+31]=g,p.sigBytes=C.length*4,this._process();var h=this._hash.toX32();return h},clone:function(){var p=i.clone.call(this);return p._hash=this._hash.clone(),p},blockSize:1024/32});n.SHA512=i._createHelper(d),n.HmacSHA512=i._createHmacHelper(d)}(),r.SHA512})}(sha512)),sha512.exports}var sha384={exports:{}},hasRequiredSha384;function requireSha384(){return hasRequiredSha384||(hasRequiredSha384=1,function(e,t){(function(r,n,a){e.exports=n(requireCore(),requireX64Core(),requireSha512())})(commonjsGlobal,function(r){return function(){var n=r,a=n.x64,i=a.Word,u=a.WordArray,l=n.algo,x=l.SHA512,s=l.SHA384=x.extend({_doReset:function(){this._hash=new u.init([new i.init(3418070365,3238371032),new i.init(1654270250,914150663),new i.init(2438529370,812702999),new i.init(355462360,4144912697),new i.init(1731405415,4290775857),new i.init(2394180231,1750603025),new i.init(3675008525,1694076839),new i.init(1203062813,3204075428)])},_doFinalize:function(){var o=x._doFinalize.call(this);return o.sigBytes-=16,o}});n.SHA384=x._createHelper(s),n.HmacSHA384=x._createHmacHelper(s)}(),r.SHA384})}(sha384)),sha384.exports}var sha3={exports:{}},hasRequiredSha3;function requireSha3(){return hasRequiredSha3||(hasRequiredSha3=1,function(e,t){(function(r,n,a){e.exports=n(requireCore(),requireX64Core())})(commonjsGlobal,function(r){return function(n){var a=r,i=a.lib,u=i.WordArray,l=i.Hasher,x=a.x64,s=x.Word,o=a.algo,v=[],c=[],d=[];(function(){for(var g=1,y=0,h=0;h<24;h++){v[g+5*y]=(h+1)*(h+2)/2%64;var m=y%5,E=(2*g+3*y)%5;g=m,y=E}for(var g=0;g<5;g++)for(var y=0;y<5;y++)c[g+5*y]=y+(2*g+3*y)%5*5;for(var D=1,b=0;b<24;b++){for(var B=0,F=0,P=0;P<7;P++){if(D&1){var A=(1<<P)-1;A<32?F^=1<<A:B^=1<<A-32}D&128?D=D<<1^113:D<<=1}d[b]=s.create(B,F)}})();var p=[];(function(){for(var g=0;g<25;g++)p[g]=s.create()})();var C=o.SHA3=l.extend({cfg:l.cfg.extend({outputLength:512}),_doReset:function(){for(var g=this._state=[],y=0;y<25;y++)g[y]=new s.init;this.blockSize=(1600-2*this.cfg.outputLength)/32},_doProcessBlock:function(g,y){for(var h=this._state,m=this.blockSize/2,E=0;E<m;E++){var D=g[y+2*E],b=g[y+2*E+1];D=(D<<8|D>>>24)&16711935|(D<<24|D>>>8)&4278255360,b=(b<<8|b>>>24)&16711935|(b<<24|b>>>8)&4278255360;var B=h[E];B.high^=b,B.low^=D}for(var F=0;F<24;F++){for(var P=0;P<5;P++){for(var A=0,S=0,w=0;w<5;w++){var B=h[P+5*w];A^=B.high,S^=B.low}var R=p[P];R.high=A,R.low=S}for(var P=0;P<5;P++)for(var T=p[(P+4)%5],M=p[(P+1)%5],q=M.high,L=M.low,A=T.high^(q<<1|L>>>31),S=T.low^(L<<1|q>>>31),w=0;w<5;w++){var B=h[P+5*w];B.high^=A,B.low^=S}for(var H=1;H<25;H++){var A,S,B=h[H],O=B.high,V=B.low,_=v[H];_<32?(A=O<<_|V>>>32-_,S=V<<_|O>>>32-_):(A=V<<_-32|O>>>64-_,S=O<<_-32|V>>>64-_);var k=p[c[H]];k.high=A,k.low=S}var j=p[0],I=h[0];j.high=I.high,j.low=I.low;for(var P=0;P<5;P++)for(var w=0;w<5;w++){var H=P+5*w,B=h[H],z=p[H],W=p[(P+1)%5+5*w],G=p[(P+2)%5+5*w];B.high=z.high^~W.high&G.high,B.low=z.low^~W.low&G.low}var B=h[0],N=d[F];B.high^=N.high,B.low^=N.low}},_doFinalize:function(){var g=this._data,y=g.words;this._nDataBytes*8;var h=g.sigBytes*8,m=this.blockSize*32;y[h>>>5]|=1<<24-h%32,y[(n.ceil((h+1)/m)*m>>>5)-1]|=128,g.sigBytes=y.length*4,this._process();for(var E=this._state,D=this.cfg.outputLength/8,b=D/8,B=[],F=0;F<b;F++){var P=E[F],A=P.high,S=P.low;A=(A<<8|A>>>24)&16711935|(A<<24|A>>>8)&4278255360,S=(S<<8|S>>>24)&16711935|(S<<24|S>>>8)&4278255360,B.push(S),B.push(A)}return new u.init(B,D)},clone:function(){for(var g=l.clone.call(this),y=g._state=this._state.slice(0),h=0;h<25;h++)y[h]=y[h].clone();return g}});a.SHA3=l._createHelper(C),a.HmacSHA3=l._createHmacHelper(C)}(Math),r.SHA3})}(sha3)),sha3.exports}var ripemd160={exports:{}},hasRequiredRipemd160;function requireRipemd160(){return hasRequiredRipemd160||(hasRequiredRipemd160=1,function(e,t){(function(r,n){e.exports=n(requireCore())})(commonjsGlobal,function(r){/** @preserve
			(c) 2012 by Cédric Mesnil. All rights reserved.

			Redistribution and use in source and binary forms, with or without modification, are permitted provided that the following conditions are met:

			    - Redistributions of source code must retain the above copyright notice, this list of conditions and the following disclaimer.
			    - Redistributions in binary form must reproduce the above copyright notice, this list of conditions and the following disclaimer in the documentation and/or other materials provided with the distribution.

			THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
			*/return function(n){var a=r,i=a.lib,u=i.WordArray,l=i.Hasher,x=a.algo,s=u.create([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13]),o=u.create([5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11]),v=u.create([11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6]),c=u.create([8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11]),d=u.create([0,1518500249,1859775393,2400959708,2840853838]),p=u.create([1352829926,1548603684,1836072691,2053994217,0]),C=x.RIPEMD160=l.extend({_doReset:function(){this._hash=u.create([1732584193,4023233417,2562383102,271733878,3285377520])},_doProcessBlock:function(b,B){for(var F=0;F<16;F++){var P=B+F,A=b[P];b[P]=(A<<8|A>>>24)&16711935|(A<<24|A>>>8)&4278255360}var S=this._hash.words,w=d.words,R=p.words,T=s.words,M=o.words,q=v.words,L=c.words,H,O,V,_,k,j,I,z,W,G;j=H=S[0],I=O=S[1],z=V=S[2],W=_=S[3],G=k=S[4];for(var N,F=0;F<80;F+=1)N=H+b[B+T[F]]|0,F<16?N+=g(O,V,_)+w[0]:F<32?N+=y(O,V,_)+w[1]:F<48?N+=h(O,V,_)+w[2]:F<64?N+=m(O,V,_)+w[3]:N+=E(O,V,_)+w[4],N=N|0,N=D(N,q[F]),N=N+k|0,H=k,k=_,_=D(V,10),V=O,O=N,N=j+b[B+M[F]]|0,F<16?N+=E(I,z,W)+R[0]:F<32?N+=m(I,z,W)+R[1]:F<48?N+=h(I,z,W)+R[2]:F<64?N+=y(I,z,W)+R[3]:N+=g(I,z,W)+R[4],N=N|0,N=D(N,L[F]),N=N+G|0,j=G,G=W,W=D(z,10),z=I,I=N;N=S[1]+V+W|0,S[1]=S[2]+_+G|0,S[2]=S[3]+k+j|0,S[3]=S[4]+H+I|0,S[4]=S[0]+O+z|0,S[0]=N},_doFinalize:function(){var b=this._data,B=b.words,F=this._nDataBytes*8,P=b.sigBytes*8;B[P>>>5]|=128<<24-P%32,B[(P+64>>>9<<4)+14]=(F<<8|F>>>24)&16711935|(F<<24|F>>>8)&4278255360,b.sigBytes=(B.length+1)*4,this._process();for(var A=this._hash,S=A.words,w=0;w<5;w++){var R=S[w];S[w]=(R<<8|R>>>24)&16711935|(R<<24|R>>>8)&4278255360}return A},clone:function(){var b=l.clone.call(this);return b._hash=this._hash.clone(),b}});function g(b,B,F){return b^B^F}function y(b,B,F){return b&B|~b&F}function h(b,B,F){return(b|~B)^F}function m(b,B,F){return b&F|B&~F}function E(b,B,F){return b^(B|~F)}function D(b,B){return b<<B|b>>>32-B}a.RIPEMD160=l._createHelper(C),a.HmacRIPEMD160=l._createHmacHelper(C)}(),r.RIPEMD160})}(ripemd160)),ripemd160.exports}var hmac={exports:{}},hasRequiredHmac;function requireHmac(){return hasRequiredHmac||(hasRequiredHmac=1,function(e,t){(function(r,n){e.exports=n(requireCore())})(commonjsGlobal,function(r){(function(){var n=r,a=n.lib,i=a.Base,u=n.enc,l=u.Utf8,x=n.algo;x.HMAC=i.extend({init:function(s,o){s=this._hasher=new s.init,typeof o=="string"&&(o=l.parse(o));var v=s.blockSize,c=v*4;o.sigBytes>c&&(o=s.finalize(o)),o.clamp();for(var d=this._oKey=o.clone(),p=this._iKey=o.clone(),C=d.words,g=p.words,y=0;y<v;y++)C[y]^=1549556828,g[y]^=909522486;d.sigBytes=p.sigBytes=c,this.reset()},reset:function(){var s=this._hasher;s.reset(),s.update(this._iKey)},update:function(s){return this._hasher.update(s),this},finalize:function(s){var o=this._hasher,v=o.finalize(s);o.reset();var c=o.finalize(this._oKey.clone().concat(v));return c}})})()})}(hmac)),hmac.exports}var pbkdf2={exports:{}},hasRequiredPbkdf2;function requirePbkdf2(){return hasRequiredPbkdf2||(hasRequiredPbkdf2=1,function(e,t){(function(r,n,a){e.exports=n(requireCore(),requireSha256(),requireHmac())})(commonjsGlobal,function(r){return function(){var n=r,a=n.lib,i=a.Base,u=a.WordArray,l=n.algo,x=l.SHA256,s=l.HMAC,o=l.PBKDF2=i.extend({cfg:i.extend({keySize:128/32,hasher:x,iterations:25e4}),init:function(v){this.cfg=this.cfg.extend(v)},compute:function(v,c){for(var d=this.cfg,p=s.create(d.hasher,v),C=u.create(),g=u.create([1]),y=C.words,h=g.words,m=d.keySize,E=d.iterations;y.length<m;){var D=p.update(c).finalize(g);p.reset();for(var b=D.words,B=b.length,F=D,P=1;P<E;P++){F=p.finalize(F),p.reset();for(var A=F.words,S=0;S<B;S++)b[S]^=A[S]}C.concat(D),h[0]++}return C.sigBytes=m*4,C}});n.PBKDF2=function(v,c,d){return o.create(d).compute(v,c)}}(),r.PBKDF2})}(pbkdf2)),pbkdf2.exports}var evpkdf={exports:{}},hasRequiredEvpkdf;function requireEvpkdf(){return hasRequiredEvpkdf||(hasRequiredEvpkdf=1,function(e,t){(function(r,n,a){e.exports=n(requireCore(),requireSha1(),requireHmac())})(commonjsGlobal,function(r){return function(){var n=r,a=n.lib,i=a.Base,u=a.WordArray,l=n.algo,x=l.MD5,s=l.EvpKDF=i.extend({cfg:i.extend({keySize:128/32,hasher:x,iterations:1}),init:function(o){this.cfg=this.cfg.extend(o)},compute:function(o,v){for(var c,d=this.cfg,p=d.hasher.create(),C=u.create(),g=C.words,y=d.keySize,h=d.iterations;g.length<y;){c&&p.update(c),c=p.update(o).finalize(v),p.reset();for(var m=1;m<h;m++)c=p.finalize(c),p.reset();C.concat(c)}return C.sigBytes=y*4,C}});n.EvpKDF=function(o,v,c){return s.create(c).compute(o,v)}}(),r.EvpKDF})}(evpkdf)),evpkdf.exports}var cipherCore={exports:{}},hasRequiredCipherCore;function requireCipherCore(){return hasRequiredCipherCore||(hasRequiredCipherCore=1,function(e,t){(function(r,n,a){e.exports=n(requireCore(),requireEvpkdf())})(commonjsGlobal,function(r){r.lib.Cipher||function(n){var a=r,i=a.lib,u=i.Base,l=i.WordArray,x=i.BufferedBlockAlgorithm,s=a.enc;s.Utf8;var o=s.Base64,v=a.algo,c=v.EvpKDF,d=i.Cipher=x.extend({cfg:u.extend(),createEncryptor:function(A,S){return this.create(this._ENC_XFORM_MODE,A,S)},createDecryptor:function(A,S){return this.create(this._DEC_XFORM_MODE,A,S)},init:function(A,S,w){this.cfg=this.cfg.extend(w),this._xformMode=A,this._key=S,this.reset()},reset:function(){x.reset.call(this),this._doReset()},process:function(A){return this._append(A),this._process()},finalize:function(A){A&&this._append(A);var S=this._doFinalize();return S},keySize:128/32,ivSize:128/32,_ENC_XFORM_MODE:1,_DEC_XFORM_MODE:2,_createHelper:function(){function A(S){return typeof S=="string"?P:b}return function(S){return{encrypt:function(w,R,T){return A(R).encrypt(S,w,R,T)},decrypt:function(w,R,T){return A(R).decrypt(S,w,R,T)}}}}()});i.StreamCipher=d.extend({_doFinalize:function(){var A=this._process(!0);return A},blockSize:1});var p=a.mode={},C=i.BlockCipherMode=u.extend({createEncryptor:function(A,S){return this.Encryptor.create(A,S)},createDecryptor:function(A,S){return this.Decryptor.create(A,S)},init:function(A,S){this._cipher=A,this._iv=S}}),g=p.CBC=function(){var A=C.extend();A.Encryptor=A.extend({processBlock:function(w,R){var T=this._cipher,M=T.blockSize;S.call(this,w,R,M),T.encryptBlock(w,R),this._prevBlock=w.slice(R,R+M)}}),A.Decryptor=A.extend({processBlock:function(w,R){var T=this._cipher,M=T.blockSize,q=w.slice(R,R+M);T.decryptBlock(w,R),S.call(this,w,R,M),this._prevBlock=q}});function S(w,R,T){var M,q=this._iv;q?(M=q,this._iv=n):M=this._prevBlock;for(var L=0;L<T;L++)w[R+L]^=M[L]}return A}(),y=a.pad={},h=y.Pkcs7={pad:function(A,S){for(var w=S*4,R=w-A.sigBytes%w,T=R<<24|R<<16|R<<8|R,M=[],q=0;q<R;q+=4)M.push(T);var L=l.create(M,R);A.concat(L)},unpad:function(A){var S=A.words[A.sigBytes-1>>>2]&255;A.sigBytes-=S}};i.BlockCipher=d.extend({cfg:d.cfg.extend({mode:g,padding:h}),reset:function(){var A;d.reset.call(this);var S=this.cfg,w=S.iv,R=S.mode;this._xformMode==this._ENC_XFORM_MODE?A=R.createEncryptor:(A=R.createDecryptor,this._minBufferSize=1),this._mode&&this._mode.__creator==A?this._mode.init(this,w&&w.words):(this._mode=A.call(R,this,w&&w.words),this._mode.__creator=A)},_doProcessBlock:function(A,S){this._mode.processBlock(A,S)},_doFinalize:function(){var A,S=this.cfg.padding;return this._xformMode==this._ENC_XFORM_MODE?(S.pad(this._data,this.blockSize),A=this._process(!0)):(A=this._process(!0),S.unpad(A)),A},blockSize:128/32});var m=i.CipherParams=u.extend({init:function(A){this.mixIn(A)},toString:function(A){return(A||this.formatter).stringify(this)}}),E=a.format={},D=E.OpenSSL={stringify:function(A){var S,w=A.ciphertext,R=A.salt;return R?S=l.create([1398893684,1701076831]).concat(R).concat(w):S=w,S.toString(o)},parse:function(A){var S,w=o.parse(A),R=w.words;return R[0]==1398893684&&R[1]==1701076831&&(S=l.create(R.slice(2,4)),R.splice(0,4),w.sigBytes-=16),m.create({ciphertext:w,salt:S})}},b=i.SerializableCipher=u.extend({cfg:u.extend({format:D}),encrypt:function(A,S,w,R){R=this.cfg.extend(R);var T=A.createEncryptor(w,R),M=T.finalize(S),q=T.cfg;return m.create({ciphertext:M,key:w,iv:q.iv,algorithm:A,mode:q.mode,padding:q.padding,blockSize:A.blockSize,formatter:R.format})},decrypt:function(A,S,w,R){R=this.cfg.extend(R),S=this._parse(S,R.format);var T=A.createDecryptor(w,R).finalize(S.ciphertext);return T},_parse:function(A,S){return typeof A=="string"?S.parse(A,this):A}}),B=a.kdf={},F=B.OpenSSL={execute:function(A,S,w,R,T){if(R||(R=l.random(64/8)),T)var M=c.create({keySize:S+w,hasher:T}).compute(A,R);else var M=c.create({keySize:S+w}).compute(A,R);var q=l.create(M.words.slice(S),w*4);return M.sigBytes=S*4,m.create({key:M,iv:q,salt:R})}},P=i.PasswordBasedCipher=b.extend({cfg:b.cfg.extend({kdf:F}),encrypt:function(A,S,w,R){R=this.cfg.extend(R);var T=R.kdf.execute(w,A.keySize,A.ivSize,R.salt,R.hasher);R.iv=T.iv;var M=b.encrypt.call(this,A,S,T.key,R);return M.mixIn(T),M},decrypt:function(A,S,w,R){R=this.cfg.extend(R),S=this._parse(S,R.format);var T=R.kdf.execute(w,A.keySize,A.ivSize,S.salt,R.hasher);R.iv=T.iv;var M=b.decrypt.call(this,A,S,T.key,R);return M}})}()})}(cipherCore)),cipherCore.exports}var modeCfb={exports:{}},hasRequiredModeCfb;function requireModeCfb(){return hasRequiredModeCfb||(hasRequiredModeCfb=1,function(e,t){(function(r,n,a){e.exports=n(requireCore(),requireCipherCore())})(commonjsGlobal,function(r){return r.mode.CFB=function(){var n=r.lib.BlockCipherMode.extend();n.Encryptor=n.extend({processBlock:function(i,u){var l=this._cipher,x=l.blockSize;a.call(this,i,u,x,l),this._prevBlock=i.slice(u,u+x)}}),n.Decryptor=n.extend({processBlock:function(i,u){var l=this._cipher,x=l.blockSize,s=i.slice(u,u+x);a.call(this,i,u,x,l),this._prevBlock=s}});function a(i,u,l,x){var s,o=this._iv;o?(s=o.slice(0),this._iv=void 0):s=this._prevBlock,x.encryptBlock(s,0);for(var v=0;v<l;v++)i[u+v]^=s[v]}return n}(),r.mode.CFB})}(modeCfb)),modeCfb.exports}var modeCtr={exports:{}},hasRequiredModeCtr;function requireModeCtr(){return hasRequiredModeCtr||(hasRequiredModeCtr=1,function(e,t){(function(r,n,a){e.exports=n(requireCore(),requireCipherCore())})(commonjsGlobal,function(r){return r.mode.CTR=function(){var n=r.lib.BlockCipherMode.extend(),a=n.Encryptor=n.extend({processBlock:function(i,u){var l=this._cipher,x=l.blockSize,s=this._iv,o=this._counter;s&&(o=this._counter=s.slice(0),this._iv=void 0);var v=o.slice(0);l.encryptBlock(v,0),o[x-1]=o[x-1]+1|0;for(var c=0;c<x;c++)i[u+c]^=v[c]}});return n.Decryptor=a,n}(),r.mode.CTR})}(modeCtr)),modeCtr.exports}var modeCtrGladman={exports:{}},hasRequiredModeCtrGladman;function requireModeCtrGladman(){return hasRequiredModeCtrGladman||(hasRequiredModeCtrGladman=1,function(e,t){(function(r,n,a){e.exports=n(requireCore(),requireCipherCore())})(commonjsGlobal,function(r){/** @preserve
 * Counter block mode compatible with  Dr Brian Gladman fileenc.c
 * derived from CryptoJS.mode.CTR
 * Jan Hruby jhruby.web@gmail.com
 */return r.mode.CTRGladman=function(){var n=r.lib.BlockCipherMode.extend();function a(l){if((l>>24&255)===255){var x=l>>16&255,s=l>>8&255,o=l&255;x===255?(x=0,s===255?(s=0,o===255?o=0:++o):++s):++x,l=0,l+=x<<16,l+=s<<8,l+=o}else l+=1<<24;return l}function i(l){return(l[0]=a(l[0]))===0&&(l[1]=a(l[1])),l}var u=n.Encryptor=n.extend({processBlock:function(l,x){var s=this._cipher,o=s.blockSize,v=this._iv,c=this._counter;v&&(c=this._counter=v.slice(0),this._iv=void 0),i(c);var d=c.slice(0);s.encryptBlock(d,0);for(var p=0;p<o;p++)l[x+p]^=d[p]}});return n.Decryptor=u,n}(),r.mode.CTRGladman})}(modeCtrGladman)),modeCtrGladman.exports}var modeOfb={exports:{}},hasRequiredModeOfb;function requireModeOfb(){return hasRequiredModeOfb||(hasRequiredModeOfb=1,function(e,t){(function(r,n,a){e.exports=n(requireCore(),requireCipherCore())})(commonjsGlobal,function(r){return r.mode.OFB=function(){var n=r.lib.BlockCipherMode.extend(),a=n.Encryptor=n.extend({processBlock:function(i,u){var l=this._cipher,x=l.blockSize,s=this._iv,o=this._keystream;s&&(o=this._keystream=s.slice(0),this._iv=void 0),l.encryptBlock(o,0);for(var v=0;v<x;v++)i[u+v]^=o[v]}});return n.Decryptor=a,n}(),r.mode.OFB})}(modeOfb)),modeOfb.exports}var modeEcb={exports:{}},hasRequiredModeEcb;function requireModeEcb(){return hasRequiredModeEcb||(hasRequiredModeEcb=1,function(e,t){(function(r,n,a){e.exports=n(requireCore(),requireCipherCore())})(commonjsGlobal,function(r){return r.mode.ECB=function(){var n=r.lib.BlockCipherMode.extend();return n.Encryptor=n.extend({processBlock:function(a,i){this._cipher.encryptBlock(a,i)}}),n.Decryptor=n.extend({processBlock:function(a,i){this._cipher.decryptBlock(a,i)}}),n}(),r.mode.ECB})}(modeEcb)),modeEcb.exports}var padAnsix923={exports:{}},hasRequiredPadAnsix923;function requirePadAnsix923(){return hasRequiredPadAnsix923||(hasRequiredPadAnsix923=1,function(e,t){(function(r,n,a){e.exports=n(requireCore(),requireCipherCore())})(commonjsGlobal,function(r){return r.pad.AnsiX923={pad:function(n,a){var i=n.sigBytes,u=a*4,l=u-i%u,x=i+l-1;n.clamp(),n.words[x>>>2]|=l<<24-x%4*8,n.sigBytes+=l},unpad:function(n){var a=n.words[n.sigBytes-1>>>2]&255;n.sigBytes-=a}},r.pad.Ansix923})}(padAnsix923)),padAnsix923.exports}var padIso10126={exports:{}},hasRequiredPadIso10126;function requirePadIso10126(){return hasRequiredPadIso10126||(hasRequiredPadIso10126=1,function(e,t){(function(r,n,a){e.exports=n(requireCore(),requireCipherCore())})(commonjsGlobal,function(r){return r.pad.Iso10126={pad:function(n,a){var i=a*4,u=i-n.sigBytes%i;n.concat(r.lib.WordArray.random(u-1)).concat(r.lib.WordArray.create([u<<24],1))},unpad:function(n){var a=n.words[n.sigBytes-1>>>2]&255;n.sigBytes-=a}},r.pad.Iso10126})}(padIso10126)),padIso10126.exports}var padIso97971={exports:{}},hasRequiredPadIso97971;function requirePadIso97971(){return hasRequiredPadIso97971||(hasRequiredPadIso97971=1,function(e,t){(function(r,n,a){e.exports=n(requireCore(),requireCipherCore())})(commonjsGlobal,function(r){return r.pad.Iso97971={pad:function(n,a){n.concat(r.lib.WordArray.create([2147483648],1)),r.pad.ZeroPadding.pad(n,a)},unpad:function(n){r.pad.ZeroPadding.unpad(n),n.sigBytes--}},r.pad.Iso97971})}(padIso97971)),padIso97971.exports}var padZeropadding={exports:{}},hasRequiredPadZeropadding;function requirePadZeropadding(){return hasRequiredPadZeropadding||(hasRequiredPadZeropadding=1,function(e,t){(function(r,n,a){e.exports=n(requireCore(),requireCipherCore())})(commonjsGlobal,function(r){return r.pad.ZeroPadding={pad:function(n,a){var i=a*4;n.clamp(),n.sigBytes+=i-(n.sigBytes%i||i)},unpad:function(n){for(var a=n.words,i=n.sigBytes-1,i=n.sigBytes-1;i>=0;i--)if(a[i>>>2]>>>24-i%4*8&255){n.sigBytes=i+1;break}}},r.pad.ZeroPadding})}(padZeropadding)),padZeropadding.exports}var padNopadding={exports:{}},hasRequiredPadNopadding;function requirePadNopadding(){return hasRequiredPadNopadding||(hasRequiredPadNopadding=1,function(e,t){(function(r,n,a){e.exports=n(requireCore(),requireCipherCore())})(commonjsGlobal,function(r){return r.pad.NoPadding={pad:function(){},unpad:function(){}},r.pad.NoPadding})}(padNopadding)),padNopadding.exports}var formatHex={exports:{}},hasRequiredFormatHex;function requireFormatHex(){return hasRequiredFormatHex||(hasRequiredFormatHex=1,function(e,t){(function(r,n,a){e.exports=n(requireCore(),requireCipherCore())})(commonjsGlobal,function(r){return function(n){var a=r,i=a.lib,u=i.CipherParams,l=a.enc,x=l.Hex,s=a.format;s.Hex={stringify:function(o){return o.ciphertext.toString(x)},parse:function(o){var v=x.parse(o);return u.create({ciphertext:v})}}}(),r.format.Hex})}(formatHex)),formatHex.exports}var aes={exports:{}},hasRequiredAes;function requireAes(){return hasRequiredAes||(hasRequiredAes=1,function(e,t){(function(r,n,a){e.exports=n(requireCore(),requireEncBase64(),requireMd5(),requireEvpkdf(),requireCipherCore())})(commonjsGlobal,function(r){return function(){var n=r,a=n.lib,i=a.BlockCipher,u=n.algo,l=[],x=[],s=[],o=[],v=[],c=[],d=[],p=[],C=[],g=[];(function(){for(var m=[],E=0;E<256;E++)E<128?m[E]=E<<1:m[E]=E<<1^283;for(var D=0,b=0,E=0;E<256;E++){var B=b^b<<1^b<<2^b<<3^b<<4;B=B>>>8^B&255^99,l[D]=B,x[B]=D;var F=m[D],P=m[F],A=m[P],S=m[B]*257^B*16843008;s[D]=S<<24|S>>>8,o[D]=S<<16|S>>>16,v[D]=S<<8|S>>>24,c[D]=S;var S=A*16843009^P*65537^F*257^D*16843008;d[B]=S<<24|S>>>8,p[B]=S<<16|S>>>16,C[B]=S<<8|S>>>24,g[B]=S,D?(D=F^m[m[m[A^F]]],b^=m[m[b]]):D=b=1}})();var y=[0,1,2,4,8,16,32,64,128,27,54],h=u.AES=i.extend({_doReset:function(){var m;if(!(this._nRounds&&this._keyPriorReset===this._key)){for(var E=this._keyPriorReset=this._key,D=E.words,b=E.sigBytes/4,B=this._nRounds=b+6,F=(B+1)*4,P=this._keySchedule=[],A=0;A<F;A++)A<b?P[A]=D[A]:(m=P[A-1],A%b?b>6&&A%b==4&&(m=l[m>>>24]<<24|l[m>>>16&255]<<16|l[m>>>8&255]<<8|l[m&255]):(m=m<<8|m>>>24,m=l[m>>>24]<<24|l[m>>>16&255]<<16|l[m>>>8&255]<<8|l[m&255],m^=y[A/b|0]<<24),P[A]=P[A-b]^m);for(var S=this._invKeySchedule=[],w=0;w<F;w++){var A=F-w;if(w%4)var m=P[A];else var m=P[A-4];w<4||A<=4?S[w]=m:S[w]=d[l[m>>>24]]^p[l[m>>>16&255]]^C[l[m>>>8&255]]^g[l[m&255]]}}},encryptBlock:function(m,E){this._doCryptBlock(m,E,this._keySchedule,s,o,v,c,l)},decryptBlock:function(m,E){var D=m[E+1];m[E+1]=m[E+3],m[E+3]=D,this._doCryptBlock(m,E,this._invKeySchedule,d,p,C,g,x);var D=m[E+1];m[E+1]=m[E+3],m[E+3]=D},_doCryptBlock:function(m,E,D,b,B,F,P,A){for(var S=this._nRounds,w=m[E]^D[0],R=m[E+1]^D[1],T=m[E+2]^D[2],M=m[E+3]^D[3],q=4,L=1;L<S;L++){var H=b[w>>>24]^B[R>>>16&255]^F[T>>>8&255]^P[M&255]^D[q++],O=b[R>>>24]^B[T>>>16&255]^F[M>>>8&255]^P[w&255]^D[q++],V=b[T>>>24]^B[M>>>16&255]^F[w>>>8&255]^P[R&255]^D[q++],_=b[M>>>24]^B[w>>>16&255]^F[R>>>8&255]^P[T&255]^D[q++];w=H,R=O,T=V,M=_}var H=(A[w>>>24]<<24|A[R>>>16&255]<<16|A[T>>>8&255]<<8|A[M&255])^D[q++],O=(A[R>>>24]<<24|A[T>>>16&255]<<16|A[M>>>8&255]<<8|A[w&255])^D[q++],V=(A[T>>>24]<<24|A[M>>>16&255]<<16|A[w>>>8&255]<<8|A[R&255])^D[q++],_=(A[M>>>24]<<24|A[w>>>16&255]<<16|A[R>>>8&255]<<8|A[T&255])^D[q++];m[E]=H,m[E+1]=O,m[E+2]=V,m[E+3]=_},keySize:256/32});n.AES=i._createHelper(h)}(),r.AES})}(aes)),aes.exports}var tripledes={exports:{}},hasRequiredTripledes;function requireTripledes(){return hasRequiredTripledes||(hasRequiredTripledes=1,function(e,t){(function(r,n,a){e.exports=n(requireCore(),requireEncBase64(),requireMd5(),requireEvpkdf(),requireCipherCore())})(commonjsGlobal,function(r){return function(){var n=r,a=n.lib,i=a.WordArray,u=a.BlockCipher,l=n.algo,x=[57,49,41,33,25,17,9,1,58,50,42,34,26,18,10,2,59,51,43,35,27,19,11,3,60,52,44,36,63,55,47,39,31,23,15,7,62,54,46,38,30,22,14,6,61,53,45,37,29,21,13,5,28,20,12,4],s=[14,17,11,24,1,5,3,28,15,6,21,10,23,19,12,4,26,8,16,7,27,20,13,2,41,52,31,37,47,55,30,40,51,45,33,48,44,49,39,56,34,53,46,42,50,36,29,32],o=[1,2,4,6,8,10,12,14,15,17,19,21,23,25,27,28],v=[{0:8421888,268435456:32768,536870912:8421378,805306368:2,1073741824:512,1342177280:8421890,1610612736:8389122,1879048192:8388608,2147483648:514,2415919104:8389120,2684354560:33280,2952790016:8421376,3221225472:32770,3489660928:8388610,3758096384:0,4026531840:33282,134217728:0,402653184:8421890,671088640:33282,939524096:32768,1207959552:8421888,1476395008:512,1744830464:8421378,2013265920:2,2281701376:8389120,2550136832:33280,2818572288:8421376,3087007744:8389122,3355443200:8388610,3623878656:32770,3892314112:514,4160749568:8388608,1:32768,268435457:2,536870913:8421888,805306369:8388608,1073741825:8421378,1342177281:33280,1610612737:512,1879048193:8389122,2147483649:8421890,2415919105:8421376,2684354561:8388610,2952790017:33282,3221225473:514,3489660929:8389120,3758096385:32770,4026531841:0,134217729:8421890,402653185:8421376,671088641:8388608,939524097:512,1207959553:32768,1476395009:8388610,1744830465:2,2013265921:33282,2281701377:32770,2550136833:8389122,2818572289:514,3087007745:8421888,3355443201:8389120,3623878657:0,3892314113:33280,4160749569:8421378},{0:1074282512,16777216:16384,33554432:524288,50331648:1074266128,67108864:1073741840,83886080:1074282496,100663296:1073758208,117440512:16,134217728:540672,150994944:1073758224,167772160:1073741824,184549376:540688,201326592:524304,218103808:0,234881024:16400,251658240:1074266112,8388608:1073758208,25165824:540688,41943040:16,58720256:1073758224,75497472:1074282512,92274688:1073741824,109051904:524288,125829120:1074266128,142606336:524304,159383552:0,176160768:16384,192937984:1074266112,209715200:1073741840,226492416:540672,243269632:1074282496,260046848:16400,268435456:0,285212672:1074266128,301989888:1073758224,318767104:1074282496,335544320:1074266112,352321536:16,369098752:540688,385875968:16384,402653184:16400,419430400:524288,436207616:524304,452984832:1073741840,469762048:540672,486539264:1073758208,503316480:1073741824,520093696:1074282512,276824064:540688,293601280:524288,310378496:1074266112,327155712:16384,343932928:1073758208,360710144:1074282512,377487360:16,394264576:1073741824,411041792:1074282496,427819008:1073741840,444596224:1073758224,461373440:524304,478150656:0,494927872:16400,511705088:1074266128,528482304:540672},{0:260,1048576:0,2097152:67109120,3145728:65796,4194304:65540,5242880:67108868,6291456:67174660,7340032:67174400,8388608:67108864,9437184:67174656,10485760:65792,11534336:67174404,12582912:67109124,13631488:65536,14680064:4,15728640:256,524288:67174656,1572864:67174404,2621440:0,3670016:67109120,4718592:67108868,5767168:65536,6815744:65540,7864320:260,8912896:4,9961472:256,11010048:67174400,12058624:65796,13107200:65792,14155776:67109124,15204352:67174660,16252928:67108864,16777216:67174656,17825792:65540,18874368:65536,19922944:67109120,20971520:256,22020096:67174660,23068672:67108868,24117248:0,25165824:67109124,26214400:67108864,27262976:4,28311552:65792,29360128:67174400,30408704:260,31457280:65796,32505856:67174404,17301504:67108864,18350080:260,19398656:67174656,20447232:0,21495808:65540,22544384:67109120,23592960:256,24641536:67174404,25690112:65536,26738688:67174660,27787264:65796,28835840:67108868,29884416:67109124,30932992:67174400,31981568:4,33030144:65792},{0:2151682048,65536:2147487808,131072:4198464,196608:2151677952,262144:0,327680:4198400,393216:2147483712,458752:4194368,524288:2147483648,589824:4194304,655360:64,720896:2147487744,786432:2151678016,851968:4160,917504:4096,983040:2151682112,32768:2147487808,98304:64,163840:2151678016,229376:2147487744,294912:4198400,360448:2151682112,425984:0,491520:2151677952,557056:4096,622592:2151682048,688128:4194304,753664:4160,819200:2147483648,884736:4194368,950272:4198464,1015808:2147483712,1048576:4194368,1114112:4198400,1179648:2147483712,1245184:0,1310720:4160,1376256:2151678016,1441792:2151682048,1507328:2147487808,1572864:2151682112,1638400:2147483648,1703936:2151677952,1769472:4198464,1835008:2147487744,1900544:4194304,1966080:64,2031616:4096,1081344:2151677952,1146880:2151682112,1212416:0,1277952:4198400,1343488:4194368,1409024:2147483648,1474560:2147487808,1540096:64,1605632:2147483712,1671168:4096,1736704:2147487744,1802240:2151678016,1867776:4160,1933312:2151682048,1998848:4194304,2064384:4198464},{0:128,4096:17039360,8192:262144,12288:536870912,16384:537133184,20480:16777344,24576:553648256,28672:262272,32768:16777216,36864:537133056,40960:536871040,45056:553910400,49152:553910272,53248:0,57344:17039488,61440:553648128,2048:17039488,6144:553648256,10240:128,14336:17039360,18432:262144,22528:537133184,26624:553910272,30720:536870912,34816:537133056,38912:0,43008:553910400,47104:16777344,51200:536871040,55296:553648128,59392:16777216,63488:262272,65536:262144,69632:128,73728:536870912,77824:553648256,81920:16777344,86016:553910272,90112:537133184,94208:16777216,98304:553910400,102400:553648128,106496:17039360,110592:537133056,114688:262272,118784:536871040,122880:0,126976:17039488,67584:553648256,71680:16777216,75776:17039360,79872:537133184,83968:536870912,88064:17039488,92160:128,96256:553910272,100352:262272,104448:553910400,108544:0,112640:553648128,116736:16777344,120832:262144,124928:537133056,129024:536871040},{0:268435464,256:8192,512:270532608,768:270540808,1024:268443648,1280:2097152,1536:2097160,1792:268435456,2048:0,2304:268443656,2560:2105344,2816:8,3072:270532616,3328:2105352,3584:8200,3840:270540800,128:270532608,384:270540808,640:8,896:2097152,1152:2105352,1408:268435464,1664:268443648,1920:8200,2176:2097160,2432:8192,2688:268443656,2944:270532616,3200:0,3456:270540800,3712:2105344,3968:268435456,4096:268443648,4352:270532616,4608:270540808,4864:8200,5120:2097152,5376:268435456,5632:268435464,5888:2105344,6144:2105352,6400:0,6656:8,6912:270532608,7168:8192,7424:268443656,7680:270540800,7936:2097160,4224:8,4480:2105344,4736:2097152,4992:268435464,5248:268443648,5504:8200,5760:270540808,6016:270532608,6272:270540800,6528:270532616,6784:8192,7040:2105352,7296:2097160,7552:0,7808:268435456,8064:268443656},{0:1048576,16:33555457,32:1024,48:1049601,64:34604033,80:0,96:1,112:34603009,128:33555456,144:1048577,160:33554433,176:34604032,192:34603008,208:1025,224:1049600,240:33554432,8:34603009,24:0,40:33555457,56:34604032,72:1048576,88:33554433,104:33554432,120:1025,136:1049601,152:33555456,168:34603008,184:1048577,200:1024,216:34604033,232:1,248:1049600,256:33554432,272:1048576,288:33555457,304:34603009,320:1048577,336:33555456,352:34604032,368:1049601,384:1025,400:34604033,416:1049600,432:1,448:0,464:34603008,480:33554433,496:1024,264:1049600,280:33555457,296:34603009,312:1,328:33554432,344:1048576,360:1025,376:34604032,392:33554433,408:34603008,424:0,440:34604033,456:1049601,472:1024,488:33555456,504:1048577},{0:134219808,1:131072,2:134217728,3:32,4:131104,5:134350880,6:134350848,7:2048,8:134348800,9:134219776,10:133120,11:134348832,12:2080,13:0,14:134217760,15:133152,2147483648:2048,2147483649:134350880,2147483650:134219808,2147483651:134217728,2147483652:134348800,2147483653:133120,2147483654:133152,2147483655:32,2147483656:134217760,2147483657:2080,2147483658:131104,2147483659:134350848,2147483660:0,2147483661:134348832,2147483662:134219776,2147483663:131072,16:133152,17:134350848,18:32,19:2048,20:134219776,21:134217760,22:134348832,23:131072,24:0,25:131104,26:134348800,27:134219808,28:134350880,29:133120,30:2080,31:134217728,2147483664:131072,2147483665:2048,2147483666:134348832,2147483667:133152,2147483668:32,2147483669:134348800,2147483670:134217728,2147483671:134219808,2147483672:134350880,2147483673:134217760,2147483674:134219776,2147483675:0,2147483676:133120,2147483677:2080,2147483678:131104,2147483679:134350848}],c=[4160749569,528482304,33030144,2064384,129024,8064,504,2147483679],d=l.DES=u.extend({_doReset:function(){for(var y=this._key,h=y.words,m=[],E=0;E<56;E++){var D=x[E]-1;m[E]=h[D>>>5]>>>31-D%32&1}for(var b=this._subKeys=[],B=0;B<16;B++){for(var F=b[B]=[],P=o[B],E=0;E<24;E++)F[E/6|0]|=m[(s[E]-1+P)%28]<<31-E%6,F[4+(E/6|0)]|=m[28+(s[E+24]-1+P)%28]<<31-E%6;F[0]=F[0]<<1|F[0]>>>31;for(var E=1;E<7;E++)F[E]=F[E]>>>(E-1)*4+3;F[7]=F[7]<<5|F[7]>>>27}for(var A=this._invSubKeys=[],E=0;E<16;E++)A[E]=b[15-E]},encryptBlock:function(y,h){this._doCryptBlock(y,h,this._subKeys)},decryptBlock:function(y,h){this._doCryptBlock(y,h,this._invSubKeys)},_doCryptBlock:function(y,h,m){this._lBlock=y[h],this._rBlock=y[h+1],p.call(this,4,252645135),p.call(this,16,65535),C.call(this,2,858993459),C.call(this,8,16711935),p.call(this,1,1431655765);for(var E=0;E<16;E++){for(var D=m[E],b=this._lBlock,B=this._rBlock,F=0,P=0;P<8;P++)F|=v[P][((B^D[P])&c[P])>>>0];this._lBlock=B,this._rBlock=b^F}var A=this._lBlock;this._lBlock=this._rBlock,this._rBlock=A,p.call(this,1,1431655765),C.call(this,8,16711935),C.call(this,2,858993459),p.call(this,16,65535),p.call(this,4,252645135),y[h]=this._lBlock,y[h+1]=this._rBlock},keySize:64/32,ivSize:64/32,blockSize:64/32});function p(y,h){var m=(this._lBlock>>>y^this._rBlock)&h;this._rBlock^=m,this._lBlock^=m<<y}function C(y,h){var m=(this._rBlock>>>y^this._lBlock)&h;this._lBlock^=m,this._rBlock^=m<<y}n.DES=u._createHelper(d);var g=l.TripleDES=u.extend({_doReset:function(){var y=this._key,h=y.words;if(h.length!==2&&h.length!==4&&h.length<6)throw new Error("Invalid key length - 3DES requires the key length to be 64, 128, 192 or >192.");var m=h.slice(0,2),E=h.length<4?h.slice(0,2):h.slice(2,4),D=h.length<6?h.slice(0,2):h.slice(4,6);this._des1=d.createEncryptor(i.create(m)),this._des2=d.createEncryptor(i.create(E)),this._des3=d.createEncryptor(i.create(D))},encryptBlock:function(y,h){this._des1.encryptBlock(y,h),this._des2.decryptBlock(y,h),this._des3.encryptBlock(y,h)},decryptBlock:function(y,h){this._des3.decryptBlock(y,h),this._des2.encryptBlock(y,h),this._des1.decryptBlock(y,h)},keySize:192/32,ivSize:64/32,blockSize:64/32});n.TripleDES=u._createHelper(g)}(),r.TripleDES})}(tripledes)),tripledes.exports}var rc4={exports:{}},hasRequiredRc4;function requireRc4(){return hasRequiredRc4||(hasRequiredRc4=1,function(e,t){(function(r,n,a){e.exports=n(requireCore(),requireEncBase64(),requireMd5(),requireEvpkdf(),requireCipherCore())})(commonjsGlobal,function(r){return function(){var n=r,a=n.lib,i=a.StreamCipher,u=n.algo,l=u.RC4=i.extend({_doReset:function(){for(var o=this._key,v=o.words,c=o.sigBytes,d=this._S=[],p=0;p<256;p++)d[p]=p;for(var p=0,C=0;p<256;p++){var g=p%c,y=v[g>>>2]>>>24-g%4*8&255;C=(C+d[p]+y)%256;var h=d[p];d[p]=d[C],d[C]=h}this._i=this._j=0},_doProcessBlock:function(o,v){o[v]^=x.call(this)},keySize:256/32,ivSize:0});function x(){for(var o=this._S,v=this._i,c=this._j,d=0,p=0;p<4;p++){v=(v+1)%256,c=(c+o[v])%256;var C=o[v];o[v]=o[c],o[c]=C,d|=o[(o[v]+o[c])%256]<<24-p*8}return this._i=v,this._j=c,d}n.RC4=i._createHelper(l);var s=u.RC4Drop=l.extend({cfg:l.cfg.extend({drop:192}),_doReset:function(){l._doReset.call(this);for(var o=this.cfg.drop;o>0;o--)x.call(this)}});n.RC4Drop=i._createHelper(s)}(),r.RC4})}(rc4)),rc4.exports}var rabbit={exports:{}},hasRequiredRabbit;function requireRabbit(){return hasRequiredRabbit||(hasRequiredRabbit=1,function(e,t){(function(r,n,a){e.exports=n(requireCore(),requireEncBase64(),requireMd5(),requireEvpkdf(),requireCipherCore())})(commonjsGlobal,function(r){return function(){var n=r,a=n.lib,i=a.StreamCipher,u=n.algo,l=[],x=[],s=[],o=u.Rabbit=i.extend({_doReset:function(){for(var c=this._key.words,d=this.cfg.iv,p=0;p<4;p++)c[p]=(c[p]<<8|c[p]>>>24)&16711935|(c[p]<<24|c[p]>>>8)&4278255360;var C=this._X=[c[0],c[3]<<16|c[2]>>>16,c[1],c[0]<<16|c[3]>>>16,c[2],c[1]<<16|c[0]>>>16,c[3],c[2]<<16|c[1]>>>16],g=this._C=[c[2]<<16|c[2]>>>16,c[0]&4294901760|c[1]&65535,c[3]<<16|c[3]>>>16,c[1]&4294901760|c[2]&65535,c[0]<<16|c[0]>>>16,c[2]&4294901760|c[3]&65535,c[1]<<16|c[1]>>>16,c[3]&4294901760|c[0]&65535];this._b=0;for(var p=0;p<4;p++)v.call(this);for(var p=0;p<8;p++)g[p]^=C[p+4&7];if(d){var y=d.words,h=y[0],m=y[1],E=(h<<8|h>>>24)&16711935|(h<<24|h>>>8)&4278255360,D=(m<<8|m>>>24)&16711935|(m<<24|m>>>8)&4278255360,b=E>>>16|D&4294901760,B=D<<16|E&65535;g[0]^=E,g[1]^=b,g[2]^=D,g[3]^=B,g[4]^=E,g[5]^=b,g[6]^=D,g[7]^=B;for(var p=0;p<4;p++)v.call(this)}},_doProcessBlock:function(c,d){var p=this._X;v.call(this),l[0]=p[0]^p[5]>>>16^p[3]<<16,l[1]=p[2]^p[7]>>>16^p[5]<<16,l[2]=p[4]^p[1]>>>16^p[7]<<16,l[3]=p[6]^p[3]>>>16^p[1]<<16;for(var C=0;C<4;C++)l[C]=(l[C]<<8|l[C]>>>24)&16711935|(l[C]<<24|l[C]>>>8)&4278255360,c[d+C]^=l[C]},blockSize:128/32,ivSize:64/32});function v(){for(var c=this._X,d=this._C,p=0;p<8;p++)x[p]=d[p];d[0]=d[0]+1295307597+this._b|0,d[1]=d[1]+3545052371+(d[0]>>>0<x[0]>>>0?1:0)|0,d[2]=d[2]+886263092+(d[1]>>>0<x[1]>>>0?1:0)|0,d[3]=d[3]+1295307597+(d[2]>>>0<x[2]>>>0?1:0)|0,d[4]=d[4]+3545052371+(d[3]>>>0<x[3]>>>0?1:0)|0,d[5]=d[5]+886263092+(d[4]>>>0<x[4]>>>0?1:0)|0,d[6]=d[6]+1295307597+(d[5]>>>0<x[5]>>>0?1:0)|0,d[7]=d[7]+3545052371+(d[6]>>>0<x[6]>>>0?1:0)|0,this._b=d[7]>>>0<x[7]>>>0?1:0;for(var p=0;p<8;p++){var C=c[p]+d[p],g=C&65535,y=C>>>16,h=((g*g>>>17)+g*y>>>15)+y*y,m=((C&4294901760)*C|0)+((C&65535)*C|0);s[p]=h^m}c[0]=s[0]+(s[7]<<16|s[7]>>>16)+(s[6]<<16|s[6]>>>16)|0,c[1]=s[1]+(s[0]<<8|s[0]>>>24)+s[7]|0,c[2]=s[2]+(s[1]<<16|s[1]>>>16)+(s[0]<<16|s[0]>>>16)|0,c[3]=s[3]+(s[2]<<8|s[2]>>>24)+s[1]|0,c[4]=s[4]+(s[3]<<16|s[3]>>>16)+(s[2]<<16|s[2]>>>16)|0,c[5]=s[5]+(s[4]<<8|s[4]>>>24)+s[3]|0,c[6]=s[6]+(s[5]<<16|s[5]>>>16)+(s[4]<<16|s[4]>>>16)|0,c[7]=s[7]+(s[6]<<8|s[6]>>>24)+s[5]|0}n.Rabbit=i._createHelper(o)}(),r.Rabbit})}(rabbit)),rabbit.exports}var rabbitLegacy={exports:{}},hasRequiredRabbitLegacy;function requireRabbitLegacy(){return hasRequiredRabbitLegacy||(hasRequiredRabbitLegacy=1,function(e,t){(function(r,n,a){e.exports=n(requireCore(),requireEncBase64(),requireMd5(),requireEvpkdf(),requireCipherCore())})(commonjsGlobal,function(r){return function(){var n=r,a=n.lib,i=a.StreamCipher,u=n.algo,l=[],x=[],s=[],o=u.RabbitLegacy=i.extend({_doReset:function(){var c=this._key.words,d=this.cfg.iv,p=this._X=[c[0],c[3]<<16|c[2]>>>16,c[1],c[0]<<16|c[3]>>>16,c[2],c[1]<<16|c[0]>>>16,c[3],c[2]<<16|c[1]>>>16],C=this._C=[c[2]<<16|c[2]>>>16,c[0]&4294901760|c[1]&65535,c[3]<<16|c[3]>>>16,c[1]&4294901760|c[2]&65535,c[0]<<16|c[0]>>>16,c[2]&4294901760|c[3]&65535,c[1]<<16|c[1]>>>16,c[3]&4294901760|c[0]&65535];this._b=0;for(var g=0;g<4;g++)v.call(this);for(var g=0;g<8;g++)C[g]^=p[g+4&7];if(d){var y=d.words,h=y[0],m=y[1],E=(h<<8|h>>>24)&16711935|(h<<24|h>>>8)&4278255360,D=(m<<8|m>>>24)&16711935|(m<<24|m>>>8)&4278255360,b=E>>>16|D&4294901760,B=D<<16|E&65535;C[0]^=E,C[1]^=b,C[2]^=D,C[3]^=B,C[4]^=E,C[5]^=b,C[6]^=D,C[7]^=B;for(var g=0;g<4;g++)v.call(this)}},_doProcessBlock:function(c,d){var p=this._X;v.call(this),l[0]=p[0]^p[5]>>>16^p[3]<<16,l[1]=p[2]^p[7]>>>16^p[5]<<16,l[2]=p[4]^p[1]>>>16^p[7]<<16,l[3]=p[6]^p[3]>>>16^p[1]<<16;for(var C=0;C<4;C++)l[C]=(l[C]<<8|l[C]>>>24)&16711935|(l[C]<<24|l[C]>>>8)&4278255360,c[d+C]^=l[C]},blockSize:128/32,ivSize:64/32});function v(){for(var c=this._X,d=this._C,p=0;p<8;p++)x[p]=d[p];d[0]=d[0]+1295307597+this._b|0,d[1]=d[1]+3545052371+(d[0]>>>0<x[0]>>>0?1:0)|0,d[2]=d[2]+886263092+(d[1]>>>0<x[1]>>>0?1:0)|0,d[3]=d[3]+1295307597+(d[2]>>>0<x[2]>>>0?1:0)|0,d[4]=d[4]+3545052371+(d[3]>>>0<x[3]>>>0?1:0)|0,d[5]=d[5]+886263092+(d[4]>>>0<x[4]>>>0?1:0)|0,d[6]=d[6]+1295307597+(d[5]>>>0<x[5]>>>0?1:0)|0,d[7]=d[7]+3545052371+(d[6]>>>0<x[6]>>>0?1:0)|0,this._b=d[7]>>>0<x[7]>>>0?1:0;for(var p=0;p<8;p++){var C=c[p]+d[p],g=C&65535,y=C>>>16,h=((g*g>>>17)+g*y>>>15)+y*y,m=((C&4294901760)*C|0)+((C&65535)*C|0);s[p]=h^m}c[0]=s[0]+(s[7]<<16|s[7]>>>16)+(s[6]<<16|s[6]>>>16)|0,c[1]=s[1]+(s[0]<<8|s[0]>>>24)+s[7]|0,c[2]=s[2]+(s[1]<<16|s[1]>>>16)+(s[0]<<16|s[0]>>>16)|0,c[3]=s[3]+(s[2]<<8|s[2]>>>24)+s[1]|0,c[4]=s[4]+(s[3]<<16|s[3]>>>16)+(s[2]<<16|s[2]>>>16)|0,c[5]=s[5]+(s[4]<<8|s[4]>>>24)+s[3]|0,c[6]=s[6]+(s[5]<<16|s[5]>>>16)+(s[4]<<16|s[4]>>>16)|0,c[7]=s[7]+(s[6]<<8|s[6]>>>24)+s[5]|0}n.RabbitLegacy=i._createHelper(o)}(),r.RabbitLegacy})}(rabbitLegacy)),rabbitLegacy.exports}var blowfish={exports:{}},hasRequiredBlowfish;function requireBlowfish(){return hasRequiredBlowfish||(hasRequiredBlowfish=1,function(e,t){(function(r,n,a){e.exports=n(requireCore(),requireEncBase64(),requireMd5(),requireEvpkdf(),requireCipherCore())})(commonjsGlobal,function(r){return function(){var n=r,a=n.lib,i=a.BlockCipher,u=n.algo;const l=16,x=[608135816,2242054355,320440878,57701188,2752067618,698298832,137296536,3964562569,1160258022,953160567,3193202383,887688300,3232508343,3380367581,1065670069,3041331479,2450970073,2306472731],s=[[3509652390,2564797868,805139163,3491422135,3101798381,1780907670,3128725573,4046225305,614570311,3012652279,134345442,2240740374,1667834072,1901547113,2757295779,4103290238,227898511,1921955416,1904987480,2182433518,2069144605,3260701109,2620446009,720527379,3318853667,677414384,3393288472,3101374703,2390351024,1614419982,1822297739,2954791486,3608508353,3174124327,2024746970,1432378464,3864339955,2857741204,1464375394,1676153920,1439316330,715854006,3033291828,289532110,2706671279,2087905683,3018724369,1668267050,732546397,1947742710,3462151702,2609353502,2950085171,1814351708,2050118529,680887927,999245976,1800124847,3300911131,1713906067,1641548236,4213287313,1216130144,1575780402,4018429277,3917837745,3693486850,3949271944,596196993,3549867205,258830323,2213823033,772490370,2760122372,1774776394,2652871518,566650946,4142492826,1728879713,2882767088,1783734482,3629395816,2517608232,2874225571,1861159788,326777828,3124490320,2130389656,2716951837,967770486,1724537150,2185432712,2364442137,1164943284,2105845187,998989502,3765401048,2244026483,1075463327,1455516326,1322494562,910128902,469688178,1117454909,936433444,3490320968,3675253459,1240580251,122909385,2157517691,634681816,4142456567,3825094682,3061402683,2540495037,79693498,3249098678,1084186820,1583128258,426386531,1761308591,1047286709,322548459,995290223,1845252383,2603652396,3431023940,2942221577,3202600964,3727903485,1712269319,422464435,3234572375,1170764815,3523960633,3117677531,1434042557,442511882,3600875718,1076654713,1738483198,4213154764,2393238008,3677496056,1014306527,4251020053,793779912,2902807211,842905082,4246964064,1395751752,1040244610,2656851899,3396308128,445077038,3742853595,3577915638,679411651,2892444358,2354009459,1767581616,3150600392,3791627101,3102740896,284835224,4246832056,1258075500,768725851,2589189241,3069724005,3532540348,1274779536,3789419226,2764799539,1660621633,3471099624,4011903706,913787905,3497959166,737222580,2514213453,2928710040,3937242737,1804850592,3499020752,2949064160,2386320175,2390070455,2415321851,4061277028,2290661394,2416832540,1336762016,1754252060,3520065937,3014181293,791618072,3188594551,3933548030,2332172193,3852520463,3043980520,413987798,3465142937,3030929376,4245938359,2093235073,3534596313,375366246,2157278981,2479649556,555357303,3870105701,2008414854,3344188149,4221384143,3956125452,2067696032,3594591187,2921233993,2428461,544322398,577241275,1471733935,610547355,4027169054,1432588573,1507829418,2025931657,3646575487,545086370,48609733,2200306550,1653985193,298326376,1316178497,3007786442,2064951626,458293330,2589141269,3591329599,3164325604,727753846,2179363840,146436021,1461446943,4069977195,705550613,3059967265,3887724982,4281599278,3313849956,1404054877,2845806497,146425753,1854211946],[1266315497,3048417604,3681880366,3289982499,290971e4,1235738493,2632868024,2414719590,3970600049,1771706367,1449415276,3266420449,422970021,1963543593,2690192192,3826793022,1062508698,1531092325,1804592342,2583117782,2714934279,4024971509,1294809318,4028980673,1289560198,2221992742,1669523910,35572830,157838143,1052438473,1016535060,1802137761,1753167236,1386275462,3080475397,2857371447,1040679964,2145300060,2390574316,1461121720,2956646967,4031777805,4028374788,33600511,2920084762,1018524850,629373528,3691585981,3515945977,2091462646,2486323059,586499841,988145025,935516892,3367335476,2599673255,2839830854,265290510,3972581182,2759138881,3795373465,1005194799,847297441,406762289,1314163512,1332590856,1866599683,4127851711,750260880,613907577,1450815602,3165620655,3734664991,3650291728,3012275730,3704569646,1427272223,778793252,1343938022,2676280711,2052605720,1946737175,3164576444,3914038668,3967478842,3682934266,1661551462,3294938066,4011595847,840292616,3712170807,616741398,312560963,711312465,1351876610,322626781,1910503582,271666773,2175563734,1594956187,70604529,3617834859,1007753275,1495573769,4069517037,2549218298,2663038764,504708206,2263041392,3941167025,2249088522,1514023603,1998579484,1312622330,694541497,2582060303,2151582166,1382467621,776784248,2618340202,3323268794,2497899128,2784771155,503983604,4076293799,907881277,423175695,432175456,1378068232,4145222326,3954048622,3938656102,3820766613,2793130115,2977904593,26017576,3274890735,3194772133,1700274565,1756076034,4006520079,3677328699,720338349,1533947780,354530856,688349552,3973924725,1637815568,332179504,3949051286,53804574,2852348879,3044236432,1282449977,3583942155,3416972820,4006381244,1617046695,2628476075,3002303598,1686838959,431878346,2686675385,1700445008,1080580658,1009431731,832498133,3223435511,2605976345,2271191193,2516031870,1648197032,4164389018,2548247927,300782431,375919233,238389289,3353747414,2531188641,2019080857,1475708069,455242339,2609103871,448939670,3451063019,1395535956,2413381860,1841049896,1491858159,885456874,4264095073,4001119347,1565136089,3898914787,1108368660,540939232,1173283510,2745871338,3681308437,4207628240,3343053890,4016749493,1699691293,1103962373,3625875870,2256883143,3830138730,1031889488,3479347698,1535977030,4236805024,3251091107,2132092099,1774941330,1199868427,1452454533,157007616,2904115357,342012276,595725824,1480756522,206960106,497939518,591360097,863170706,2375253569,3596610801,1814182875,2094937945,3421402208,1082520231,3463918190,2785509508,435703966,3908032597,1641649973,2842273706,3305899714,1510255612,2148256476,2655287854,3276092548,4258621189,236887753,3681803219,274041037,1734335097,3815195456,3317970021,1899903192,1026095262,4050517792,356393447,2410691914,3873677099,3682840055],[3913112168,2491498743,4132185628,2489919796,1091903735,1979897079,3170134830,3567386728,3557303409,857797738,1136121015,1342202287,507115054,2535736646,337727348,3213592640,1301675037,2528481711,1895095763,1721773893,3216771564,62756741,2142006736,835421444,2531993523,1442658625,3659876326,2882144922,676362277,1392781812,170690266,3921047035,1759253602,3611846912,1745797284,664899054,1329594018,3901205900,3045908486,2062866102,2865634940,3543621612,3464012697,1080764994,553557557,3656615353,3996768171,991055499,499776247,1265440854,648242737,3940784050,980351604,3713745714,1749149687,3396870395,4211799374,3640570775,1161844396,3125318951,1431517754,545492359,4268468663,3499529547,1437099964,2702547544,3433638243,2581715763,2787789398,1060185593,1593081372,2418618748,4260947970,69676912,2159744348,86519011,2512459080,3838209314,1220612927,3339683548,133810670,1090789135,1078426020,1569222167,845107691,3583754449,4072456591,1091646820,628848692,1613405280,3757631651,526609435,236106946,48312990,2942717905,3402727701,1797494240,859738849,992217954,4005476642,2243076622,3870952857,3732016268,765654824,3490871365,2511836413,1685915746,3888969200,1414112111,2273134842,3281911079,4080962846,172450625,2569994100,980381355,4109958455,2819808352,2716589560,2568741196,3681446669,3329971472,1835478071,660984891,3704678404,4045999559,3422617507,3040415634,1762651403,1719377915,3470491036,2693910283,3642056355,3138596744,1364962596,2073328063,1983633131,926494387,3423689081,2150032023,4096667949,1749200295,3328846651,309677260,2016342300,1779581495,3079819751,111262694,1274766160,443224088,298511866,1025883608,3806446537,1145181785,168956806,3641502830,3584813610,1689216846,3666258015,3200248200,1692713982,2646376535,4042768518,1618508792,1610833997,3523052358,4130873264,2001055236,3610705100,2202168115,4028541809,2961195399,1006657119,2006996926,3186142756,1430667929,3210227297,1314452623,4074634658,4101304120,2273951170,1399257539,3367210612,3027628629,1190975929,2062231137,2333990788,2221543033,2438960610,1181637006,548689776,2362791313,3372408396,3104550113,3145860560,296247880,1970579870,3078560182,3769228297,1714227617,3291629107,3898220290,166772364,1251581989,493813264,448347421,195405023,2709975567,677966185,3703036547,1463355134,2715995803,1338867538,1343315457,2802222074,2684532164,233230375,2599980071,2000651841,3277868038,1638401717,4028070440,3237316320,6314154,819756386,300326615,590932579,1405279636,3267499572,3150704214,2428286686,3959192993,3461946742,1862657033,1266418056,963775037,2089974820,2263052895,1917689273,448879540,3550394620,3981727096,150775221,3627908307,1303187396,508620638,2975983352,2726630617,1817252668,1876281319,1457606340,908771278,3720792119,3617206836,2455994898,1729034894,1080033504],[976866871,3556439503,2881648439,1522871579,1555064734,1336096578,3548522304,2579274686,3574697629,3205460757,3593280638,3338716283,3079412587,564236357,2993598910,1781952180,1464380207,3163844217,3332601554,1699332808,1393555694,1183702653,3581086237,1288719814,691649499,2847557200,2895455976,3193889540,2717570544,1781354906,1676643554,2592534050,3230253752,1126444790,2770207658,2633158820,2210423226,2615765581,2414155088,3127139286,673620729,2805611233,1269405062,4015350505,3341807571,4149409754,1057255273,2012875353,2162469141,2276492801,2601117357,993977747,3918593370,2654263191,753973209,36408145,2530585658,25011837,3520020182,2088578344,530523599,2918365339,1524020338,1518925132,3760827505,3759777254,1202760957,3985898139,3906192525,674977740,4174734889,2031300136,2019492241,3983892565,4153806404,3822280332,352677332,2297720250,60907813,90501309,3286998549,1016092578,2535922412,2839152426,457141659,509813237,4120667899,652014361,1966332200,2975202805,55981186,2327461051,676427537,3255491064,2882294119,3433927263,1307055953,942726286,933058658,2468411793,3933900994,4215176142,1361170020,2001714738,2830558078,3274259782,1222529897,1679025792,2729314320,3714953764,1770335741,151462246,3013232138,1682292957,1483529935,471910574,1539241949,458788160,3436315007,1807016891,3718408830,978976581,1043663428,3165965781,1927990952,4200891579,2372276910,3208408903,3533431907,1412390302,2931980059,4132332400,1947078029,3881505623,4168226417,2941484381,1077988104,1320477388,886195818,18198404,3786409e3,2509781533,112762804,3463356488,1866414978,891333506,18488651,661792760,1628790961,3885187036,3141171499,876946877,2693282273,1372485963,791857591,2686433993,3759982718,3167212022,3472953795,2716379847,445679433,3561995674,3504004811,3574258232,54117162,3331405415,2381918588,3769707343,4154350007,1140177722,4074052095,668550556,3214352940,367459370,261225585,2610173221,4209349473,3468074219,3265815641,314222801,3066103646,3808782860,282218597,3406013506,3773591054,379116347,1285071038,846784868,2669647154,3771962079,3550491691,2305946142,453669953,1268987020,3317592352,3279303384,3744833421,2610507566,3859509063,266596637,3847019092,517658769,3462560207,3443424879,370717030,4247526661,2224018117,4143653529,4112773975,2788324899,2477274417,1456262402,2901442914,1517677493,1846949527,2295493580,3734397586,2176403920,1280348187,1908823572,3871786941,846861322,1172426758,3287448474,3383383037,1655181056,3139813346,901632758,1897031941,2986607138,3066810236,3447102507,1393639104,373351379,950779232,625454576,3124240540,4148612726,2007998917,544563296,2244738638,2330496472,2058025392,1291430526,424198748,50039436,29584100,3605783033,2429876329,2791104160,1057563949,3255363231,3075367218,3463963227,1469046755,985887462]];var o={pbox:[],sbox:[]};function v(g,y){let h=y>>24&255,m=y>>16&255,E=y>>8&255,D=y&255,b=g.sbox[0][h]+g.sbox[1][m];return b=b^g.sbox[2][E],b=b+g.sbox[3][D],b}function c(g,y,h){let m=y,E=h,D;for(let b=0;b<l;++b)m=m^g.pbox[b],E=v(g,m)^E,D=m,m=E,E=D;return D=m,m=E,E=D,E=E^g.pbox[l],m=m^g.pbox[l+1],{left:m,right:E}}function d(g,y,h){let m=y,E=h,D;for(let b=l+1;b>1;--b)m=m^g.pbox[b],E=v(g,m)^E,D=m,m=E,E=D;return D=m,m=E,E=D,E=E^g.pbox[1],m=m^g.pbox[0],{left:m,right:E}}function p(g,y,h){for(let B=0;B<4;B++){g.sbox[B]=[];for(let F=0;F<256;F++)g.sbox[B][F]=s[B][F]}let m=0;for(let B=0;B<l+2;B++)g.pbox[B]=x[B]^y[m],m++,m>=h&&(m=0);let E=0,D=0,b=0;for(let B=0;B<l+2;B+=2)b=c(g,E,D),E=b.left,D=b.right,g.pbox[B]=E,g.pbox[B+1]=D;for(let B=0;B<4;B++)for(let F=0;F<256;F+=2)b=c(g,E,D),E=b.left,D=b.right,g.sbox[B][F]=E,g.sbox[B][F+1]=D;return!0}var C=u.Blowfish=i.extend({_doReset:function(){if(this._keyPriorReset!==this._key){var g=this._keyPriorReset=this._key,y=g.words,h=g.sigBytes/4;p(o,y,h)}},encryptBlock:function(g,y){var h=c(o,g[y],g[y+1]);g[y]=h.left,g[y+1]=h.right},decryptBlock:function(g,y){var h=d(o,g[y],g[y+1]);g[y]=h.left,g[y+1]=h.right},blockSize:64/32,keySize:128/32,ivSize:64/32});n.Blowfish=i._createHelper(C)}(),r.Blowfish})}(blowfish)),blowfish.exports}(function(e,t){(function(r,n,a){e.exports=n(requireCore(),requireX64Core(),requireLibTypedarrays(),requireEncUtf16(),requireEncBase64(),requireEncBase64url(),requireMd5(),requireSha1(),requireSha256(),requireSha224(),requireSha512(),requireSha384(),requireSha3(),requireRipemd160(),requireHmac(),requirePbkdf2(),requireEvpkdf(),requireCipherCore(),requireModeCfb(),requireModeCtr(),requireModeCtrGladman(),requireModeOfb(),requireModeEcb(),requirePadAnsix923(),requirePadIso10126(),requirePadIso97971(),requirePadZeropadding(),requirePadNopadding(),requireFormatHex(),requireAes(),requireTripledes(),requireRc4(),requireRabbit(),requireRabbitLegacy(),requireBlowfish())})(commonjsGlobal,function(r){return r})})(cryptoJs);var cryptoJsExports=cryptoJs.exports;const encryptWithSHA256=e=>cryptoJsExports.SHA256(e).toString(),SHA256EncryptedDeviceId=encryptWithSHA256(getUniqueIdSync()),deviceIdHeader={deviceid:SHA256EncryptedDeviceId};var DeviceRegistrationEndpointName=(e=>(e.registerDevice="registerDevice",e.unregisterDevice="unregisterDevice",e))(DeviceRegistrationEndpointName||{});const deviceRegistrationApi=baseApi.injectEndpoints({endpoints:e=>({[DeviceRegistrationEndpointName.registerDevice]:e.mutation({query:t=>({body:{os:Platform.OS,...t},method:"POST",slug:GlobalApiSlug.notification,url:"/device/register",headers:deviceIdHeader})}),[DeviceRegistrationEndpointName.unregisterDevice]:e.mutation({query:()=>({method:"DELETE",slug:GlobalApiSlug.notification,url:"/device/register",headers:deviceIdHeader})})}),overrideExisting:!0}),{useRegisterDeviceMutation,useUnregisterDeviceMutation}=deviceRegistrationApi,useRegisterDevice=()=>{const[e]=useRegisterDeviceMutation(),[t]=useUnregisterDeviceMutation(),r=useTrackException(),{hasPermission:n,requestPermission:a}=usePermission(Permissions.notifications),i=reactExports.useCallback(()=>{messaging().getToken().then(l=>{e({firebase_token:l})}).catch(l=>{r(ExceptionLogKey.registerDevice,"useRegisterDevice.ts",{error:l})})},[e,r]);return{registerDeviceIfPermitted:reactExports.useCallback((l=!1)=>new Promise((x,s)=>{l?a().then(o=>{o&&i(),x(o)}):(n&&i(),x(n))}),[a,i,n]),unregisterDevice:t}},config={nearestProjectsRadius:1e3,projectItemListPageSize:20,searchBoxDebounceDuration:300};var ProjectsEndpointName=(e=>(e.articles="articles",e.projectDetails="projectDetails",e.projectFollow="projectFollow",e.projectNews="projectNews",e.projectUnfollow="projectUnfollow",e.projectWarning="projectWarning",e.projects="projects",e.projectsFollowedArticles="projectsFollowedArticles",e.projectsSearch="projectsSearch",e))(ProjectsEndpointName||{});const processSearchQueryArgs=e=>({...e,fields:e.fields.join(","),query_fields:e.query_fields.join(",")}),tempPostProcessProjectDetails=e=>{var t;return e.timeline?{...e,timeline:{...e.timeline,items:((t=e.timeline.items)==null?void 0:t.map(r=>({...r,progress:"Huidig"})))??null}}:e},DEFAULT_SEARCH_PAGE_SIZE=1e3,MODULE_SLUG=ModuleSlug["construction-work"],projectsApi=baseApi.injectEndpoints({endpoints:e=>({[ProjectsEndpointName.articles]:e.query({providesTags:["Articles"],query:t=>({slug:MODULE_SLUG,url:generateRequestUrl({path:"/articles",params:t})}),keepUnusedDataFor:CacheLifetime.minute}),[ProjectsEndpointName.projectDetails]:e.query({providesTags:["FollowedProjects","Projects"],query:t=>({slug:MODULE_SLUG,url:generateRequestUrl({path:"/project/details",params:t}),headers:deviceIdHeader}),keepUnusedDataFor:CacheLifetime.hour,transformResponse:tempPostProcessProjectDetails}),[ProjectsEndpointName.projectNews]:e.query({query:t=>({slug:MODULE_SLUG,url:generateRequestUrl({path:"/project/news",params:t})}),keepUnusedDataFor:CacheLifetime.minute}),[ProjectsEndpointName.projectWarning]:e.query({query:t=>({slug:MODULE_SLUG,url:generateRequestUrl({path:"/project/warning",params:t})}),keepUnusedDataFor:CacheLifetime.minute}),[ProjectsEndpointName.projects]:e.query({providesTags:["FollowedProjects","Projects"],query:t=>({slug:MODULE_SLUG,url:t?generateRequestUrl({path:"/projects",params:t}):"/projects",headers:deviceIdHeader}),keepUnusedDataFor:CacheLifetime.hour}),[ProjectsEndpointName.projectUnfollow]:e.mutation({invalidatesTags:["FollowedProjects"],query:t=>({body:t,method:"DELETE",slug:MODULE_SLUG,url:"/projects/follow",headers:deviceIdHeader})}),[ProjectsEndpointName.projectFollow]:e.mutation({invalidatesTags:["FollowedProjects"],query:t=>({body:t,method:"POST",slug:MODULE_SLUG,url:"/projects/follow",headers:deviceIdHeader})}),[ProjectsEndpointName.projectsSearch]:e.query({providesTags:["Projects"],query:t=>({params:{page_size:DEFAULT_SEARCH_PAGE_SIZE,...processSearchQueryArgs(t)},slug:MODULE_SLUG,url:"/projects/search"}),keepUnusedDataFor:CacheLifetime.hour})}),overrideExisting:!0}),{useArticlesQuery,useProjectDetailsQuery,useProjectFollowMutation,useProjectNewsQuery,useProjectUnfollowMutation,useProjectWarningQuery,useProjectsQuery,useProjectsSearchQuery}=projectsApi,PreRenderComponent=()=>{const{registerDeviceIfPermitted:e}=useRegisterDevice(),[t,r]=reactExports.useState(!1),{data:n}=useProjectsQuery({page_size:config.projectItemListPageSize,page:1},{skip:t});return reactExports.useEffect(()=>{var a;(a=n==null?void 0:n.result)!=null&&a[0].followed&&!t&&(e(!0),r(!0))},[n==null?void 0:n.result,t,e]),null};var ConstructionWorkRouteName=(e=>(e.constructionWork="ConstructionWork",e.project="Project",e.projectNews="ProjectNews",e.projectSegment="ProjectSegment",e.projectWarning="ProjectWarning",e.search="ConstructionWorkSearch",e))(ConstructionWorkRouteName||{});const initialState$6={readArticles:[],searchText:""},constructionWorkSlice=createSlice({name:ReduxKey.constructionWork,initialState:initialState$6,reducers:{addReadArticle:(e,{payload:t})=>{e.readArticles.push(t)},deleteReadArticle:(e,{payload:t})=>{e.readArticles=e.readArticles.filter(r=>r.id!==t)},setSearchText:(e,{payload:t})=>{e.searchText=t}}});constructionWorkSlice.actions;const persistWhitelist$1=["readArticles"],constructionWorkModule={PreRenderComponent,linking:{[ConstructionWorkRouteName.projectNews]:"news/:id/:screenHeaderTitle/:screenTitle/:isPushNotificationDeeplink?",[ConstructionWorkRouteName.projectWarning]:"warning/:id/:screenHeaderTitle/:screenTitle/:isPushNotificationDeeplink?"},logDimension:PiwikSessionDimension.constructionWorkModule,name:"ConstructionWorkModule",reduxConfigs:[{key:ReduxKey.constructionWork,persistVersion:0,persistWhitelist:persistWhitelist$1,slice:constructionWorkSlice}],requiresFirebaseToken:!0,slug:ModuleSlug["construction-work"]},initialState$5={},messageDraftSlice=createSlice({name:ReduxKey.messageDraft,initialState:initialState$5,reducers:{clearDraft:()=>initialState$5,setCurrentProjectId:(e,{payload:t})=>{e.currentProjectId=t},setMainImage:(e,{payload:{projectId:t,mainImage:r}})=>{e[t]={...e[t],mainImage:r}},setMainImageDescription:(e,{payload:{projectId:t,mainImageDescription:r}})=>{e[t]={...e[t],mainImageDescription:r}},setNotification:(e,{payload:{projectId:t,notification:r}})=>{e[t]={...e[t],notification:r}},setProject:(e,{payload:t})=>{e[t.id]={...e[t.id],project:t}},setMessage:(e,{payload:{projectId:t,message:r}})=>{e[t]={...e[t],message:r}}}});messageDraftSlice.actions;createSelector(e=>e[ReduxKey.messageDraft],e=>e==null?void 0:e.currentProjectId);createSelector(e=>e[ReduxKey.messageDraft],e=>e.currentProjectId);var ConstructionWorkEditorRouteName=(e=>(e.addMainImageToMessage="AddMainImageToMessage",e.authorizedProjects="AuthorizedProjects",e.confirmMessage="ConfirmMessage",e.createMessage="CreateMessage",e))(ConstructionWorkEditorRouteName||{});const initialState$4={accessToken:void 0,hasSeenWelcomeMessage:!1,hasAutoFollowedProjects:!1},constructionWorkEditorSlice=createSlice({name:ReduxKey.constructionWorkEditor,initialState:initialState$4,reducers:{saveConstructionWorkEditorToken:(e,{payload:t})=>{e.accessToken=t},removeConstructionWorkEditorToken:e=>{e.accessToken=void 0},setHasSeenWelcomeMessage:(e,{payload:t})=>{e.hasSeenWelcomeMessage=t},setHasAutoFollowedProjects:(e,{payload:t})=>{e.hasAutoFollowedProjects=t},removeConstructionWorkEditor:()=>initialState$4}});constructionWorkEditorSlice.actions;const constructionWorkEditorModule={requiresAuthorization:!0,linking:{[ConstructionWorkEditorRouteName.authorizedProjects]:"construction-work-editor/:accessToken?"},logDimension:PiwikSessionDimension.constructionWorkEditorModule,name:"ConstructionWorkEditorModule",reduxConfigs:[{key:ReduxKey.constructionWorkEditor,persistVersion:0,slice:constructionWorkEditorSlice},{key:ReduxKey.messageDraft,persistVersion:0,slice:messageDraftSlice}],slug:ModuleSlug["construction-work-editor"]},contactSlice=createSlice({name:ReduxKey.contact,initialState:{},reducers:{setSelectedCityOffice:(e,{payload:t})=>{e.selectedCityOfficeId=t}}});contactSlice.actions;const contactModule={logDimension:PiwikSessionDimension.contactModule,name:"ContactModule",reduxConfigs:[{key:ReduxKey.contact,persistVersion:0,slice:contactSlice}],slug:ModuleSlug.contact},homeModule={name:"HomeModule",screenOptions:{cardStyleInterpolator:({current:e})=>({cardStyle:{opacity:e.progress}})},slug:ModuleSlug.home},notificationHistoryApi=baseApi.injectEndpoints({endpoints:e=>({getNotifications:e.query({providesTags:["Notifications"],query:()=>({slug:GlobalApiSlug.notification,url:generateRequestUrl({path:"/notifications",params:{}}),headers:deviceIdHeader}),keepUnusedDataFor:CacheLifetime.minute}),markAllNotificationsRead:e.mutation({invalidatesTags:["Notifications"],query:()=>({slug:GlobalApiSlug.notification,method:"POST",url:generateRequestUrl({path:"/notifications/mark_all_read",params:{}}),headers:deviceIdHeader})})}),overrideExisting:!0}),{useGetNotificationsQuery,useMarkAllNotificationsReadMutation}=notificationHistoryApi,HeaderComponent=()=>{const e=useNavigation(),{data:t}=useGetNotificationsQuery(),r=(t==null?void 0:t.filter(({is_read:a})=>!a).length)??0,n=r?r+"ongelezen"+simplur`[melding|meldingen]${[r]}`:"Meldingen";return jsxRuntimeExports.jsx(IconButton,{accessibilityLabel:n,badgeValue:r>0?r:void 0,icon:jsxRuntimeExports.jsx(Icon,{color:"link",name:"alarmFilled",size:"lg",testID:"HeaderNotificationHistoryIcon"}),onPress:()=>e.navigate(ModuleSlug["notification-history"]),testID:"HeaderNotificationHistoryButton"})},notificationHistoryModule={hiddenInMenu:!0,name:"NotificationHistoryModule",HeaderComponent,slug:ModuleSlug["notification-history"],alwaysEnabled:!0},initialState$3={hasSeenOnboarding:!1},onboardingSlice=createSlice({name:ReduxKey.onboarding,initialState:initialState$3,reducers:{setHasSeenOnboarding:(e,{payload:t})=>{e.hasSeenOnboarding=t}}});onboardingSlice.actions;const onboardingModule={alwaysEnabled:!0,hiddenInMenu:!0,name:"OnboardingModule",reduxConfigs:[{key:ReduxKey.onboarding,persistVersion:-1,slice:onboardingSlice}],slug:ModuleSlug.onboarding,screenOptions:{cardStyleInterpolator:({current:e})=>({cardStyle:{opacity:e.progress}})}},initialState$2={currentAccountType:void 0,currentPermitName:void 0,isLoginStepsActive:!1,shouldShowIntroScreen:!0},parkingSlice=createSlice({name:ReduxKey.parking,initialState:initialState$2,reducers:{setCurrentAccountType:(e,{payload:t})=>{e.currentAccountType=t},setCurrentPermitName:(e,{payload:t})=>{e.currentPermitName=t},setLoginStepsActive:(e,{payload:t})=>{e.isLoginStepsActive=t},setShouldShowIntroScreen:(e,{payload:t})=>{e.shouldShowIntroScreen=t}}});parkingSlice.actions;const persistWhitelist=["currentAccountType","currentPermitName"],parkingModule={name:"ParkingModule",reduxConfigs:[{key:ReduxKey.parking,persistVersion:0,persistWhitelist,slice:parkingSlice}],slug:ModuleSlug.parking},redirectsModule={logDimension:PiwikSessionDimension.redirectsModule,name:"RedirectsModule",slug:ModuleSlug.redirects};var ReportProblemRouteName=(e=>(e.reportProblem="ReportProblem",e.reportProblemWebView="ReportProblemWebView",e))(ReportProblemRouteName||{});const reportProblemModule={logDimension:PiwikSessionDimension.reportProblemModule,name:"ReportProblemModule",slug:ModuleSlug["report-problem"],screenOptions:({route:e})=>({gestureEnabled:getFocusedRouteNameFromRoute(e)!==ReportProblemRouteName.reportProblemWebView})},userModule={name:"UserModule",slug:ModuleSlug.user};var WasteContainerRouteName=(e=>(e.addWasteCard="AddWasteCard",e.wasteCard="WasteCard",e.wasteCardHelp="WasteCardHelp",e))(WasteContainerRouteName||{});const WasteContainerActionButton=()=>{const{navigate:e}=useNavigation(),{item:t,isLoading:r}=useGetSecureItem(SecureItemKey.wasteCardNumber),n=reactExports.useCallback(()=>{e(ModuleSlug["waste-container"],{screen:WasteContainerRouteName.wasteCard})},[e]);return r||!t?null:jsxRuntimeExports.jsxs(Column,{children:[jsxRuntimeExports.jsx(ActionButton,{iconName:"wasteCard",label:"Afvalpas",onPress:n,testID:"WasteContainerActionButton"}),jsxRuntimeExports.jsx(Gutter,{height:"lg"})]})},initialState$1={isMenuVisible:!1},wasteContainerSlice=createSlice({name:ReduxKey.wasteContainer,initialState:initialState$1,reducers:{setIsMenuVisible:(e,{payload:t})=>{e.isMenuVisible=t}}});wasteContainerSlice.actions;const wasteContainerModule={ActionButton:WasteContainerActionButton,hiddenInMenu:!0,name:"WasteContainerModule",reduxConfigs:[{key:ReduxKey.wasteContainer,slice:wasteContainerSlice}],slug:ModuleSlug["waste-container"]},initialState={contracts:void 0},wasteGuideSlice=createSlice({name:ReduxKey.wasteGuide,initialState,reducers:{addContract:(e,{payload:t})=>{e.contracts={...e.contracts,...t}},resetContracts:({contracts:e,...t})=>t}});wasteGuideSlice.actions;const wasteGuideModule={logDimension:PiwikSessionDimension.wasteGuideModule,name:"WasteGuideModule",reduxConfigs:[{key:ReduxKey.wasteGuide,persistVersion:0,slice:wasteGuideSlice}],slug:ModuleSlug["waste-guide"]},coreModules=[accessCodeModule,addressModule,homeModule,onboardingModule,userModule],clientModules=[aboutModule,chatModule,cityPassModule,constructionWorkEditorModule,constructionWorkModule,contactModule,notificationHistoryModule,parkingModule,redirectsModule,reportProblemModule,wasteContainerModule,wasteGuideModule];export{DeviceRegistrationEndpointName as D,LinkingContext as L,getActionFromState as a,accessCodeSlice as b,clientModules as c,coreModules as d,findFocusedRoute as f,getStateFromPath as g,permissionsSlice as p,validatePathConfig as v};
