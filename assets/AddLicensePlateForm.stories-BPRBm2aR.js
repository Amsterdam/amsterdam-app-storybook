import{Z as k,av as F,aw as b,r as I,a4 as j,j as t,C as A,B as S,ax as D}from"./iframe-B7bA_mH8.js";import{u as v,F as C}from"./index.esm-DiHug4Pf.js";import{T}from"./TextInputField-Byz5LL5F.js";import{a as h}from"./alerts-9i_0lHki.js";import{P as B}from"./ParkingVehicleIdTextInput-M4d7SxoF.js";import{u as N}from"./useCurrentParkingPermit.web-CrTW0LqN.js";import{u as E}from"./useGetLicensePlates.web-PGzFvrCr.js";import"./preload-helper-Dp1pzeXC.js";import"./CharactersLeftDisplay-DIdcpN4-.js";import"./TextInput-C8_wvb9Q.js";import"./index-DT7yVEbD.js";import"./gestureObjects-BM46_zNA.js";import"./Label-DC7bwxgZ.js";import"./useAccessibilityAnnounce-CSoLDscv.js";import"./permit.mock-y4edeqtp.js";const O=()=>{const n=k(),o=v(),{handleSubmit:f,formState:i}=o,m=N(),{licensePlates:r}=E(),{setAlert:u}=F(),[l,{isLoading:c}]=b(),d=I.useCallback((e,s)=>{if(r!=null&&r.some(L=>L.vehicle_id===e)){u(h.saveLicensePlateDuplicateWarning);return}l({report_code:m.report_code.toString(),vehicle_id:e,visitor_name:s}).unwrap().then(()=>{n.popTo(j.myLicensePlates)})},[l,m.report_code,r,n,u]),x=({vehicle_id:e,visitor_name:s=""})=>{if(!/\d/.test(e))D.alert("Weet u zeker dat dit een geldig kenteken is?",`Kenteken: ${e}`,[{text:"Terug"},{isPreferred:!0,text:"Opslaan",onPress:()=>d(e,s)}]);else return d(e,s)};return t.jsx(C,{...o,children:t.jsxs(A,{gutter:"lg",children:[t.jsx(B,{autoFocus:!0,inputInstructions:"Voer alleen letters en cijfers in.",label:"Kenteken",testID:"ParkingAddLicensePlateFormLicensePlateInputField"}),t.jsx(T,{hasClearButton:!1,label:"Naam",name:"visitor_name",rules:{required:"Vul een naam in",maxLength:{value:50,message:"De ingevoerde naam is te lang"}},testID:"ParkingAddLicensePlateFormNameInputField"}),t.jsx(S,{disabled:i.isSubmitting||c,isLoading:i.isSubmitting||c,label:"Opslaan",onPress:f(x),testID:"ParkingAddLicensePlateFormSubmitButton"})]})})},Q={component:O},a={};var p,g,P;a.parameters={...a.parameters,docs:{...(p=a.parameters)==null?void 0:p.docs,source:{originalSource:"{}",...(P=(g=a.parameters)==null?void 0:g.docs)==null?void 0:P.source}}};const U=["Default"];export{a as Default,U as __namedExportsOrder,Q as default};
