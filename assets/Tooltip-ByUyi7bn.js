import{j as i}from"./jsx-runtime-Bxcv0yjW.js";import{r as l}from"./index-mfbfsM12.js";import"./usePiwikTrackCustomEventFromProps-CT_KpUEz.js";import"./index-8JwjhRSi.js";import{u as L}from"./useDeviceContext-Cm8FgCCV.js";import{u as T}from"./index-BXDkY5MO.js";import{P as W}from"./PressableBase-DhkKVuqd.js";import{T as $,P as k}from"./Triangle-BASIzumg.js";import{C as A}from"./Center-2_hcwEx9.js";import{P as p,D as y}from"./types-BJ_48vsK.js";import{u as _}from"./useThemable-B5VksNAF.js";import{V as I}from"./index-BP1Ij_Cs.js";import{s as v}from"./index-kbHxBZ_W.js";import{S as B}from"./SingleSelectable-BAFROorM.js";import{C as q}from"./Column-BGoFnl2w.js";import{P as H}from"./Paragraph-DMdmHXUd.js";import{F as M}from"./Fader-CBhy3bI5.js";import{R as Y}from"./Row-GTWWNNMU.js";import{u as z}from"./useAccessibilityFocus-jeKlJ74P.js";import{I as G}from"./Animated-CFNSbqHF.js";const J=l.createContext(void 0),K=l.createContext(void 0);function j(){const e=l.useContext(J),t=l.useContext(K);if(t===void 0&&e===void 0)throw new Error("Couldn't find a navigation object. Is your component inside NavigationContainer?");return t??e}function O(){const e=j(),[t,o]=l.useState(e.isFocused),a=e.isFocused();return t!==a&&o(a),l.useEffect(()=>{const r=e.addListener("focus",()=>o(!0)),n=e.addListener("blur",()=>o(!1));return()=>{r(),n()}},[e]),l.useDebugValue(a),a}const Q=e=>new Promise((t,o)=>{e?e.measureInWindow((a,r,n,s)=>{t({x:a,height:s,width:n,y:r})}):o(new Error("Element is not defined"))}),De=(e,t)=>{const{height:o,y:a}=e,{height:r,y:n}=t;return n>a&&n+r<a+o},U=e=>{const t=O(),o=T(),[a,r]=l.useState(),n=l.useRef({x:0,y:0,width:0,height:0}),s=l.useCallback(()=>{t&&Q(e.current).then(({x:c,y:u,width:m,height:d})=>{if(c===0&&u===0&&m===0&&d===0){setTimeout(s,300);return}n.current.height!==d||n.current.width!==m||n.current.x!==c||n.current.y!==u?setTimeout(s,300):r({x:c,y:u,width:m,height:d}),n.current={x:c,y:u,width:m,height:d}},()=>setTimeout(s,200))},[t,e,n]),{isPortrait:f}=L();return l.useEffect(()=>{r(void 0),s(),setTimeout(s,200)},[f,s,t,o]),{layout:a,measureTarget:s}},X=e=>({[p.above]:y.down,[p.below]:y.up,[p.before]:y.right,[p.after]:y.left})[e],Z=e=>e?e.x+e.width/2:0,ee=({children:e,direction:t,productTourTipTargetLayout:o})=>t===y.left||t===y.right||!o?i.jsx(A,{children:e}):i.jsx(i.Fragment,{children:e}),x=({placement:e,productTourTipTargetLayout:t})=>{const o=X(e),a=_(te(Z(t)));return i.jsx(ee,{direction:o,productTourTipTargetLayout:t,children:i.jsx(I,{style:a.pointer,children:i.jsx($,{direction:o})})})},te=e=>({size:t})=>v.create({pointer:{marginLeft:e?e-k.width/2-t.spacing.xl:void 0}});try{x.displayName="Pointer",x.__docgenInfo={description:"",displayName:"Pointer",props:{placement:{defaultValue:null,description:"",name:"placement",required:!0,type:{name:"enum",value:[{value:'"above"'},{value:'"after"'},{value:'"before"'},{value:'"below"'}]}},productTourTipTargetLayout:{defaultValue:null,description:"",name:"productTourTipTargetLayout",required:!1,type:{name:"LayoutRectangle"}}}}}catch{}const h=({testID:e,text:t})=>{const o=_(ne),a=typeof t=="string"?[t]:t;return i.jsx(B,{accessibilityRole:"text",accessible:!1,style:o.tooltip,testID:`${e}Content`,children:i.jsx(q,{gutter:"sm",children:a.map((r,n)=>i.jsx(H,{color:"inverse",testID:`${e}Paragraph${n}`,variant:"small",children:r},r))})})},ne=({color:e,size:t})=>v.create({tooltip:{padding:t.spacing.md,backgroundColor:e.tooltip.background}});try{h.displayName="TooltipContent",h.__docgenInfo={description:"",displayName:"TooltipContent",props:{text:{defaultValue:null,description:"",name:"text",required:!0,type:{name:"string | string[]"}},testID:{defaultValue:null,description:"",name:"testID",required:!0,type:{name:"string"}}}}}catch{}const w=l.forwardRef(({extraSpace:e,isPositioned:t,leftPosition:o,placement:a,productTourTipTargetLayout:r,fadeIn:n,fadeInDuration:s,startFadeIn:f,...c},u)=>{const{width:m}=T(),d=_(oe({extraSpace:e,isPositioned:t,leftPosition:o,placement:a,productTourTipTargetLayout:r,windowWidth:m}));return n?i.jsx(M,{...c,duration:s,ref:u,shouldAnimate:f,style:d.tooltipWrapper}):i.jsx(I,{...c,ref:u,style:d.tooltipWrapper})}),oe=({extraSpace:e,isPositioned:t,leftPosition:o,placement:a,productTourTipTargetLayout:r,windowWidth:n})=>({size:s,z:f})=>{const c=()=>{if(!r)return{position:"relative"};const u=r.height+(e?s.spacing[e]:0);return{left:-o,right:0,position:"absolute",...a===p.above?{bottom:u}:{top:u}}};return v.create({tooltipWrapper:{display:t?"flex":"none",width:r?n:void 0,paddingHorizontal:r?s.spacing.xl:void 0,...c(),zIndex:f.tooltip}})};try{w.displayName="TooltipWrapper",w.__docgenInfo={description:"",displayName:"TooltipWrapper",props:{extraSpace:{defaultValue:null,description:"Extra space to set between target and tooltip",name:"extraSpace",required:!1,type:{name:"enum",value:[{value:'"no"'},{value:'"xs"'},{value:'"sm"'},{value:'"smd"'},{value:'"md"'},{value:'"lg"'},{value:'"xl"'},{value:'"xxl"'}]}},fadeIn:{defaultValue:null,description:"Determines whether the tooltip fades in and out. Default is 300 ms.",name:"fadeIn",required:!1,type:{name:"boolean"}},fadeInDuration:{defaultValue:null,description:"Duration of the fade-in animation in milliseconds, only works when fade = true",name:"fadeInDuration",required:!1,type:{name:"number"}},isPositioned:{defaultValue:null,description:"",name:"isPositioned",required:!0,type:{name:"boolean"}},leftPosition:{defaultValue:null,description:"",name:"leftPosition",required:!0,type:{name:"number"}},placement:{defaultValue:null,description:"",name:"placement",required:!0,type:{name:"enum",value:[{value:'"above"'},{value:'"after"'},{value:'"before"'},{value:'"below"'}]}},productTourTipTargetLayout:{defaultValue:null,description:"",name:"productTourTipTargetLayout",required:!1,type:{name:"LayoutRectangle"}},startFadeIn:{defaultValue:null,description:"",name:"startFadeIn",required:!1,type:{name:"boolean"}}}}}catch{}const ae=()=>j(),re=e=>{const t=ae();l.useEffect(()=>t.addListener("blur",e),[e,t])},D=l.forwardRef(({accessibilityLabel:e,accessibilityLanguage:t="nl-NL",extraSpace:o,fadeIn:a,fadeInDuration:r,placement:n,productTourTipTargetLayout:s,onPress:f,startFadeIn:c,testID:u,text:m},d)=>{const P=z(),[F,N]=l.useState(0),[E,V]=l.useState(!1),R=se(!!s),C=l.useRef(null),{layout:b,measureTarget:S}=U(C);l.useEffect(()=>{b&&G.runAfterInteractions(()=>{N(b.x),V(!0)})},[b]),re(()=>V(!1));const g=i.jsx(x,{placement:n,productTourTipTargetLayout:s});return i.jsx(I,{collapsable:!1,onLayout:S,ref:C,style:R.container,children:i.jsx(w,{extraSpace:o,fadeIn:a,fadeInDuration:r,isPositioned:E,leftPosition:F,placement:n,productTourTipTargetLayout:s,ref:d,startFadeIn:c,children:i.jsx(W,{accessibilityLabel:e,accessibilityLanguage:t,accessibilityRole:"alert",onPress:f,ref:P,testID:u,children:i.jsxs(Y,{children:[n===p.after&&g,i.jsxs(q,{grow:1,children:[n===p.below&&g,i.jsx(h,{testID:u,text:m}),n===p.above&&g]}),n===p.before&&g]})})})})}),se=e=>v.create({container:{position:e?"absolute":void 0}});try{D.displayName="Tooltip",D.__docgenInfo={description:"",displayName:"Tooltip",props:{onPress:{defaultValue:null,description:"",name:"onPress",required:!0,type:{name:"() => void"}},text:{defaultValue:null,description:"",name:"text",required:!0,type:{name:"string | string[]"}},extraSpace:{defaultValue:null,description:"Extra space to set between target and tooltip",name:"extraSpace",required:!1,type:{name:"enum",value:[{value:'"no"'},{value:'"xs"'},{value:'"sm"'},{value:'"smd"'},{value:'"md"'},{value:'"lg"'},{value:'"xl"'},{value:'"xxl"'}]}},fadeIn:{defaultValue:null,description:"Determines whether the tooltip fades in and out. Default is 300 ms.",name:"fadeIn",required:!1,type:{name:"boolean"}},fadeInDuration:{defaultValue:null,description:"Duration of the fade-in animation in milliseconds, only works when fade = true",name:"fadeInDuration",required:!1,type:{name:"number"}},placement:{defaultValue:null,description:"",name:"placement",required:!0,type:{name:"enum",value:[{value:'"above"'},{value:'"after"'},{value:'"before"'},{value:'"below"'}]}},productTourTipTargetLayout:{defaultValue:null,description:"",name:"productTourTipTargetLayout",required:!1,type:{name:"LayoutRectangle"}},startFadeIn:{defaultValue:null,description:"",name:"startFadeIn",required:!1,type:{name:"boolean"}},testID:{defaultValue:null,description:"",name:"testID",required:!0,type:{name:"string"}}}}}catch{}export{J as N,D as T,K as a,U as b,De as c,re as d,ae as e,Q as m,j as u};
