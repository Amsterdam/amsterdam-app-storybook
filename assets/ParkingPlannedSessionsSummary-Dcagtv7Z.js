import{u as P,ba as c,r as h,aY as r,bb as x,bc as f,j as s,x as j,C as p,T as o,c as b,m as k,R as v,t as D,b0 as I}from"./iframe-C_g35Bbr.js";import{P as S}from"./PleaseWait-BYeQR6su.js";import{u as _,a as R,b as T}from"./useGetParkingSessions-XgQ8i5r9.js";const B=()=>{const{navigate:l}=P(),{parkingSessions:e,isLoading:m,isError:d,refetch:a}=_(c.planned);h.useEffect(()=>{e!=null&&e.some(t=>!t.ps_right_id)&&a()},[e,a]),R(a,e!=null&&e.some(t=>"is_paid"in t&&!t.is_paid)?15e3:0);const i=e!=null&&e.length?e.reduce((t,u)=>{const n=r(u.start_date_time);return n.isAfter(t)?t:n},r(e[0].start_date_time)):void 0,g=x();return T(()=>{g(f.util.invalidateTags(["ParkingSessions"]))},e!=null&&e.length?Math.max((i==null?void 0:i.endOf("minute").diff(r(),"milliseconds"))??0,3e4):0),m?s.jsx(S,{testID:"ParkingPermitSessionsPlannedPleaseWait"}):d?s.jsx(j,{testID:"ParkingPlannedSessionsSummarySomethingWentWrong"}):e!=null&&e.length?s.jsx(k,{accessibilityLabel:`${e.length} geplande parkeersessies`,onPress:()=>l(I.parkingPlannedSessions),testID:"ParkingPermitSessionsPlannedBadgeButton",children:s.jsxs(v,{gutter:"sm",children:[s.jsx(o,{color:"link",level:"h5",testID:"ParkingPermitSessionsPlannedTitle",text:"Gepland"}),s.jsx(D,{color:"info",testID:"ParkingPermitSessionsPlannedBadge",value:e.length})]})}):s.jsxs(p,{gutter:"sm",children:[s.jsx(o,{level:"h5",testID:"ParkingPermitSessionsPlannedTitle",text:"Gepland"}),s.jsx(b,{testID:"ParkingPermitSessionsPlannedNoPlannedPhrase",children:"Er zijn geen geplande parkeersessies."})]})};export{B as P};
