import{u as t,c as k,R as n}from"./useThemable-DhqiuDXa.js";import{r as i}from"./index-B-xgG2PE.js";import{u as a}from"./useDispatch-jiStvVFn.js";import"./dayjs-C6sMkNK9.js";const p={accessTokens:{},accounts:{},currentPermitReportCode:void 0,isLoggingOut:!1,isLoginStepsActive:!1,currentAccount:void 0,shouldShowLoginScreen:!1,visitorVehicleId:void 0,walletBalanceIncreaseStartBalance:void 0,walletBalanceIncreaseStartedAt:void 0},o=k({name:n.parking,initialState:p,reducers:{removeParkingAccount:e=>{e.currentAccount&&(delete e.accessTokens[e.currentAccount],delete e.accounts[e.currentAccount],e.currentAccount=Object.keys(e.accounts)[0],e.currentPermitReportCode=void 0,e.visitorVehicleId=void 0)},setAccessToken:(e,{payload:c})=>{e.accessTokens[c.reportCode]={accessToken:c.accessToken,accessTokenExpiration:c.accessTokenExpiration}},setCurrentPermitReportCode:(e,{payload:c})=>{e.currentPermitReportCode=c},setIsLoggingOut:(e,{payload:c})=>{e.isLoggingOut=c},setLoginStepsActive:(e,{payload:c})=>{e.isLoginStepsActive=c},setShouldShowLoginScreen:(e,{payload:c})=>{e.shouldShowLoginScreen=c},setVisitorVehicleId:(e,{payload:c})=>{e.visitorVehicleId=c},setParkingAccount:(e,{payload:c})=>{e.accounts[c.reportCode]=c},setParkingAccountPermits:(e,{payload:c})=>{e.currentAccount&&(e.accounts[e.currentAccount].permits=c)},setCurrentAccount:(e,{payload:c})=>{e.currentAccount=c},setWalletBalanceIncreaseStartedAt:(e,{payload:c})=>{e.walletBalanceIncreaseStartedAt=c},setWalletBalanceIncreaseStartBalance:(e,{payload:c})=>{e.walletBalanceIncreaseStartBalance=c}}}),{setIsLoggingOut:L,setLoginStepsActive:V,setShouldShowLoginScreen:B,setWalletBalanceIncreaseStartBalance:f,setWalletBalanceIncreaseStartedAt:w}=o.actions,d=e=>{var c;return e[n.parking].currentAccount?(c=e[n.parking].accessTokens[e[n.parking].currentAccount])==null?void 0:c.accessToken:void 0},A=e=>{var c;return e[n.parking].currentAccount?(c=e[n.parking].accessTokens[e[n.parking].currentAccount])==null?void 0:c.accessTokenExpiration:void 0},S=e=>e[n.parking].currentPermitReportCode,x=e=>e[n.parking].isLoginStepsActive,h=e=>e[n.parking].visitorVehicleId,v=e=>e[n.parking].currentAccount?e[n.parking].accounts[e[n.parking].currentAccount]:void 0,I=e=>e[n.parking].currentAccount,R=()=>{const e=a(),c=t(d),s=t(A),r=i.useCallback((u,l,g)=>e(o.actions.setAccessToken({reportCode:u,accessToken:l,accessTokenExpiration:g})),[e]);return{accessToken:c,setAccessToken:r,accessTokenExpiration:s}},E=()=>t(v),O=()=>t(S),b=()=>t(I),W=()=>{const e=a(),c=t(h),s=i.useCallback(r=>e(o.actions.setVisitorVehicleId(r)),[e]);return{visitorVehicleId:c,setVisitorVehicleId:s}};export{W as a,R as b,b as c,B as d,A as e,d as f,O as g,x as h,V as i,o as p,v as s,E as u};
