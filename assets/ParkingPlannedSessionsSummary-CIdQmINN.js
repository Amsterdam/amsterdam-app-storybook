import{aE as u,r as c,ao as r,a as f,aF as h,j as t,aB as p}from"./iframe-CkiByD8I.js";import{P as x}from"./Pressable-DXz9YoB1.js";import{B as j}from"./Badge-C6MBjsXO.js";import{P as k}from"./PleaseWait-BuSM8Fuo.js";import{S as v}from"./SomethingWentWrong-C0ABYm-i.js";import{C as S}from"./Column-CdpUYJSl.js";import{R as D}from"./Row-7SvFqv_u.js";import{P as I}from"./Phrase-DYgGYX4a.js";import{T as o}from"./Title-D32eGx_E.js";import{u as _}from"./useNavigation-D77kWMxH.js";import{u as B,a as E,b as R}from"./useGetParkingSessions-Cc5jZ4ia.js";const F=()=>{const{navigate:m}=_(),{parkingSessions:e,isLoading:l,isError:d,refetch:a}=B(u.planned);c.useEffect(()=>{e!=null&&e.some(s=>!s.ps_right_id)&&a()},[e,a]),E(a,e!=null&&e.some(s=>"is_paid"in s&&!s.is_paid)?15e3:0);const i=e!=null&&e.length?e.reduce((s,g)=>{const n=r(g.start_date_time);return n.isAfter(s)?s:n},r(e[0].start_date_time)):void 0,P=f();return R(()=>{P(h.util.invalidateTags(["ParkingSessions"]))},e!=null&&e.length?Math.max((i==null?void 0:i.endOf("minute").diff(r(),"milliseconds"))??0,3e4):0),l?t.jsx(k,{testID:"ParkingPermitSessionsPlannedPleaseWait"}):d?t.jsx(v,{testID:"ParkingPlannedSessionsSummarySomethingWentWrong"}):e!=null&&e.length?t.jsx(x,{accessibilityLabel:`${e.length} geplande parkeersessies`,onPress:()=>m(p.parkingPlannedSessions),testID:"ParkingPermitSessionsPlannedBadgeButton",children:t.jsxs(D,{gutter:"sm",children:[t.jsx(o,{color:"link",level:"h5",testID:"ParkingPermitSessionsPlannedTitle",text:"Gepland"}),t.jsx(j,{color:"info",testID:"ParkingPermitSessionsPlannedBadge",value:e.length})]})}):t.jsxs(S,{gutter:"sm",children:[t.jsx(o,{level:"h5",testID:"ParkingPermitSessionsPlannedTitle",text:"Gepland"}),t.jsx(I,{testID:"ParkingPermitSessionsPlannedNoPlannedPhrase",children:"Er zijn geen geplande parkeersessies."})]})};export{F as P};
