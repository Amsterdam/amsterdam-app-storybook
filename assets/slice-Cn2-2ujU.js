import{u as n,c as k,R as t}from"./useThemable-DhqiuDXa.js";import{r as i}from"./index-B-xgG2PE.js";import{u as a}from"./useDispatch-jiStvVFn.js";import"./dayjs-C6sMkNK9.js";const p={accessTokens:{},accounts:{},currentPermitReportCode:void 0,isLoggingOut:!1,isLoginStepsActive:!1,currentAccount:void 0,shouldShowLoginScreen:!1,visitorVehicleId:void 0,walletBalanceIncreaseStartBalance:void 0,walletBalanceIncreaseStartedAt:void 0},o=k({name:t.parking,initialState:p,reducers:{removeParkingAccount:e=>{e.currentAccount&&(delete e.accessTokens[e.currentAccount],delete e.accounts[e.currentAccount],e.currentAccount=Object.keys(e.accounts)[0],e.currentPermitReportCode=void 0,e.visitorVehicleId=void 0)},setAccessToken:(e,{payload:c})=>{e.accessTokens[c.reportCode]={accessToken:c.accessToken,accessTokenExpiration:c.accessTokenExpiration}},setCurrentPermitReportCode:(e,{payload:c})=>{e.currentPermitReportCode=c},setIsLoggingOut:(e,{payload:c})=>{e.isLoggingOut=c},setLoginStepsActive:(e,{payload:c})=>{e.isLoginStepsActive=c},setShouldShowLoginScreen:(e,{payload:c})=>{e.shouldShowLoginScreen=c},setVisitorVehicleId:(e,{payload:c})=>{e.visitorVehicleId=c},setParkingAccount:(e,{payload:c})=>{e.accounts[c.reportCode]=c},setParkingAccountPermits:(e,{payload:c})=>{e.currentAccount&&(e.accounts[e.currentAccount].permits=c)},setCurrentAccount:(e,{payload:c})=>{e.currentAccount=c},setWalletBalanceIncreaseStartedAt:(e,{payload:c})=>{e.walletBalanceIncreaseStartedAt=c?c.toISOString():void 0},setWalletBalanceIncreaseStartBalance:(e,{payload:c})=>{e.walletBalanceIncreaseStartBalance=c}}}),{setIsLoggingOut:P,setLoginStepsActive:L,setShouldShowLoginScreen:V,setWalletBalanceIncreaseStartBalance:B,setWalletBalanceIncreaseStartedAt:f}=o.actions,d=e=>{var c;return e[t.parking].currentAccount?(c=e[t.parking].accessTokens[e[t.parking].currentAccount])==null?void 0:c.accessToken:void 0},A=e=>{var c;return e[t.parking].currentAccount?(c=e[t.parking].accessTokens[e[t.parking].currentAccount])==null?void 0:c.accessTokenExpiration:void 0},S=e=>e[t.parking].currentPermitReportCode,w=e=>e[t.parking].isLoginStepsActive,h=e=>e[t.parking].visitorVehicleId,x=e=>e[t.parking].currentAccount?e[t.parking].accounts[e[t.parking].currentAccount]:void 0,v=e=>e[t.parking].currentAccount,R=()=>{const e=a(),c=n(d),s=n(A),r=i.useCallback((u,l,g)=>e(o.actions.setAccessToken({reportCode:u,accessToken:l,accessTokenExpiration:g})),[e]);return{accessToken:c,setAccessToken:r,accessTokenExpiration:s}},E=()=>n(S),O=()=>n(v),b=()=>{const e=a(),c=n(h),s=i.useCallback(r=>e(o.actions.setVisitorVehicleId(r)),[e]);return{visitorVehicleId:c,setVisitorVehicleId:s}};export{R as a,O as b,V as c,A as d,d as e,E as f,w as g,L as h,o as p,x as s,b as u};
