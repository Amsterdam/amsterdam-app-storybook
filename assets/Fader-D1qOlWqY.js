import{j as y}from"./jsx-runtime-Bxcv0yjW.js";import{r as d}from"./index-mfbfsM12.js";import{a as N}from"./_commonjsHelpers-BosuxZz1.js";import{N as V}from"./NativeEventEmitter-MQ3wzVGe.js";import{N as S,P as c}from"./index-DSI0shHu.js";import{A as u}from"./index-CkqLweLe.js";import{A as _}from"./index-CDv7s-w8.js";import{A as f,E as R}from"./Animated-CFNSbqHF.js";import{V as O}from"./index-BP1Ij_Cs.js";const A="ReactNativeAppLifecycle",L="ON_START",M="ON_STOP",b=[];let s=u.currentState;const T=(e,t)=>(t.push(e),{remove:()=>{const r=t.indexOf(e);r!==-1&&t.splice(r,1)}}),q=(e,t)=>e==="change"?T(t,b):u.addEventListener(e,t),w=(e,t)=>{e!==t&&b.forEach(r=>r(t))},g=new V(S[A]);g.addListener(A,e=>{const t=s;switch(e.type){case L:s="active";break;case M:s="background";break;default:s="unknown"}w(t,s)});const h={addEventListener:q,get currentState(){return s},get isAvailable(){return s!=="unknown"}},j=Object.freeze(Object.defineProperty({__proto__:null,default:h},Symbol.toStringTag,{value:"Module"})),m=N(j),P={addEventListener(e,t){return c.OS==="android"?m.default.addEventListener(e,t):u.addEventListener(e,t)},get currentState(){return c.OS==="android"?m.default.currentState:u.currentState},get isAvailable(){return c.OS==="android"?m.default.isAvailable:u.isAvailable}},x=({onChange:e,onForeground:t,onBackground:r,onInactive:a}={})=>{const n=d.useRef("unknown");d.useEffect(()=>{const l=i=>{n.current!=="active"&&i==="active"?t==null||t():n.current!=="inactive"&&i==="inactive"?a==null||a():n.current!=="background"&&i==="background"&&(r==null||r()),e==null||e(i),n.current=i},o=P.addEventListener("change",l);return()=>o.remove()},[e,t,r,a])};let p=!1;const D=({callback:e,callbackAfterAppStateChange:t=!0}={},r=[])=>(x({onForeground:()=>{_.isReduceMotionEnabled().then(a=>{p=a,t&&(e==null||e(a))})}}),d.useEffect(()=>{_.isReduceMotionEnabled().then(a=>{p=a,e==null||e(a)})},r),p),E=d.forwardRef(({callback:e,children:t,duration:r=300,fadeOut:a=!1,shouldAnimate:n=!0,style:l},o)=>{const i=d.useRef(new f.Value(a?1:0));return d.useEffect(()=>{n&&f.timing(i.current,{duration:r,easing:R.linear,toValue:a?0:1,useNativeDriver:!0}).start(e)},[e,r,a,n]),y.jsx(f.View,{ref:o,style:[l,{opacity:i.current}],children:t})}),v=d.forwardRef((e,t)=>D()?y.jsx(O,{ref:t,style:e.style,children:e.children}):y.jsx(E,{...e,ref:t}));try{E.displayName="AnimatedFader",E.__docgenInfo={description:"",displayName:"AnimatedFader",props:{callback:{defaultValue:null,description:"",name:"callback",required:!1,type:{name:"EndCallback"}},duration:{defaultValue:{value:"300"},description:"",name:"duration",required:!1,type:{name:"number"}},fadeOut:{defaultValue:{value:"false"},description:"",name:"fadeOut",required:!1,type:{name:"boolean"}},shouldAnimate:{defaultValue:{value:"true"},description:"",name:"shouldAnimate",required:!1,type:{name:"boolean"}},style:{defaultValue:null,description:"",name:"style",required:!1,type:{name:"StyleProp<ViewStyle>"}}}}}catch{}try{v.displayName="Fader",v.__docgenInfo={description:"",displayName:"Fader",props:{callback:{defaultValue:null,description:"",name:"callback",required:!1,type:{name:"EndCallback"}},duration:{defaultValue:{value:"300"},description:"",name:"duration",required:!1,type:{name:"number"}},fadeOut:{defaultValue:{value:"false"},description:"",name:"fadeOut",required:!1,type:{name:"boolean"}},shouldAnimate:{defaultValue:{value:"true"},description:"",name:"shouldAnimate",required:!1,type:{name:"boolean"}},style:{defaultValue:null,description:"",name:"style",required:!1,type:{name:"StyleProp<ViewStyle>"}}}}}catch{}export{P as A,v as F,p as i};
