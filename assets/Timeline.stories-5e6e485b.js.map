{"version":3,"file":"Timeline.stories-5e6e485b.js","sources":["../../src/components/ui/containers/timelineStyles.ts","../../src/components/ui/containers/TimelineItem.tsx","../../src/components/ui/containers/Timeline.tsx"],"sourcesContent":["import {StyleSheet} from 'react-native'\nimport {Theme} from '@/themes/themes'\n\nexport const maxHeight = 1200\n\nexport const timelineStyles = (\n  theme: Theme,\n  fontScale: number,\n  isBeforeUpcoming: boolean,\n  isUpcoming: boolean,\n  isExpanded: boolean,\n  lastItem: boolean,\n) => {\n  const {color, size} = theme\n\n  const tokens = {\n    body: {\n      insetLeft: size.spacing.md,\n    },\n    indicator: {\n      size: size.spacing.lg * fontScale,\n    },\n    line: {\n      width: 4 * fontScale,\n    },\n  }\n\n  return StyleSheet.create({\n    header: {\n      flexDirection: 'row',\n      justifyContent: 'space-between',\n      alignItems: 'flex-start',\n    },\n    indicator: {\n      position: 'relative',\n      width: tokens.indicator.size,\n      aspectRatio: 1,\n      justifyContent: 'center',\n      alignItems: 'center',\n      top: size.spacing.md,\n      backgroundColor: isUpcoming\n        ? color.background.inactive\n        : color.background.emphasis,\n      borderRadius: tokens.indicator.size / 2,\n    },\n    line: {\n      position: 'absolute',\n      top: size.spacing.md + tokens.indicator.size,\n      left: (tokens.indicator.size - tokens.line.width) / 2,\n      zIndex: -1,\n      width: tokens.line.width,\n      height: lastItem && !isExpanded ? 0 : '100%',\n      backgroundColor:\n        isUpcoming || isBeforeUpcoming\n          ? color.background.inactive\n          : color.background.emphasis,\n    },\n  })\n}\n","import {Fragment, useState} from 'react'\nimport {View} from 'react-native'\nimport {Accordion} from '@/components/ui/containers/Accordion'\nimport {timelineStyles} from '@/components/ui/containers/timelineStyles'\nimport {Icon} from '@/components/ui/media/Icon'\nimport {HtmlContent} from '@/components/ui/text/HtmlContent'\nimport {Title} from '@/components/ui/text/Title'\nimport {useDeviceContext} from '@/hooks/useDeviceContext'\nimport {useTheme} from '@/themes/useTheme'\nimport {TimelineItem as TimelineItemType} from '@/types/timeline'\n\ntype Props = {\n  isBeforeUpcoming: boolean\n  isLast: boolean\n  item: TimelineItemType\n}\n\nexport const TimelineItem = ({isBeforeUpcoming, isLast, item}: Props) => {\n  const isCurrent = !item.collapsed\n  const itemHasContent = item.content.some(c => c.body?.html || c.body?.text)\n  const [isExpanded, setIsExpanded] = useState(isCurrent && itemHasContent)\n\n  const theme = useTheme()\n  const {fontScale} = useDeviceContext()\n  const styles = timelineStyles(\n    theme,\n    fontScale,\n    isBeforeUpcoming,\n    item.progress === 'Aankomend',\n    isExpanded,\n    isLast,\n  )\n\n  return (\n    <View>\n      <View style={styles.header}>\n        <View style={styles.indicator}>\n          {item.progress === 'Afgelopen' && (\n            <Icon\n              color=\"inverse\"\n              name=\"checkmark\"\n              size=\"sm\"\n            />\n          )}\n        </View>\n        <Accordion\n          grow\n          initiallyExpanded={!!isCurrent}\n          key={item.title}\n          onChangeExpanded={state => setIsExpanded(state)}\n          title={item.title}>\n          {itemHasContent\n            ? item.content.map(({title, body: {html}}) => (\n                <Fragment key={title}>\n                  <Title\n                    level=\"h5\"\n                    text={title}\n                  />\n                  <HtmlContent content={html} />\n                </Fragment>\n              ))\n            : undefined}\n        </Accordion>\n      </View>\n      <View style={styles.line} />\n    </View>\n  )\n}\n","import {TimelineItem} from '@/components/ui/containers/TimelineItem'\nimport {TimelineItem as TimelineItemType} from '@/types/timeline'\n\ntype Props = {\n  items: TimelineItemType[]\n}\n\nexport const Timeline = ({items}: Props) => (\n  <>\n    {items.map((item, index) => (\n      <TimelineItem\n        isBeforeUpcoming={items[index + 1]?.progress === 'Aankomend'}\n        isLast={index === items.length - 1}\n        item={item}\n        key={item.title + index.toString()}\n      />\n    ))}\n  </>\n)\n"],"names":["timelineStyles","theme","fontScale","isBeforeUpcoming","isUpcoming","isExpanded","lastItem","color","size","tokens","StyleSheet","TimelineItem","isLast","item","isCurrent","itemHasContent","c","_a","_b","setIsExpanded","useState","useTheme","useDeviceContext","styles","View","jsxs","jsx","Icon","Accordion","state","title","html","Fragment","Title","HtmlContent","Timeline","items","index"],"mappings":"2zCAKO,MAAMA,EAAiB,CAC5BC,EACAC,EACAC,EACAC,EACAC,EACAC,IACG,CACG,KAAA,CAAC,MAAAC,EAAO,KAAAC,CAAQ,EAAAP,EAEhBQ,EAAS,CACb,KAAM,CACJ,UAAWD,EAAK,QAAQ,EAC1B,EACA,UAAW,CACT,KAAMA,EAAK,QAAQ,GAAKN,CAC1B,EACA,KAAM,CACJ,MAAO,EAAIA,CACb,CAAA,EAGF,OAAOQ,EAAW,OAAO,CACvB,OAAQ,CACN,cAAe,MACf,eAAgB,gBAChB,WAAY,YACd,EACA,UAAW,CACT,SAAU,WACV,MAAOD,EAAO,UAAU,KACxB,YAAa,EACb,eAAgB,SAChB,WAAY,SACZ,IAAKD,EAAK,QAAQ,GAClB,gBAAiBJ,EACbG,EAAM,WAAW,SACjBA,EAAM,WAAW,SACrB,aAAcE,EAAO,UAAU,KAAO,CACxC,EACA,KAAM,CACJ,SAAU,WACV,IAAKD,EAAK,QAAQ,GAAKC,EAAO,UAAU,KACxC,MAAOA,EAAO,UAAU,KAAOA,EAAO,KAAK,OAAS,EACpD,OAAQ,GACR,MAAOA,EAAO,KAAK,MACnB,OAAQH,GAAY,CAACD,EAAa,EAAI,OACtC,gBACED,GAAcD,EACVI,EAAM,WAAW,SACjBA,EAAM,WAAW,QACzB,CAAA,CACD,CACH,ECzCAI,EAAA,CAAA,CAAA,iBAAAR,EAAA,OAAAS,EAAA,KAAAC,KAAA,CACA,MAAAC,EAAA,CAAAD,EAAA,UACAE,EAAAF,EAAA,QAAA,KAAAG,GAAA,SAAA,QAAAC,EAAAD,EAAA,OAAA,YAAAC,EAAA,SAAAC,EAAAF,EAAA,OAAA,YAAAE,EAAA,MAAA,EACA,CAAAb,EAAAc,CAAA,EAAAC,EAAAA,SAAAN,GAAAC,CAAA,EAEAd,EAAAoB,IACA,CAAA,UAAAnB,GAAAoB,IACAC,EAAAvB,EACAC,EACAC,EACAC,EACAU,EAAA,WAAA,YACAR,EACAO,CAAA,EAGA,SACAY,EACA,CAAA,SAAA,CAAAC,EAAAD,EAAA,CAAA,MAAAD,EAAA,OACA,SAAA,CAAAG,EAAAF,GAAA,MAAAD,EAAA,UACA,SAAAV,EAAA,WAAA,aACAa,EAAAC,EAAA,CACA,MAAA,UACA,KAAA,YACA,KAAA,IAAA,CAAA,EAGA,EACAD,EAAAE,EAAA,CACA,KAAA,GACA,kBAAA,CAAA,CAAAd,EAEA,iBAAAe,GAAAV,EAAAU,CAAA,EACA,MAAAhB,EAAA,MACA,SACAE,EAAAF,EAAA,QAAA,IAAA,CAAA,CAAA,MAAAiB,EAAA,KAAA,CAAA,KAAAC,CAAA,CAAA,MACAC,EACA,SAAA,CAAA,SAAA,CAAAN,EAAAO,EAAA,CACA,MAAA,KACA,KAAAH,CAAA,CACA,EACAJ,EAAAQ,EAAA,CAAA,QAAAH,CAAA,CAAA,CAAA,GALAD,CAMA,CACA,EACA,MAAA,EAbAjB,EAAA,KAcA,CAAA,EACA,EACAa,EAAAF,EAAA,CAAA,MAAAD,EAAA,IAAA,CAAA,CACA,CAAA,CAAA,CAEA,qRC5DA,MAAAY,EAAA,CAAA,CAAA,MAAAC,CAAA,SAEA,SAAAA,EAAA,IAAA,CAAAvB,EAAAwB,IACA,OAAA,OAAAX,EAAAf,EAAA,CACA,mBAAAM,EAAAmB,EAAAC,EAAA,CAAA,IAAA,YAAApB,EAAA,YAAA,YACA,OAAAoB,IAAAD,EAAA,OAAA,EACA,KAAAvB,CAAA,EACAA,EAAA,MAAAwB,EAAA,SAAA,CACA,EACA,CACA,CAAA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;"}