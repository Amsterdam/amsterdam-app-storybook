import{c as A,u as t,R as n}from"./useThemable-DhqiuDXa.js";import{r}from"./index-B-xgG2PE.js";import{u}from"./useDispatch-jiStvVFn.js";const k={accessTokens:{},accounts:{},currentPermitReportCode:void 0,isLoggingInAdditionalAccount:!1,isLoginStepsActive:!1,currentAccount:void 0,shouldShowLoginScreen:!1,visitorVehicleId:void 0},i=A({name:n.parking,initialState:k,reducers:{removeParkingAccount:c=>{c.currentAccount&&(delete c.accessTokens[c.currentAccount],delete c.accounts[c.currentAccount],c.currentAccount=Object.keys(c.accounts)[0],c.currentPermitReportCode=void 0,c.visitorVehicleId=void 0)},setAccessToken:(c,{payload:e})=>{c.accessTokens[e.reportCode]={accessToken:e.accessToken,accessTokenExpiration:e.accessTokenExpiration}},setCurrentPermitReportCode:(c,{payload:e})=>{c.currentPermitReportCode=e},setIsLoggingInAdditionalAccount:(c,{payload:e})=>{c.isLoggingInAdditionalAccount=e},setLoginStepsActive:(c,{payload:e})=>{c.isLoginStepsActive=e},setShouldShowLoginScreen:(c,{payload:e})=>{c.shouldShowLoginScreen=e},setVisitorVehicleId:(c,{payload:e})=>{c.visitorVehicleId=e},setParkingAccount:(c,{payload:e})=>{c.accounts[e.reportCode]=e},setParkingAccountPermits:(c,{payload:e})=>{c.currentAccount&&(c.accounts[c.currentAccount].permits=e)},setCurrentAccount:(c,{payload:e})=>{c.currentAccount=e}}}),{setLoginStepsActive:m,setShouldShowLoginScreen:C}=i.actions,p=c=>{var e;return c[n.parking].currentAccount?(e=c[n.parking].accessTokens[c[n.parking].currentAccount])==null?void 0:e.accessToken:void 0},l=c=>{var e;return c[n.parking].currentAccount?(e=c[n.parking].accessTokens[c[n.parking].currentAccount])==null?void 0:e.accessTokenExpiration:void 0},h=c=>c[n.parking].currentPermitReportCode,V=c=>c[n.parking].isLoginStepsActive,I=c=>c[n.parking].isLoggingInAdditionalAccount,S=c=>c[n.parking].visitorVehicleId,P=c=>c[n.parking].currentAccount?c[n.parking].accounts[c[n.parking].currentAccount]:void 0,f=()=>{const c=u(),e=t(p),o=t(l),s=r.useCallback((a,g,d)=>c(i.actions.setAccessToken({reportCode:a,accessToken:g,accessTokenExpiration:d})),[c]);return{accessToken:e,setAccessToken:s,accessTokenExpiration:o}},x=()=>t(h),R=()=>{const c=u(),e=t(S),o=r.useCallback(s=>c(i.actions.setVisitorVehicleId(s)),[c]);return{visitorVehicleId:e,setVisitorVehicleId:o}},E=()=>{const c=u(),e=t(I),o=r.useCallback(s=>c(i.actions.setIsLoggingInAdditionalAccount(s)),[c]);return{isLoggingInAdditionalAccount:e,setIsLoggingInAdditionalAccount:o}};export{f as a,E as b,C as c,l as d,p as e,x as f,V as g,m as h,i as p,P as s,R as u};
