import{r as u}from"./index-f1286426.js";import{j as R}from"./useThemable-f6bacdce.js";import{P as a}from"./index-fff9359c.js";import{i as S,N as d,u as B}from"./index-bea11cd4.js";import{a as T}from"./_commonjsHelpers-de833af9.js";class j{constructor(){this._registry={}}addListener(e,r,n){var i=q(this._registry,e),o={context:n,listener:r,remove(){i.delete(o)}};return i.add(o),o}emit(e){var r=this._registry[e];if(r!=null){for(var n=arguments.length,i=new Array(n>1?n-1:0),o=1;o<n;o++)i[o-1]=arguments[o];for(var s=0,y=[...r];s<y.length;s++){var w=y[s];w.listener.apply(w.context,i)}}}removeAllListeners(e){e==null?this._registry={}:delete this._registry[e]}listenerCount(e){var r=this._registry[e];return r==null?0:r.size}}function q(t,e){var r=t[e];return r==null&&(r=new Set,t[e]=r),r}const c=new j;class h{constructor(e){a.OS==="ios"&&(S(e!=null,"`new NativeEventEmitter()` requires a non-null argument."),this._nativeModule=e)}addListener(e,r,n){var i;(i=this._nativeModule)==null||i.addListener(e);var o=c.addListener(e,r,n);return{remove:()=>{if(o!=null){var s;(s=this._nativeModule)==null||s.removeListeners(1),o.remove(),o=null}}}}removeListener(e,r){var n;(n=this._nativeModule)==null||n.removeListeners(1),c.removeListener(e,r)}emit(e){for(var r=arguments.length,n=new Array(r>1?r-1:0),i=1;i<r;i++)n[i-1]=arguments[i];c.emit(e,...n)}removeAllListeners(e){var r;S(e!=null,"`NativeEventEmitter.removeAllListener()` requires a non-null argument."),(r=this._nativeModule)==null||r.removeListeners(this.listenerCount(e)),c.removeAllListeners(e)}listenerCount(e){return c.listenerCount(e)}}new h(d.RNDeviceInfo);const g=new h(d.RNDeviceInfo);let f=!1,P=-1,l={};const m=t=>{const{level:e,charging:r,chargingtime:n,dischargingtime:i}=t;return{batteryLevel:e,lowPowerMode:!1,batteryState:e===1?"full":r?"charging":"unplugged",chargingtime:n,dischargingtime:i}},L=()=>window.performance&&window.performance.memory?window.performance.memory.jsHeapSizeLimit:-1,M=()=>document.referrer,C=()=>!!navigator.onLine,I=()=>window.navigator.userAgent,E=()=>!!navigator.geolocation,N=()=>navigator.deviceMemory?navigator.deviceMemory*1e9:-1,b=()=>window.performance&&window.performance.memory?window.performance.memory.usedJSHeapSize:-1,F=()=>{typeof navigator>"u"||!navigator.getBattery||navigator.getBattery().then(t=>{f=t.charging,t.addEventListener("chargingchange",()=>{const{charging:e}=t;f=e,l=m(t),g.emit("RNDeviceInfo_powerStateDidChange",l)}),t.addEventListener("levelchange",()=>{const{level:e}=t;P=e,l=m(t),g.emit("RNDeviceInfo_batteryLevelDidChange",e),e<.2&&g.emit("RNDeviceInfo_batteryLevelIsLow",e)})})},W=()=>{const t=window.navigator.userAgent,e=window.navigator.platform,r=["Macintosh","MacIntel","MacPPC","Mac68K"],n=["Win32","Win64","Windows","WinCE"],i=["iPhone","iPad","iPod"];let o=e;return r.indexOf(e)!==-1?o="Mac OS":i.indexOf(e)!==-1?o="iOS":n.indexOf(e)!==-1?o="Windows":/Android/.test(t)?o="Android":!o&&/Linux/.test(e)&&(o="Linux"),o};F();const k=async()=>M(),U=async()=>I(),$=async()=>navigator.getBattery?navigator.getBattery().then(t=>t.charging):!1,z=()=>f,V=async()=>navigator.mediaDevices&&navigator.mediaDevices.enumerateDevices?navigator.mediaDevices.enumerateDevices().then(t=>!!t.find(e=>e.kind==="videoinput")):!1,H=()=>(console.log("[react-native-device-info] isCameraPresentSync not supported - please use isCameraPresent"),!1),G=async()=>navigator.getBattery?navigator.getBattery().then(t=>t.level):-1,J=()=>P,X=async()=>E(),Y=async()=>C(),Q=async()=>W(),Z=async()=>navigator.storage&&navigator.storage.estimate?navigator.storage.estimate().then(({quota:t})=>t):-1,K=()=>(console.log("[react-native-device-info] getTotalDiskCapacitySync not supported - please use getTotalDiskCapacity"),-1),ee=async()=>navigator.storage&&navigator.storage.estimate?navigator.storage.estimate().then(({quota:t,usage:e})=>t-e):-1,te=()=>(console.log("[react-native-device-info] getFreeDiskStorageSync not supported - please use getFreeDiskStorage"),-1),ne=async()=>L(),re=async()=>b(),ie=async()=>N(),oe=async()=>navigator.getBattery?navigator.getBattery().then(t=>m(t)):{},ae=()=>l,se=Object.freeze(Object.defineProperty({__proto__:null,getBaseOs:Q,getBatteryLevel:G,getBatteryLevelSync:J,getFreeDiskStorage:ee,getFreeDiskStorageSync:te,getInstallReferrer:k,getInstallReferrerSync:M,getMaxMemory:ne,getMaxMemorySync:L,getPowerState:oe,getPowerStateSync:ae,getTotalDiskCapacity:Z,getTotalDiskCapacitySync:K,getTotalMemory:ie,getTotalMemorySync:N,getUsedMemory:re,getUsedMemorySync:b,getUserAgent:U,getUserAgentSync:I,isAirplaneMode:Y,isAirplaneModeSync:C,isBatteryCharging:$,isBatteryChargingSync:z,isCameraPresent:V,isCameraPresentSync:H,isLocationEnabled:X,isLocationEnabledSync:E},Symbol.toStringTag,{value:"Module"})),ce=T(se);let p=d.RNDeviceInfo;(a.OS==="web"||a.OS==="dom")&&(p=ce);if(!p&&(a.OS==="android"||a.OS==="ios"||a.OS==="web"||a.OS==="dom"))throw new Error("react-native-device-info: NativeModule.RNDeviceInfo is null. To fix this issue try these steps:\n  • For react-native <= 0.59: Run `react-native link react-native-device-info` in the project root.\n  • Rebuild and re-run the app.\n  • If you are using CocoaPods on iOS, run `pod install` in the `ios` directory and then rebuild and re-run the app. You may also need to re-open Xcode to get the new pods.\n  If none of these fix the issue, please open an issue on the Github repository: https://github.com/react-native-device-info/react-native-device-info");const O=p;let v={};function le(t,e,r){let n={};return t.filter(i=>a.OS==i).forEach(i=>n[i]=e),a.select({...n,default:r})}function _({getter:t,supportedPlatforms:e,defaultValue:r,memoKey:n}){if(n&&v[n]!=null)return v[n];{const i=le(e,t,()=>r)();return n&&(v[n]=i),i}}const he=()=>_({defaultValue:"unknown",memoKey:"uniqueId",supportedPlatforms:["android","ios","windows"],getter:()=>O.uniqueId}),ue=()=>_({defaultValue:!1,supportedPlatforms:["android","ios","windows"],memoKey:"tablet",getter:()=>O.isTablet});new h(d.RNDeviceInfo);const x={fontScale:1,height:640,isLandscape:!1,isPortrait:!0,isTablet:!1,isTallPhone:!0,scale:1,width:360},A=u.createContext(x),D=({children:t})=>{const[e,r]=u.useState(x),n=B();return u.useEffect(()=>{r({isLandscape:n.height<n.width,isPortrait:n.height>=n.width,isTablet:ue(),isTallPhone:n.height/n.width>2,...n})},[n]),R(A.Provider,{value:e,children:t})};try{D.displayName="DeviceProvider",D.__docgenInfo={description:"",displayName:"DeviceProvider",props:{}}}catch{}const pe=()=>u.useContext(A);export{D,j as E,h as N,c as R,he as g,pe as u};
//# sourceMappingURL=useDeviceContext-07d8242c.js.map
