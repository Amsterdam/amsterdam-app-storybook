import{j as t}from"./jsx-runtime-DNHyKP0h.js";import{r as u}from"./index-B-xgG2PE.js";import{P as f}from"./PleaseWait-K9lZoyhv.js";import{S as l}from"./SomethingWentWrong-CgE0apiA.js";import{C as d}from"./Column-BjKyTc-7.js";import{P as g}from"./Phrase-CIM7tAFl.js";import{T as P}from"./Title-C_4JPlVI.js";import{u as h}from"./useBoolean-DwbfAoJh.js";import{u as _,a as S}from"./useGetParkingSessions--jgnai9v.js";import{P as v}from"./ParkingActiveSessionNavigationButton-JjsH6F0n.js";import{u as x}from"./useCurrentParkingPermit.web-CjeOPfhw.js";import{b as j}from"./types-ygl1BpYP.js";const n=({visitorVehicleId:i})=>{const{parkingSessions:e,isLoading:m,isError:p,refetch:s}=_(j.active,i),c=x(),{value:o,enable:a}=h(!1);return u.useEffect(()=>{i||!o&&(e!=null&&e.some(r=>!r.ps_right_id))&&(s(),a())},[e,o,s,a,i]),S(s,e!=null&&e.some(r=>"is_paid"in r&&!r.is_paid)?15e3:0),m?t.jsx(f,{testID:"ParkingPermitSessionsActivePleaseWait"}):p?t.jsx(l,{testID:"ParkingActiveSessionsSummarySomethingWentWrong"}):t.jsxs(d,{gutter:"sm",children:[t.jsx(P,{level:"h5",testID:"ParkingPermitSessionsActiveTitle",text:"Nu actief"}),e!=null&&e.length?e.map(r=>t.jsx(v,{noEndTime:c.no_endtime,parkingSession:r},r.ps_right_id??r.vehicle_id)):t.jsx(g,{testID:"ParkingPermitSessionsActiveNotActivePhrase",children:"Er zijn geen actieve parkeersessies."})]})};try{n.displayName="ParkingActiveSessionsSummary",n.__docgenInfo={description:"",displayName:"ParkingActiveSessionsSummary",props:{visitorVehicleId:{defaultValue:null,description:"",name:"visitorVehicleId",required:!1,type:{name:"string"}}}}}catch{}export{n as P};
