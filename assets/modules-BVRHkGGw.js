var Ge=Object.defineProperty;var Qe=(n,a,i)=>a in n?Ge(n,a,{enumerable:!0,configurable:!0,writable:!0,value:i}):n[a]=i;var ve=(n,a,i)=>Qe(n,typeof a!="symbol"?a+"":a,i);import{g as getDefaultExportFromCjs,c as commonjsGlobal,a as getAugmentedNamespace}from"./_commonjsHelpers-BosuxZz1.js";import{q as queryString,c as PiwikSessionDimension,a as useTrackEvents,P as PiwikAction,V as VERSION_NUMBER}from"./usePiwikTrackCustomEventFromProps-CZtzunzI.js";import{r as reactExports}from"./index-Cs7sjTYM.js";import{M as ModuleSlug,u as useTrackException,E as ExceptionLogKey,f as customDefaultUrls,g as Environment,h as getApi,C as CHAT_DEVELOPER_NAME_PROD,i as CHAT_ORGANIZATION_ID_PROD,j as CHAT_URL_PROD,k as CHAT_DEVELOPER_NAME_ACC,l as CHAT_ORGANIZATION_ID_ACC,m as CHAT_URL_ACC,n as CHAT_DEVELOPER_NAME_TEST,o as CHAT_ORGANIZATION_ID_TEST,p as CHAT_URL_TEST,q as CHAT_DEVELOPER_NAME_DEV,r as CHAT_ORGANIZATION_ID_DEV,s as CHAT_URL_DEV,t as apiKeyForEnvironment,G as GlobalApiSlug}from"./useTrackException-BNw22381.js";import{R as ReactReduxContext,f as useReduxContext,h as createReduxContextHook,c as createSlice,b as ReduxKey,S as SalesforceMessagingInApp,C as ConversationEntrySenderRole,j as ConversationEntryFormat,k as ConversationEntryStatus,P as ParticipantChangedOperationType,m as ConversationEntryRoutingType,a as useSelector,n as ConversationEntryRoutingWorkType,o as nanoid,T,p as createAction,q as createAsyncThunk,r as SHOULD_AUTOBATCH,v as prepareAutoBatched,w as isAnyOf,i as isRejectedWithValue,x as isFulfilled,y as pn,e as combineReducers,z as t,A as cn,B as isAllOf,D as isPending,F as isRejected,G as fn,H as r,I as e,J as isPlainObject$1,K as isAsyncThunkAction,L as useSelector$1,u as useThemable,M as ConnectionState}from"./useThemable-B9E-cGb9.js";import{P as Platform$1,N as NativeModules$1}from"./index-C9LjRz3B.js";import{j as jsxRuntimeExports}from"./jsx-runtime-BlAj40OV.js";import{d as defineAnimation,g as getReduceMotionForAnimation,C as ComplexAnimationBuilder,u as useSharedValue,i as initialUpdaterRun,m as makeShareable,b as makeViewDescriptorsSet,s as startMapper,c as stopMapper,e as isJest,f as shouldBeUseWeb,R as ReanimatedErrorConstructor,h as updateProps,j as updatePropsJestWrapper,k as hsvToColor,r as rgbaColor,p as processColor,l as red,n as green,o as blue,q as opacity,t as RGBtoHSV,A as Animated,w as withTiming,P as PopUpMenu,a as PopupMenuOrientation,v as withSequence,x as withSpring,E as Easing}from"./types-dH1F3oXy.js";import{u as useTheme}from"./useTheme-2vSwFSpt.js";import{s as stylesheet}from"./index-BRs9ZavV.js";import{u as useDeviceContext}from"./useDeviceContext-BXdagwJr.js";import{u as useOpenWebUrl,K as Keyboard,M as Modal,I as InlineLink,a as useOpenUrl,b as KeyboardAvoidingView,r as require$$1}from"./useOpenUrl-C_LtrYdD.js";import{i as isDevApp,e as devLog,d as devError,f as devInfo}from"./development-B3zcR1jo.js";import{A as AppLifecycle}from"./AppLifecycle-yGVIiJTE.js";import{d as dayjs,C as ChatSystemEntry,a as dayjsFromUnix}from"./ChatSystemEntry-DolPJCfW.js";import{A as Alert}from"./index-8IOPL2sn.js";import{r as reactDomExports}from"./index-D5xlL9g-.js";import{I as IconButton}from"./IconButton-Chf-tpF6.js";import{B as Box}from"./Box-C5_JTByf.js";import{R as Row}from"./Row-DqMM17bE.js";import{I as Icon}from"./Icon-BJR4Yj9l.js";import{T as Title}from"./Title-MUX4-_5l.js";import{S as Svg,P as Path,a as Circle}from"./index-CC-zlO6h.js";import{B as Badge}from"./Badge-CJp84s03.js";import{V as View}from"./index-DNzWYFc8.js";import{M as MemoedPressable}from"./index-HY1hV1Sb.js";import{C as Column}from"./Column-BmVHe0Bz.js";import{G as Gutter}from"./Gutter-C5B7qi1U.js";import{P as Phrase}from"./Phrase-DGtjQlkh.js";import{P as Pressable}from"./Pressable-30ruIITt.js";import{I as ImageWithStatics}from"./index-BNEt8Bkx.js";import{B as Button}from"./Button-D86Lc_pK.js";import{P as PressableBase}from"./PressableBase-Vb3vq1iu.js";import{a as ForwardedScrollView}from"./index-adwSuxHZ.js";import{u as useIsScreenReaderEnabled}from"./useIsScreenReaderEnabled-D6ZsQTZg.js";import{u as useAccessibilityFocus}from"./useAccessibilityFocus-BDDrmMB1.js";import{D as Duration}from"./duration-BeyW1-if.js";import{T as TextInput}from"./index-DS8q97x7.js";import{P as Paragraph}from"./Paragraph-CHLZfoqg.js";import{S as SvgAmsterdamFacades}from"./amsterdam-facades-DanNihg3.js";import{C as Center}from"./Center-BQAZ-GCZ.js";import{E as ErrorFigure}from"./ErrorFigure-1erYn4oZ.js";import{A as ActionButton}from"./ActionButton-C9buMFbE.js";import{a as useNavigation}from"./useNavigation-DNm1UcTD.js";import{c as commonjsRequire}from"./_commonjs-dynamic-modules-TDtrdbi3.js";import{c as getUniqueIdSync}from"./index-B9HBLp1U.js";import"./index-8JwjhRSi.js";const useAppLifecycle=()=>{const[n,a]=reactExports.useState(AppLifecycle.currentState);return reactExports.useEffect(()=>{const i=AppLifecycle.addEventListener("change",s=>{a(s)});return()=>i.remove()},[]),n};function is(n,a){return n===a?n!==0||a!==0||1/n===1/a:n!==n&&a!==a}function shallowEqual$1(n,a){if(is(n,a))return!0;if(typeof n!="object"||n===null||typeof a!="object"||a===null)return!1;const i=Object.keys(n),s=Object.keys(a);if(i.length!==s.length)return!1;for(let o=0;o<i.length;o++)if(!Object.prototype.hasOwnProperty.call(a,i[o])||!is(n[i[o]],a[i[o]]))return!1;return!0}function createStoreHook(n=ReactReduxContext){const a=n===ReactReduxContext?useReduxContext:createReduxContextHook(n);return function(){const{store:s}=a();return s}}const useStore=createStoreHook();function createDispatchHook(n=ReactReduxContext){const a=n===ReactReduxContext?useStore:createStoreHook(n);return function(){return a().dispatch}}const useDispatch$1=createDispatchHook();var NOT_FOUND="NOT_FOUND";function createSingletonCache(n){var a;return{get:function(s){return a&&n(a.key,s)?a.value:NOT_FOUND},put:function(s,o){a={key:s,value:o}},getEntries:function(){return a?[a]:[]},clear:function(){a=void 0}}}function createLruCache(n,a){var i=[];function s(x){var m=i.findIndex(function(l){return a(x,l.key)});if(m>-1){var c=i[m];return m>0&&(i.splice(m,1),i.unshift(c)),c.value}return NOT_FOUND}function o(x,m){s(x)===NOT_FOUND&&(i.unshift({key:x,value:m}),i.length>n&&i.pop())}function u(){return i}function p(){i=[]}return{get:s,put:o,getEntries:u,clear:p}}var defaultEqualityCheck=function(a,i){return a===i};function createCacheKeyComparator(n){return function(i,s){if(i===null||s===null||i.length!==s.length)return!1;for(var o=i.length,u=0;u<o;u++)if(!n(i[u],s[u]))return!1;return!0}}function defaultMemoize(n,a){var i=typeof a=="object"?a:{equalityCheck:a},s=i.equalityCheck,o=s===void 0?defaultEqualityCheck:s,u=i.maxSize,p=u===void 0?1:u,x=i.resultEqualityCheck,m=createCacheKeyComparator(o),c=p===1?createSingletonCache(m):createLruCache(p,m);function l(){var y=c.get(arguments);if(y===NOT_FOUND){if(y=n.apply(null,arguments),x){var d=c.getEntries(),h=d.find(function(g){return x(g.value,y)});h&&(y=h.value)}c.put(arguments,y)}return y}return l.clearCache=function(){return c.clear()},l}function getDependencies(n){var a=Array.isArray(n[0])?n[0]:n;if(!a.every(function(s){return typeof s=="function"})){var i=a.map(function(s){return typeof s=="function"?"function "+(s.name||"unnamed")+"()":typeof s}).join(", ");throw new Error("createSelector expects all input-selectors to be functions, but received the following types: ["+i+"]")}return a}function createSelectorCreator(n){for(var a=arguments.length,i=new Array(a>1?a-1:0),s=1;s<a;s++)i[s-1]=arguments[s];var o=function(){for(var p=arguments.length,x=new Array(p),m=0;m<p;m++)x[m]=arguments[m];var c=0,l,y={memoizeOptions:void 0},d=x.pop();if(typeof d=="object"&&(y=d,d=x.pop()),typeof d!="function")throw new Error("createSelector expects an output function after the inputs, but received: ["+typeof d+"]");var h=y,g=h.memoizeOptions,b=g===void 0?i:g,A=Array.isArray(b)?b:[b],F=getDependencies(x),C=n.apply(void 0,[function(){return c++,d.apply(null,arguments)}].concat(A)),E=n(function(){for(var _=[],S=F.length,R=0;R<S;R++)_.push(F[R].apply(null,arguments));return l=C.apply(null,_),l});return Object.assign(E,{resultFunc:d,memoizedResultFunc:C,dependencies:F,lastResult:function(){return l},recomputations:function(){return c},resetRecomputations:function(){return c=0}}),E};return o}var createSelector=createSelectorCreator(defaultMemoize);function findFocusedRoute(n){var a,i;let s=n;for(;((o=s)===null||o===void 0?void 0:o.routes[s.index??0].state)!=null;){var o;s=s.routes[s.index??0].state}return(a=s)===null||a===void 0?void 0:a.routes[((i=s)===null||i===void 0?void 0:i.index)??0]}function getActionFromState(n,a){var i;const s=a?createNormalizedConfigItem(a):{},o=n.index!=null?n.routes.slice(0,n.index+1):n.routes;if(o.length===0)return;if(!(o.length===1&&o[0].key===void 0||o.length===2&&o[0].key===void 0&&o[0].name===(s==null?void 0:s.initialRouteName)&&o[1].key===void 0))return{type:"RESET",payload:n};const u=n.routes[n.index??n.routes.length-1];let p=u==null?void 0:u.state,x=s==null||(i=s.screens)===null||i===void 0?void 0:i[u==null?void 0:u.name],m={...u.params},c=u?{name:u.name,path:u.path,params:m}:void 0;for(;p;){var l,y,d;if(p.routes.length===0)return;const h=p.index!=null?p.routes.slice(0,p.index+1):p.routes,g=h[h.length-1];if(Object.assign(m,{initial:void 0,screen:void 0,params:void 0,state:void 0}),h.length===1&&h[0].key===void 0)m.initial=!0,m.screen=g.name;else if(h.length===2&&h[0].key===void 0&&h[0].name===((l=x)===null||l===void 0?void 0:l.initialRouteName)&&h[1].key===void 0)m.initial=!1,m.screen=g.name;else{m.state=p;break}g.state?(m.params={...g.params},m=m.params):(m.path=g.path,m.params=g.params),p=g.state,x=(y=x)===null||y===void 0||(d=y.screens)===null||d===void 0?void 0:d[g.name]}if(c)return{type:"NAVIGATE",payload:c}}const createNormalizedConfigItem=n=>typeof n=="object"&&n!=null?{initialRouteName:n.initialRouteName,screens:n.screens!=null?createNormalizedConfigs$1(n.screens):void 0}:{},createNormalizedConfigs$1=n=>Object.entries(n).reduce((a,i)=>{let[s,o]=i;return a[s]=createNormalizedConfigItem(o),a},{}),CHILD_STATE=Symbol("CHILD_STATE");function getFocusedRouteNameFromRoute(n){const a=n[CHILD_STATE]??n.state,i=n.params;return a?a.routes[a.index??(typeof a.type=="string"&&a.type!=="stack"?0:a.routes.length-1)].name:typeof(i==null?void 0:i.screen)=="string"?i.screen:void 0}const formatToList=n=>n.map(a=>`- ${a}`).join(`
`);function validatePathConfig(n){let a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;const i=["initialRouteName","screens"];a||i.push("path","exact","stringify","parse");const s=Object.keys(n).filter(o=>!i.includes(o));if(s.length)throw new Error(`Found invalid properties in the configuration:
${formatToList(s)}

Did you forget to specify them under a 'screens' property?

You can only specify the following properties:
${formatToList(i)}

See https://reactnavigation.org/docs/configuring-links for more details on how to specify a linking configuration.`);n.screens&&Object.entries(n.screens).forEach(o=>{let[u,p]=o;typeof p!="string"&&validatePathConfig(p,!1)})}var escapeStringRegexp=n=>{if(typeof n!="string")throw new TypeError("Expected a string");return n.replace(/[|\\{}()[\]^$+*?.]/g,"\\$&").replace(/-/g,"\\x2d")};const escape$1=getDefaultExportFromCjs(escapeStringRegexp);function getStateFromPath(n,a){a&&validatePathConfig(a);let i=[];a!=null&&a.initialRouteName&&i.push({initialRouteName:a.initialRouteName,parentScreens:[]});const s=a==null?void 0:a.screens;let o=n.replace(/\/+/g,"/").replace(/^\//,"").replace(/\?.*$/,"");if(o=o.endsWith("/")?o:`${o}/`,s===void 0){const l=o.split("/").filter(Boolean).map(y=>({name:decodeURIComponent(y)}));return l.length?createNestedStateObject(n,l,i):void 0}const u=[].concat(...Object.keys(s).map(l=>createNormalizedConfigs(l,s,[],i,[]))).sort((l,y)=>{if(l.pattern===y.pattern)return y.routeNames.join(">").localeCompare(l.routeNames.join(">"));if(l.pattern.startsWith(y.pattern))return-1;if(y.pattern.startsWith(l.pattern))return 1;const d=l.pattern.split("/"),h=y.pattern.split("/");for(let g=0;g<Math.max(d.length,h.length);g++){if(d[g]==null)return 1;if(h[g]==null)return-1;const b=d[g]==="*"||d[g].startsWith(":"),A=h[g]==="*"||h[g].startsWith(":");if(!(b&&A)){if(b)return 1;if(A)return-1}}return h.length-d.length});if(u.reduce((l,y)=>{if(l[y.pattern]){const d=l[y.pattern].routeNames,h=y.routeNames;if(!(d.length>h.length?h.every((b,A)=>d[A]===b):d.every((b,A)=>h[A]===b)))throw new Error(`Found conflicting screens with the same pattern. The pattern '${y.pattern}' resolves to both '${d.join(" > ")}' and '${h.join(" > ")}'. Patterns must be unique and cannot resolve to more than one screen.`)}return Object.assign(l,{[y.pattern]:y})},{}),o==="/"){const l=u.find(y=>y.path===""&&y.routeNames.every(d=>{var h;return!((h=u.find(g=>g.screen===d))!==null&&h!==void 0&&h.path)}));return l?createNestedStateObject(n,l.routeNames.map(y=>({name:y})),i,u):void 0}let p,x;const{routes:m,remainingPath:c}=matchAgainstConfigs(o,u.map(l=>({...l,regex:l.regex?new RegExp(l.regex.source+"$"):void 0})));if(m!==void 0&&(x=createNestedStateObject(n,m,i,u),o=c,p=x),!(x==null||p==null))return p}const joinPaths=function(){for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return[].concat(...a.map(s=>s.split("/"))).filter(Boolean).join("/")},matchAgainstConfigs=(n,a)=>{let i,s=n;for(const u of a){if(!u.regex)continue;const p=s.match(u.regex);if(p){var o;const m=((o=u.pattern)===null||o===void 0?void 0:o.split("/").reduce((c,l,y)=>{if(!l.startsWith(":"))return c;c.pos+=1;const d=decodeURIComponent(p[(c.pos+1)*2].replace(/\/$/,""));return Object.assign(c.matchedParams,{[l]:Object.assign(c.matchedParams[l]||{},{[y]:d})}),c},{pos:-1,matchedParams:{}})).matchedParams||{};i=u.routeNames.map(c=>{var l;const y=a.find(b=>b.screen===c&&u.pattern.startsWith(b.pattern)),d=y==null?void 0:y.path.split("/").filter(Boolean).join("/"),h=y==null||(l=y.pattern.replace(new RegExp(`${escape$1(d)}$`),""))===null||l===void 0?void 0:l.split("/").length,g=d==null?void 0:d.split("/").reduce((b,A,F)=>{var C;if(!A.startsWith(":"))return b;const E=h?h-1:0,v=(C=m[A])===null||C===void 0?void 0:C[F+E];if(v){var _;const S=A.replace(/^:/,"").replace(/\?$/,"");b[S]=y!=null&&(_=y.parse)!==null&&_!==void 0&&_[S]?y.parse[S](v):v}return b},{});return g&&Object.keys(g).length?{name:c,params:g}:{name:c}}),s=s.replace(p[1],"");break}}return{routes:i,remainingPath:s}},createNormalizedConfigs=function(n,a){let i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:[],s=arguments.length>3?arguments[3]:void 0,o=arguments.length>4?arguments[4]:void 0,u=arguments.length>5?arguments[5]:void 0;const p=[];i.push(n),o.push(n);const x=a[n];if(typeof x=="string"){const m=u?joinPaths(u,x):x;p.push(createConfigItem(n,i,m,x))}else if(typeof x=="object"){let m;if(typeof x.path=="string"){if(x.exact&&x.path===void 0)throw new Error("A 'path' needs to be specified when specifying 'exact: true'. If you don't want this screen in the URL, specify it as empty string, e.g. `path: ''`.");m=x.exact!==!0?joinPaths(u||"",x.path||""):x.path||"",p.push(createConfigItem(n,i,m,x.path,x.parse))}x.screens&&(x.initialRouteName&&s.push({initialRouteName:x.initialRouteName,parentScreens:o}),Object.keys(x.screens).forEach(c=>{const l=createNormalizedConfigs(c,x.screens,i,s,[...o],m??u);p.push(...l)}))}return i.pop(),p},createConfigItem=(n,a,i,s,o)=>{i=i.split("/").filter(Boolean).join("/");const u=i?new RegExp(`^(${i.split("/").map(p=>p.startsWith(":")?`(([^/]+\\/)${p.endsWith("?")?"?":""})`:`${p==="*"?".*":escape$1(p)}\\/`).join("")})`):void 0;return{screen:n,regex:u,pattern:i,path:s,routeNames:[...a],parse:o}},findParseConfigForRoute=(n,a)=>{for(const i of a)if(n===i.routeNames[i.routeNames.length-1])return i.parse},findInitialRoute=(n,a,i)=>{for(const s of i)if(a.length===s.parentScreens.length){let o=!0;for(let u=0;u<a.length;u++)if(a[u].localeCompare(s.parentScreens[u])!==0){o=!1;break}if(o)return n!==s.initialRouteName?s.initialRouteName:void 0}},createStateObject=(n,a,i)=>i?n?{index:1,routes:[{name:n},a]}:{routes:[a]}:n?{index:1,routes:[{name:n},{...a,state:{routes:[]}}]}:{routes:[{...a,state:{routes:[]}}]},createNestedStateObject=(n,a,i,s)=>{let o,u=a.shift();const p=[];let x=findInitialRoute(u.name,p,i);if(p.push(u.name),o=createStateObject(x,u,a.length===0),a.length>0){let c=o;for(;u=a.shift();){x=findInitialRoute(u.name,p,i);const l=c.index||c.routes.length-1;c.routes[l].state=createStateObject(x,u,a.length===0),a.length>0&&(c=c.routes[l].state),p.push(u.name)}}u=findFocusedRoute(o),u.path=n;const m=parseQueryParams(n,s?findParseConfigForRoute(u.name,s):void 0);return m&&(u.params={...u.params,...m}),o},parseQueryParams=(n,a)=>{const i=n.split("?")[1],s=queryString.parse(i);return a&&Object.keys(s).forEach(o=>{Object.hasOwnProperty.call(a,o)&&typeof s[o]=="string"&&(s[o]=a[o](s[o]))}),Object.keys(s).length?s:void 0},LinkingContext=reactExports.createContext({options:void 0});LinkingContext.displayName="LinkingContext";const withRepeat=function(n,a=2,i=!1,s,o){"worklet";return defineAnimation(n,()=>{"worklet";const u=typeof n=="function"?n():n;function p(c,l){const y=u.onFrame(u,l);if(c.current=u.current,y){if(c.reps+=1,u.callback&&u.callback(!0,c.current),c.reduceMotion||a>0&&c.reps>=a)return!0;const d=i?u.current:c.startValue;return i&&(u.toValue=c.startValue,c.startValue=d),u.onStart(u,d,l,u.previousAnimation),!1}return!1}const x=c=>{!c&&u.callback&&u.callback(!1)};function m(c,l,y,d){c.startValue=l,c.reps=0,u.reduceMotion===void 0&&(u.reduceMotion=c.reduceMotion),c.reduceMotion&&i&&(a<=0||a%2===0)?(c.current=c.startValue,c.onFrame=()=>!0):u.onStart(u,l,y,d)}return{isHigherOrder:!0,onFrame:p,onStart:m,reps:0,current:u.current,callback:x,startValue:0,reduceMotion:getReduceMotionForAnimation(o)}})},ge=class ge extends ComplexAnimationBuilder{constructor(){super(...arguments);ve(this,"build",()=>{const i=this.getDelayFunction(),[s,o]=this.getAnimationAndConfig(),u=this.getDelay(),p=this.callbackV,x=this.initialValues;return m=>{"worklet";return{animations:{originY:i(u,s(m.targetOriginY,o))},initialValues:{originY:m.targetOriginY+m.windowHeight,...x},callback:p}}})}static createInstance(){return new ge}};ve(ge,"presetName","SlideInDown");let SlideInDown=ge;const Ee=class Ee extends ComplexAnimationBuilder{constructor(){super(...arguments);ve(this,"build",()=>{const i=this.getDelayFunction(),[s,o]=this.getAnimationAndConfig(),u=this.getDelay(),p=this.callbackV,x=this.initialValues;return m=>{"worklet";return{animations:{originY:i(u,s(Math.max(m.currentOriginY+m.windowHeight,m.windowHeight),o))},initialValues:{originY:m.currentOriginY,...x},callback:p}}})}static createInstance(){return new Ee}};ve(Ee,"presetName","SlideOutDown");let SlideOutDown=Ee;function isAnimated(n){"worklet";return Array.isArray(n)?n.some(isAnimated):typeof n=="object"&&n!==null?n.onFrame!==void 0?!0:Object.values(n).some(isAnimated):!1}function shallowEqual(n,a){"worklet";const i=Object.keys(n),s=Object.keys(a);if(i.length!==s.length)return!1;for(let o=0;o<i.length;o++)if(n[i[o]]!==a[i[o]])return!1;return!0}const SHOULD_BE_USE_WEB=shouldBeUseWeb();function prepareAnimation(n,a,i,s){"worklet";if(Array.isArray(a)&&a.forEach((o,u)=>{prepareAnimation(n,o,i&&i[u],s&&s[u])}),typeof a=="object"&&a.onFrame){const o=a;let u=o.current;s!=null&&(typeof s=="object"?s.value!==void 0?u=s.value:s.onFrame!==void 0&&((i==null?void 0:i.current)!==void 0?u=i.current:(s==null?void 0:s.current)!==void 0&&(u=s.current)):u=s),o.callStart=p=>{o.onStart(o,u,p,i)},o.callStart(n),o.callStart=null}else typeof a=="object"&&Object.keys(a).forEach(o=>prepareAnimation(n,a[o],i&&i[o],s&&s[o]))}function runAnimations(n,a,i,s,o){"worklet";if(!o.value)return!0;if(Array.isArray(n)){s[i]=[];let u=!0;return n.forEach((p,x)=>{runAnimations(p,a,x,s[i],o)||(u=!1)}),u}else if(typeof n=="object"&&n.onFrame){let u=!0;return n.finished||(n.callStart&&(n.callStart(a),n.callStart=null),u=n.onFrame(n,a),n.timestamp=a,u&&(n.finished=!0,n.callback&&n.callback(!0))),s[i]=n.current,u}else if(typeof n=="object"){s[i]={};let u=!0;return Object.keys(n).forEach(p=>{runAnimations(n[p],a,p,s[i],o)||(u=!1)}),u}else return s[i]=n,!0}function styleUpdater(n,a,i,s,o=!1){"worklet";const u=i.animations??{},p=a()??{},x=i.last,m={};let c=!1,l,y=!1;for(const d in p){const h=p[d];isAnimated(h)?(l=global.__frameTimestamp||global._getAnimationTimestamp(),prepareAnimation(l,h,u[d],x[d]),u[d]=h,c=!0):(y=!0,m[d]=h,delete u[d])}if(c){const d=h=>{const{animations:g,last:b,isAnimationCancelled:A}=i;if(A){i.isAnimationRunning=!1;return}const F={};let C=!0;for(const E in g)runAnimations(g[E],h,E,F,s)?(b[E]=F[E],delete g[E]):C=!1;F&&updateProps(n,F),C?i.isAnimationRunning=!1:requestAnimationFrame(d)};i.animations=u,i.isAnimationRunning||(i.isAnimationCancelled=!1,i.isAnimationRunning=!0,d(l)),y&&updateProps(n,m)}else i.isAnimationCancelled=!0,i.animations=[],shallowEqual(x,p)||updateProps(n,p,o);i.last=p}function jestStyleUpdater(n,a,i,s,o,u){"worklet";const p=i.animations??{},x=a()??{},m=i.last;let c=!1,l;Object.keys(p).forEach(d=>{const h=x[d];isAnimated(h)||delete p[d]}),Object.keys(x).forEach(d=>{const h=x[d];isAnimated(h)&&(l=global.__frameTimestamp||global._getAnimationTimestamp(),prepareAnimation(l,h,p[d],m[d]),p[d]=h,c=!0)});function y(d){const{animations:h,last:g,isAnimationCancelled:b}=i;if(b){i.isAnimationRunning=!1;return}const A={};let F=!0;Object.keys(h).forEach(C=>{runAnimations(h[C],d,C,A,s)?(g[C]=A[C],delete h[C]):F=!1}),Object.keys(A).length&&updatePropsJestWrapper(n,A,o,u),F?i.isAnimationRunning=!1:requestAnimationFrame(y)}c?(i.animations=p,i.isAnimationRunning||(i.isAnimationCancelled=!1,i.isAnimationRunning=!0,y(l))):(i.isAnimationCancelled=!0,i.animations=[]),i.last=x,shallowEqual(m,x)||updatePropsJestWrapper(n,x,o,u)}function checkSharedValueUsage(n,a){if(Array.isArray(n))for(const i of n)checkSharedValueUsage(i,a);else if(typeof n=="object"&&n!==null&&n.value===void 0)for(const i of Object.keys(n))checkSharedValueUsage(n[i],i);else if(a!==void 0&&typeof n=="object"&&n!==null&&n.value!==void 0)throw new ReanimatedErrorConstructor(`Invalid value passed to \`${a}\`, maybe you forgot to use \`.value\`?`)}function useAnimatedStyle(n,a,i,s=!1){const o=reactExports.useRef();let u=Object.values(n.__closure??{});SHOULD_BE_USE_WEB&&!u.length&&a!=null&&a.length&&(u=a);const p=[],x=useSharedValue(!0),m=reactExports.useRef({});if(a?a.push(n.__workletHash):a=[...u,n.__workletHash],!o.current){const g=initialUpdaterRun(n);o.current={initial:{value:g,updater:n},remoteState:makeShareable({last:g,animations:{},isAnimationCancelled:!1,isAnimationRunning:!1}),viewDescriptors:makeViewDescriptorsSet()}}const{initial:c,remoteState:l,viewDescriptors:y}=o.current,d=y.shareableViewDescriptors;a.push(d),reactExports.useEffect(()=>{let g,b=n;isJest()?g=()=>{"worklet";jestStyleUpdater(d,n,l,x,m,p)}:g=()=>{"worklet";styleUpdater(d,b,l,x,s)};const A=startMapper(g,u);return()=>{stopMapper(A)}},a),reactExports.useEffect(()=>(x.value=!0,()=>{x.value=!1}),[x]),checkSharedValueUsage(c.value);const h=reactExports.useRef(null);return h.current||(h.current=isJest()?{viewDescriptors:y,initial:c,jestAnimatedStyle:m}:{viewDescriptors:y,initial:c}),h.current}let Extrapolation=function(n){return n.IDENTITY="identity",n.CLAMP="clamp",n.EXTEND="extend",n}({});function getVal(n,a,i,s,o,u){"worklet";switch(n){case Extrapolation.IDENTITY:return u;case Extrapolation.CLAMP:return a*i<a*s?s:o;case Extrapolation.EXTEND:default:return i}}function isExtrapolate(n){"worklet";return n===Extrapolation.EXTEND||n===Extrapolation.CLAMP||n===Extrapolation.IDENTITY}function validateType(n){"worklet";const a={extrapolateLeft:Extrapolation.EXTEND,extrapolateRight:Extrapolation.EXTEND};if(!n)return a;if(typeof n=="string"){if(!isExtrapolate(n))throw new ReanimatedErrorConstructor(`Unsupported value for "interpolate" 
Supported values: ["extend", "clamp", "identity", Extrapolatation.CLAMP, Extrapolatation.EXTEND, Extrapolatation.IDENTITY]
 Valid example:
        interpolate(value, [inputRange], [outputRange], "clamp")`);return a.extrapolateLeft=n,a.extrapolateRight=n,a}if(n.extrapolateLeft&&!isExtrapolate(n.extrapolateLeft)||n.extrapolateRight&&!isExtrapolate(n.extrapolateRight))throw new ReanimatedErrorConstructor(`Unsupported value for "interpolate" 
Supported values: ["extend", "clamp", "identity", Extrapolatation.CLAMP, Extrapolatation.EXTEND, Extrapolatation.IDENTITY]
 Valid example:
      interpolate(value, [inputRange], [outputRange], {
        extrapolateLeft: Extrapolation.CLAMP,
        extrapolateRight: Extrapolation.IDENTITY
      }})`);return Object.assign(a,n),a}function internalInterpolate(n,a,i){"worklet";const{leftEdgeInput:s,rightEdgeInput:o,leftEdgeOutput:u,rightEdgeOutput:p}=a;if(o-s===0)return u;const x=(n-s)/(o-s),m=u+x*(p-u),c=p>=u?1:-1;return c*m<c*u?getVal(i.extrapolateLeft,c,m,u,p,n):c*m>c*p?getVal(i.extrapolateRight,c,m,u,p,n):m}function interpolate(n,a,i,s){"worklet";if(a.length<2||i.length<2)throw new ReanimatedErrorConstructor("Interpolation input and output ranges should contain at least two values.");const o=validateType(s),u=a.length,p={leftEdgeInput:a[0],rightEdgeInput:a[1],leftEdgeOutput:i[0],rightEdgeOutput:i[1]};if(u>2){if(n>a[u-1])p.leftEdgeInput=a[u-2],p.rightEdgeInput=a[u-1],p.leftEdgeOutput=i[u-2],p.rightEdgeOutput=i[u-1];else for(let x=1;x<u;++x)if(n<=a[x]){p.leftEdgeInput=a[x-1],p.rightEdgeInput=a[x],p.leftEdgeOutput=i[x-1],p.rightEdgeOutput=i[x];break}}return internalInterpolate(n,p,o)}const interpolateColorsHSV=(n,a,i,s)=>{"worklet";let o=0;const{useCorrectedHSVInterpolation:u=!0}=s;if(u){const c=[a[0]],l=i.h,y=[l[0]];for(let d=1;d<l.length;++d){const h=l[d]-l[d-1];l[d]>l[d-1]&&h>.5?(c.push(a[d]),c.push(a[d]+1e-5),y.push(l[d]-1),y.push(l[d])):l[d]<l[d-1]&&h<-.5?(c.push(a[d]),c.push(a[d]+1e-5),y.push(l[d]+1),y.push(l[d])):(c.push(a[d]),y.push(l[d]))}o=(interpolate(n,c,y,Extrapolation.CLAMP)+1)%1}else o=interpolate(n,a,i.h,Extrapolation.CLAMP);const p=interpolate(n,a,i.s,Extrapolation.CLAMP),x=interpolate(n,a,i.v,Extrapolation.CLAMP),m=interpolate(n,a,i.a,Extrapolation.CLAMP);return hsvToColor(o,p,x,m)},toLinearSpace=(n,a)=>{"worklet";return n.map(i=>Math.pow(i/255,a))},toGammaSpace=(n,a)=>{"worklet";return Math.round(Math.pow(n,1/a)*255)},interpolateColorsRGB=(n,a,i,s)=>{"worklet";const{gamma:o=2.2}=s;let{r:u,g:p,b:x}=i;o!==1&&(u=toLinearSpace(u,o),p=toLinearSpace(p,o),x=toLinearSpace(x,o));const m=interpolate(n,a,u,Extrapolation.CLAMP),c=interpolate(n,a,p,Extrapolation.CLAMP),l=interpolate(n,a,x,Extrapolation.CLAMP),y=interpolate(n,a,i.a,Extrapolation.CLAMP);return o===1?rgbaColor(m,c,l,y):rgbaColor(toGammaSpace(m,o),toGammaSpace(c,o),toGammaSpace(l,o),y)},getInterpolateRGB=n=>{"worklet";const a=[],i=[],s=[],o=[];for(let u=0;u<n.length;++u){const p=n[u],x=processColor(p);x!=null&&(a.push(red(x)),i.push(green(x)),s.push(blue(x)),o.push(opacity(x)))}return{r:a,g:i,b:s,a:o}},getInterpolateHSV=n=>{"worklet";const a=[],i=[],s=[],o=[];for(let u=0;u<n.length;++u){const p=n[u],x=processColor(p);if(typeof x=="number"){const m=RGBtoHSV(red(x),green(x),blue(x));a.push(m.h),i.push(m.s),s.push(m.v),o.push(opacity(x))}}return{h:a,s:i,v:s,a:o}};function interpolateColor(n,a,i,s="RGB",o={}){"worklet";if(s==="HSV")return interpolateColorsHSV(n,a,getInterpolateHSV(i),o);if(s==="RGB")return interpolateColorsRGB(n,a,getInterpolateRGB(i),o);throw new ReanimatedErrorConstructor(`Invalid color space provided: ${s}. Supported values are: ['RGB', 'HSV'].`)}const notifee={displayNotification:()=>{},createChannel:()=>{},onForegroundEvent:()=>()=>{}};var EventType=(n=>(n[n.UNKNOWN=-1]="UNKNOWN",n[n.DISMISSED=0]="DISMISSED",n[n.PRESS=1]="PRESS",n[n.ACTION_PRESS=2]="ACTION_PRESS",n[n.DELIVERED=3]="DELIVERED",n[n.APP_BLOCKED=4]="APP_BLOCKED",n[n.CHANNEL_BLOCKED=5]="CHANNEL_BLOCKED",n[n.CHANNEL_GROUP_BLOCKED=6]="CHANNEL_GROUP_BLOCKED",n[n.TRIGGER_NOTIFICATION_CREATED=7]="TRIGGER_NOTIFICATION_CREATED",n[n.FG_ALREADY_EXIST=8]="FG_ALREADY_EXIST",n))(EventType||{});const messaging=()=>({getToken:()=>Promise.resolve()}),aboutModule={alwaysEnabled:!0,name:"AboutModule",slug:ModuleSlug.about};var AccessCodeType=(n=>(n.codeConfirmed="codeConfirmed",n.codeEntered="codeEntered",n.codeSet="codeSet",n))(AccessCodeType||{});const MAX_ATTEMPTS=5,initialValue$1={attemptsLeft:MAX_ATTEMPTS,[AccessCodeType.codeEntered]:[],[AccessCodeType.codeConfirmed]:[],[AccessCodeType.codeSet]:[],codeValidTimestamp:void 0,error:void 0,isCodeSet:!1,isCodeConfirmed:!1,isCodeValid:!1,isEnteringCode:!1,isForgotCode:!1,useBiometrics:void 0},accessCodeSlice=createSlice({name:"accessCode",initialState:initialValue$1,reducers:{addDigit:(n,{payload:{digit:a,type:i}})=>{n[i].push(a)},removeDigit:(n,{payload:a})=>{n[a].pop()},reset:()=>initialValue$1,setCode:(n,{payload:{code:a,type:i}})=>{n[i]=a},resetAttemptsLeft:n=>{n.attemptsLeft=initialValue$1.attemptsLeft},setAttemptsLeft:(n,{payload:a})=>{n.attemptsLeft=a},setError:(n,{payload:a})=>{n.error=a},setIsCodeSet:(n,{payload:a})=>{n.isCodeSet=a},setIsCodeConfirmed:(n,{payload:a})=>{n.isCodeConfirmed=a},setIsCodeValid:(n,{payload:a})=>{a?(n.isCodeValid=!0,n.codeValidTimestamp=Date.now()):(n.isCodeValid=!1,n.codeValidTimestamp=void 0)},setIsEnteringCode:(n,{payload:a})=>{n.isEnteringCode=a},setIsForgotCode:(n,{payload:a})=>{n.isForgotCode=a},setUseBiometrics:(n,{payload:a})=>{n.useBiometrics=a}}});accessCodeSlice.actions;const persistWhitelist$4=["attemptsLeft","useBiometrics"],accessCodeModule={hiddenInMenu:!0,name:"AccessCodeModule",reduxConfigs:[{key:ReduxKey.accessCode,persistVersion:0,persistWhitelist:persistWhitelist$4,slice:accessCodeSlice}],slug:ModuleSlug["access-code"],alwaysEnabled:!0},getAddition=(n,a)=>{if(!(!n&&!a))return n||a},getAddressLine2=(n,a)=>!n||!a?"":`${n.slice(0,4)} ${n.slice(4)} ${a.toUpperCase()}`,parseCentroid=(n,a)=>a||(n?{lat:n[1],lon:n[0]}:void 0),migrations={0:n=>{const{adres:a,bag_huisletter:i,bag_toevoeging:s,bagNummeraanduidingId:o,woonplaats:u,centroid:p,coordinates:x,huisnummer:m,postcode:c,straatnaam:l}=n;return[a,i,s,o,u,m,c,l].some(d=>d===void 0)?{}:{address:{addition:getAddition(i,s),additionLetter:i||void 0,additionNumber:s||void 0,addressLine1:a,addressLine2:getAddressLine2(c,u),bagId:o,city:u,coordinates:parseCentroid(p,x),number:m,postcode:c,street:l},locationType:"address"}}};var HighAccuracyPurposeKey=(n=>(n.PreciseLocationAddressConstructionWork="PreciseLocationAddressConstructionWork",n.PreciseLocationAddressLookup="PreciseLocationAddressLookup",n.PreciseLocationAddressWasteGuide="PreciseLocationAddressWasteGuide",n))(HighAccuracyPurposeKey||{});const initialState$c={},permissionsSlice=createSlice({name:ReduxKey.permissions,initialState:initialState$c,reducers:{setPermission:(n,{payload:{permission:a,granted:i}})=>{n[a]=i}}}),{setPermission}=permissionsSlice.actions,selectIsPermissionGranted=n=>a=>a[ReduxKey.permissions][n]??!1,RESULTS=Object.freeze({UNAVAILABLE:"unavailable",BLOCKED:"blocked",DENIED:"denied",GRANTED:"granted",LIMITED:"limited"}),getUnsupportedError=(n,a)=>new Error(`Only supported by ${n} ${a} and above`),openPhotoPicker=async()=>{throw getUnsupportedError("iOS",14)},requestLocationAccuracy=async()=>{throw getUnsupportedError("iOS",14)},checkLocationAccuracy=async()=>{throw getUnsupportedError("iOS",14)},check=async()=>RESULTS.UNAVAILABLE,checkNotifications=async()=>({status:RESULTS.UNAVAILABLE,settings:{}}),checkMultiple=async n=>{const a={};for(const i of n)a[i]=RESULTS.UNAVAILABLE;return a},methods={canScheduleExactAlarms:Promise.reject,check,checkLocationAccuracy,checkMultiple,checkNotifications,openPhotoPicker,openSettings:Promise.reject,request:check,requestLocationAccuracy,requestMultiple:checkMultiple,requestNotifications:checkNotifications},PERMISSIONS=Object.freeze({ANDROID:{},IOS:{},WINDOWS:{}}),request=methods.request,requestNotifications=methods.requestNotifications,Permissions={biometrics:PERMISSIONS.IOS.FACE_ID,bluetooth:Platform$1.OS==="android"?PERMISSIONS.ANDROID.BLUETOOTH_SCAN:PERMISSIONS.IOS.BLUETOOTH,bluetoothConnect:Platform$1.OS==="android"?PERMISSIONS.ANDROID.BLUETOOTH_CONNECT:PERMISSIONS.IOS.BLUETOOTH,camera:Platform$1.OS==="android"?PERMISSIONS.ANDROID.CAMERA:PERMISSIONS.IOS.CAMERA,location:Platform$1.OS==="android"?PERMISSIONS.ANDROID.ACCESS_FINE_LOCATION:PERMISSIONS.IOS.LOCATION_WHEN_IN_USE,photos:Platform$1.OS==="android"?PERMISSIONS.ANDROID.READ_MEDIA_IMAGES:PERMISSIONS.IOS.PHOTO_LIBRARY,notifications:"PERMISSION_NOTIFICATIONS"};Permissions.biometrics,PiwikSessionDimension.hasBiometricsPermission,Permissions.location,PiwikSessionDimension.hasLocationPermission,Permissions.camera,PiwikSessionDimension.hasCameraPermission,Permissions.photos,PiwikSessionDimension.hasPhotosPermission,Permissions.notifications,PiwikSessionDimension.hasNotificationPermission;const initialState$b={highAccuracyPurposeKey:HighAccuracyPurposeKey.PreciseLocationAddressLookup,locationType:void 0,startGettingLocation:void 0,getLocationIsError:void 0,isGettingLocation:void 0},addressSlice=createSlice({name:ReduxKey.address,initialState:initialState$b,reducers:{addAddress:(n,{payload:a})=>({...n,address:a}),addLocation:(n,{payload:a})=>({...n,location:a,getLocationIsError:!1}),removeAddress:({address:n,...a})=>a,setStartGettingLocation:(n,{payload:a})=>({...n,highAccuracyPurposeKey:a??initialState$b.highAccuracyPurposeKey,startGettingLocation:!0,getLocationIsError:!1}),setGetLocationIsError:(n,{payload:a})=>({...n,getLocationIsError:a,...a&&{startGettingLocation:!1}}),setIsGettingLocation:(n,{payload:a})=>({...n,isGettingLocation:a,...a&&{startGettingLocation:!1,getLocationIsError:!1}}),setLocationType:(n,{payload:{locationType:a}})=>({...n,locationType:a})}});addressSlice.actions;const persistWhitelist$3=["address","locationType"],addressModule={name:"AddressModule",slug:ModuleSlug.address,reduxConfigs:[{key:ReduxKey.address,migrations,persistVersion:0,slice:addressSlice,persistWhitelist:persistWhitelist$3}]},useListenerStatus=n=>{const[a,i]=reactExports.useState(null),s=reactExports.useRef(null);return reactExports.useEffect(()=>{var o;return(o=s.current)==null||o.remove(),s.current=n(u=>{i(u)}),()=>{var u;(u=s.current)==null||u.remove(),s.current=null}},[n]),a},createCoreClient=({developerName:n,organizationId:a,url:i})=>SalesforceMessagingInApp.createCoreClient(i,a,n),createConversationClient=n=>SalesforceMessagingInApp.createConversationClient(n??null),markAsRead=n=>SalesforceMessagingInApp.markAsRead(n),sendMessage=n=>SalesforceMessagingInApp.sendMessage(n),sendReply=n=>SalesforceMessagingInApp.sendReply(n),sendTypingEvent=()=>SalesforceMessagingInApp.sendTypingEvent(),sendPDF=(n,a)=>SalesforceMessagingInApp.sendPDF(n,a),sendImage=(n,a,i)=>SalesforceMessagingInApp.sendImage(n,a,i),retrieveRemoteConfiguration=()=>SalesforceMessagingInApp.retrieveRemoteConfiguration(),retrieveTranscript=()=>SalesforceMessagingInApp.retrieveTranscript(),generateUUID=()=>SalesforceMessagingInApp.generateUUID(),submitRemoteConfiguration=(n,a)=>SalesforceMessagingInApp.submitRemoteConfiguration(n,a),useCreateChat=({developerName:n,organizationId:a,url:i,conversationId:s=generateUUID()})=>{const[o,u]=reactExports.useState(!1),[p,x]=reactExports.useState(s),m=reactExports.useRef(null),c=reactExports.useRef(null),l=reactExports.useRef(null),y=reactExports.useRef(null),d=reactExports.useRef(null),[h,g]=reactExports.useState([]),[b,A]=reactExports.useState(!1),[F,C]=reactExports.useState(),[E,v]=reactExports.useState(null),_=useListenerStatus(SalesforceMessagingInApp.onNetworkStatusChanged),S=useListenerStatus(SalesforceMessagingInApp.onConnectionStatusChanged),[R,B]=reactExports.useState([]),[k,D]=reactExports.useState(!1),w=useTrackException(),P=reactExports.useMemo(()=>R.some(I=>I.role===ConversationEntrySenderRole.agent),[R]);return reactExports.useEffect(()=>{const I=[m,c,l,y,d];return n&&a&&i&&(B([]),g([]),C(void 0),createCoreClient({developerName:n,organizationId:a,url:i}).then(()=>{retrieveRemoteConfiguration().then(C,()=>{retrieveRemoteConfiguration().then(C,()=>{v({message:"Failed to retrieve remote configuration"})}).catch(M=>w(ExceptionLogKey.chatRetrieveRemoteConfiguration,"useCreateChat (index.tsx)",{error:M}))}),I.forEach(M=>{M.current&&(M.current.remove(),M.current=null)}),c.current=SalesforceMessagingInApp.onNewMessage(M=>{const O=M;O.format===ConversationEntryFormat.deliveryAcknowledgement?g(H=>H.map(V=>V.entryId===O.acknowledgedConversationEntryIdentifier?{...V,status:V.status!==ConversationEntryStatus.read?ConversationEntryStatus.delivered:ConversationEntryStatus.read}:V)):O.format===ConversationEntryFormat.readAcknowledgement?g(H=>H.map(V=>V.entryId===O.acknowledgedConversationEntryIdentifier?{...V,status:ConversationEntryStatus.read}:V)):g(H=>H.some(V=>V.entryId===O.entryId)?H.map(V=>V.entryId===O.entryId?O:V):[...H,O]),O.format===ConversationEntryFormat.participantChanged?O.operations.forEach(({participant:H,type:V})=>{V===ParticipantChangedOperationType.add?(B(U=>[...U,H]),H.role===ConversationEntrySenderRole.agent&&D(!1)):B(U=>U.filter(W=>!(W.displayName===H.displayName&&W.local===H.local&&W.role===H.role)))}):O.format===ConversationEntryFormat.routingResult&&O.routingType===ConversationEntryRoutingType.transfer&&D(!0)}),l.current=SalesforceMessagingInApp.onUpdatedMessage(M=>{const O=M;g(H=>H.map(V=>V.entryId===O.entryId?O:V))}),m.current=SalesforceMessagingInApp.onError(M=>{v(M)}),y.current=SalesforceMessagingInApp.onTypingStarted(M=>{A(M)}),d.current=SalesforceMessagingInApp.onTypingStopped(M=>{A(!1)}),createConversationClient(s??p).then(M=>{x(M),u(!0)}).catch(M=>w(ExceptionLogKey.chatCreateConversationClient,"useCreateChat (index.tsx)",{error:M}))})),()=>{I.forEach(M=>{var O;(O=M.current)==null||O.remove(),M.current=null})}},[s,n,a,i]),{agentInChat:P,connectionStatus:S,conversationId:p,isTyping:b,isWaitingForAgent:k,error:E,messages:h,networkStatus:_,participants:R,ready:o,remoteConfiguration:F}},useDispatch=()=>useDispatch$1();var ChatVisibility=(n=>(n.maximized="maximized",n.minimized="minimized",n))(ChatVisibility||{});const initialState$a={headerHeight:0,isMenuOpen:!1,isOpen:!1,minimizedHeight:0,visibility:ChatVisibility.maximized,conversationId:void 0},chatSlice=createSlice({name:ReduxKey.chat,initialState:initialState$a,reducers:{closeChat:n=>({...n,isOpen:!1}),maximizeChat:n=>({...n,visibility:ChatVisibility.maximized}),minimizeChat:n=>({...n,visibility:ChatVisibility.minimized}),setHeightMinimized:(n,{payload:a})=>({...n,minimizedHeight:a}),openChat:n=>({...n,isOpen:!0,visibility:ChatVisibility.maximized}),clearChatMessages:n=>({...n,messages:[]}),toggleChatIsOpen:n=>({...n,isOpen:!n.isOpen}),toggleChatVisibility:n=>({...n,visibility:n.visibility===ChatVisibility.maximized?ChatVisibility.minimized:ChatVisibility.maximized}),setChatConversationId:(n,{payload:a})=>({...n,conversationId:a}),setChatHeaderHeight:(n,{payload:a})=>({...n,headerHeight:a}),setIsChatMenuOpen:(n,{payload:a})=>({...n,isMenuOpen:a})}}),{closeChat,openChat,minimizeChat,setHeightMinimized,toggleChatIsOpen,toggleChatVisibility,setChatConversationId,setChatHeaderHeight,setIsChatMenuOpen}=chatSlice.actions,{maximizeChat}=chatSlice.actions,selectChatIsOpen=n=>n[ReduxKey.chat].isOpen,selectChatVisibility=n=>n[ReduxKey.chat].visibility,selectChatMinimizedHeight=n=>n[ReduxKey.chat].minimizedHeight,selectChatConversationId=n=>n[ReduxKey.chat].conversationId,selectChatHeaderHeight=n=>n[ReduxKey.chat].headerHeight,selectIsMenuOpen=n=>n[ReduxKey.chat].isMenuOpen,useChat=()=>{const n=useSelector(selectChatIsOpen),a=useSelector(selectIsMenuOpen),i=useSelector(selectChatHeaderHeight),s=useSelector(selectChatConversationId),o=useSelector(selectChatVisibility),u=o===ChatVisibility.maximized,p=o===ChatVisibility.minimized,x=useSelector(selectChatMinimizedHeight),m=useDispatch(),c=reactExports.useCallback(()=>m(openChat()),[m]),l=reactExports.useCallback(()=>m(closeChat()),[m]),y=reactExports.useCallback(()=>m(maximizeChat()),[m]),d=reactExports.useCallback(()=>m(minimizeChat()),[m]),h=reactExports.useCallback(E=>m(setChatConversationId(E)),[m]),g=reactExports.useCallback(E=>m(setChatHeaderHeight(E)),[m]),b=reactExports.useCallback(E=>m(setIsChatMenuOpen(E)),[m]),A=reactExports.useCallback(E=>m(setHeightMinimized(E)),[m]),F=reactExports.useCallback(()=>m(toggleChatIsOpen()),[m]),C=reactExports.useCallback(()=>m(toggleChatVisibility()),[m]);return{close:l,conversationId:s,headerHeight:i,isMaximized:u,isMenuOpen:a,isMinimized:p,isOpen:n,open:c,maximize:y,minimize:d,minimizedHeight:x,setConversationId:h,setMinimizedHeight:A,setHeaderHeight:g,setIsMenuOpen:b,toggleIsOpen:F,toggleVisibility:C,visibility:o}},ChatAnimatedContentWrapper=({children:n})=>{const{isMaximized:a}=useChat(),{duration:i}=useTheme(),s=createStyles$d(),o=useAnimatedStyle(()=>({opacity:withTiming(a?1:0,{duration:i.transition.short})}));return jsxRuntimeExports.jsx(Animated.View,{style:[s.container,o],children:n})},createStyles$d=()=>stylesheet.create({container:{flexGrow:1}});try{ChatAnimatedContentWrapper.displayName="ChatAnimatedContentWrapper",ChatAnimatedContentWrapper.__docgenInfo={description:"",displayName:"ChatAnimatedContentWrapper",props:{}}}catch{}const useSafeAreaInsets=()=>({bottom:0,left:0,right:0,top:0}),CLOSE_CHAT_MESSAGE="Gebruiker heeft het gesprek verlaten",environmentSlice=createSlice({name:ReduxKey.environment,initialState:{custom:customDefaultUrls,environment:isDevApp?Environment.acceptance:Environment.production},reducers:{setEnvironment:(n,{payload:a})=>{n.environment=a},setCustomEnvironment:(n,{payload:a})=>{n.custom={...n.custom,...a}}}});environmentSlice.actions;const selectEnvironment=n=>n[ReduxKey.environment],selectApi=(n,a)=>i=>getApi(i[ReduxKey.environment].environment,i[ReduxKey.environment].custom,n,a),useCoreConfig=()=>{const{environment:n}=useSelector(selectEnvironment),a={};switch(n){case Environment.development:case Environment.custom:a.developerName=CHAT_DEVELOPER_NAME_DEV,a.organizationId=CHAT_ORGANIZATION_ID_DEV,a.url=CHAT_URL_DEV;break;case Environment.test:a.developerName=CHAT_DEVELOPER_NAME_TEST,a.organizationId=CHAT_ORGANIZATION_ID_TEST,a.url=CHAT_URL_TEST;break;case Environment.acceptance:a.developerName=CHAT_DEVELOPER_NAME_ACC,a.organizationId=CHAT_ORGANIZATION_ID_ACC,a.url=CHAT_URL_ACC;break;case Environment.production:a.developerName=CHAT_DEVELOPER_NAME_PROD,a.organizationId=CHAT_ORGANIZATION_ID_PROD,a.url=CHAT_URL_PROD;break}return a},useBoolean=(n=!1)=>{const[a,i]=reactExports.useState(n),s=reactExports.useCallback(()=>{i(p=>!p)},[]),o=reactExports.useCallback(()=>{i(!0)},[]),u=reactExports.useCallback(()=>{i(!1)},[]);return{value:a,toggle:s,enable:o,disable:u}},isChatEnded=(n,a,i,s)=>{const o=n.filter(p=>p.format!==ConversationEntryFormat.transcript),u=o[o.length-1];return(u==null?void 0:u.format)===ConversationEntryFormat.routingWorkResult&&u.workType===ConversationEntryRoutingWorkType.closed&&!a||i&&!s},useIsChatEnded=(n,a,i)=>{const{value:s,enable:o}=useBoolean(!1),[u,p]=reactExports.useState(i);return reactExports.useEffect(()=>{i&&p(!0)},[i]),{isEnded:s||isChatEnded(n,a,u,i),endChat:o}},useMarkAsRead=n=>{const{isMaximized:a}=useChat(),i=n.filter(s=>s.sender.role!==ConversationEntrySenderRole.user&&s.format!==ConversationEntryFormat.readAcknowledgement);reactExports.useEffect(()=>{a&&i.length>0&&markAsRead(i[i.length-1])},[i,i.length,a])},useAsync=(n,a)=>{const i=reactExports.useCallback(()=>{n()},a);reactExports.useEffect(i,[i])},isNewMessage=n=>n===ConversationEntryFormat.attachments||n===ConversationEntryFormat.carousel||n===ConversationEntryFormat.imageMessage||n===ConversationEntryFormat.inputs||n===ConversationEntryFormat.listPicker||n===ConversationEntryFormat.richLink||n===ConversationEntryFormat.quickReplies||n===ConversationEntryFormat.selections||n===ConversationEntryFormat.text,useSendNotificationWhenInBackground=n=>{const a=useAppLifecycle(),{trackCustomEvent:i}=useTrackEvents();useAsync(async()=>{var s;if(a!=="active"&&!(Platform$1.OS==="ios"&&a==="background")&&isNewMessage((s=n[n.length-1])==null?void 0:s.format)){const o=await notifee.createChannel({id:"default",name:"Default Channel"});notifee.displayNotification({title:n[n.length-1].senderDisplayName,body:n[n.length-1].text,android:{channelId:o,pressAction:{id:"default"}},data:{maximizeChat:1,module:ModuleSlug.chat}}).then(()=>{i("chat-push-notification",PiwikAction.pushNotificationDisplay,{})})}},[n.length])},useSubmitRemoteConfiguration=n=>{const a=useTrackException();reactExports.useEffect(()=>{var i;if(n){const s=JSON.parse(JSON.stringify(n));(i=s.preChatConfiguration[0])==null||i.hiddenPreChatFields.forEach(o=>{o.name==="Origin"||o.name==="Chat_Origin"?o.value="App":o.name==="Start_Location"&&(o.value="contact")}),submitRemoteConfiguration(s,!0).catch(o=>a(ExceptionLogKey.chatSubmitRemoteConfiguration,"useSubmitRemoteConfiguration.ts",{error:o}))}},[n,a])},filterOutCloseChatMessage=n=>n.filter(({format:a,text:i,sender:{role:s}})=>!(a===ConversationEntryFormat.text&&i===CLOSE_CHAT_MESSAGE&&s===ConversationEntrySenderRole.user)),filterOutDeliveryAcknowledgements=n=>n.filter(({format:a})=>a!==ConversationEntryFormat.deliveryAcknowledgement&&a!==ConversationEntryFormat.readAcknowledgement),initialValue={addDownloadedTranscriptId:()=>null,agentInChat:!1,downloadedTranscriptIds:[],connectionStatus:null,endChat:()=>null,isEnded:!1,isWaitingForAgent:!1,messages:[],newMessagesCount:0,ready:!1,remoteConfiguration:void 0},ChatContext=reactExports.createContext(initialValue),ChatProvider=({children:n})=>{const{isMaximized:a,isMinimized:i}=useChat(),[s,o]=reactExports.useState(),[u,p]=reactExports.useState(0),[x,m]=reactExports.useState([]),c=useCoreConfig(),{messages:l,isTyping:y,conversationId:d,ready:h,agentInChat:g,remoteConfiguration:b,connectionStatus:A,isWaitingForAgent:F}=useCreateChat({...c,conversationId:s}),{isEnded:C,endChat:E}=useIsChatEnded(l,F,g),v=reactExports.useCallback(S=>{m(R=>[...R,S])},[]);reactExports.useEffect(()=>{var S;i&&isNewMessage((S=l[l.length-1])==null?void 0:S.format)&&p(R=>R+1)},[l.length]),reactExports.useEffect(()=>{a&&p(0)},[a]),reactExports.useEffect(()=>{o(d??s)},[s,d,o]),useSendNotificationWhenInBackground(l),useMarkAsRead(l),useSubmitRemoteConfiguration(b);const _=reactExports.useMemo(()=>{const S=filterOutCloseChatMessage(filterOutDeliveryAcknowledgements(l)),R=y&&!C?[...S,y]:S;return{addDownloadedTranscriptId:v,agentInChat:g,connectionStatus:A,downloadedTranscriptIds:x,endChat:E,isEnded:C,isWaitingForAgent:F,messages:R,newMessagesCount:u,ready:h&&(!!y||l.some(B=>B.format===ConversationEntryFormat.text)),remoteConfiguration:b}},[v,g,A,x,E,C,F,y,l,u,h,b]);return jsxRuntimeExports.jsx(ChatContext.Provider,{value:_,children:n})};try{ChatProvider.displayName="ChatProvider",ChatProvider.__docgenInfo={description:"",displayName:"ChatProvider",props:{}}}catch{}class EventEmitter{addListener(a,i){var o,u,p,x;this.listeners||(this.listeners=new Map),(o=this.listeners)!=null&&o.has(a)||(u=this.listeners)==null||u.set(a,new Set);const s=this.listenerCount(a);return(x=(p=this.listeners)==null?void 0:p.get(a))==null||x.add(i),s===0&&this.listenerCount(a)===1&&this.startObserving(a),{remove:()=>{this.removeListener(a,i)}}}removeListener(a,i){var o,u;const s=(u=(o=this.listeners)==null?void 0:o.get(a))==null?void 0:u.delete(i);this.listenerCount(a)===0&&s&&this.stopObserving(a)}removeAllListeners(a){var s,o;const i=this.listenerCount(a);(o=(s=this.listeners)==null?void 0:s.get(a))==null||o.clear(),i>0&&this.stopObserving(a)}emit(a,...i){var o;new Set((o=this.listeners)==null?void 0:o.get(a)).forEach(u=>{try{u(...i)}catch(p){console.error(p)}})}listenerCount(a){var i,s;return((s=(i=this.listeners)==null?void 0:i.get(a))==null?void 0:s.size)??0}startObserving(a){}stopObserving(a){}}let NativeModule$1=class extends EventEmitter{};class SharedObject extends EventEmitter{release(){}}class SharedRef extends SharedObject{constructor(){super(...arguments),this.nativeRefType="unknown"}}function f(n,a,i,s){switch(n){case 0:return a&i^~a&s;case 1:return a^i^s;case 2:return a&i^a&s^i&s;case 3:return a^i^s;default:return 0}}function ROTL(n,a){return n<<a|n>>>32-a}function sha1$1(n){const a=[1518500249,1859775393,2400959708,3395469782],i=[1732584193,4023233417,2562383102,271733878,3285377520];if(typeof n=="string"){const p=unescape(encodeURIComponent(n));n=new Array(p.length);for(let x=0;x<p.length;x++)n[x]=p.charCodeAt(x)}n.push(128);const s=n.length/4+2,o=Math.ceil(s/16),u=new Array(o);for(let p=0;p<o;p++){u[p]=new Array(16);for(let x=0;x<16;x++)u[p][x]=n[p*64+x*4]<<24|n[p*64+x*4+1]<<16|n[p*64+x*4+2]<<8|n[p*64+x*4+3]}u[o-1][14]=(n.length-1)*8/Math.pow(2,32),u[o-1][14]=Math.floor(u[o-1][14]),u[o-1][15]=(n.length-1)*8&4294967295;for(let p=0;p<o;p++){const x=new Array(80);for(let h=0;h<16;h++)x[h]=u[p][h];for(let h=16;h<80;h++)x[h]=ROTL(x[h-3]^x[h-8]^x[h-14]^x[h-16],1);let m=i[0],c=i[1],l=i[2],y=i[3],d=i[4];for(let h=0;h<80;h++){const g=Math.floor(h/20),b=ROTL(m,5)+f(g,c,l,y)+d+a[g]+x[h]>>>0;d=y,y=l,l=ROTL(c,30)>>>0,c=m,m=b}i[0]=i[0]+m>>>0,i[1]=i[1]+c>>>0,i[2]=i[2]+l>>>0,i[3]=i[3]+y>>>0,i[4]=i[4]+d>>>0}return[i[0]>>24&255,i[0]>>16&255,i[0]>>8&255,i[0]&255,i[1]>>24&255,i[1]>>16&255,i[1]>>8&255,i[1]&255,i[2]>>24&255,i[2]>>16&255,i[2]>>8&255,i[2]&255,i[3]>>24&255,i[3]>>16&255,i[3]>>8&255,i[3]&255,i[4]>>24&255,i[4]>>16&255,i[4]>>8&255,i[4]&255]}const byteToHex=[];for(let n=0;n<256;++n)byteToHex[n]=(n+256).toString(16).substr(1);function bytesToUuid(n,a){let i=0;const s=byteToHex;return[s[n[i++]],s[n[i++]],s[n[i++]],s[n[i++]],"-",s[n[i++]],s[n[i++]],"-",s[n[i++]],s[n[i++]],"-",s[n[i++]],s[n[i++]],"-",s[n[i++]],s[n[i++]],s[n[i++]],s[n[i++]],s[n[i++]],s[n[i++]]].join("")}function uuidToBytes(n){const a=[];return n.replace(/[a-fA-F0-9]{2}/g,i=>(a.push(parseInt(i,16)),"")),a}function stringToBytes(n){n=unescape(encodeURIComponent(n));const a=new Array(n.length);for(let i=0;i<n.length;i++)a[i]=n.charCodeAt(i);return a}function v35(n,a,i){const s=function(o,u,p,x){const m=p&&x||0;if(typeof o=="string"&&(o=stringToBytes(o)),typeof u=="string"&&(u=uuidToBytes(u)),!Array.isArray(o))throw TypeError("value must be an array of bytes");if(!Array.isArray(u)||u.length!==16)throw TypeError("namespace must be uuid string or an Array of 16 byte values");const c=i(u.concat(o));if(c[6]=c[6]&15|a,c[8]=c[8]&63|128,p)for(let l=0;l<16;++l)p[m+l]=c[l];return bytesToUuid(c)};try{s.name=n}catch{}return s.DNS="6ba7b810-9dad-11d1-80b4-00c04fd430c8",s.URL="6ba7b811-9dad-11d1-80b4-00c04fd430c8",s}var Uuidv5Namespace=(n=>(n.dns="6ba7b810-9dad-11d1-80b4-00c04fd430c8",n.url="6ba7b811-9dad-11d1-80b4-00c04fd430c8",n.oid="6ba7b812-9dad-11d1-80b4-00c04fd430c8",n.x500="6ba7b814-9dad-11d1-80b4-00c04fd430c8",n))(Uuidv5Namespace||{});function uuidv4(){return typeof crypto>"u"&&typeof window>"u"?eval("require")("node:crypto").randomUUID():crypto.randomUUID()}const uuid={v4:uuidv4,v5:v35("v5",80,sha1$1),namespace:Uuidv5Namespace};function registerWebGlobals(){var n;globalThis.expo||(globalThis.expo={EventEmitter,NativeModule:NativeModule$1,SharedObject,SharedRef,modules:((n=globalThis.ExpoDomWebView)==null?void 0:n.expoModulesProxy)??{},uuidv4:uuid.v4,uuidv5:uuid.v5,getViewConfig:()=>{throw new Error("Method not implemented.")},reloadAppAsync:async()=>{window.location.reload()}})}registerWebGlobals();function ensureNativeModulesAreInstalled(){var n;if(!globalThis.expo)try{Platform$1.OS==="web"?registerWebGlobals():(n=NativeModules$1.ExpoModulesCore)==null||n.installModules()}catch(a){console.error(`Unable to install Expo modules: ${a}`)}}ensureNativeModulesAreInstalled();const NativeModule=globalThis.expo.NativeModule;class CodedError extends Error{constructor(a,i){super(i),this.code=a}}var Te;const isDOMAvailable=typeof window<"u"&&!!((Te=window.document)!=null&&Te.createElement),canUseEventListeners=isDOMAvailable&&!!(window.addEventListener||window.attachEvent),canUseViewport=isDOMAvailable&&!!window.screen,isAsyncDebugging=!1;var define_process_env_default={NODE_ENV:'"production"'};const nativeSelect=typeof window<"u"?Platform$1.select:function n(a){if(define_process_env_default.EXPO_OS){if(a.hasOwnProperty(define_process_env_default.EXPO_OS))return a[define_process_env_default.EXPO_OS];if(define_process_env_default.EXPO_OS!=="web"&&a.hasOwnProperty("native"))return a.native;if(a.hasOwnProperty("default"))return a.default}},Platform={OS:define_process_env_default.EXPO_OS||Platform$1.OS,select:nativeSelect,isDOMAvailable,canUseEventListeners,canUseViewport,isAsyncDebugging};class UnavailabilityError extends CodedError{constructor(a,i){super("ERR_UNAVAILABLE",`The method or property ${a}.${i} is not available on ${Platform.OS}, are you sure you've linked all the native dependencies properly?`)}}var PermissionStatus=(n=>(n.GRANTED="granted",n.UNDETERMINED="undetermined",n.DENIED="denied",n))(PermissionStatus||{});class FileSystemShim extends NativeModule{constructor(){super(...arguments),this.documentDirectory=null,this.cacheDirectory=null,this.bundleDirectory=null}}var FileSystemSessionType=(n=>(n[n.BACKGROUND=0]="BACKGROUND",n[n.FOREGROUND=1]="FOREGROUND",n))(FileSystemSessionType||{}),EncodingType=(n=>(n.UTF8="utf8",n.Base64="base64",n))(EncodingType||{});FileSystemShim||console.warn("No native ExponentFileSystem module found, are you sure the expo-file-system's module is linked properly?");function normalizeEndingSlash(n){return n!=null?n.replace(/\/*$/,"")+"/":null}const documentDirectory=normalizeEndingSlash(FileSystemShim.documentDirectory);normalizeEndingSlash(FileSystemShim.cacheDirectory);normalizeEndingSlash(FileSystemShim.bundleDirectory);async function readAsStringAsync(n,a={}){if(!FileSystemShim.readAsStringAsync)throw new UnavailabilityError("expo-file-system","readAsStringAsync");return await FileSystemShim.readAsStringAsync(n,a)}async function writeAsStringAsync(n,a,i={}){if(!FileSystemShim.writeAsStringAsync)throw new UnavailabilityError("expo-file-system","writeAsStringAsync");return await FileSystemShim.writeAsStringAsync(n,a,i)}async function deleteAsync(n,a={}){if(!FileSystemShim.deleteAsync)throw new UnavailabilityError("expo-file-system","deleteAsync");return await FileSystemShim.deleteAsync(n,a)}async function moveAsync(n){if(!FileSystemShim.moveAsync)throw new UnavailabilityError("expo-file-system","moveAsync");return await FileSystemShim.moveAsync(n)}async function copyAsync(n){if(!FileSystemShim.copyAsync)throw new UnavailabilityError("expo-file-system","copyAsync");return await FileSystemShim.copyAsync(n)}async function downloadAsync(n,a,i={}){if(!FileSystemShim.downloadAsync)throw new UnavailabilityError("expo-file-system","downloadAsync");return await FileSystemShim.downloadAsync(n,a,{sessionType:FileSystemSessionType.BACKGROUND,...i})}const baseReadAsStringAsync=readAsStringAsync,baseWriteAsStringAsync=writeAsStringAsync,baseDeleteAsync=deleteAsync,baseMoveAsync=moveAsync,baseCopyAsync=copyAsync;var StorageAccessFramework;(n=>{function a(p){return`content://com.android.externalstorage.documents/tree/primary:${p}/document/primary:${p}`}n.getUriForDirectoryInRoot=a;async function i(p=null){if(!FileSystemShim.requestDirectoryPermissionsAsync)throw new UnavailabilityError("expo-file-system","StorageAccessFramework.requestDirectoryPermissionsAsync");return await FileSystemShim.requestDirectoryPermissionsAsync(p)}n.requestDirectoryPermissionsAsync=i;async function s(p){if(!FileSystemShim.readSAFDirectoryAsync)throw new UnavailabilityError("expo-file-system","StorageAccessFramework.readDirectoryAsync");return await FileSystemShim.readSAFDirectoryAsync(p)}n.readDirectoryAsync=s;async function o(p,x){if(!FileSystemShim.makeSAFDirectoryAsync)throw new UnavailabilityError("expo-file-system","StorageAccessFramework.makeDirectoryAsync");return await FileSystemShim.makeSAFDirectoryAsync(p,x)}n.makeDirectoryAsync=o;async function u(p,x,m){if(!FileSystemShim.createSAFFileAsync)throw new UnavailabilityError("expo-file-system","StorageAccessFramework.createFileAsync");return await FileSystemShim.createSAFFileAsync(p,x,m)}n.createFileAsync=u,n.writeAsStringAsync=baseWriteAsStringAsync,n.readAsStringAsync=baseReadAsStringAsync,n.deleteAsync=baseDeleteAsync,n.moveAsync=baseMoveAsync,n.copyAsync=baseCopyAsync})(StorageAccessFramework||(StorageAccessFramework={}));const Sharing={async isAvailableAsync(){return typeof navigator>"u"?!1:!!navigator.share},async shareAsync(n,a={}){if(navigator.share)await navigator.share({...a,url:n});else throw new UnavailabilityError("navigator","share")}};async function shareAsync(n,a={}){if(!Sharing||!Sharing.shareAsync)throw new UnavailabilityError("Sharing","shareAsync");return await Sharing.shareAsync(n,a)}const contentTypeToUTI={"application/pdf":"com.adobe.pdf","image/png":"public.png","image/jpeg":"public.jpeg","image/gif":"com.compuserve.gif","image/bmp":"com.microsoft.bmp","image/svg+xml":"public.svg-image"},downloadFile=async(n,a)=>{const{headers:i,uri:s}=await downloadAsync(n,documentDirectory+a);return{uri:s,mimeType:i["content-type"]}},fileExtensionToMimeType={jpg:"image/jpeg",jpeg:"image/jpeg",png:"image/png",gif:"image/gif",pdf:"application/pdf",txt:"text/plain",mp4:"video/mp4",mp3:"audio/mpeg",json:"application/json"},saveFile=async({base64:n,downloadUri:a,fileName:i,localUri:s})=>{try{if(a){const{mimeType:o,uri:u}=await downloadFile(a,i),p=await readContentsAsBase64(u);await saveFileOnDevice(p,i,o)}else if(n)await saveFileOnDevice(n.data,i,n.mimeType);else if(s){const o=await readContentsAsBase64(s);await saveFileOnDevice(o,i)}else throw"Give either base64 or downloadUri as an argument to saveFile."}catch(o){throw devLog(o),o}},requestDirectoryPermission=async()=>{try{const n=await StorageAccessFramework.requestDirectoryPermissionsAsync();if(n.granted)return n.directoryUri;throw"Not granted directory permission."}catch{throw"Requesting directory permission failed."}},createEmptyFile=async(n,a,i="application/pdf")=>{try{return await StorageAccessFramework.createFileAsync(n,a,i)}catch{throw"Creating empty file failed."}},readContentsAsBase64=async n=>{try{return await StorageAccessFramework.readAsStringAsync(n,{encoding:EncodingType.Base64})}catch{throw"Reading file as base64 string failed."}},writeFileContentsAsBase64String=async(n,a)=>{try{await StorageAccessFramework.writeAsStringAsync(n,a,{encoding:EncodingType.Base64}),devLog(`saved to file ${n}`)}catch{throw"Writing base64 string to file failed."}},shareFile=async(n,a,i)=>{const s=`${documentDirectory}${a}`;try{await writeAsStringAsync(s,n,{encoding:EncodingType.Base64}),await shareAsync(s,{mimeType:i,UTI:i?contentTypeToUTI[i]:void 0}),devLog(`saved to file ${s}`)}catch{throw"Failed to share file with other applications."}},saveOnAndroid=async(n,a,i)=>{try{const s=await requestDirectoryPermission(),o=await createEmptyFile(s,a,i);await writeFileContentsAsBase64String(o,n)}catch(s){throw await shareFile(n,a,i),s}},saveFileOnDevice=async(n,a,i)=>{const s=fileExtensionToMimeType[a.split(".").pop()||""]||i;Platform$1.OS==="android"?await saveOnAndroid(n,a,s):await shareFile(n,a,s)},formatDateTime=n=>n==null||n===""?"":dayjs(n).format("D MMMM YYYY HH:mm:ss"),downloadChat=async()=>{try{const{transcript:n,entryId:a}=await retrieveTranscript(),i=`Chatgeschiedenis ${formatDateTime(dayjs()).replaceAll(":"," ")}.pdf`;return await saveFile({base64:{data:n,mimeType:"application/pdf"},fileName:i}),a}catch(n){devError(n,JSON.stringify(n)),Alert.alert("Chat downloaden mislukt.")}};var RedirectEndpointName=(n=>(n.getRedirectUrls="getRedirectUrls",n))(RedirectEndpointName||{}),__generator=function(n,a){var i={label:0,sent:function(){if(u[0]&1)throw u[1];return u[1]},trys:[],ops:[]},s,o,u,p;return p={next:x(0),throw:x(1),return:x(2)},typeof Symbol=="function"&&(p[Symbol.iterator]=function(){return this}),p;function x(c){return function(l){return m([c,l])}}function m(c){if(s)throw new TypeError("Generator is already executing.");for(;i;)try{if(s=1,o&&(u=c[0]&2?o.return:c[0]?o.throw||((u=o.return)&&u.call(o),0):o.next)&&!(u=u.call(o,c[1])).done)return u;switch(o=0,u&&(c=[c[0]&2,u.value]),c[0]){case 0:case 1:u=c;break;case 4:return i.label++,{value:c[1],done:!1};case 5:i.label++,o=c[1],c=[0];continue;case 7:c=i.ops.pop(),i.trys.pop();continue;default:if(u=i.trys,!(u=u.length>0&&u[u.length-1])&&(c[0]===6||c[0]===2)){i=0;continue}if(c[0]===3&&(!u||c[1]>u[0]&&c[1]<u[3])){i.label=c[1];break}if(c[0]===6&&i.label<u[1]){i.label=u[1],u=c;break}if(u&&i.label<u[2]){i.label=u[2],i.ops.push(c);break}u[2]&&i.ops.pop(),i.trys.pop();continue}c=a.call(n,i)}catch(l){c=[6,l],o=0}finally{s=u=0}if(c[0]&5)throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}},__spreadArray$1=function(n,a){for(var i=0,s=a.length,o=n.length;i<s;i++,o++)n[o]=a[i];return n},__defProp$1=Object.defineProperty,__defProps$1=Object.defineProperties,__getOwnPropDescs$1=Object.getOwnPropertyDescriptors,__getOwnPropSymbols$1=Object.getOwnPropertySymbols,__hasOwnProp$1=Object.prototype.hasOwnProperty,__propIsEnum$1=Object.prototype.propertyIsEnumerable,__defNormalProp$1=function(n,a,i){return a in n?__defProp$1(n,a,{enumerable:!0,configurable:!0,writable:!0,value:i}):n[a]=i},__spreadValues$1=function(n,a){for(var i in a||(a={}))__hasOwnProp$1.call(a,i)&&__defNormalProp$1(n,i,a[i]);if(__getOwnPropSymbols$1)for(var s=0,o=__getOwnPropSymbols$1(a);s<o.length;s++){var i=o[s];__propIsEnum$1.call(a,i)&&__defNormalProp$1(n,i,a[i])}return n},__spreadProps$1=function(n,a){return __defProps$1(n,__getOwnPropDescs$1(a))},__objRest=function(n,a){var i={};for(var s in n)__hasOwnProp$1.call(n,s)&&a.indexOf(s)<0&&(i[s]=n[s]);if(n!=null&&__getOwnPropSymbols$1)for(var o=0,u=__getOwnPropSymbols$1(n);o<u.length;o++){var s=u[o];a.indexOf(s)<0&&__propIsEnum$1.call(n,s)&&(i[s]=n[s])}return i},__async=function(n,a,i){return new Promise(function(s,o){var u=function(m){try{x(i.next(m))}catch(c){o(c)}},p=function(m){try{x(i.throw(m))}catch(c){o(c)}},x=function(m){return m.done?s(m.value):Promise.resolve(m.value).then(u,p)};x((i=i.apply(n,a)).next())})},QueryStatus;(function(n){n.uninitialized="uninitialized",n.pending="pending",n.fulfilled="fulfilled",n.rejected="rejected"})(QueryStatus||(QueryStatus={}));function getRequestStatusFlags(n){return{status:n,isUninitialized:n===QueryStatus.uninitialized,isLoading:n===QueryStatus.pending,isSuccess:n===QueryStatus.fulfilled,isError:n===QueryStatus.rejected}}function isAbsoluteUrl(n){return new RegExp("(^|:)//").test(n)}var withoutTrailingSlash=function(n){return n.replace(/\/$/,"")},withoutLeadingSlash=function(n){return n.replace(/^\//,"")};function joinUrls(n,a){if(!n)return a;if(!a)return n;if(isAbsoluteUrl(a))return a;var i=n.endsWith("/")||!a.startsWith("?")?"/":"";return n=withoutTrailingSlash(n),a=withoutLeadingSlash(a),""+n+i+a}var flatten=function(n){return[].concat.apply([],n)};function isOnline(){return typeof navigator>"u"||navigator.onLine===void 0?!0:navigator.onLine}function isDocumentVisible(){return typeof document>"u"?!0:document.visibilityState!=="hidden"}var isPlainObject=isPlainObject$1;function copyWithStructuralSharing(n,a){if(n===a||!(isPlainObject(n)&&isPlainObject(a)||Array.isArray(n)&&Array.isArray(a)))return a;for(var i=Object.keys(a),s=Object.keys(n),o=i.length===s.length,u=Array.isArray(a)?[]:{},p=0,x=i;p<x.length;p++){var m=x[p];u[m]=copyWithStructuralSharing(n[m],a[m]),o&&(o=n[m]===u[m])}return o?n:u}var defaultFetchFn=function(){for(var n=[],a=0;a<arguments.length;a++)n[a]=arguments[a];return fetch.apply(void 0,n)},defaultValidateStatus=function(n){return n.status>=200&&n.status<=299},defaultIsJsonContentType=function(n){return/ion\/(vnd\.api\+)?json/.test(n.get("content-type")||"")};function stripUndefined(n){if(!isPlainObject$1(n))return n;for(var a=__spreadValues$1({},n),i=0,s=Object.entries(a);i<s.length;i++){var o=s[i],u=o[0],p=o[1];p===void 0&&delete a[u]}return a}function fetchBaseQuery(n){var a=this;n===void 0&&(n={});var i=n,s=i.baseUrl,o=i.prepareHeaders,u=o===void 0?function(E){return E}:o,p=i.fetchFn,x=p===void 0?defaultFetchFn:p,m=i.paramsSerializer,c=i.isJsonContentType,l=c===void 0?defaultIsJsonContentType:c,y=i.jsonContentType,d=y===void 0?"application/json":y,h=i.jsonReplacer,g=i.timeout,b=i.responseHandler,A=i.validateStatus,F=__objRest(i,["baseUrl","prepareHeaders","fetchFn","paramsSerializer","isJsonContentType","jsonContentType","jsonReplacer","timeout","responseHandler","validateStatus"]);return typeof fetch>"u"&&x===defaultFetchFn&&console.warn("Warning: `fetch` is not available. Please supply a custom `fetchFn` property to use `fetchBaseQuery` on SSR environments."),function(E,v){return __async(a,null,function(){var _,S,R,B,k,D,w,P,I,M,O,H,V,U,W,$,j,L,q,N,z,G,K,Q,ne,te,re,Y,X,ee,de,ie,se,oe,xe,ue;return __generator(this,function(J){switch(J.label){case 0:return _=v.signal,S=v.getState,R=v.extra,B=v.endpoint,k=v.forced,D=v.type,P=typeof E=="string"?{url:E}:E,I=P.url,M=P.headers,O=M===void 0?new Headers(F.headers):M,H=P.params,V=H===void 0?void 0:H,U=P.responseHandler,W=U===void 0?b??"json":U,$=P.validateStatus,j=$===void 0?A??defaultValidateStatus:$,L=P.timeout,q=L===void 0?g:L,N=__objRest(P,["url","headers","params","responseHandler","validateStatus","timeout"]),z=__spreadValues$1(__spreadProps$1(__spreadValues$1({},F),{signal:_}),N),O=new Headers(stripUndefined(O)),G=z,[4,u(O,{getState:S,extra:R,endpoint:B,forced:k,type:D})];case 1:G.headers=J.sent()||O,K=function(Z){return typeof Z=="object"&&(isPlainObject$1(Z)||Array.isArray(Z)||typeof Z.toJSON=="function")},!z.headers.has("content-type")&&K(z.body)&&z.headers.set("content-type",d),K(z.body)&&l(z.headers)&&(z.body=JSON.stringify(z.body,h)),V&&(Q=~I.indexOf("?")?"&":"?",ne=m?m(V):new URLSearchParams(stripUndefined(V)),I+=Q+ne),I=joinUrls(s,I),te=new Request(I,z),re=new Request(I,z),w={request:re},X=!1,ee=q&&setTimeout(function(){X=!0,v.abort()},q),J.label=2;case 2:return J.trys.push([2,4,5,6]),[4,x(te)];case 3:return Y=J.sent(),[3,6];case 4:return de=J.sent(),[2,{error:{status:X?"TIMEOUT_ERROR":"FETCH_ERROR",error:String(de)},meta:w}];case 5:return ee&&clearTimeout(ee),[7];case 6:ie=Y.clone(),w.response=ie,oe="",J.label=7;case 7:return J.trys.push([7,9,,10]),[4,Promise.all([C(Y,W).then(function(Z){return se=Z},function(Z){return xe=Z}),ie.text().then(function(Z){return oe=Z},function(){})])];case 8:if(J.sent(),xe)throw xe;return[3,10];case 9:return ue=J.sent(),[2,{error:{status:"PARSING_ERROR",originalStatus:Y.status,data:oe,error:String(ue)},meta:w}];case 10:return[2,j(Y,se)?{data:se,meta:w}:{error:{status:Y.status,data:se},meta:w}]}})})};function C(E,v){return __async(this,null,function(){var _;return __generator(this,function(S){switch(S.label){case 0:return typeof v=="function"?[2,v(E)]:(v==="content-type"&&(v=l(E.headers)?"json":"text"),v!=="json"?[3,2]:[4,E.text()]);case 1:return _=S.sent(),[2,_.length?JSON.parse(_):null];case 2:return[2,E.text()]}})})}}var HandledError=function(){function n(a,i){i===void 0&&(i=void 0),this.value=a,this.meta=i}return n}();function defaultBackoff(n,a){return n===void 0&&(n=0),a===void 0&&(a=5),__async(this,null,function(){var i,s;return __generator(this,function(o){switch(o.label){case 0:return i=Math.min(n,a),s=~~((Math.random()+.4)*(300<<i)),[4,new Promise(function(u){return setTimeout(function(p){return u(p)},s)})];case 1:return o.sent(),[2]}})})}function fail(n){throw Object.assign(new HandledError({error:n}),{throwImmediately:!0})}var EMPTY_OPTIONS={},retryWithBackoff=function(n,a){return function(i,s,o){return __async(void 0,null,function(){var u,p,x,m,c,l,y;return __generator(this,function(d){switch(d.label){case 0:u=[5,(a||EMPTY_OPTIONS).maxRetries,(o||EMPTY_OPTIONS).maxRetries].filter(function(h){return h!==void 0}),p=u.slice(-1)[0],x=function(h,g,b){var A=b.attempt;return A<=p},m=__spreadValues$1(__spreadValues$1({maxRetries:p,backoff:defaultBackoff,retryCondition:x},a),o),c=0,d.label=1;case 1:d.label=2;case 2:return d.trys.push([2,4,,6]),[4,n(i,s,o)];case 3:if(l=d.sent(),l.error)throw new HandledError(l);return[2,l];case 4:if(y=d.sent(),c++,y.throwImmediately){if(y instanceof HandledError)return[2,y.value];throw y}return y instanceof HandledError&&!m.retryCondition(y.value.error,i,{attempt:c,baseQueryApi:s,extraOptions:o})?[2,y.value]:[4,m.backoff(c,m.maxRetries)];case 5:return d.sent(),[3,6];case 6:return[3,1];case 7:return[2]}})})}},retry=Object.assign(retryWithBackoff,{fail}),onFocus=createAction("__rtkq/focused"),onFocusLost=createAction("__rtkq/unfocused"),onOnline=createAction("__rtkq/online"),onOffline=createAction("__rtkq/offline"),DefinitionType$1;(function(n){n.query="query",n.mutation="mutation"})(DefinitionType$1||(DefinitionType$1={}));function isQueryDefinition$1(n){return n.type===DefinitionType$1.query}function isMutationDefinition$1(n){return n.type===DefinitionType$1.mutation}function calculateProvidedBy(n,a,i,s,o,u){return isFunction(n)?n(a,i,s,o).map(expandTagDescription).map(u):Array.isArray(n)?n.map(expandTagDescription).map(u):[]}function isFunction(n){return typeof n=="function"}function expandTagDescription(n){return typeof n=="string"?{type:n}:n}function isNotNullish(n){return n!=null}var forceQueryFnSymbol=Symbol("forceQueryFn"),isUpsertQuery=function(n){return typeof n[forceQueryFnSymbol]=="function"};function buildInitiate(n){var a=n.serializeQueryArgs,i=n.queryThunk,s=n.mutationThunk,o=n.api,u=n.context,p=new Map,x=new Map,m=o.internalActions,c=m.unsubscribeQueryResult,l=m.removeMutationResult,y=m.updateSubscriptionOptions;return{buildInitiateQuery:C,buildInitiateMutation:E,getRunningQueryThunk:g,getRunningMutationThunk:b,getRunningQueriesThunk:A,getRunningMutationsThunk:F,getRunningOperationPromises:h,removalWarning:d};function d(){throw new Error(`This method had to be removed due to a conceptual bug in RTK.
       Please see https://github.com/reduxjs/redux-toolkit/pull/2481 for details.
       See https://redux-toolkit.js.org/rtk-query/usage/server-side-rendering for new guidance on SSR.`)}function h(){typeof process<"u";var v=function(_){return Array.from(_.values()).flatMap(function(S){return S?Object.values(S):[]})};return __spreadArray$1(__spreadArray$1([],v(p)),v(x)).filter(isNotNullish)}function g(v,_){return function(S){var R,B=u.endpointDefinitions[v],k=a({queryArgs:_,endpointDefinition:B,endpointName:v});return(R=p.get(S))==null?void 0:R[k]}}function b(v,_){return function(S){var R;return(R=x.get(S))==null?void 0:R[_]}}function A(){return function(v){return Object.values(p.get(v)||{}).filter(isNotNullish)}}function F(){return function(v){return Object.values(x.get(v)||{}).filter(isNotNullish)}}function C(v,_){var S=function(R,B){var k=B===void 0?{}:B,D=k.subscribe,w=D===void 0?!0:D,P=k.forceRefetch,I=k.subscriptionOptions,M=forceQueryFnSymbol,O=k[M];return function(H,V){var U,W,$=a({queryArgs:R,endpointDefinition:_,endpointName:v}),j=i((U={type:"query",subscribe:w,forceRefetch:P,subscriptionOptions:I,endpointName:v,originalArgs:R,queryCacheKey:$},U[forceQueryFnSymbol]=O,U)),L=o.endpoints[v].select(R),q=H(j),N=L(V()),z=q.requestId,G=q.abort,K=N.requestId!==z,Q=(W=p.get(H))==null?void 0:W[$],ne=function(){return L(V())},te=Object.assign(O?q.then(ne):K&&!Q?Promise.resolve(N):Promise.all([Q,q]).then(ne),{arg:R,requestId:z,subscriptionOptions:I,queryCacheKey:$,abort:G,unwrap:function(){return __async(this,null,function(){var Y;return __generator(this,function(X){switch(X.label){case 0:return[4,te];case 1:if(Y=X.sent(),Y.isError)throw Y.error;return[2,Y.data]}})})},refetch:function(){return H(S(R,{subscribe:!1,forceRefetch:!0}))},unsubscribe:function(){w&&H(c({queryCacheKey:$,requestId:z}))},updateSubscriptionOptions:function(Y){te.subscriptionOptions=Y,H(y({endpointName:v,requestId:z,queryCacheKey:$,options:Y}))}});if(!Q&&!K&&!O){var re=p.get(H)||{};re[$]=te,p.set(H,re),te.then(function(){delete re[$],Object.keys(re).length||p.delete(H)})}return te}};return S}function E(v){return function(_,S){var R=S===void 0?{}:S,B=R.track,k=B===void 0?!0:B,D=R.fixedCacheKey;return function(w,P){var I=s({type:"mutation",endpointName:v,originalArgs:_,track:k,fixedCacheKey:D}),M=w(I),O=M.requestId,H=M.abort,V=M.unwrap,U=M.unwrap().then(function(L){return{data:L}}).catch(function(L){return{error:L}}),W=function(){w(l({requestId:O,fixedCacheKey:D}))},$=Object.assign(U,{arg:M.arg,requestId:O,abort:H,unwrap:V,unsubscribe:W,reset:W}),j=x.get(w)||{};return x.set(w,j),j[O]=$,$.then(function(){delete j[O],Object.keys(j).length||x.delete(w)}),D&&(j[D]=$,$.then(function(){j[D]===$&&(delete j[D],Object.keys(j).length||x.delete(w))})),$}}}}function defaultTransformResponse(n){return n}function buildThunks(n){var a=this,i=n.reducerPath,s=n.baseQuery,o=n.context.endpointDefinitions,u=n.serializeQueryArgs,p=n.api,x=n.assertTagType,m=function(v,_,S,R){return function(B,k){var D=o[v],w=u({queryArgs:_,endpointDefinition:D,endpointName:v});if(B(p.internalActions.queryResultPatched({queryCacheKey:w,patches:S})),!!R){var P=p.endpoints[v].select(_)(k()),I=calculateProvidedBy(D.providesTags,P.data,void 0,_,{},x);B(p.internalActions.updateProvidedBy({queryCacheKey:w,providedTags:I}))}}},c=function(v,_,S,R){return R===void 0&&(R=!0),function(B,k){var D,w,P=p.endpoints[v],I=P.select(_)(k()),M={patches:[],inversePatches:[],undo:function(){return B(p.util.patchQueryData(v,_,M.inversePatches,R))}};if(I.status===QueryStatus.uninitialized)return M;var O;if("data"in I)if(t(I.data)){var H=cn(I.data,S),V=H[0],U=H[1],W=H[2];(D=M.patches).push.apply(D,U),(w=M.inversePatches).push.apply(w,W),O=V}else O=S(I.data),M.patches.push({op:"replace",path:[],value:O}),M.inversePatches.push({op:"replace",path:[],value:I.data});return B(p.util.patchQueryData(v,_,M.patches,R)),M}},l=function(v,_,S){return function(R){var B;return R(p.endpoints[v].initiate(_,(B={subscribe:!1,forceRefetch:!0},B[forceQueryFnSymbol]=function(){return{data:S}},B)))}},y=function(v,_){return __async(a,[v,_],function(S,R){var B,k,D,w,P,I,M,O,H,V,U,W,$,j,L,q,N,z,G=R.signal,K=R.abort,Q=R.rejectWithValue,ne=R.fulfillWithValue,te=R.dispatch,re=R.getState,Y=R.extra;return __generator(this,function(X){switch(X.label){case 0:B=o[S.endpointName],X.label=1;case 1:return X.trys.push([1,8,,13]),k=defaultTransformResponse,D=void 0,w={signal:G,abort:K,dispatch:te,getState:re,extra:Y,endpoint:S.endpointName,type:S.type,forced:S.type==="query"?d(S,re()):void 0},P=S.type==="query"?S[forceQueryFnSymbol]:void 0,P?(D=P(),[3,6]):[3,2];case 2:return B.query?[4,s(B.query(S.originalArgs),w,B.extraOptions)]:[3,4];case 3:return D=X.sent(),B.transformResponse&&(k=B.transformResponse),[3,6];case 4:return[4,B.queryFn(S.originalArgs,w,B.extraOptions,function(ee){return s(ee,w,B.extraOptions)})];case 5:D=X.sent(),X.label=6;case 6:if(typeof process<"u",D.error)throw new HandledError(D.error,D.meta);return U=ne,[4,k(D.data,D.meta,S.originalArgs)];case 7:return[2,U.apply(void 0,[X.sent(),(N={fulfilledTimeStamp:Date.now(),baseQueryMeta:D.meta},N[SHOULD_AUTOBATCH]=!0,N)])];case 8:if(W=X.sent(),$=W,!($ instanceof HandledError))return[3,12];j=defaultTransformResponse,B.query&&B.transformErrorResponse&&(j=B.transformErrorResponse),X.label=9;case 9:return X.trys.push([9,11,,12]),L=Q,[4,j($.value,$.meta,S.originalArgs)];case 10:return[2,L.apply(void 0,[X.sent(),(z={baseQueryMeta:$.meta},z[SHOULD_AUTOBATCH]=!0,z)])];case 11:return q=X.sent(),$=q,[3,12];case 12:throw typeof process<"u",console.error($),$;case 13:return[2]}})})};function d(v,_){var S,R,B,k,D=(R=(S=_[i])==null?void 0:S.queries)==null?void 0:R[v.queryCacheKey],w=(B=_[i])==null?void 0:B.config.refetchOnMountOrArgChange,P=D==null?void 0:D.fulfilledTimeStamp,I=(k=v.forceRefetch)!=null?k:v.subscribe&&w;return I?I===!0||(Number(new Date)-Number(P))/1e3>=I:!1}var h=createAsyncThunk(i+"/executeQuery",y,{getPendingMeta:function(){var v;return v={startedTimeStamp:Date.now()},v[SHOULD_AUTOBATCH]=!0,v},condition:function(v,_){var S=_.getState,R,B,k,D=S(),w=(B=(R=D[i])==null?void 0:R.queries)==null?void 0:B[v.queryCacheKey],P=w==null?void 0:w.fulfilledTimeStamp,I=v.originalArgs,M=w==null?void 0:w.originalArgs,O=o[v.endpointName];return isUpsertQuery(v)?!0:(w==null?void 0:w.status)==="pending"?!1:d(v,D)||isQueryDefinition$1(O)&&((k=O==null?void 0:O.forceRefetch)!=null&&k.call(O,{currentArg:I,previousArg:M,endpointState:w,state:D}))?!0:!P},dispatchConditionRejection:!0}),g=createAsyncThunk(i+"/executeMutation",y,{getPendingMeta:function(){var v;return v={startedTimeStamp:Date.now()},v[SHOULD_AUTOBATCH]=!0,v}}),b=function(v){return"force"in v},A=function(v){return"ifOlderThan"in v},F=function(v,_,S){return function(R,B){var k=b(S)&&S.force,D=A(S)&&S.ifOlderThan,w=function(O){return O===void 0&&(O=!0),p.endpoints[v].initiate(_,{forceRefetch:O})},P=p.endpoints[v].select(_)(B());if(k)R(w());else if(D){var I=P==null?void 0:P.fulfilledTimeStamp;if(!I){R(w());return}var M=(Number(new Date)-Number(new Date(I)))/1e3>=D;M&&R(w())}else R(w(!1))}};function C(v){return function(_){var S,R;return((R=(S=_==null?void 0:_.meta)==null?void 0:S.arg)==null?void 0:R.endpointName)===v}}function E(v,_){return{matchPending:isAllOf(isPending(v),C(_)),matchFulfilled:isAllOf(isFulfilled(v),C(_)),matchRejected:isAllOf(isRejected(v),C(_))}}return{queryThunk:h,mutationThunk:g,prefetch:F,updateQueryData:c,upsertQueryData:l,patchQueryData:m,buildMatchThunkActions:E}}function calculateProvidedByThunk(n,a,i,s){return calculateProvidedBy(i[n.meta.arg.endpointName][a],isFulfilled(n)?n.payload:void 0,isRejectedWithValue(n)?n.payload:void 0,n.meta.arg.originalArgs,"baseQueryMeta"in n.meta?n.meta.baseQueryMeta:void 0,s)}function updateQuerySubstateIfExists(n,a,i){var s=n[a];s&&i(s)}function getMutationCacheKey(n){var a;return(a="arg"in n?n.arg.fixedCacheKey:n.fixedCacheKey)!=null?a:n.requestId}function updateMutationSubstateIfExists(n,a,i){var s=n[getMutationCacheKey(a)];s&&i(s)}var initialState$9={};function buildSlice(n){var a=n.reducerPath,i=n.queryThunk,s=n.mutationThunk,o=n.context,u=o.endpointDefinitions,p=o.apiUid,x=o.extractRehydrationInfo,m=o.hasRehydrationInfo,c=n.assertTagType,l=n.config,y=createAction(a+"/resetApiState"),d=createSlice({name:a+"/queries",initialState:initialState$9,reducers:{removeQueryResult:{reducer:function(_,S){var R=S.payload.queryCacheKey;delete _[R]},prepare:prepareAutoBatched()},queryResultPatched:{reducer:function(_,S){var R=S.payload,B=R.queryCacheKey,k=R.patches;updateQuerySubstateIfExists(_,B,function(D){D.data=pn(D.data,k.concat())})},prepare:prepareAutoBatched()}},extraReducers:function(_){_.addCase(i.pending,function(S,R){var B=R.meta,k=R.meta.arg,D,w,P=isUpsertQuery(k);(k.subscribe||P)&&((w=S[D=k.queryCacheKey])!=null||(S[D]={status:QueryStatus.uninitialized,endpointName:k.endpointName})),updateQuerySubstateIfExists(S,k.queryCacheKey,function(I){I.status=QueryStatus.pending,I.requestId=P&&I.requestId?I.requestId:B.requestId,k.originalArgs!==void 0&&(I.originalArgs=k.originalArgs),I.startedTimeStamp=B.startedTimeStamp})}).addCase(i.fulfilled,function(S,R){var B=R.meta,k=R.payload;updateQuerySubstateIfExists(S,B.arg.queryCacheKey,function(D){var w;if(!(D.requestId!==B.requestId&&!isUpsertQuery(B.arg))){var P=u[B.arg.endpointName].merge;if(D.status=QueryStatus.fulfilled,P)if(D.data!==void 0){var I=B.fulfilledTimeStamp,M=B.arg,O=B.baseQueryMeta,H=B.requestId,V=fn(D.data,function(U){return P(U,k,{arg:M.originalArgs,baseQueryMeta:O,fulfilledTimeStamp:I,requestId:H})});D.data=V}else D.data=k;else D.data=(w=u[B.arg.endpointName].structuralSharing)==null||w?copyWithStructuralSharing(r(D.data)?e(D.data):D.data,k):k;delete D.error,D.fulfilledTimeStamp=B.fulfilledTimeStamp}})}).addCase(i.rejected,function(S,R){var B=R.meta,k=B.condition,D=B.arg,w=B.requestId,P=R.error,I=R.payload;updateQuerySubstateIfExists(S,D.queryCacheKey,function(M){if(!k){if(M.requestId!==w)return;M.status=QueryStatus.rejected,M.error=I??P}})}).addMatcher(m,function(S,R){for(var B=x(R).queries,k=0,D=Object.entries(B);k<D.length;k++){var w=D[k],P=w[0],I=w[1];((I==null?void 0:I.status)===QueryStatus.fulfilled||(I==null?void 0:I.status)===QueryStatus.rejected)&&(S[P]=I)}})}}),h=createSlice({name:a+"/mutations",initialState:initialState$9,reducers:{removeMutationResult:{reducer:function(_,S){var R=S.payload,B=getMutationCacheKey(R);B in _&&delete _[B]},prepare:prepareAutoBatched()}},extraReducers:function(_){_.addCase(s.pending,function(S,R){var B=R.meta,k=R.meta,D=k.requestId,w=k.arg,P=k.startedTimeStamp;w.track&&(S[getMutationCacheKey(B)]={requestId:D,status:QueryStatus.pending,endpointName:w.endpointName,startedTimeStamp:P})}).addCase(s.fulfilled,function(S,R){var B=R.payload,k=R.meta;k.arg.track&&updateMutationSubstateIfExists(S,k,function(D){D.requestId===k.requestId&&(D.status=QueryStatus.fulfilled,D.data=B,D.fulfilledTimeStamp=k.fulfilledTimeStamp)})}).addCase(s.rejected,function(S,R){var B=R.payload,k=R.error,D=R.meta;D.arg.track&&updateMutationSubstateIfExists(S,D,function(w){w.requestId===D.requestId&&(w.status=QueryStatus.rejected,w.error=B??k)})}).addMatcher(m,function(S,R){for(var B=x(R).mutations,k=0,D=Object.entries(B);k<D.length;k++){var w=D[k],P=w[0],I=w[1];((I==null?void 0:I.status)===QueryStatus.fulfilled||(I==null?void 0:I.status)===QueryStatus.rejected)&&P!==(I==null?void 0:I.requestId)&&(S[P]=I)}})}}),g=createSlice({name:a+"/invalidation",initialState:initialState$9,reducers:{updateProvidedBy:{reducer:function(_,S){for(var R,B,k,D,w=S.payload,P=w.queryCacheKey,I=w.providedTags,M=0,O=Object.values(_);M<O.length;M++)for(var H=O[M],V=0,U=Object.values(H);V<U.length;V++){var W=U[V],$=W.indexOf(P);$!==-1&&W.splice($,1)}for(var j=0,L=I;j<L.length;j++){var q=L[j],N=q.type,z=q.id,G=(D=(B=(R=_[N])!=null?R:_[N]={})[k=z||"__internal_without_id"])!=null?D:B[k]=[],K=G.includes(P);K||G.push(P)}},prepare:prepareAutoBatched()}},extraReducers:function(_){_.addCase(d.actions.removeQueryResult,function(S,R){for(var B=R.payload.queryCacheKey,k=0,D=Object.values(S);k<D.length;k++)for(var w=D[k],P=0,I=Object.values(w);P<I.length;P++){var M=I[P],O=M.indexOf(B);O!==-1&&M.splice(O,1)}}).addMatcher(m,function(S,R){for(var B,k,D,w,P=x(R).provided,I=0,M=Object.entries(P);I<M.length;I++)for(var O=M[I],H=O[0],V=O[1],U=0,W=Object.entries(V);U<W.length;U++)for(var $=W[U],j=$[0],L=$[1],q=(w=(k=(B=S[H])!=null?B:S[H]={})[D=j||"__internal_without_id"])!=null?w:k[D]=[],N=0,z=L;N<z.length;N++){var G=z[N],K=q.includes(G);K||q.push(G)}}).addMatcher(isAnyOf(isFulfilled(i),isRejectedWithValue(i)),function(S,R){var B=calculateProvidedByThunk(R,"providesTags",u,c),k=R.meta.arg.queryCacheKey;g.caseReducers.updateProvidedBy(S,g.actions.updateProvidedBy({queryCacheKey:k,providedTags:B}))})}}),b=createSlice({name:a+"/subscriptions",initialState:initialState$9,reducers:{updateSubscriptionOptions:function(_,S){},unsubscribeQueryResult:function(_,S){},internal_probeSubscription:function(_,S){}}}),A=createSlice({name:a+"/internalSubscriptions",initialState:initialState$9,reducers:{subscriptionsUpdated:{reducer:function(_,S){return pn(_,S.payload)},prepare:prepareAutoBatched()}}}),F=createSlice({name:a+"/config",initialState:__spreadValues$1({online:isOnline(),focused:isDocumentVisible(),middlewareRegistered:!1},l),reducers:{middlewareRegistered:function(_,S){var R=S.payload;_.middlewareRegistered=_.middlewareRegistered==="conflict"||p!==R?"conflict":!0}},extraReducers:function(_){_.addCase(onOnline,function(S){S.online=!0}).addCase(onOffline,function(S){S.online=!1}).addCase(onFocus,function(S){S.focused=!0}).addCase(onFocusLost,function(S){S.focused=!1}).addMatcher(m,function(S){return __spreadValues$1({},S)})}}),C=combineReducers({queries:d.reducer,mutations:h.reducer,provided:g.reducer,subscriptions:A.reducer,config:F.reducer}),E=function(_,S){return C(y.match(S)?void 0:_,S)},v=__spreadProps$1(__spreadValues$1(__spreadValues$1(__spreadValues$1(__spreadValues$1(__spreadValues$1(__spreadValues$1({},F.actions),d.actions),b.actions),A.actions),h.actions),g.actions),{unsubscribeMutationResult:h.actions.removeMutationResult,resetApiState:y});return{reducer:E,actions:v}}var skipToken=Symbol.for("RTKQ/skipToken"),initialSubState={status:QueryStatus.uninitialized},defaultQuerySubState=fn(initialSubState,function(){}),defaultMutationSubState=fn(initialSubState,function(){});function buildSelectors(n){var a=n.serializeQueryArgs,i=n.reducerPath,s=function(l){return defaultQuerySubState},o=function(l){return defaultMutationSubState};return{buildQuerySelector:x,buildMutationSelector:m,selectInvalidatedBy:c};function u(l){return __spreadValues$1(__spreadValues$1({},l),getRequestStatusFlags(l.status))}function p(l){var y=l[i];return y}function x(l,y){return function(d){var h=a({queryArgs:d,endpointDefinition:y,endpointName:l}),g=function(A){var F,C,E;return(E=(C=(F=p(A))==null?void 0:F.queries)==null?void 0:C[h])!=null?E:defaultQuerySubState},b=d===skipToken?s:g;return createSelector(b,u)}}function m(){return function(l){var y,d;typeof l=="object"?d=(y=getMutationCacheKey(l))!=null?y:skipToken:d=l;var h=function(b){var A,F,C;return(C=(F=(A=p(b))==null?void 0:A.mutations)==null?void 0:F[d])!=null?C:defaultMutationSubState},g=d===skipToken?o:h;return createSelector(g,u)}}function c(l,y){for(var d,h=l[i],g=new Set,b=0,A=y.map(expandTagDescription);b<A.length;b++){var F=A[b],C=h.provided[F.type];if(C)for(var E=(d=F.id!==void 0?C[F.id]:flatten(Object.values(C)))!=null?d:[],v=0,_=E;v<_.length;v++){var S=_[v];g.add(S)}}return flatten(Array.from(g.values()).map(function(R){var B=h.queries[R];return B?[{queryCacheKey:R,endpointName:B.endpointName,originalArgs:B.originalArgs}]:[]}))}}var cache$1=WeakMap?new WeakMap:void 0,defaultSerializeQueryArgs$1=function(n){var a=n.endpointName,i=n.queryArgs,s="",o=cache$1==null?void 0:cache$1.get(i);if(typeof o=="string")s=o;else{var u=JSON.stringify(i,function(p,x){return isPlainObject$1(x)?Object.keys(x).sort().reduce(function(m,c){return m[c]=x[c],m},{}):x});isPlainObject$1(i)&&(cache$1==null||cache$1.set(i,u)),s=u}return a+"("+s+")"};function buildCreateApi(){for(var n=[],a=0;a<arguments.length;a++)n[a]=arguments[a];return function(s){var o=defaultMemoize(function(l){var y,d;return(d=s.extractRehydrationInfo)==null?void 0:d.call(s,l,{reducerPath:(y=s.reducerPath)!=null?y:"api"})}),u=__spreadProps$1(__spreadValues$1({reducerPath:"api",keepUnusedDataFor:60,refetchOnMountOrArgChange:!1,refetchOnFocus:!1,refetchOnReconnect:!1},s),{extractRehydrationInfo:o,serializeQueryArgs:function(l){var y=defaultSerializeQueryArgs$1;if("serializeQueryArgs"in l.endpointDefinition){var d=l.endpointDefinition.serializeQueryArgs;y=function(h){var g=d(h);return typeof g=="string"?g:defaultSerializeQueryArgs$1(__spreadProps$1(__spreadValues$1({},h),{queryArgs:g}))}}else s.serializeQueryArgs&&(y=s.serializeQueryArgs);return y(l)},tagTypes:__spreadArray$1([],s.tagTypes||[])}),p={endpointDefinitions:{},batch:function(l){l()},apiUid:nanoid(),extractRehydrationInfo:o,hasRehydrationInfo:defaultMemoize(function(l){return o(l)!=null})},x={injectEndpoints:c,enhanceEndpoints:function(l){var y=l.addTagTypes,d=l.endpoints;if(y)for(var h=0,g=y;h<g.length;h++){var b=g[h];u.tagTypes.includes(b)||u.tagTypes.push(b)}if(d)for(var A=0,F=Object.entries(d);A<F.length;A++){var C=F[A],E=C[0],v=C[1];typeof v=="function"?v(p.endpointDefinitions[E]):Object.assign(p.endpointDefinitions[E]||{},v)}return x}},m=n.map(function(l){return l.init(x,u,p)});function c(l){for(var y=l.endpoints({query:function(v){return __spreadProps$1(__spreadValues$1({},v),{type:DefinitionType$1.query})},mutation:function(v){return __spreadProps$1(__spreadValues$1({},v),{type:DefinitionType$1.mutation})}}),d=0,h=Object.entries(y);d<h.length;d++){var g=h[d],b=g[0],A=g[1];if(!l.overrideExisting&&b in p.endpointDefinitions){typeof process<"u";continue}p.endpointDefinitions[b]=A;for(var F=0,C=m;F<C.length;F++){var E=C[F];E.injectEndpoint(b,A)}}return x}return x.injectEndpoints({endpoints:s.endpoints})}}function isObjectEmpty(n){for(var a in n)return!1;return!0}var THIRTY_TWO_BIT_MAX_TIMER_SECONDS=2147483647/1e3-1,buildCacheCollectionHandler=function(n){var a=n.reducerPath,i=n.api,s=n.context,o=n.internalState,u=i.internalActions,p=u.removeQueryResult,x=u.unsubscribeQueryResult;function m(d){var h=o.currentSubscriptions[d];return!!h&&!isObjectEmpty(h)}var c={},l=function(d,h,g){var b;if(x.match(d)){var A=h.getState()[a],F=d.payload.queryCacheKey;y(F,(b=A.queries[F])==null?void 0:b.endpointName,h,A.config)}if(i.util.resetApiState.match(d))for(var C=0,E=Object.entries(c);C<E.length;C++){var v=E[C],_=v[0],S=v[1];S&&clearTimeout(S),delete c[_]}if(s.hasRehydrationInfo(d))for(var A=h.getState()[a],R=s.extractRehydrationInfo(d).queries,B=0,k=Object.entries(R);B<k.length;B++){var D=k[B],F=D[0],w=D[1];y(F,w==null?void 0:w.endpointName,h,A.config)}};function y(d,h,g,b){var A,F=s.endpointDefinitions[h],C=(A=F==null?void 0:F.keepUnusedDataFor)!=null?A:b.keepUnusedDataFor;if(C!==1/0){var E=Math.max(0,Math.min(C,THIRTY_TWO_BIT_MAX_TIMER_SECONDS));if(!m(d)){var v=c[d];v&&clearTimeout(v),c[d]=setTimeout(function(){m(d)||g.dispatch(p({queryCacheKey:d})),delete c[d]},E*1e3)}}}return l},buildInvalidationByTagsHandler=function(n){var a=n.reducerPath,i=n.context,s=n.context.endpointDefinitions,o=n.mutationThunk,u=n.api,p=n.assertTagType,x=n.refetchQuery,m=u.internalActions.removeQueryResult,c=isAnyOf(isFulfilled(o),isRejectedWithValue(o)),l=function(d,h){c(d)&&y(calculateProvidedByThunk(d,"invalidatesTags",s,p),h),u.util.invalidateTags.match(d)&&y(calculateProvidedBy(d.payload,void 0,void 0,void 0,void 0,p),h)};function y(d,h){var g=h.getState(),b=g[a],A=u.util.selectInvalidatedBy(g,d);i.batch(function(){for(var F,C=Array.from(A.values()),E=0,v=C;E<v.length;E++){var _=v[E].queryCacheKey,S=b.queries[_],R=(F=b.subscriptions[_])!=null?F:{};S&&(Object.keys(R).length===0?h.dispatch(m({queryCacheKey:_})):S.status!==QueryStatus.uninitialized&&h.dispatch(x(S,_)))}})}return l},buildPollingHandler=function(n){var a=n.reducerPath,i=n.queryThunk,s=n.api,o=n.refetchQuery,u=n.internalState,p={},x=function(h,g){(s.internalActions.updateSubscriptionOptions.match(h)||s.internalActions.unsubscribeQueryResult.match(h))&&c(h.payload,g),(i.pending.match(h)||i.rejected.match(h)&&h.meta.condition)&&c(h.meta.arg,g),(i.fulfilled.match(h)||i.rejected.match(h)&&!h.meta.condition)&&m(h.meta.arg,g),s.util.resetApiState.match(h)&&y()};function m(h,g){var b=h.queryCacheKey,A=g.getState()[a],F=A.queries[b],C=u.currentSubscriptions[b];if(!(!F||F.status===QueryStatus.uninitialized)){var E=d(C);if(Number.isFinite(E)){var v=p[b];v!=null&&v.timeout&&(clearTimeout(v.timeout),v.timeout=void 0);var _=Date.now()+E,S=p[b]={nextPollTimestamp:_,pollingInterval:E,timeout:setTimeout(function(){S.timeout=void 0,g.dispatch(o(F,b))},E)}}}}function c(h,g){var b=h.queryCacheKey,A=g.getState()[a],F=A.queries[b],C=u.currentSubscriptions[b];if(!(!F||F.status===QueryStatus.uninitialized)){var E=d(C);if(!Number.isFinite(E)){l(b);return}var v=p[b],_=Date.now()+E;(!v||_<v.nextPollTimestamp)&&m({queryCacheKey:b},g)}}function l(h){var g=p[h];g!=null&&g.timeout&&clearTimeout(g.timeout),delete p[h]}function y(){for(var h=0,g=Object.keys(p);h<g.length;h++){var b=g[h];l(b)}}function d(h){h===void 0&&(h={});var g=Number.POSITIVE_INFINITY;for(var b in h)h[b].pollingInterval&&(g=Math.min(h[b].pollingInterval,g));return g}return x},buildWindowEventHandler=function(n){var a=n.reducerPath,i=n.context,s=n.api,o=n.refetchQuery,u=n.internalState,p=s.internalActions.removeQueryResult,x=function(c,l){onFocus.match(c)&&m(l,"refetchOnFocus"),onOnline.match(c)&&m(l,"refetchOnReconnect")};function m(c,l){var y=c.getState()[a],d=y.queries,h=u.currentSubscriptions;i.batch(function(){for(var g=0,b=Object.keys(h);g<b.length;g++){var A=b[g],F=d[A],C=h[A];if(!(!C||!F)){var E=Object.values(C).some(function(v){return v[l]===!0})||Object.values(C).every(function(v){return v[l]===void 0})&&y.config[l];E&&(Object.keys(C).length===0?c.dispatch(p({queryCacheKey:A})):F.status!==QueryStatus.uninitialized&&c.dispatch(o(F,A)))}}})}return x},neverResolvedError=new Error("Promise never resolved before cacheEntryRemoved."),buildCacheLifecycleHandler=function(n){var a=n.api,i=n.reducerPath,s=n.context,o=n.queryThunk,u=n.mutationThunk;n.internalState;var p=isAsyncThunkAction(o),x=isAsyncThunkAction(u),m=isFulfilled(o,u),c={},l=function(h,g,b){var A=y(h);if(o.pending.match(h)){var F=b[i].queries[A],C=g.getState()[i].queries[A];!F&&C&&d(h.meta.arg.endpointName,h.meta.arg.originalArgs,A,g,h.meta.requestId)}else if(u.pending.match(h)){var C=g.getState()[i].mutations[A];C&&d(h.meta.arg.endpointName,h.meta.arg.originalArgs,A,g,h.meta.requestId)}else if(m(h)){var E=c[A];E!=null&&E.valueResolved&&(E.valueResolved({data:h.payload,meta:h.meta.baseQueryMeta}),delete E.valueResolved)}else if(a.internalActions.removeQueryResult.match(h)||a.internalActions.removeMutationResult.match(h)){var E=c[A];E&&(delete c[A],E.cacheEntryRemoved())}else if(a.util.resetApiState.match(h))for(var v=0,_=Object.entries(c);v<_.length;v++){var S=_[v],R=S[0],E=S[1];delete c[R],E.cacheEntryRemoved()}};function y(h){return p(h)?h.meta.arg.queryCacheKey:x(h)?h.meta.requestId:a.internalActions.removeQueryResult.match(h)?h.payload.queryCacheKey:a.internalActions.removeMutationResult.match(h)?getMutationCacheKey(h.payload):""}function d(h,g,b,A,F){var C=s.endpointDefinitions[h],E=C==null?void 0:C.onCacheEntryAdded;if(E){var v={},_=new Promise(function(w){v.cacheEntryRemoved=w}),S=Promise.race([new Promise(function(w){v.valueResolved=w}),_.then(function(){throw neverResolvedError})]);S.catch(function(){}),c[b]=v;var R=a.endpoints[h].select(C.type===DefinitionType$1.query?g:b),B=A.dispatch(function(w,P,I){return I}),k=__spreadProps$1(__spreadValues$1({},A),{getCacheEntry:function(){return R(A.getState())},requestId:F,extra:B,updateCachedData:C.type===DefinitionType$1.query?function(w){return A.dispatch(a.util.updateQueryData(h,g,w))}:void 0,cacheDataLoaded:S,cacheEntryRemoved:_}),D=E(g,k);Promise.resolve(D).catch(function(w){if(w!==neverResolvedError)throw w})}}return l},buildQueryLifecycleHandler=function(n){var a=n.api,i=n.context,s=n.queryThunk,o=n.mutationThunk,u=isPending(s,o),p=isRejected(s,o),x=isFulfilled(s,o),m={},c=function(l,y){var d,h,g;if(u(l)){var b=l.meta,A=b.requestId,F=b.arg,C=F.endpointName,E=F.originalArgs,v=i.endpointDefinitions[C],_=v==null?void 0:v.onQueryStarted;if(_){var S={},R=new Promise(function(O,H){S.resolve=O,S.reject=H});R.catch(function(){}),m[A]=S;var B=a.endpoints[C].select(v.type===DefinitionType$1.query?E:A),k=y.dispatch(function(O,H,V){return V}),D=__spreadProps$1(__spreadValues$1({},y),{getCacheEntry:function(){return B(y.getState())},requestId:A,extra:k,updateCachedData:v.type===DefinitionType$1.query?function(O){return y.dispatch(a.util.updateQueryData(C,E,O))}:void 0,queryFulfilled:R});_(E,D)}}else if(x(l)){var w=l.meta,A=w.requestId,P=w.baseQueryMeta;(d=m[A])==null||d.resolve({data:l.payload,meta:P}),delete m[A]}else if(p(l)){var I=l.meta,A=I.requestId,M=I.rejectedWithValue,P=I.baseQueryMeta;(g=m[A])==null||g.reject({error:(h=l.payload)!=null?h:l.error,isUnhandledError:!M,meta:P}),delete m[A]}};return c},buildDevCheckHandler=function(n){var a=n.api,i=n.context.apiUid,s=n.reducerPath;return function(o,u){var p,x;a.util.resetApiState.match(o)&&u.dispatch(a.internalActions.middlewareRegistered(i)),typeof process<"u"}},promise,queueMicrotaskShim=typeof queueMicrotask=="function"?queueMicrotask.bind(typeof window<"u"?window:typeof global<"u"?global:globalThis):function(n){return(promise||(promise=Promise.resolve())).then(n).catch(function(a){return setTimeout(function(){throw a},0)})},buildBatchedActionsHandler=function(n){var a=n.api,i=n.queryThunk,s=n.internalState,o=a.reducerPath+"/subscriptions",u=null,p=!1,x=a.internalActions,m=x.updateSubscriptionOptions,c=x.unsubscribeQueryResult,l=function(y,d){var h,g,b,A,F,C,E,v,_;if(m.match(d)){var S=d.payload,R=S.queryCacheKey,B=S.requestId,k=S.options;return(h=y==null?void 0:y[R])!=null&&h[B]&&(y[R][B]=k),!0}if(c.match(d)){var D=d.payload,R=D.queryCacheKey,B=D.requestId;return y[R]&&delete y[R][B],!0}if(a.internalActions.removeQueryResult.match(d))return delete y[d.payload.queryCacheKey],!0;if(i.pending.match(d)){var w=d.meta,P=w.arg,B=w.requestId;if(P.subscribe){var I=(b=y[g=P.queryCacheKey])!=null?b:y[g]={};return I[B]=(F=(A=P.subscriptionOptions)!=null?A:I[B])!=null?F:{},!0}}if(i.rejected.match(d)){var M=d.meta,O=M.condition,P=M.arg,B=M.requestId;if(O&&P.subscribe){var I=(E=y[C=P.queryCacheKey])!=null?E:y[C]={};return I[B]=(_=(v=P.subscriptionOptions)!=null?v:I[B])!=null?_:{},!0}}return!1};return function(y,d){var h,g;if(u||(u=JSON.parse(JSON.stringify(s.currentSubscriptions))),a.util.resetApiState.match(y))return u=s.currentSubscriptions={},[!0,!1];if(a.internalActions.internal_probeSubscription.match(y)){var b=y.payload,A=b.queryCacheKey,F=b.requestId,C=!!((h=s.currentSubscriptions[A])!=null&&h[F]);return[!1,C]}var E=l(s.currentSubscriptions,y);if(E){p||(queueMicrotaskShim(function(){var R=JSON.parse(JSON.stringify(s.currentSubscriptions)),B=cn(u,function(){return R}),k=B[1];d.next(a.internalActions.subscriptionsUpdated(k)),u=R,p=!1}),p=!0);var v=!!((g=y.type)!=null&&g.startsWith(o)),_=i.rejected.match(y)&&y.meta.condition&&!!y.meta.arg.subscribe,S=!v&&!_;return[S,!1]}return[!0,!1]}};function buildMiddleware(n){var a=n.reducerPath,i=n.queryThunk,s=n.api,o=n.context,u=o.apiUid,p={invalidateTags:createAction(a+"/invalidateTags")},x=function(y){return!!y&&typeof y.type=="string"&&y.type.startsWith(a+"/")},m=[buildDevCheckHandler,buildCacheCollectionHandler,buildInvalidationByTagsHandler,buildPollingHandler,buildCacheLifecycleHandler,buildQueryLifecycleHandler],c=function(y){var d=!1,h={currentSubscriptions:{}},g=__spreadProps$1(__spreadValues$1({},n),{internalState:h,refetchQuery:l}),b=m.map(function(C){return C(g)}),A=buildBatchedActionsHandler(g),F=buildWindowEventHandler(g);return function(C){return function(E){d||(d=!0,y.dispatch(s.internalActions.middlewareRegistered(u)));var v=__spreadProps$1(__spreadValues$1({},y),{next:C}),_=y.getState(),S=A(E,v,_),R=S[0],B=S[1],k;if(R?k=C(E):k=B,y.getState()[a]&&(F(E,v,_),x(E)||o.hasRehydrationInfo(E)))for(var D=0,w=b;D<w.length;D++){var P=w[D];P(E,v,_)}return k}}};return{middleware:c,actions:p};function l(y,d,h){return h===void 0&&(h={}),i(__spreadValues$1({type:"query",endpointName:y.endpointName,originalArgs:y.originalArgs,subscribe:!1,forceRefetch:!0,queryCacheKey:d},h))}}function safeAssign$1(n){for(var a=[],i=1;i<arguments.length;i++)a[i-1]=arguments[i];Object.assign.apply(Object,__spreadArray$1([n],a))}var coreModuleName=Symbol(),coreModule=function(){return{name:coreModuleName,init:function(n,a,i){var s=a.baseQuery,o=a.tagTypes,u=a.reducerPath,p=a.serializeQueryArgs,x=a.keepUnusedDataFor,m=a.refetchOnMountOrArgChange,c=a.refetchOnFocus,l=a.refetchOnReconnect;T();var y=function(q){return typeof process<"u",q};Object.assign(n,{reducerPath:u,endpoints:{},internalActions:{onOnline,onOffline,onFocus,onFocusLost},util:{}});var d=buildThunks({baseQuery:s,reducerPath:u,context:i,api:n,serializeQueryArgs:p,assertTagType:y}),h=d.queryThunk,g=d.mutationThunk,b=d.patchQueryData,A=d.updateQueryData,F=d.upsertQueryData,C=d.prefetch,E=d.buildMatchThunkActions,v=buildSlice({context:i,queryThunk:h,mutationThunk:g,reducerPath:u,assertTagType:y,config:{refetchOnFocus:c,refetchOnReconnect:l,refetchOnMountOrArgChange:m,keepUnusedDataFor:x,reducerPath:u}}),_=v.reducer,S=v.actions;safeAssign$1(n.util,{patchQueryData:b,updateQueryData:A,upsertQueryData:F,prefetch:C,resetApiState:S.resetApiState}),safeAssign$1(n.internalActions,S);var R=buildMiddleware({reducerPath:u,context:i,queryThunk:h,mutationThunk:g,api:n,assertTagType:y}),B=R.middleware,k=R.actions;safeAssign$1(n.util,k),safeAssign$1(n,{reducer:_,middleware:B});var D=buildSelectors({serializeQueryArgs:p,reducerPath:u}),w=D.buildQuerySelector,P=D.buildMutationSelector,I=D.selectInvalidatedBy;safeAssign$1(n.util,{selectInvalidatedBy:I});var M=buildInitiate({queryThunk:h,mutationThunk:g,api:n,serializeQueryArgs:p,context:i}),O=M.buildInitiateQuery,H=M.buildInitiateMutation,V=M.getRunningMutationThunk,U=M.getRunningMutationsThunk,W=M.getRunningQueriesThunk,$=M.getRunningQueryThunk,j=M.getRunningOperationPromises,L=M.removalWarning;return safeAssign$1(n.util,{getRunningOperationPromises:j,getRunningOperationPromise:L,getRunningMutationThunk:V,getRunningMutationsThunk:U,getRunningQueryThunk:$,getRunningQueriesThunk:W}),{name:coreModuleName,injectEndpoint:function(q,N){var z,G,K=n;(G=(z=K.endpoints)[q])!=null||(z[q]={}),isQueryDefinition$1(N)?safeAssign$1(K.endpoints[q],{name:q,select:w(q,N),initiate:O(q,N)},E(h,q)):isMutationDefinition$1(N)&&safeAssign$1(K.endpoints[q],{name:q,select:P(),initiate:H(q)},E(g,q))}}}}},__spreadArray=function(n,a){for(var i=0,s=a.length,o=n.length;i<s;i++,o++)n[o]=a[i];return n},__defProp=Object.defineProperty,__defProps=Object.defineProperties,__getOwnPropDescs=Object.getOwnPropertyDescriptors,__getOwnPropSymbols=Object.getOwnPropertySymbols,__hasOwnProp=Object.prototype.hasOwnProperty,__propIsEnum=Object.prototype.propertyIsEnumerable,__defNormalProp=function(n,a,i){return a in n?__defProp(n,a,{enumerable:!0,configurable:!0,writable:!0,value:i}):n[a]=i},__spreadValues=function(n,a){for(var i in a||(a={}))__hasOwnProp.call(a,i)&&__defNormalProp(n,i,a[i]);if(__getOwnPropSymbols)for(var s=0,o=__getOwnPropSymbols(a);s<o.length;s++){var i=o[s];__propIsEnum.call(a,i)&&__defNormalProp(n,i,a[i])}return n},__spreadProps=function(n,a){return __defProps(n,__getOwnPropDescs(a))};function useStableQueryArgs(n,a,i,s){var o=reactExports.useMemo(function(){return{queryArgs:n,serialized:typeof n=="object"?a({queryArgs:n,endpointDefinition:i,endpointName:s}):n}},[n,a,i,s]),u=reactExports.useRef(o);return reactExports.useEffect(function(){u.current.serialized!==o.serialized&&(u.current=o)},[o]),u.current.serialized===o.serialized?u.current.queryArgs:n}var UNINITIALIZED_VALUE=Symbol();function useShallowStableValue(n){var a=reactExports.useRef(n);return reactExports.useEffect(function(){shallowEqual$1(a.current,n)||(a.current=n)},[n]),shallowEqual$1(a.current,n)?a.current:n}var cache=WeakMap?new WeakMap:void 0,defaultSerializeQueryArgs=function(n){var a=n.endpointName,i=n.queryArgs,s="",o=cache==null?void 0:cache.get(i);if(typeof o=="string")s=o;else{var u=JSON.stringify(i,function(p,x){return isPlainObject$1(x)?Object.keys(x).sort().reduce(function(m,c){return m[c]=x[c],m},{}):x});isPlainObject$1(i)&&(cache==null||cache.set(i,u)),s=u}return a+"("+s+")"},useIsomorphicLayoutEffect=typeof window<"u"&&window.document&&window.document.createElement?reactExports.useLayoutEffect:reactExports.useEffect,defaultMutationStateSelector=function(n){return n},noPendingQueryStateSelector=function(n){return n.isUninitialized?__spreadProps(__spreadValues({},n),{isUninitialized:!1,isFetching:!0,isLoading:n.data===void 0,status:QueryStatus.pending}):n};function buildHooks(n){var a=n.api,i=n.moduleOptions,s=i.batch,o=i.useDispatch,u=i.useSelector,p=i.useStore,x=i.unstable__sideEffectsInRender,m=n.serializeQueryArgs,c=n.context,l=x?function(b){return b()}:reactExports.useEffect;return{buildQueryHooks:h,buildMutationHook:g,usePrefetch:d};function y(b,A,F){if(A!=null&&A.endpointName&&b.isUninitialized){var C=A.endpointName,E=c.endpointDefinitions[C];m({queryArgs:A.originalArgs,endpointDefinition:E,endpointName:C})===m({queryArgs:F,endpointDefinition:E,endpointName:C})&&(A=void 0)}var v=b.isSuccess?b.data:A==null?void 0:A.data;v===void 0&&(v=b.data);var _=v!==void 0,S=b.isLoading,R=!_&&S,B=b.isSuccess||S&&_;return __spreadProps(__spreadValues({},b),{data:v,currentData:b.data,isFetching:S,isLoading:R,isSuccess:B})}function d(b,A){var F=o(),C=useShallowStableValue(A);return reactExports.useCallback(function(E,v){return F(a.util.prefetch(b,E,__spreadValues(__spreadValues({},C),v)))},[b,F,C])}function h(b){var A=function(E,v){var _=v===void 0?{}:v,S=_.refetchOnReconnect,R=_.refetchOnFocus,B=_.refetchOnMountOrArgChange,k=_.skip,D=k===void 0?!1:k,w=_.pollingInterval,P=w===void 0?0:w,I=a.endpoints[b].initiate,M=o(),O=useStableQueryArgs(D?skipToken:E,defaultSerializeQueryArgs,c.endpointDefinitions[b],b),H=useShallowStableValue({refetchOnReconnect:S,refetchOnFocus:R,pollingInterval:P}),V=reactExports.useRef(!1),U=reactExports.useRef(),W=U.current||{},$=W.queryCacheKey,j=W.requestId,L=!1;if($&&j){var q=M(a.internalActions.internal_probeSubscription({queryCacheKey:$,requestId:j}));L=!!q}var N=!L&&V.current;return l(function(){V.current=L}),l(function(){N&&(U.current=void 0)},[N]),l(function(){var z,G=U.current;if(typeof process<"u",O===skipToken){G==null||G.unsubscribe(),U.current=void 0;return}var K=(z=U.current)==null?void 0:z.subscriptionOptions;if(!G||G.arg!==O){G==null||G.unsubscribe();var Q=M(I(O,{subscriptionOptions:H,forceRefetch:B}));U.current=Q}else H!==K&&G.updateSubscriptionOptions(H)},[M,I,B,O,H,N]),reactExports.useEffect(function(){return function(){var z;(z=U.current)==null||z.unsubscribe(),U.current=void 0}},[]),reactExports.useMemo(function(){return{refetch:function(){var z;if(!U.current)throw new Error("Cannot refetch a query that has not been started yet.");return(z=U.current)==null?void 0:z.refetch()}}},[])},F=function(E){var v=E===void 0?{}:E,_=v.refetchOnReconnect,S=v.refetchOnFocus,R=v.pollingInterval,B=R===void 0?0:R,k=a.endpoints[b].initiate,D=o(),w=reactExports.useState(UNINITIALIZED_VALUE),P=w[0],I=w[1],M=reactExports.useRef(),O=useShallowStableValue({refetchOnReconnect:_,refetchOnFocus:S,pollingInterval:B});l(function(){var U,W,$=(U=M.current)==null?void 0:U.subscriptionOptions;O!==$&&((W=M.current)==null||W.updateSubscriptionOptions(O))},[O]);var H=reactExports.useRef(O);l(function(){H.current=O},[O]);var V=reactExports.useCallback(function(U,W){W===void 0&&(W=!1);var $;return s(function(){var j;(j=M.current)==null||j.unsubscribe(),M.current=$=D(k(U,{subscriptionOptions:H.current,forceRefetch:!W})),I(U)}),$},[D,k]);return reactExports.useEffect(function(){return function(){var U;(U=M==null?void 0:M.current)==null||U.unsubscribe()}},[]),reactExports.useEffect(function(){P!==UNINITIALIZED_VALUE&&!M.current&&V(P,!0)},[P,V]),reactExports.useMemo(function(){return[V,P]},[V,P])},C=function(E,v){var _=v===void 0?{}:v,S=_.skip,R=S===void 0?!1:S,B=_.selectFromResult,k=a.endpoints[b].select,D=useStableQueryArgs(R?skipToken:E,m,c.endpointDefinitions[b],b),w=reactExports.useRef(),P=reactExports.useMemo(function(){return createSelector([k(D),function(V,U){return U},function(V){return D}],y)},[k,D]),I=reactExports.useMemo(function(){return B?createSelector([P],B):P},[P,B]),M=u(function(V){return I(V,w.current)},shallowEqual$1),O=p(),H=P(O.getState(),w.current);return useIsomorphicLayoutEffect(function(){w.current=H},[H]),M};return{useQueryState:C,useQuerySubscription:A,useLazyQuerySubscription:F,useLazyQuery:function(E){var v=F(E),_=v[0],S=v[1],R=C(S,__spreadProps(__spreadValues({},E),{skip:S===UNINITIALIZED_VALUE})),B=reactExports.useMemo(function(){return{lastArg:S}},[S]);return reactExports.useMemo(function(){return[_,R,B]},[_,R,B])},useQuery:function(E,v){var _=A(E,v),S=C(E,__spreadValues({selectFromResult:E===skipToken||v!=null&&v.skip?void 0:noPendingQueryStateSelector},v)),R=S.data,B=S.status,k=S.isLoading,D=S.isSuccess,w=S.isError,P=S.error;return reactExports.useDebugValue({data:R,status:B,isLoading:k,isSuccess:D,isError:w,error:P}),reactExports.useMemo(function(){return __spreadValues(__spreadValues({},S),_)},[S,_])}}}function g(b){return function(A){var F=A===void 0?{}:A,C=F.selectFromResult,E=C===void 0?defaultMutationStateSelector:C,v=F.fixedCacheKey,_=a.endpoints[b],S=_.select,R=_.initiate,B=o(),k=reactExports.useState(),D=k[0],w=k[1];reactExports.useEffect(function(){return function(){D!=null&&D.arg.fixedCacheKey||D==null||D.reset()}},[D]);var P=reactExports.useCallback(function(G){var K=B(R(G,{fixedCacheKey:v}));return w(K),K},[B,R,v]),I=(D||{}).requestId,M=reactExports.useMemo(function(){return createSelector([S({fixedCacheKey:v,requestId:D==null?void 0:D.requestId})],E)},[S,D,E,v]),O=u(M,shallowEqual$1),H=v==null?D==null?void 0:D.arg.originalArgs:void 0,V=reactExports.useCallback(function(){s(function(){D&&w(void 0),v&&B(a.internalActions.removeMutationResult({requestId:I,fixedCacheKey:v}))})},[B,v,D,I]),U=O.endpointName,W=O.data,$=O.status,j=O.isLoading,L=O.isSuccess,q=O.isError,N=O.error;reactExports.useDebugValue({endpointName:U,data:W,status:$,isLoading:j,isSuccess:L,isError:q,error:N});var z=reactExports.useMemo(function(){return __spreadProps(__spreadValues({},O),{originalArgs:H,reset:V})},[O,H,V]);return reactExports.useMemo(function(){return[P,z]},[P,z])}}}var DefinitionType;(function(n){n.query="query",n.mutation="mutation"})(DefinitionType||(DefinitionType={}));function isQueryDefinition(n){return n.type===DefinitionType.query}function isMutationDefinition(n){return n.type===DefinitionType.mutation}function capitalize(n){return n.replace(n[0],n[0].toUpperCase())}function safeAssign(n){for(var a=[],i=1;i<arguments.length;i++)a[i-1]=arguments[i];Object.assign.apply(Object,__spreadArray([n],a))}var reactHooksModuleName=Symbol(),reactHooksModule=function(n){var a={},i=a.batch,s=i===void 0?reactDomExports.unstable_batchedUpdates:i,o=a.useDispatch,u=o===void 0?useDispatch$1:o,p=a.useSelector,x=p===void 0?useSelector$1:p,m=a.useStore,c=m===void 0?useStore:m,l=a.unstable__sideEffectsInRender,y=l===void 0?!1:l;return{name:reactHooksModuleName,init:function(d,h,g){var b=h.serializeQueryArgs,A=d,F=buildHooks({api:d,moduleOptions:{batch:s,useDispatch:u,useSelector:x,useStore:c,unstable__sideEffectsInRender:y},serializeQueryArgs:b,context:g}),C=F.buildQueryHooks,E=F.buildMutationHook,v=F.usePrefetch;return safeAssign(A,{usePrefetch:v}),safeAssign(g,{batch:s}),{injectEndpoint:function(_,S){if(isQueryDefinition(S)){var R=C(_),B=R.useQuery,k=R.useLazyQuery,D=R.useLazyQuerySubscription,w=R.useQueryState,P=R.useQuerySubscription;safeAssign(A.endpoints[_],{useQuery:B,useLazyQuery:k,useLazyQuerySubscription:D,useQueryState:w,useQuerySubscription:P}),d["use"+capitalize(_)+"Query"]=B,d["useLazy"+capitalize(_)+"Query"]=k}else if(isMutationDefinition(S)){var I=E(_);safeAssign(A.endpoints[_],{useMutation:I}),d["use"+capitalize(_)+"Mutation"]=I}}}}}},createApi=buildCreateApi(coreModule(),reactHooksModule()),CacheLifetime=(n=>(n[n.none=0]="none",n[n.second=1]="second",n[n.minute=60]="minute",n[n.fiveMinutes=300]="fiveMinutes",n[n.hour=3600]="hour",n[n.day=86400]="day",n[n.week=604800]="week",n))(CacheLifetime||{}),TimeOutDuration=(n=>(n[n.short=1e3]="short",n[n.medium=15e3]="medium",n[n.long=3e4]="long",n))(TimeOutDuration||{});const sleep=n=>new Promise(a=>setTimeout(a,n)),prepareHeaders=(n,{getState:a})=>{const i=a(),{environment:s}=selectEnvironment(i),o=apiKeyForEnvironment[s];return o?n.set("X-API-KEY",o):devError(`No API key in .env for environment ${s}.`),n.set("releaseVersion",VERSION_NUMBER),n},dynamicBaseQuery=async(n,a,i)=>retry(async()=>{var h;const{slug:s,afterError:o,afterSuccess:u,prepareHeaders:p=g=>g}=n,x=selectApi(s)(a.getState()),m=`${a.endpoint}: ${n.method??"GET"} ${x}${n.url}`;devInfo(`Request started: ${m}`);const c=await fetchBaseQuery({baseUrl:x,prepareHeaders:(g,b)=>prepareHeaders(p(g,b),b),timeout:TimeOutDuration.long})(n,a,i),{error:l,meta:y}=c,d=((h=y==null?void 0:y.response)==null?void 0:h.status)??(l==null?void 0:l.status)??0;return l?devError(`Request failed (${d}): ${m}, ${JSON.stringify(l.data)}`):devInfo(`Request success: ${m}`),d===404&&retry.fail(l),((l==null?void 0:l.status)==="FETCH_ERROR"||(l==null?void 0:l.status)==="TIMEOUT_ERROR"||(l==null?void 0:l.status)===502)&&await sleep(100),l?await(o==null?void 0:o(c,a,retry.fail)):await(u==null?void 0:u(c,a)),c},{maxRetries:2})(n,a,i),baseApi=createApi({baseQuery:dynamicBaseQuery,endpoints:()=>({}),reducerPath:"api",tagTypes:["Articles","FollowedProjects","Modules","Notifications","Projects"]}),redirectApi=baseApi.injectEndpoints({endpoints:n=>({[RedirectEndpointName.getRedirectUrls]:n.query({query:()=>({slug:ModuleSlug.contact,url:"/links"}),keepUnusedDataFor:CacheLifetime.hour})}),overrideExisting:!0}),{useGetRedirectUrlsQuery}=redirectApi,useChatMenuItems=()=>{const{setIsMenuOpen:n,close:a}=useChat(),{addDownloadedTranscriptId:i,endChat:s,ready:o,isEnded:u}=reactExports.useContext(ChatContext),p=useOpenWebUrl(),{data:x,isLoading:m,isError:c}=useGetRedirectUrlsQuery(),l=useTrackException();return reactExports.useMemo(()=>{const y=[];return y.push({color:"link",label:"Chat downloaden",onPress:()=>{n(!1),downloadChat().then(d=>d&&i(d))},testID:"ChatMenuPressableDownloadChat"}),!m&&!c&&y.push({color:"link",label:"Privacy",onPress:()=>{x!=null&&x.chatPrivacy?(n(!1),p(x.chatPrivacy)):(Alert.alert("Sorry, deze functie is nu niet beschikbaar. Probeer het later nog eens."),l(ExceptionLogKey.getRedirectsUrl,"ChatMenu.ts",{redirectsKey:"chatPrivacy"}))},testID:"ChatMenuPressableChatPrivacy"}),u||y.push({color:"warning",label:"Chat stoppen",onPress:()=>{n(!1),o?(sendMessage(CLOSE_CHAT_MESSAGE).catch(d=>l(ExceptionLogKey.chatSendMessage,"useChatMenuItems.ts",{error:d})),s()):a()},testID:"ChatMenuPressableStopChat"}),y},[i,a,s,u,c,m,p,o,x==null?void 0:x.chatPrivacy,n,l])},ChatMenu=()=>{const{headerHeight:n,isMenuOpen:a}=useChat(),i=useChatMenuItems(),s=useSafeAreaInsets();return jsxRuntimeExports.jsx(PopUpMenu,{isVisible:a,menuItems:i,orientation:PopupMenuOrientation.left,topInset:n+s.top})},bottomSheetSlice=createSlice({name:ReduxKey.bottomSheet,initialState:{isOpen:!1,isPresentAtRouteNames:[]},reducers:{closeBottomSheet:n=>({...n,isOpen:!1}),openBottomSheet:n=>({...n,isOpen:!0}),addIsPresentAtRouteName:(n,{payload:a})=>{n.isPresentAtRouteNames.push(a)},removeIsPresentAtRouteName:(n,{payload:a})=>({...n,isPresentAtRouteNames:n.isPresentAtRouteNames.filter(i=>i!==a)}),toggleBottomSheet:n=>({...n,isOpen:!n.isOpen})}}),{closeBottomSheet,openBottomSheet,addIsPresentAtRouteName,removeIsPresentAtRouteName,toggleBottomSheet}=bottomSheetSlice.actions,useBottomSheet=()=>{const n=useDispatch();return{isOpen:useSelector(i=>i[ReduxKey.bottomSheet].isOpen),...reactExports.useMemo(()=>({close:()=>n(closeBottomSheet()),open:()=>n(openBottomSheet()),addIsPresentAtRouteName:i=>n(addIsPresentAtRouteName(i)),removeIsPresentAtRouteName:i=>n(removeIsPresentAtRouteName(i)),toggle:()=>n(toggleBottomSheet())}),[n])}},initialState$8={spaceBottom:0,isContentHiddenFromAccessibility:!1,isHiddenFromAccessibility:!1},screenSlice=createSlice({name:ReduxKey.screen,initialState:initialState$8,reducers:{resetScreen:()=>initialState$8,setHideScreenFromAccessibility:(n,{payload:a})=>{n.isHiddenFromAccessibility=a},setHideScreenContentFromAccessibility:(n,{payload:a})=>{n.isContentHiddenFromAccessibility=a},setExtraSpaceBottom:(n,{payload:a})=>{n.spaceBottom=a}}}),{setExtraSpaceBottom,setHideScreenFromAccessibility,setHideScreenContentFromAccessibility}=screenSlice.actions,selectScreenBottomExtraSpace=n=>n[ReduxKey.screen].spaceBottom,selectIsHiddenFromAccessibility=n=>n[ReduxKey.screen].isHiddenFromAccessibility,selectIsContentHiddenFromAccessibility=n=>n[ReduxKey.screen].isContentHiddenFromAccessibility,useScreen=()=>{const n=useDispatch(),a=useSelector(selectScreenBottomExtraSpace),i=useSelector(selectIsContentHiddenFromAccessibility),s=useSelector(selectIsHiddenFromAccessibility),o=reactExports.useCallback(x=>n(setExtraSpaceBottom(x)),[n]),u=reactExports.useCallback(x=>n(setHideScreenFromAccessibility(x)),[n]),p=reactExports.useCallback(x=>n(setHideScreenContentFromAccessibility(x)),[n]);return{isContentHiddenFromAccessibility:i,isHiddenFromAccessibility:s,spaceBottom:a,setHideContentFromAccessibility:p,setHideFromAccessibility:u,setSpaceBottom:o}},CHAT_MINIMIZED_HEIGHT=60,HEIGHT_CORRECTION=8,BOUNCE_HEIGHT=25,ChatAnimatedWrapper=({children:n})=>{const a=useTheme(),{isOpen:i}=useBottomSheet(),{isMaximized:s}=useChat(),[o,u]=reactExports.useState(0),p=useSharedValue(0),x=useSharedValue(0),m=useSharedValue(s?1:0),c=useSafeAreaInsets(),{fontScale:l}=useDeviceContext(),{newMessagesCount:y}=reactExports.useContext(ChatContext),{setSpaceBottom:d}=useScreen(),h=createStyles$c(a,c),g=CHAT_MINIMIZED_HEIGHT*l+c.bottom;reactExports.useEffect(()=>{m.value=withTiming(s?1:0)},[s,m]),reactExports.useEffect(()=>(d(g-HEIGHT_CORRECTION),()=>{d(0)}),[g,d]),reactExports.useEffect(()=>{y>0&&!s&&!i?x.value=withRepeat(withSequence(withTiming(-BOUNCE_HEIGHT,{duration:400}),withSpring(0,{duration:1e3,dampingRatio:.3}),withTiming(0,{duration:3e3})),-1):x.value=0},[x,s,i,y]),reactExports.useEffect(()=>{p.value=withTiming(s?0:o-(i?0:g))},[s,p,o,i,g]);const b=useAnimatedStyle(()=>({transform:[{translateY:p.value+x.value}],backgroundColor:interpolateColor(m.value,[0,1],[a.color.chat.minimized.background,a.color.chat.maximized.background]),borderTopColor:interpolateColor(m.value,[0,1],[a.color.chat.border,"transparent"]),borderTopWidth:interpolate(m.value,[0,1],[a.border.width.md,0])})),A=useAnimatedStyle(()=>({transform:[{translateY:interpolate(m.value,[0,1],[-c.top,0])}]}));return jsxRuntimeExports.jsxs(Animated.View,{entering:SlideInDown,exiting:SlideOutDown,onLayout:F=>{u(F.nativeEvent.layout.height)},style:[stylesheet.absoluteFill,h.container,b],children:[jsxRuntimeExports.jsx(ChatMenu,{}),jsxRuntimeExports.jsx(Animated.View,{style:[h.inner,A],children:n})]})},createStyles$c=({z:n},a)=>stylesheet.create({container:{paddingTop:a.top,paddingRight:a.right,paddingBottom:a.bottom,paddingLeft:a.left,zIndex:n.overlay-1},inner:{flexGrow:1}});try{ChatAnimatedWrapper.displayName="ChatAnimatedWrapper",ChatAnimatedWrapper.__docgenInfo={description:"",displayName:"ChatAnimatedWrapper",props:{}}}catch(n){}const ScreenHeaderTitle=({accessibilityLanguage:n="nl-NL",text:a})=>jsxRuntimeExports.jsx(Title,{accessibilityLanguage:n,level:"h5",numberOfLines:1,testID:"HeaderTitle",text:a,textAlign:"center"});try{ScreenHeaderTitle.displayName="ScreenHeaderTitle",ScreenHeaderTitle.__docgenInfo={description:"",displayName:"ScreenHeaderTitle",props:{accessibilityLanguage:{defaultValue:{value:"nl-NL"},description:"",name:"accessibilityLanguage",required:!1,type:{name:"string"}},text:{defaultValue:null,description:"",name:"text",required:!0,type:{name:"string"}}}}}catch(n){}const DIMENSION=28,MeatballsMenu=({color:n,width:a=DIMENSION,height:i=DIMENSION,...s})=>{const{fontScale:o}=useDeviceContext();return jsxRuntimeExports.jsxs(Svg,{...s,fill:"none",height:Number(i)*o,viewBox:"0 0 28 28",width:Number(a)*o,children:[jsxRuntimeExports.jsx(Path,{"clip-rule":"evenodd",d:"M14 2C7.37258 2 2 7.37258 2 14C2 20.6274 7.37258 26 14 26C20.6274 26 26 20.6274 26 14C26 7.37258 20.6274 2 14 2ZM0 14C0 6.26801 6.26801 0 14 0C21.732 0 28 6.26801 28 14C28 21.732 21.732 28 14 28C6.26801 28 0 21.732 0 14Z",fill:n,"fill-rule":"evenodd"}),jsxRuntimeExports.jsx(Path,{d:"M16 14C16 15.1046 15.1046 16 14 16C12.8954 16 12 15.1046 12 14C12 12.8954 12.8954 12 14 12C15.1046 12 16 12.8954 16 14Z",fill:n}),jsxRuntimeExports.jsx(Path,{d:"M10 14C10 15.1046 9.10457 16 8 16C6.89543 16 6 15.1046 6 14C6 12.8954 6.89543 12 8 12C9.10457 12 10 12.8954 10 14Z",fill:n}),jsxRuntimeExports.jsx(Path,{d:"M22 14C22 15.1046 21.1046 16 20 16C18.8954 16 18 15.1046 18 14C18 12.8954 18.8954 12 20 12C21.1046 12 22 12.8954 22 14Z",fill:n})]})};try{MeatballsMenu.displayName="MeatballsMenu",MeatballsMenu.__docgenInfo={description:"",displayName:"MeatballsMenu",props:{}}}catch(n){}var simplur=function(n,...a){const i=[],{isArray:s}=Array;a.forEach((p,x)=>{if(typeof p=="number")a[x]=[p,p];else if(s(p))if(typeof p[0]=="number")a[x]=[p[0],typeof p[1]=="function"?p[1](p[0]):null];else throw TypeError("First item in array must be a Number")});let o=a.find(s),u;for(let p of n){if(s(u)&&u[1]==null&&(p=p.replace(/^\s+/,"")),o?i.push(p.replace(/\[([^|]*)\|([^\]]*)\]/g,o[0]==1?"$1":"$2")):i.push(p),!a.length)break;o=a.find(s)||o,u=a.shift(),i.push(u===o?o[1]:u)}return i.join("")};const simplur$1=getDefaultExportFromCjs(simplur),NewMessageIndicator=()=>{const{newMessagesCount:n}=reactExports.useContext(ChatContext);return n?jsxRuntimeExports.jsx(Badge,{accessibilityLabel:n+" "+simplur$1`[nieuw bericht|nieuwe berichten]${[n]} `,testID:"ChatNewMessageIndicatorBadge",value:n,variant:"small"}):null},PressableWhenMinimized=({children:n,isMaximized:a,onPress:i,style:s,...o})=>a?n:jsxRuntimeExports.jsx(MemoedPressable,{...o,onPress:i,style:s,children:n}),ChatHeader=()=>{const{isMaximized:n,isMenuOpen:a,setHeaderHeight:i,setIsMenuOpen:s,toggleVisibility:o}=useChat(),{setHideFromAccessibility:u}=useScreen(),{color:p}=useTheme(),x=createStyles$b(),m=useAnimatedStyle(()=>({transform:[{rotate:withTiming(n?"0deg":"-180deg")}]})),c=useAnimatedStyle(()=>({opacity:withTiming(n?1:0)})),l=()=>{o(),Keyboard.dismiss(),s(!1)};return reactExports.useEffect(()=>(u(n),()=>{u(!1)}),[n,u]),jsxRuntimeExports.jsx(View,{onLayout:y=>i(y.nativeEvent.layout.height),style:x.container,children:jsxRuntimeExports.jsx(PressableWhenMinimized,{accessibilityHint:"Activeer om de chat te maximaliseren",isMaximized:n,onPress:o,style:x.pressableWhenMinimized,children:jsxRuntimeExports.jsx(Box,{testID:"ChatHeader",children:jsxRuntimeExports.jsxs(Row,{align:"between",valign:"center",children:[jsxRuntimeExports.jsx(Animated.View,{style:c,children:jsxRuntimeExports.jsx(IconButton,{accessibilityLabel:`Chat menu ${a?"sluiten":"openen"}.`,icon:jsxRuntimeExports.jsx(MeatballsMenu,{color:p.pressable.secondary.default.icon}),onPress:()=>s(!a),pointerEvents:n?"auto":"none",testID:"ChatHeaderMeatballsMenuButton"})}),jsxRuntimeExports.jsx(View,{accessible:!0,children:jsxRuntimeExports.jsxs(Row,{gutter:"xs",valign:"center",children:[jsxRuntimeExports.jsx(ScreenHeaderTitle,{text:"Chat"}),jsxRuntimeExports.jsx(NewMessageIndicator,{})]})}),jsxRuntimeExports.jsx(Animated.View,{style:m,children:jsxRuntimeExports.jsx(IconButton,{accessibilityLabel:`Chat ${n?"minimaliseren":"maximaliseren"}`,icon:jsxRuntimeExports.jsx(Icon,{color:"link",name:"chevron-down",size:"lg",testID:"ChatHeaderToggleVisibilityButtonIcon"}),onPress:l,testID:"ChatHeaderToggleVisibilityButton"})})]})})})})},createStyles$b=()=>stylesheet.create({container:{zIndex:1},pressableWhenMinimized:{flexGrow:1}}),ChatStartTime=({firstMessage:n})=>jsxRuntimeExports.jsx(ChatSystemEntry,{icon:"chat",testID:"ChatStartingTime",text:"Chat gestart",timestamp:(n==null?void 0:n.timestamp)??dayjs().unix()});try{ChatStartTime.displayName="ChatStartTime",ChatStartTime.__docgenInfo={description:"",displayName:"ChatStartTime",props:{firstMessage:{defaultValue:null,description:"",name:"firstMessage",required:!1,type:{name:"ConversationEntry"}}}}}catch(n){}const BOT_NAME="Chatbot Gemeente Amsterdam",getMessageStatus=n=>{switch(n){case ConversationEntryStatus.sent:return"Verzonden";case ConversationEntryStatus.delivered:return"Bezorgd";case ConversationEntryStatus.read:return"Gelezen";case ConversationEntryStatus.error:return"Mislukt";case ConversationEntryStatus.sending:return"Wordt verzonden...";default:return"Onbekend"}},getChatAgentInfo=(n,a,i,s,o)=>{const u=dayjsFromUnix(i).format("HH:mm");return a===ConversationEntrySenderRole.user?o?`${u} - ${getMessageStatus(s)}`:u:a===ConversationEntrySenderRole.chatbot?`${BOT_NAME} - ${u}`:`${n} - ${u}`},ChatAgentInfo=({message:{sender:{role:n},senderDisplayName:a,timestamp:i,status:s},isLastOfGroup:o})=>{const u=useThemable(x=>createStyles$a(x,n===ConversationEntrySenderRole.user)),{agentInChat:p}=reactExports.useContext(ChatContext);return n===ConversationEntrySenderRole.system?null:!!o&&jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(Gutter,{height:"xs"}),jsxRuntimeExports.jsx(View,{style:u.container,children:jsxRuntimeExports.jsx(Phrase,{color:"secondary",testID:`ChatHistoryGroupName${n}`,variant:"extraSmall",children:getChatAgentInfo(a,n,i,s,p)})})]})},AVATAR_DIMENSION=40,createStyles$a=({size:n},a)=>stylesheet.create({container:{paddingLeft:a?void 0:AVATAR_DIMENSION+n.spacing.sm,alignItems:a?"flex-end":"flex-start"}});try{ChatAgentInfo.displayName="ChatAgentInfo",ChatAgentInfo.__docgenInfo={description:"",displayName:"ChatAgentInfo",props:{isLast:{defaultValue:null,description:"",name:"isLast",required:!0,type:{name:"boolean"}},isLastOfGroup:{defaultValue:null,description:"",name:"isLastOfGroup",required:!0,type:{name:"boolean"}},message:{defaultValue:null,description:"",name:"message",required:!0,type:{name:"ConversationEntry"}}}}}catch(n){}const AvatarAgent=()=>{const{color:n}=useTheme();return jsxRuntimeExports.jsxs(Svg,{fill:"none",height:"40",viewBox:"0 0 40 40",width:"40",children:[jsxRuntimeExports.jsx(Circle,{cx:"20",cy:"20",fill:n.chat.avatar.background,r:"19.5",stroke:n.chat.avatar.border}),jsxRuntimeExports.jsx(Path,{"clip-rule":"evenodd",d:"M20 35C13.5 35 9 30.5 9 30.1981C9 24.5731 12.15 21.625 16.5 21.625H24C28.35 21.625 31.5 24.0062 31.5 29.6312C31.5 30.1981 26.5 35 20 35ZM20.25 19.75C23.3397 19.7096 25.8346 17.2147 25.875 14.125C25.875 11.0184 23.3566 8.5 20.25 8.5C17.1434 8.5 14.625 11.0184 14.625 14.125C14.6654 17.2147 17.1603 19.7096 20.25 19.75Z",fill:n.chat.avatar.foreground,"fill-rule":"evenodd"})]})},AvatarBot=()=>{const{color:n}=useTheme();return jsxRuntimeExports.jsxs(Svg,{fill:"none",height:"40",viewBox:"0 0 40 40",width:"40",children:[jsxRuntimeExports.jsx(Circle,{cx:"20",cy:"20",fill:n.chat.avatar.background,r:"19.5",stroke:n.chat.avatar.border}),jsxRuntimeExports.jsx(Path,{d:"M16.3604 30.9196L18.5404 28.7396L16.3604 26.5396L17.8204 25.0996L20.0004 27.2796L22.1804 25.0996L23.6404 26.5396L21.4604 28.7396L23.6404 30.9196L22.1804 32.3596L20.0004 30.1796L17.8204 32.3596L16.3604 30.9196Z",fill:n.logo}),jsxRuntimeExports.jsx(Path,{d:"M16.3604 22.1799L18.5404 19.9999L16.3604 17.8199L17.8204 16.3799L20.0004 18.5599L22.1804 16.3799L23.6404 17.8199L21.4604 19.9999L23.6404 22.1799L22.1804 23.6399L20.0004 21.4599L17.8204 23.6399L16.3604 22.1799Z",fill:n.logo}),jsxRuntimeExports.jsx(Path,{d:"M16.3604 13.4596L18.5404 11.2596L16.3604 9.07965L17.8204 7.63965L20.0004 9.81965L22.1804 7.63965L23.6404 9.07965L21.4604 11.2596L23.6404 13.4596L22.1804 14.8996L20.0004 12.7196L17.8204 14.8996L16.3604 13.4596Z",fill:n.logo})]})},ChatMessageBubble=({children:n,senderRole:a})=>{const i=useThemable(s=>createStyles$9(s,a));return jsxRuntimeExports.jsx(View,{accessible:!0,style:i.bubble,children:n})},createStyles$9=({color:n,size:a},i)=>{const s=i===ConversationEntrySenderRole.user,o=12;return stylesheet.create({bubble:{flexShrink:1,borderRadius:o,borderBottomRightRadius:s?0:o,borderBottomLeftRadius:s?o:0,backgroundColor:n.chat.message[i].background,paddingHorizontal:a.spacing.md,paddingVertical:a.spacing.sm}})};try{ChatMessageBubble.displayName="ChatMessageBubble",ChatMessageBubble.__docgenInfo={description:"",displayName:"ChatMessageBubble",props:{senderRole:{defaultValue:null,description:"",name:"senderRole",required:!0,type:{name:"enum",value:[{value:'"Agent"'},{value:'"Chatbot"'},{value:'"System"'},{value:'"USER"'}]}}}}}catch(n){}const isAgent=n=>n.sender.role===ConversationEntrySenderRole.agent||n.sender.role===ConversationEntrySenderRole.system&&n.format===ConversationEntryFormat.text,ChatMessageEntry=({message:n,children:a,isText:i=!0})=>{const s=n.sender.role===ConversationEntrySenderRole.user;return jsxRuntimeExports.jsxs(Row,{align:s?"end":"start",gutter:"sm",valign:"end",children:[n.sender.role===ConversationEntrySenderRole.chatbot&&jsxRuntimeExports.jsx(AvatarBot,{}),isAgent(n)&&jsxRuntimeExports.jsx(AvatarAgent,{}),i?jsxRuntimeExports.jsx(ChatMessageBubble,{senderRole:n.sender.role,children:a}):a]})};try{ChatMessageEntry.displayName="ChatMessageEntry",ChatMessageEntry.__docgenInfo={description:"",displayName:"ChatMessageEntry",props:{isText:{defaultValue:{value:"true"},description:"",name:"isText",required:!1,type:{name:"boolean"}},message:{defaultValue:null,description:"",name:"message",required:!0,type:{name:"ConversationEntry"}}}}}catch(n){}const ThumbnailViewer=({accessibilityLabel:n="Afbeelding, miniatuurweergave.",fileName:a="afbeelding.jpg",imageSource:i,thumbnailSize:s,headerTitle:o,...u})=>{const[p,x]=reactExports.useState(!1),[m,c]=reactExports.useState(),l=useSafeAreaInsets(),y=()=>{x(!p)},d=reactExports.useMemo(()=>{if(typeof i!="number")return i&&typeof i=="object"&&"uri"in i?i.uri:void 0},[i]);reactExports.useEffect(()=>{ImageWithStatics.getSize(d??"",(b,A)=>c(b/A),b=>devLog(b))},[d]);const h=useThemable(b=>createStyles$8(b,s,l,m)),g=d==null?void 0:d.startsWith("file://");return jsxRuntimeExports.jsxs(View,{children:[jsxRuntimeExports.jsx(Pressable,{...u,accessibilityLabel:n,onPress:y,testID:"ThumbnailViewerThumbnailPressable",children:jsxRuntimeExports.jsx(ImageWithStatics,{source:i,style:h.thumbnail,testID:"ThumbnailViewerThumbnailImage"})}),jsxRuntimeExports.jsx(Modal,{animationType:"fade",onRequestClose:y,supportedOrientations:["portrait","landscape"],testID:"ThumbnailViewerModal",transparent:!0,visible:p,children:jsxRuntimeExports.jsxs(View,{style:h.overlay,children:[jsxRuntimeExports.jsx(Box,{children:jsxRuntimeExports.jsxs(Row,{align:"between",children:[jsxRuntimeExports.jsx(IconButton,{accessibilityLabel:"Terug",icon:jsxRuntimeExports.jsx(Icon,{color:"link",name:"chevron-left",size:"lg",testID:"ThumbnailViewerCloseIcon"}),onPress:y,testID:"ThumbnailViewerCloseButton"}),!!o&&jsxRuntimeExports.jsx(ScreenHeaderTitle,{text:o}),jsxRuntimeExports.jsx(IconButton,{accessibilityLabel:"Download de afbeelding.",icon:jsxRuntimeExports.jsx(Icon,{color:"link",name:"download",size:"lg",testID:"ThumbnailViewerDownloadIcon"}),onPress:()=>saveFile({localUri:g?d:void 0,downloadUri:g?void 0:d,fileName:a}),testID:"ThumbnailViewerDownloadButton"})]})}),jsxRuntimeExports.jsx(ImageWithStatics,{accessibilityLabel:"Afbeelding",accessible:!0,resizeMode:"contain",source:i,style:h.fullImage,testID:"ThumbnailViewerFullImage"})]})})]})},createStyles$8=({color:n,size:a,z:i},s,o,u)=>stylesheet.create({thumbnail:{width:s,height:s},overlay:{flex:1,backgroundColor:n.box.distinct,justifyContent:"center",zIndex:i.overlay,paddingTop:Platform$1.OS==="android"?0:o.top,paddingRight:o.right,paddingBottom:a.spacing.md+o.bottom,paddingLeft:o.left},fullImage:{aspectRatio:u,alignSelf:"center",maxWidth:"100%",maxHeight:"100%",flex:1}});try{ThumbnailViewer.displayName="ThumbnailViewer",ThumbnailViewer.__docgenInfo={description:"",displayName:"ThumbnailViewer",props:{fileName:{defaultValue:{value:"afbeelding.jpg"},description:"",name:"fileName",required:!1,type:{name:"string"}},headerTitle:{defaultValue:null,description:"",name:"headerTitle",required:!1,type:{name:"string"}},imageSource:{defaultValue:null,description:"",name:"imageSource",required:!0,type:{name:"ImageSourcePropType | undefined"}},thumbnailSize:{defaultValue:null,description:"",name:"thumbnailSize",required:!0,type:{name:"DimensionValue"}},"logging-label":{defaultValue:null,description:"",name:"logging-label",required:!1,type:{name:"string"}},logAction:{defaultValue:null,description:"",name:"logAction",required:!1,type:{name:"enum",value:[{value:'"accessibilityAction"'},{value:'"accessibilityChange"'},{value:'"addressAdd"'},{value:'"addressChange"'},{value:'"blur"'},{value:'"buttonPress"'},{value:'"deviceInfoChange"'},{value:'"finishedReport"'},{value:'"locationOrAddressSelectionChange"'},{value:'"moduleChange"'},{value:'"pushNotificationDisplay"'},{value:'"pushNotificationTap"'},{value:'"radioChange"'},{value:'"startUp"'},{value:'"swipeOut"'},{value:'"toForeground"'},{value:'"toggle"'}]}},logCategory:{defaultValue:null,description:"",name:"logCategory",required:!1,type:{name:"enum",value:[{value:'"about"'},{value:'"access-code"'},{value:'"address"'},{value:'"chat"'},{value:'"city-pass"'},{value:'"construction-work"'},{value:'"construction-work-editor"'},{value:'"contact"'},{value:'"home"'},{value:'"notification-history"'},{value:'"onboarding"'},{value:'"parking"'},{value:'"redirects"'},{value:'"report-problem"'},{value:'"user"'},{value:'"waste-container"'},{value:'"waste-guide"'},{value:'"general"'}]}},logDimensions:{defaultValue:null,description:"Custom dimensions to log with the event.",name:"logDimensions",required:!1,type:{name:"Partial<Record<CustomDimensionKeys, string>>"}},logName:{defaultValue:null,description:"",name:"logName",required:!1,type:{name:"string"}},logValue:{defaultValue:null,description:"",name:"logValue",required:!1,type:{name:"number"}},variant:{defaultValue:null,description:"",name:"variant",required:!1,type:{name:"enum",value:[{value:'"primary"'},{value:'"tertiary"'},{value:'"transparent"'}]}},inset:{defaultValue:null,description:"The amount of inner spacing.",name:"inset",required:!1,type:{name:"enum",value:[{value:'"no"'},{value:'"xxs"'},{value:'"xs"'},{value:'"sm"'},{value:'"smd"'},{value:'"md"'},{value:'"lg"'},{value:'"xl"'},{value:'"xxl"'}]}},insetHorizontal:{defaultValue:null,description:"The amount of inner spacing at the left and right.",name:"insetHorizontal",required:!1,type:{name:"enum",value:[{value:'"no"'},{value:'"xxs"'},{value:'"xs"'},{value:'"sm"'},{value:'"smd"'},{value:'"md"'},{value:'"lg"'},{value:'"xl"'},{value:'"xxl"'}]}},insetVertical:{defaultValue:null,description:"The amount of inner spacing at the top and bottom.",name:"insetVertical",required:!1,type:{name:"enum",value:[{value:'"no"'},{value:'"xxs"'},{value:'"xs"'},{value:'"sm"'},{value:'"smd"'},{value:'"md"'},{value:'"lg"'},{value:'"xl"'},{value:'"xxl"'}]}}}}}catch(n){}const THUMBNAIL_SIZE=220,ChatMessageImage=({image:n,message:{sender:a,senderDisplayName:i}})=>{const s=a.role===ConversationEntrySenderRole.user,o=createStyles$7(s);return jsxRuntimeExports.jsx(View,{style:o.container,children:jsxRuntimeExports.jsx(ThumbnailViewer,{accessibilityLabel:`Miniatuurweergave van door ${s?"u":i} gedeelde afbeelding.`,fileName:n.name,imageSource:{uri:n.url},thumbnailSize:THUMBNAIL_SIZE})})},createStyles$7=n=>stylesheet.create({container:{overflow:"hidden",alignItems:"center",justifyContent:"center",borderRadius:12,borderBottomRightRadius:n?0:12,borderBottomLeftRadius:n?12:0}});try{ChatMessageImage.displayName="ChatMessageImage",ChatMessageImage.__docgenInfo={description:"",displayName:"ChatMessageImage",props:{image:{defaultValue:null,description:"",name:"image",required:!0,type:{name:"Attachment"}},message:{defaultValue:null,description:"",name:"message",required:!0,type:{name:"ConversationEntry"}}}}}catch(n){}const EntryAttachments=({message:n})=>{const a=n.attachments[0].mimeType.startsWith("image"),i=n.sender.role===ConversationEntrySenderRole.agent;return jsxRuntimeExports.jsx(jsxRuntimeExports.Fragment,{children:n.attachments.map(s=>a?jsxRuntimeExports.jsx(ChatMessageEntry,{isText:!1,message:n,children:jsxRuntimeExports.jsx(ChatMessageImage,{image:s,message:n})},s.id):jsxRuntimeExports.jsx(ChatMessageEntry,{message:n,children:jsxRuntimeExports.jsxs(Row,{grow:1,gutter:"sm",valign:"center",children:[jsxRuntimeExports.jsx(Icon,{color:i?"link":"inverse",name:"document",size:"lg",testID:"EntryAttachmentsIcon"}),i?jsxRuntimeExports.jsx(InlineLink,{accessibilityLabel:`Bijlage gedeeld door ${n.senderDisplayName}. Dubbeltik om bijlage te downloaden.`,ellipsizeMode:"middle",emphasis:"strong",inverse:n.sender.role===ConversationEntrySenderRole.user,numberOfLines:1,onPress:()=>{saveFile({downloadUri:s.url,fileName:s.name})},testID:"ChatEntryAttachmentsInlineLink",children:s.name}):jsxRuntimeExports.jsx(Phrase,{color:"inverse",testID:"ChatEntryAttachmentFileName",textAlign:"center",children:s.name})]})},s.id))})};try{EntryAttachments.displayName="EntryAttachments",EntryAttachments.__docgenInfo={description:"",displayName:"EntryAttachments",props:{message:{defaultValue:null,description:"",name:"message",required:!0,type:{name:"ConversationEntryAttachments"}}}}}catch(n){}const EntryGutter=({isLastOfGroup:n})=>jsxRuntimeExports.jsx(Gutter,{height:n?"md":"sm"});try{EntryGutter.displayName="EntryGutter",EntryGutter.__docgenInfo={description:"",displayName:"EntryGutter",props:{isLastOfGroup:{defaultValue:null,description:"",name:"isLastOfGroup",required:!0,type:{name:"boolean"}}}}}catch(n){}const EntryChoices=({message:{choices:n},isLastOfGroup:a})=>{const i=useTrackException(),[s,o]=reactExports.useState(!1),u=reactExports.useCallback(p=>{sendReply(p).then(()=>o(!0)).catch(x=>i(ExceptionLogKey.chatSendReply,"EntryChoices.tsx",{error:x}))},[i]);return n&&!s?jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(Gutter,{height:"sm"}),jsxRuntimeExports.jsx(Row,{align:"end",gutter:"sm",wrap:!0,children:n.map(({optionId:p,title:x,optionValue:m,parentEntryId:c})=>jsxRuntimeExports.jsx(Button,{accessibilityLabel:`Keuzeknop: ${x}`,label:x,onPressOut:()=>{u({optionId:p,title:x,optionValue:m,parentEntryId:c})},testID:`ChatHistoryChoices${x}`,variant:"secondary"},p))}),jsxRuntimeExports.jsx(EntryGutter,{isLastOfGroup:a})]}):null};try{EntryChoices.displayName="EntryChoices",EntryChoices.__docgenInfo={description:"",displayName:"EntryChoices",props:{isLastOfGroup:{defaultValue:null,description:"",name:"isLastOfGroup",required:!0,type:{name:"boolean"}},message:{defaultValue:null,description:"",name:"message",required:!0,type:{name:"ConversationEntryQuickReplies"}}}}}catch(n){}const hasDisplayname=n=>!!n&&n!=="User",EntryParticipantChanged=({message:n,isLastOfGroup:a})=>{const i=n.operations.find(u=>u.type===ParticipantChangedOperationType.add&&u.participant.role===ConversationEntrySenderRole.agent),s=n.operations.find(u=>u.type===ParticipantChangedOperationType.remove&&u.participant.role===ConversationEntrySenderRole.agent);if(!i&&!s)return null;const o=i?i.participant.displayName:s==null?void 0:s.participant.displayName;return jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(ChatSystemEntry,{icon:"person",testID:`ChatSystemMessage${n.format}`,text:i?`U chat nu met ${hasDisplayname(o)?o:"een medewerker"}`:`${hasDisplayname(o)?o:"Medewerker"} heeft het gesprek verlaten`,timestamp:n.timestamp}),jsxRuntimeExports.jsx(EntryGutter,{isLastOfGroup:a})]})};try{EntryParticipantChanged.displayName="EntryParticipantChanged",EntryParticipantChanged.__docgenInfo={description:"",displayName:"EntryParticipantChanged",props:{isLastOfGroup:{defaultValue:null,description:"",name:"isLastOfGroup",required:!0,type:{name:"boolean"}},message:{defaultValue:null,description:"",name:"message",required:!0,type:{name:"ConversationEntryParticipantChanged"}}}}}catch(n){}const getDomainName=n=>{if(!n)return null;const i=RegExp(/https?:\/\/([^/?]+)/).exec(n);return i!=null&&i[1]?i[1]:n},EntryRichLink=({message:n})=>{const a=useOpenUrl(),{title:i,url:s}=n,o=getDomainName(s),u=reactExports.useCallback(()=>{s&&a(s,!1)},[a,s]);return jsxRuntimeExports.jsxs(ChatMessageEntry,{message:n,children:[jsxRuntimeExports.jsx(PressableBase,{onPressOut:u,testID:"ChatMessageRichLinkTitlePressable",children:jsxRuntimeExports.jsx(Phrase,{color:n.sender.role===ConversationEntrySenderRole.user?"inverse":"link",emphasis:"strong",testID:"ChatMessageRichLinkTitle",underline:!0,children:i})}),!!o&&jsxRuntimeExports.jsx(PressableBase,{onPressOut:u,testID:"ChatMessageRichLinkUrlPressable",children:jsxRuntimeExports.jsx(Phrase,{color:n.sender.role===ConversationEntrySenderRole.user?"inverse":"link",testID:"ChatMessageRichLinkUrl",underline:!0,children:o})})]})};try{EntryRichLink.displayName="EntryRichLink",EntryRichLink.__docgenInfo={description:"",displayName:"EntryRichLink",props:{message:{defaultValue:null,description:"",name:"message",required:!0,type:{name:"ConversationEntryRichLink"}}}}}catch(n){}const DEFAULT_DOT_ACTIVE_SIZE=10,DEFAULT_DOT_INACTIVE_SIZE=8,DOT_BORDER_RADIUS=8,Dot=({activeSize:n,inactiveSize:a,index:i,sharedValue:s})=>{const{color:o}=useTheme(),u=createStyles$6(n,a),p=useAnimatedStyle(()=>{const x=i===Math.floor(s.value);return{backgroundColor:x?o.chat.loading.active:o.chat.loading.inactive,height:withTiming(x?n:a),width:withTiming(x?n:a)}},[i,s]);return jsxRuntimeExports.jsx(View,{style:u.loadingDot,children:jsxRuntimeExports.jsx(Animated.View,{style:[u.loadingDotInner,p]})})},LoadingDots=({dotActiveSize:n=DEFAULT_DOT_ACTIVE_SIZE,dotInactiveSize:a=DEFAULT_DOT_INACTIVE_SIZE})=>{const i=useSharedValue(0);return reactExports.useEffect(()=>{i.value=withRepeat(withTiming(4,{duration:1e3,easing:Easing.bezier(.5,.5,.5,1)}),-1)},[i]),jsxRuntimeExports.jsx(Row,{align:"center",gutter:"xs",valign:"center",children:Array.from({length:3}).map((s,o)=>jsxRuntimeExports.jsx(Dot,{activeSize:n,inactiveSize:a,index:o,sharedValue:i},o))})},createStyles$6=(n,a)=>stylesheet.create({loadingDot:{justifyContent:"center",alignItems:"center",marginHorizontal:a*3/4-n/2,borderRadius:DOT_BORDER_RADIUS,height:n,width:n},loadingDotInner:{borderRadius:DOT_BORDER_RADIUS}});try{LoadingDots.displayName="LoadingDots",LoadingDots.__docgenInfo={description:"",displayName:"LoadingDots",props:{dotActiveSize:{defaultValue:{value:"10"},description:"",name:"dotActiveSize",required:!1,type:{name:"number"}},dotInactiveSize:{defaultValue:{value:"8"},description:"",name:"dotInactiveSize",required:!1,type:{name:"number"}}}}}catch(n){}const getWaitingTimePhrase=n=>n<=60?"minder dan een minuut":`${Math.ceil(n/60)} minuten`,EntryRoutingResult=({message:n,isLastOfGroup:a})=>{const{isEWTAvailable:i,estimatedWaitTime:s,routingType:o}=n,{isWaitingForAgent:u,messages:p}=reactExports.useContext(ChatContext),m=p.slice(p.indexOf(n)+1).filter(c=>c.format===ConversationEntryFormat.text).length>0;return o!==ConversationEntryRoutingType.transfer||!u||m?null:jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsxs(Column,{gutter:"sm",halign:"center",children:[jsxRuntimeExports.jsx(LoadingDots,{dotActiveSize:15,dotInactiveSize:12}),jsxRuntimeExports.jsx(Phrase,{emphasis:"strong",testID:"ChatEntryRoutingResultPhrase",children:"Een medewerker neemt het gesprek over."}),!!i&&jsxRuntimeExports.jsxs(Phrase,{testID:"ChatEntryRoutingResultEstimatedWaitingTimePhrase",children:["Geschatte wachttijd: ",getWaitingTimePhrase(s)]})]}),jsxRuntimeExports.jsx(EntryGutter,{isLastOfGroup:a})]})};try{EntryRoutingResult.displayName="EntryRoutingResult",EntryRoutingResult.__docgenInfo={description:"",displayName:"EntryRoutingResult",props:{isLastOfGroup:{defaultValue:null,description:"",name:"isLastOfGroup",required:!0,type:{name:"boolean"}},message:{defaultValue:null,description:"",name:"message",required:!0,type:{name:"ConversationEntryRoutingResult"}}}}}catch(n){}const EntryRoutingWorkResult=({message:n,isLastOfGroup:a})=>{const{messages:i,isEnded:s}=reactExports.useContext(ChatContext),u=i.slice(i.indexOf(n)+1).filter(p=>p.format===ConversationEntryFormat.routingWorkResult).length>0;return n.workType!==ConversationEntryRoutingWorkType.closed||!s||u?null:jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(ChatSystemEntry,{icon:"chat",testID:"ChatEntryRoutingWorkResult",text:"Chat gestopt",timestamp:n.timestamp}),jsxRuntimeExports.jsx(EntryGutter,{isLastOfGroup:a})]})};try{EntryRoutingWorkResult.displayName="EntryRoutingWorkResult",EntryRoutingWorkResult.__docgenInfo={description:"",displayName:"EntryRoutingWorkResult",props:{isLast:{defaultValue:null,description:"",name:"isLast",required:!0,type:{name:"boolean"}},isLastOfGroup:{defaultValue:null,description:"",name:"isLastOfGroup",required:!0,type:{name:"boolean"}},message:{defaultValue:null,description:"",name:"message",required:!0,type:{name:"ConversationEntryRoutingWorkResult"}}}}}catch(n){}const parseTextToComponentsForLinks=(n,a,i=s=>s)=>{const s=/((?:(?:https?:\/\/)|(?:www.))[^\s]+)/g;return n.split(s).filter(u=>u.length>0).map(u=>s.test(u)?a(u.startsWith("http")?u:`http://${u}`):i(u))},parseTextToComponentsWithInlineLinks=(n,a,i)=>parseTextToComponentsForLinks(n,s=>jsxRuntimeExports.jsx(InlineLink,{inverse:i,onPress:()=>a(s),testID:`InlineLink${s}`,children:s})),MessagePhrase=({children:n,message:a,testID:i,...s})=>{const o=useOpenWebUrl();return jsxRuntimeExports.jsx(Phrase,{...s,color:a.sender.role===ConversationEntrySenderRole.user?"inverse":void 0,testID:i,children:parseTextToComponentsWithInlineLinks(n,o,a.sender.role===ConversationEntrySenderRole.user)})};try{MessagePhrase.displayName="MessagePhrase",MessagePhrase.__docgenInfo={description:"",displayName:"MessagePhrase",props:{message:{defaultValue:null,description:"",name:"message",required:!0,type:{name:"ConversationEntry"}},testID:{defaultValue:null,description:"Used to locate this view in end-to-end tests.",name:"testID",required:!1,type:{name:"string"}},color:{defaultValue:null,description:"Defines the color of the phrase. Maps with the text color tokens.",name:"color",required:!1,type:{name:"enum",value:[{value:'"default"'},{value:'"link"'},{value:'"secondary"'},{value:'"tertiary"'},{value:'"inverse"'},{value:'"cityPass"'},{value:'"confirm"'},{value:'"warning"'}]}},emphasis:{defaultValue:null,description:"Allows the phrase to convey more emphasis.",name:"emphasis",required:!1,type:{name:"enum",value:[{value:'"default"'},{value:'"strong"'}]}},flexShrink:{defaultValue:null,description:"Defines how to shrink the phrase in case the parent container is smaller than the phrase.",name:"flexShrink",required:!1,type:{name:"number"}},"logging-label":{defaultValue:null,description:"Label used for logging to Piwik and AppInsights.",name:"logging-label",required:!1,type:{name:"string"}},textAlign:{defaultValue:null,description:"Defines the alignment of the text. Maps with the textAlign style prop options.",name:"textAlign",required:!1,type:{name:"enum",value:[{value:'"auto"'},{value:'"center"'},{value:'"left"'},{value:'"right"'},{value:'"justify"'}]}},underline:{defaultValue:null,description:"Whether the phrase is underlined. Use this for a link only.",name:"underline",required:!1,type:{name:"boolean"}},variant:{defaultValue:null,description:"Which variation of a phrase to display.",name:"variant",required:!1,type:{name:"enum",value:[{value:'"small"'},{value:'"body"'},{value:'"intro"'},{value:'"quote"'},{value:'"extraSmall"'}]}}}}}catch(n){}const EntrySelections=({message:n})=>{var a;return jsxRuntimeExports.jsx(ChatMessageEntry,{message:n,children:jsxRuntimeExports.jsx(MessagePhrase,{message:n,testID:"ChatEntrySelections",children:(a=n.selections)==null?void 0:a.map(i=>i.title).join(", ")})})};try{EntrySelections.displayName="EntrySelections",EntrySelections.__docgenInfo={description:"",displayName:"EntrySelections",props:{message:{defaultValue:null,description:"",name:"message",required:!0,type:{name:"ConversationEntrySelections"}}}}}catch(n){}const EntryText=({message:n})=>{const a=n.sender.role===ConversationEntrySenderRole.user;return jsxRuntimeExports.jsx(ChatMessageEntry,{message:n,children:jsxRuntimeExports.jsx(MessagePhrase,{accessibilityLabel:a?`Uw bericht: ${n.text}`:`${n.text} ontvangen van ${n.senderDisplayName}`,message:n,testID:"ChatEntryText",children:n.text})})};try{EntryText.displayName="EntryText",EntryText.__docgenInfo={description:"",displayName:"EntryText",props:{message:{defaultValue:null,description:"",name:"message",required:!0,type:{name:"ConversationEntryText"}}}}}catch(n){}const EntryTranscript=({message:n})=>{const{downloadedTranscriptIds:a}=reactExports.useContext(ChatContext);return a.includes(n.entryId)?jsxRuntimeExports.jsx(ChatSystemEntry,{icon:"download",testID:"ChatEntryTranscript",text:"Chat gedownload",timestamp:n.timestamp}):null};try{EntryTranscript.displayName="EntryTranscript",EntryTranscript.__docgenInfo={description:"",displayName:"EntryTranscript",props:{message:{defaultValue:null,description:"",name:"message",required:!0,type:{name:"ConversationEntry"}}}}}catch(n){}const EntryTypingIndicator=({dotActiveSize:n,dotInactiveSize:a,message:i})=>jsxRuntimeExports.jsx(ChatMessageEntry,{message:i,children:jsxRuntimeExports.jsx(Box,{insetVertical:"xs",children:jsxRuntimeExports.jsx(LoadingDots,{dotActiveSize:n,dotInactiveSize:a})})});try{EntryTypingIndicator.displayName="EntryTypingIndicator",EntryTypingIndicator.__docgenInfo={description:"",displayName:"EntryTypingIndicator",props:{dotActiveSize:{defaultValue:null,description:"",name:"dotActiveSize",required:!1,type:{name:"number"}},dotInactiveSize:{defaultValue:null,description:"",name:"dotInactiveSize",required:!1,type:{name:"number"}},message:{defaultValue:null,description:"",name:"message",required:!0,type:{name:"ConversationEntryTypingStartedIndicator"}}}}}catch(n){}const options={[ConversationEntryFormat.selections]:{Component:EntrySelections,agentInfo:!0,LastComponent:EntryGutter},[ConversationEntryFormat.text]:{Component:EntryText,agentInfo:!0,LastComponent:EntryGutter},[ConversationEntryFormat.attachments]:{Component:EntryAttachments,agentInfo:!1,LastComponent:EntryGutter},[ConversationEntryFormat.carousel]:{Component:void 0,LastComponent:void 0,agentInfo:void 0},[ConversationEntryFormat.deliveryAcknowledgement]:{Component:void 0,LastComponent:void 0,agentInfo:void 0},[ConversationEntryFormat.imageMessage]:{Component:void 0,LastComponent:void 0,agentInfo:void 0},[ConversationEntryFormat.inputs]:{Component:void 0,LastComponent:void 0,agentInfo:void 0},[ConversationEntryFormat.listPicker]:{Component:EntryText,LastComponent:EntryChoices,agentInfo:!0},[ConversationEntryFormat.participantChanged]:{Component:EntryParticipantChanged,agentInfo:!1},[ConversationEntryFormat.quickReplies]:{Component:EntryText,LastComponent:EntryChoices,agentInfo:!0},[ConversationEntryFormat.readAcknowledgement]:{Component:void 0,LastComponent:void 0,agentInfo:void 0},[ConversationEntryFormat.result]:{Component:void 0,LastComponent:void 0,agentInfo:void 0},[ConversationEntryFormat.richLink]:{Component:EntryRichLink,agentInfo:!0,LastComponent:EntryGutter},[ConversationEntryFormat.routingResult]:{Component:EntryRoutingResult,agentInfo:!1},[ConversationEntryFormat.routingWorkResult]:{Component:EntryRoutingWorkResult,agentInfo:!1},[ConversationEntryFormat.typingStartedIndicator]:{Component:EntryTypingIndicator,agentInfo:!1,LastComponent:EntryGutter},[ConversationEntryFormat.typingStoppedIndicator]:{Component:void 0,LastComponent:void 0,agentInfo:void 0},[ConversationEntryFormat.unspecified]:{Component:void 0,LastComponent:void 0,agentInfo:void 0},[ConversationEntryFormat.webview]:{Component:void 0,LastComponent:void 0,agentInfo:void 0},[ConversationEntryFormat.transcript]:{Component:EntryTranscript,LastComponent:EntryGutter}},Entry=({message:n,isLast:a,isLastOfGroup:i})=>{const s=options[n.format];if(!s)return null;const{Component:o,agentInfo:u,LastComponent:p}=s;return!o&&!p&&!u?null:jsxRuntimeExports.jsxs(Animated.View,{entering:SlideInDown,children:[!!o&&jsxRuntimeExports.jsx(o,{isLast:a,isLastOfGroup:i,message:n}),!!u&&jsxRuntimeExports.jsx(ChatAgentInfo,{isLast:a,isLastOfGroup:i,message:n}),!!p&&jsxRuntimeExports.jsx(p,{isLast:a,isLastOfGroup:i,message:n})]})};try{Entry.displayName="Entry",Entry.__docgenInfo={description:"",displayName:"Entry",props:{isLast:{defaultValue:null,description:"",name:"isLast",required:!0,type:{name:"boolean"}},isLastOfGroup:{defaultValue:null,description:"",name:"isLastOfGroup",required:!0,type:{name:"boolean"}},message:{defaultValue:null,description:"",name:"message",required:!0,type:{name:"ConversationEntry"}}}}}catch(n){}const checkIsMessageLastOfGroup=(n,a,i)=>{var s,o,u;return((s=i[a+1])==null?void 0:s.sender.role)!==n.sender.role||n.sender.role===ConversationEntrySenderRole.user&&((o=i[a+1])==null?void 0:o.status)!==n.status||dayjsFromUnix((u=i[a+1])==null?void 0:u.timestamp).format("HH:mm")!==dayjsFromUnix(n.timestamp).format("HH:mm")},ChatHistory=()=>{const n=reactExports.useRef(null),a=createStyles$5(),{messages:i}=reactExports.useContext(ChatContext);return jsxRuntimeExports.jsx(ForwardedScrollView,{contentContainerStyle:a.contentContainer,keyboardShouldPersistTaps:"handled",onContentSizeChange:()=>{var s;return(s=n==null?void 0:n.current)==null?void 0:s.scrollToEnd()},onScrollBeginDrag:Keyboard.dismiss,ref:n,style:a.scrollView,testID:"ChatHistoryScrollView",children:jsxRuntimeExports.jsx(Box,{grow:!0,insetHorizontal:"md",children:jsxRuntimeExports.jsxs(Column,{children:[jsxRuntimeExports.jsx(ChatStartTime,{firstMessage:i[0]}),jsxRuntimeExports.jsx(Gutter,{height:"md"}),i.map((s,o)=>{const u=checkIsMessageLastOfGroup(s,o,i);return jsxRuntimeExports.jsx(Entry,{isLast:o===i.length-1,isLastOfGroup:u,message:s},s.entryId+o)})]})})})},createStyles$5=()=>stylesheet.create({contentContainer:{flexGrow:1},scrollView:{flex:1}}),useKeyboardHeight=()=>{const[n,a]=reactExports.useState(0),[i,s]=reactExports.useState(!1);return reactExports.useEffect(()=>{const o=m=>{a(m.endCoordinates.height)},u=()=>{s(!1)},p=Keyboard.addListener("keyboardDidShow",o),x=Keyboard.addListener("keyboardDidHide",u);return()=>{p.remove(),x.remove()}},[]),{height:n,visible:i}},ExpoDocumentPicker={async getDocumentAsync({type:n="*/*",multiple:a=!1}){if(!Platform.isDOMAvailable)return{canceled:!0,assets:null};const i=document.createElement("input");return i.style.display="none",i.setAttribute("type","file"),i.setAttribute("accept",Array.isArray(n)?n.join(","):n),i.setAttribute("id",String(Math.random())),a&&i.setAttribute("multiple","multiple"),document.body.appendChild(i),new Promise((s,o)=>{i.addEventListener("change",async()=>{if(i.files){const p=[];for(let x=0;x<i.files.length;x++)p.push(readFileAsync(i.files[x]));try{const x=await Promise.all(p);s({canceled:!1,assets:x,output:i.files})}catch(x){o(x)}}else s({canceled:!0,assets:null});document.body.removeChild(i)}),i.addEventListener("cancel",()=>{s({canceled:!0,assets:null})});const u=new MouseEvent("click");i.dispatchEvent(u)})}};function readFileAsync(n){return new Promise((a,i)=>{const s=n.type,o=new FileReader;o.onerror=()=>{i(new Error("Failed to read the selected media because the operation failed."))},o.onload=({target:u})=>{const p=u.result;a({uri:p,mimeType:s,name:n.name,lastModified:n.lastModified,size:n.size,file:n})},o.readAsDataURL(n)})}async function getDocumentAsync({type:n="*/*",copyToCacheDirectory:a=!0,multiple:i=!1}={}){return typeof n=="string"&&(n=[n]),await ExpoDocumentPicker.getDocumentAsync({type:n,copyToCacheDirectory:a,multiple:i})}var MediaTypeOptions;(function(n){n.All="All",n.Videos="Videos",n.Images="Images"})(MediaTypeOptions||(MediaTypeOptions={}));var VideoExportPreset;(function(n){n[n.Passthrough=0]="Passthrough",n[n.LowQuality=1]="LowQuality",n[n.MediumQuality=2]="MediumQuality",n[n.HighestQuality=3]="HighestQuality",n[n.H264_640x480=4]="H264_640x480",n[n.H264_960x540=5]="H264_960x540",n[n.H264_1280x720=6]="H264_1280x720",n[n.H264_1920x1080=7]="H264_1920x1080",n[n.H264_3840x2160=8]="H264_3840x2160",n[n.HEVC_1920x1080=9]="HEVC_1920x1080",n[n.HEVC_3840x2160=10]="HEVC_3840x2160"})(VideoExportPreset||(VideoExportPreset={}));var UIImagePickerControllerQualityType;(function(n){n[n.High=0]="High",n[n.Medium=1]="Medium",n[n.Low=2]="Low",n[n.VGA640x480=3]="VGA640x480",n[n.IFrame1280x720=4]="IFrame1280x720",n[n.IFrame960x540=5]="IFrame960x540"})(UIImagePickerControllerQualityType||(UIImagePickerControllerQualityType={}));var UIImagePickerPresentationStyle;(function(n){n.FULL_SCREEN="fullScreen",n.PAGE_SHEET="pageSheet",n.FORM_SHEET="formSheet",n.CURRENT_CONTEXT="currentContext",n.OVER_FULL_SCREEN="overFullScreen",n.OVER_CURRENT_CONTEXT="overCurrentContext",n.POPOVER="popover",n.AUTOMATIC="automatic"})(UIImagePickerPresentationStyle||(UIImagePickerPresentationStyle={}));var UIImagePickerPreferredAssetRepresentationMode;(function(n){n.Automatic="automatic",n.Compatible="compatible",n.Current="current"})(UIImagePickerPreferredAssetRepresentationMode||(UIImagePickerPreferredAssetRepresentationMode={}));var CameraType;(function(n){n.back="back",n.front="front"})(CameraType||(CameraType={}));function parseMediaTypes(n){const a={Images:["images"],Videos:["videos"],All:["images","videos"]};return n===MediaTypeOptions.Images||n===MediaTypeOptions.Videos||n===MediaTypeOptions.All?(console.warn("[expo-image-picker] `ImagePicker.MediaTypeOptions` have been deprecated. Use `ImagePicker.MediaType` or an array of `ImagePicker.MediaType` instead."),a[n]):typeof n=="string"?[n]:n}function mapDeprecatedOptions(n){return n.mediaTypes?{...n,mediaTypes:parseMediaTypes(n.mediaTypes??[])}:n}const MediaTypeInput={images:"image/*",videos:"video/mp4,video/quicktime,video/x-m4v,video/*",livePhotos:""},ExponentImagePicker={async launchImageLibraryAsync({mediaTypes:n=["images"],allowsMultipleSelection:a=!1,base64:i=!1}){return Platform.isDOMAvailable?await openFileBrowserAsync({mediaTypes:n,allowsMultipleSelection:a,base64:i}):{canceled:!0,assets:null}},async launchCameraAsync({mediaTypes:n=MediaTypeOptions.Images,allowsMultipleSelection:a=!1,base64:i=!1}){return Platform.isDOMAvailable?await openFileBrowserAsync({mediaTypes:n,allowsMultipleSelection:a,capture:!0,base64:i}):{canceled:!0,assets:null}},async getCameraPermissionsAsync(){return permissionGrantedResponse()},async requestCameraPermissionsAsync(){return permissionGrantedResponse()},async getMediaLibraryPermissionsAsync(n){return permissionGrantedResponse()},async requestMediaLibraryPermissionsAsync(n){return permissionGrantedResponse()}};function permissionGrantedResponse(){return{status:PermissionStatus.GRANTED,expires:"never",granted:!0,canAskAgain:!0}}function openFileBrowserAsync({mediaTypes:n,capture:a=!1,allowsMultipleSelection:i=!1,base64:s}){const o=parseMediaTypes(n),u=createMediaTypeFormat(o),p=document.createElement("input");return p.style.display="none",p.setAttribute("type","file"),p.setAttribute("accept",u),p.setAttribute("id",String(Math.random())),p.setAttribute("data-testid","file-input"),i&&p.setAttribute("multiple","multiple"),a&&p.setAttribute("capture","camera"),document.body.appendChild(p),new Promise(x=>{p.addEventListener("change",async()=>{var c;if((c=p.files)!=null&&c.length){const l=i?p.files:[p.files[0]],y=await Promise.all(Array.from(l).map(d=>readFile(d,{base64:s})));x({canceled:!1,assets:y})}else x({canceled:!0,assets:null});document.body.removeChild(p)}),p.addEventListener("cancel",()=>{p.dispatchEvent(new Event("change"))});const m=new MouseEvent("click");p.dispatchEvent(m)})}function readFile(n,a){return new Promise((i,s)=>{const o=new FileReader;o.onerror=()=>{s(new Error("Failed to read the selected media because the operation failed."))},o.onload=({target:u})=>{const p=u.result,x=()=>i({uri:p,width:0,height:0}),m=c=>{i({...c,...a.base64&&{base64:p.substr(p.indexOf(",")+1)},file:n})};if(typeof p=="string")if(n.type.startsWith("image/")){const c=new Image;c.src=p,c.onload=()=>{m({uri:p,width:c.naturalWidth??c.width,height:c.naturalHeight??c.height,type:"image",mimeType:n.type,fileName:n.name,fileSize:n.size})},c.onerror=()=>x()}else if(n.type.startsWith("video/")){const c=document.createElement("video");c.preload="metadata",c.src=p,c.onloadedmetadata=()=>{m({uri:p,width:c.videoWidth,height:c.videoHeight,type:"video",mimeType:n.type,fileName:n.name,fileSize:n.size,duration:c.duration})},c.onerror=()=>x()}else x();else x()},o.readAsDataURL(n)})}function createMediaTypeFormat(n){const a=n.filter(s=>s!=="livePhotos");if(a.length===0)return"image/*";let i="";for(const s of a)i.includes(MediaTypeInput[s])||(i=i.concat(",",MediaTypeInput[s]));return i}function validateOptions(n){const{aspect:a,quality:i,videoMaxDuration:s}=n;if(a!=null){const[o,u]=a;if(o<=0||u<=0)throw new CodedError("ERR_INVALID_ARGUMENT",`Invalid aspect ratio values ${o}:${u}. Provide positive numbers.`)}if(i&&(i<0||i>1))throw new CodedError("ERR_INVALID_ARGUMENT",`Invalid 'quality' value ${i}. Provide a value between 0 and 1.`);if(s&&s<0)throw new CodedError("ERR_INVALID_ARGUMENT",`Invalid 'videoMaxDuration' value ${s}. Provide a non-negative number.`);return n}async function launchCameraAsync(n={}){if(!ExponentImagePicker.launchCameraAsync)throw new UnavailabilityError("ImagePicker","launchCameraAsync");const a=mapDeprecatedOptions(n);return await ExponentImagePicker.launchCameraAsync(validateOptions(a))}async function launchImageLibraryAsync(n={}){const a=mapDeprecatedOptions(n);if(!ExponentImagePicker.launchImageLibraryAsync)throw new UnavailabilityError("ImagePicker","launchImageLibraryAsync");return a!=null&&a.allowsEditing&&a.allowsMultipleSelection&&console.warn("[expo-image-picker] `allowsEditing` is not supported when `allowsMultipleSelection` is enabled and will be ignored.Disable either 'allowsEditing' or 'allowsMultipleSelection' in 'launchImageLibraryAsync' to fix this warning."),await ExponentImagePicker.launchImageLibraryAsync(a)}const requestPermission=async n=>{if(n===Permissions.notifications)return(await requestNotifications(["alert","badge","carPlay","sound"])).status;if(n)return request(n)},usePermission=n=>{const a=useSelector(selectIsPermissionGranted(n)),i=useDispatch(),s=useTrackException(),o=reactExports.useCallback(()=>new Promise((u,p)=>{requestPermission(n).then(x=>{const m=x===RESULTS.GRANTED;i(setPermission({permission:n,granted:m})),u(m)}).catch(x=>{i(setPermission({permission:n,granted:!1})),s(ExceptionLogKey.updatePermission,"usePermission.ts",{error:x,permission:n,request:!0}),p(x)})}),[i,n,s]);return{hasPermission:a,requestPermission:o}},ChatAttachmentButton=reactExports.forwardRef(({onPress:n,iconName:a,testID:i,label:s},o)=>{const u=useThemable(createStyles$4);return jsxRuntimeExports.jsx(PressableBase,{onPress:n,ref:o,testID:i,children:jsxRuntimeExports.jsxs(Column,{gutter:"xs",halign:"center",children:[jsxRuntimeExports.jsx(View,{style:u.circle,children:jsxRuntimeExports.jsx(Icon,{color:"link",name:a,size:"xl",testID:i+"Icon"})}),jsxRuntimeExports.jsx(Phrase,{testID:i+"Phrase",children:s})]})})}),createStyles$4=({color:n,size:a})=>stylesheet.create({circle:{backgroundColor:n.chat.attachmentButtonCircle.background,borderRadius:50,padding:a.spacing.md}});try{ChatAttachmentButton.displayName="ChatAttachmentButton",ChatAttachmentButton.__docgenInfo={description:"",displayName:"ChatAttachmentButton",props:{iconName:{defaultValue:null,description:"",name:"iconName",required:!0,type:{name:"enum",value:[{value:'"accessCode"'},{value:'"add"'},{value:'"alarm"'},{value:'"alarmFilled"'},{value:'"alert"'},{value:'"announcement"'},{value:'"api"'},{value:'"asterisk"'},{value:'"attachment"'},{value:'"biometrics"'},{value:'"chat"'},{value:'"circle-check-mark"'},{value:'"backspace"'},{value:'"camera"'},{value:'"car"'},{value:'"card"'},{value:'"chatting"'},{value:'"check-mark"'},{value:'"chevron-down"'},{value:'"chevron-left"'},{value:'"chevron-right"'},{value:'"chevron-up"'},{value:'"child"'},{value:'"circle"'},{value:'"city-office"'},{value:'"city-pass-pass"'},{value:'"city-pass"'},{value:'"close"'},{value:'"collaborate"'},{value:'"construction-work"'},{value:'"copy"'},{value:'"document"'},{value:'"documentCheckmark"'},{value:'"document-text"'},{value:'"download"'},{value:'"edit"'},{value:'"email"'},{value:'"enlarge"'},{value:'"error"'},{value:'"external-link"'},{value:'"eye"'},{value:'"facade"'},{value:'"faceId"'},{value:'"housing"'},{value:'"park-sign"'},{value:'"info"'},{value:'"keyboard"'},{value:'"list"'},{value:'"location"'},{value:'"lock"'},{value:'"login"'},{value:'"organic-waste-container"'},{value:'"parking"'},{value:'"person"'},{value:'"person-desk"'},{value:'"phone"'},{value:'"picture"'},{value:'"pointer"'},{value:'"question-mark-circle"'},{value:'"search"'},{value:'"settings"'},{value:'"spinner"'},{value:'"touchId"'},{value:'"trash-bin"'},{value:'"vote"'},{value:'"wasteCard"'},{value:'"whatsapp"'},{value:'"wifi-disconnect"'}]}},label:{defaultValue:null,description:"",name:"label",required:!0,type:{name:"string"}},onPress:{defaultValue:null,description:"",name:"onPress",required:!0,type:{name:"() => void"}},testID:{defaultValue:null,description:"",name:"testID",required:!0,type:{name:"string"}}}}}catch(n){}const fileName="ChatAttachment.tsx",ChatAttachment=({onSelect:n,minHeight:a})=>{const i=useAccessibilityFocus(Duration.long),s=useThemable(createStyles$3),o=useTrackException(),{hasPermission:u,requestPermission:p}=usePermission(Permissions.camera),x=reactExports.useCallback(()=>{launchImageLibraryAsync({mediaTypes:MediaTypeOptions.Images,allowsMultipleSelection:!1,allowsEditing:!1,base64:!0}).then(l=>{var y,d;if((y=l.assets)!=null&&y[0].uri){const h=(d=l.assets)==null?void 0:d[0];sendImage(h.base64,h.fileName??"image.png",h.uri).then(n,g=>{Alert.alert("Sorry, opsturen van de afbeelding is mislukt. Probeer het later nog eens."),o(ExceptionLogKey.chatSendImageFromLibrary,fileName,{error:g})})}},l=>{Alert.alert("Afbeelding kiezen is mislukt","Sorry, kiezen van een afbeelding is mislukt. Probeer het later nog eens."),o(ExceptionLogKey.chatPickImageFromLibrary,fileName,{error:l})})},[n,o]),m=reactExports.useCallback(async()=>{u||await p(),launchCameraAsync({mediaTypes:MediaTypeOptions.Images,allowsMultipleSelection:!1,allowsEditing:!1,base64:!0}).then(l=>{var y,d;if((y=l.assets)!=null&&y[0].uri){const h=(d=l.assets)==null?void 0:d[0];sendImage(h.base64,h.fileName??"image.png",h.uri).then(n,g=>{Alert.alert("Foto opsturen is niet gelukt","Sorry, opsturen van de afbeelding is mislukt. Probeer het later nog eens."),o(ExceptionLogKey.chatSendImageFromCamera,fileName,{error:g})})}},l=>{Alert.alert("Foto maken is niet gelukt","Sorry, maken van een foto is mislukt. Probeer het later nog eens."),o(ExceptionLogKey.chatTakeImageWithCamera,fileName,{error:l})})},[u,p,n,o]),c=reactExports.useCallback(()=>{getDocumentAsync({type:"application/pdf"}).then(l=>{var d;const y=(d=l.assets)==null?void 0:d[0];if(y){const{uri:h,name:g}=y;sendPDF(h,g).then(n,b=>{Alert.alert("PDF opsturen is mislukt","Sorry, opsturen van het PDF document is mislukt. Probeer het later nog eens."),o(ExceptionLogKey.chatSendPDF,fileName,{error:b})})}},l=>{Alert.alert("PDF kiezen is mislukt","Sorry, kiezen van een PDF document is mislukt. Probeer het later nog eens."),o(ExceptionLogKey.chatPickPDF,fileName,{error:l})})},[n,o]);return jsxRuntimeExports.jsx(Animated.View,{entering:SlideInDown,style:[s.attachments,{minHeight:Math.round(a??0)}],children:jsxRuntimeExports.jsx(Box,{children:jsxRuntimeExports.jsxs(Row,{align:"evenly",gutter:"sm",children:[jsxRuntimeExports.jsx(ChatAttachmentButton,{iconName:"picture",label:"Foto",onPress:x,ref:i,testID:"pdf"}),jsxRuntimeExports.jsx(ChatAttachmentButton,{iconName:"camera",label:"Camera",onPress:m,testID:"pdf"}),jsxRuntimeExports.jsx(ChatAttachmentButton,{iconName:"document",label:"PDF",onPress:c,testID:"pdf"})]})})})},createStyles$3=({color:n})=>stylesheet.create({attachments:{backgroundColor:n.chat.attachment.background}});try{ChatAttachment.displayName="ChatAttachment",ChatAttachment.__docgenInfo={description:"",displayName:"ChatAttachment",props:{minHeight:{defaultValue:null,description:"",name:"minHeight",required:!1,type:{name:"number"}},onSelect:{defaultValue:null,description:"",name:"onSelect",required:!0,type:{name:"() => void"}}}}}catch(n){}const ChatEnded=()=>{const{close:n}=useChat(),{addDownloadedTranscriptId:a}=reactExports.useContext(ChatContext);return jsxRuntimeExports.jsx(Box,{children:jsxRuntimeExports.jsxs(Column,{gutter:"smd",children:[jsxRuntimeExports.jsx(Button,{label:"Chat downloaden",onPress:()=>{downloadChat().then(i=>i&&a(i))},testID:"ChatEndedDownloadButton",variant:"secondary"}),jsxRuntimeExports.jsx(Button,{label:"Chat sluiten",onPress:n,testID:"ChatEndedCloseButton"})]})})},ChatInput=({onSubmit:n})=>{const a=useIsScreenReaderEnabled(),i=useSafeAreaInsets(),s=useTrackException(),o=useThemable(createStyles$2),u=useThemable(createTextInputProps),[p,x]=reactExports.useState(""),m=reactExports.useRef(null),{value:c,disable:l,enable:y}=useBoolean(!1),d=reactExports.useCallback(C=>{x(C),sendTypingEvent().catch(E=>s(ExceptionLogKey.chatSendTypingEvent,"ChatInput.tsx",{error:E}))},[s]),h=reactExports.useCallback(C=>{n(C),x("")},[n]),{height:g,visible:b}=useKeyboardHeight(),{agentInChat:A,isEnded:F}=reactExports.useContext(ChatContext);return F?jsxRuntimeExports.jsx(ChatEnded,{}):jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(KeyboardAvoidingView,{behavior:Platform$1.OS==="ios"?"padding":"height",keyboardVerticalOffset:i.top,children:jsxRuntimeExports.jsx(Box,{children:jsxRuntimeExports.jsxs(Row,{gutter:"sm",children:[!!A&&jsxRuntimeExports.jsx(IconButton,{accessibilityLabel:c?"Naar toetsenbord":"Naar bijlages",hitSlop:16,icon:jsxRuntimeExports.jsx(Icon,{color:"link",name:c?"keyboard":"attachment",size:"xl",testID:"ChatAttachmentsIcon"}),onPress:()=>{var C;c?((C=m.current)==null||C.focus(),l()):(Keyboard.dismiss(),setTimeout(y,300))},testID:"ChatAttachmentsButton"}),jsxRuntimeExports.jsxs(View,{style:o.container,testID:"ChatTextInputContainer",children:[jsxRuntimeExports.jsx(TextInput,{...u,autoFocus:a,multiline:!0,onChangeText:d,onFocus:l,placeholder:"Typ uw bericht",ref:m,style:o.textInput,testID:"ChatTextInput",value:p}),p.length>0&&jsxRuntimeExports.jsxs(View,{style:o.buttonWrapper,children:[jsxRuntimeExports.jsx(View,{style:o.spacePlaceholder}),jsxRuntimeExports.jsx(PressableBase,{accessibilityLabel:"Verstuur bericht",onPress:()=>h(p),style:o.button,testID:"ChatTextInputSendButton",children:jsxRuntimeExports.jsx(Icon,{color:"inverse",name:"chevron-right",testID:"ChatTextInputSendButtonIcon"})})]})]})]})})}),!!c&&!b&&jsxRuntimeExports.jsx(ChatAttachment,{minHeight:g,onSelect:l})]})},SEND_BUTTON_DIMENSION=40,createStyles$2=({border:n,color:a,text:i,size:s})=>stylesheet.create({button:{backgroundColor:a.pressable.primary.default.background,alignItems:"center",justifyContent:"center",height:SEND_BUTTON_DIMENSION,width:SEND_BUTTON_DIMENSION},buttonWrapper:{height:"100%"},spacePlaceholder:{flexGrow:1},container:{flexDirection:"row",alignItems:"center",justifyContent:"space-between",borderWidth:n.width.sm,padding:s.spacing.xs,columnGap:s.spacing.sm,flex:1},textInput:{flex:1,color:a.text.default,fontFamily:i.fontFamily.regular,fontSize:i.fontSize.body,padding:0,paddingLeft:s.spacing.md,paddingTop:s.spacing.sm,paddingBottom:s.spacing.sm}}),createTextInputProps=({color:n})=>({placeholderTextColor:n.text.secondary});try{ChatInput.displayName="ChatInput",ChatInput.__docgenInfo={description:"",displayName:"ChatInput",props:{onSubmit:{defaultValue:null,description:"",name:"onSubmit",required:!0,type:{name:"(message: string) => void"}}}}}catch(n){}const DEFAULT_ERROR_CODE="0",isFetchBaseQueryError=n=>!!(n!=null&&n.status),getErrorCode=n=>!n||!isFetchBaseQueryError(n)?DEFAULT_ERROR_CODE:typeof n.status=="string"&&n.status==="PARSING_ERROR"?n.originalStatus??DEFAULT_ERROR_CODE:n.status??DEFAULT_ERROR_CODE,FullScreenErrorHeader=({error:n,isPortrait:a,testID:i,text:s,title:o,TopComponent:u})=>jsxRuntimeExports.jsxs(Box,{distinct:!a,grow:!a,children:[!!u&&u,jsxRuntimeExports.jsxs(Column,{align:"center",grow:1,gutter:"md",children:[jsxRuntimeExports.jsx(Title,{level:"h3",testID:i+"Title",text:o,textAlign:"center"}),(!!n||!!s)&&jsxRuntimeExports.jsxs(Column,{children:[!!s&&jsxRuntimeExports.jsx(Paragraph,{testID:i+"Paragraph",textAlign:"center",children:s??""}),!!n&&jsxRuntimeExports.jsx(Paragraph,{testID:i+"Error",textAlign:"center",children:`Foutcode is ${getErrorCode(n)}`})]})]})]});try{FullScreenErrorHeader.displayName="FullScreenErrorHeader",FullScreenErrorHeader.__docgenInfo={description:"",displayName:"FullScreenErrorHeader",props:{TopComponent:{defaultValue:null,description:"",name:"TopComponent",required:!0,type:{name:"ReactNode"}},error:{defaultValue:null,description:"",name:"error",required:!0,type:{name:"ErrorType"}},isPortrait:{defaultValue:null,description:"",name:"isPortrait",required:!0,type:{name:"boolean"}},testID:{defaultValue:null,description:"",name:"testID",required:!0,type:{name:"string"}},text:{defaultValue:null,description:"",name:"text",required:!0,type:{name:"string | undefined"}},title:{defaultValue:null,description:"",name:"title",required:!0,type:{name:"string"}}}}}catch(n){}const HideOnSmallSize=({children:n,minHeight:a,minWidth:i,...s})=>{const[o,u]=reactExports.useState(),p=reactExports.useMemo(()=>o?o.height>=(a??0)&&o.width>=(i??0):!0,[o,a,i]),x=createStyles$1(p);return jsxRuntimeExports.jsx(View,{collapsable:!1,onLayout:m=>u(m.nativeEvent.layout),...s,style:x.wrapper,children:n})},createStyles$1=n=>stylesheet.create({wrapper:{opacity:n?1:0}});try{HideOnSmallSize.displayName="HideOnSmallSize",HideOnSmallSize.__docgenInfo={description:"",displayName:"HideOnSmallSize",props:{minHeight:{defaultValue:null,description:"",name:"minHeight",required:!1,type:{name:"number"}},minWidth:{defaultValue:null,description:"",name:"minWidth",required:!1,type:{name:"number"}}}}}catch(n){}const MIN_IMAGE_HEIGHT=200,ImageWithBackground=({backgroundPosition:n,isImageFullSize:a=!0,Image:i,testID:s,withFacadesBackground:o,isPortrait:u})=>{const p=useThemable(createStyles({backgroundPosition:n,isImageFullSize:a,isPortrait:u}));return jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[!!o&&jsxRuntimeExports.jsx(View,{style:p.figureBackground,testID:s+"BackgroundImage",children:jsxRuntimeExports.jsx(View,{style:p.facade,children:jsxRuntimeExports.jsx(SvgAmsterdamFacades,{})})}),u?jsxRuntimeExports.jsx(View,{style:p.figureForeground,children:jsxRuntimeExports.jsx(HideOnSmallSize,{minHeight:MIN_IMAGE_HEIGHT,testID:s+"Image",children:jsxRuntimeExports.jsx(Box,{inset:"md",children:jsxRuntimeExports.jsx(i,{height:"100%",width:a?"100%":void 0})})})}):jsxRuntimeExports.jsx(View,{style:p.figureForeground,testID:s+"Image",children:jsxRuntimeExports.jsx(i,{height:"100%",width:"100%"})})]})},createStyles=({backgroundPosition:n="bottom",isPortrait:a,isImageFullSize:i})=>({media:s,size:o})=>stylesheet.create({figureBackground:{position:"absolute",bottom:n==="center"&&a?"50%":"20%",width:"100%",alignContent:"flex-start",overflow:"hidden"},figureForeground:{flexGrow:1,alignSelf:!i&&a?"center":void 0,justifyContent:"center",paddingBottom:a?void 0:o.spacing.md},facade:{aspectRatio:s.illustrationAspectRatio.facades,height:s.figureHeight.lg*(3/4),alignSelf:"center"}});try{ImageWithBackground.displayName="ImageWithBackground",ImageWithBackground.__docgenInfo={description:"",displayName:"ImageWithBackground",props:{Image:{defaultValue:null,description:"",name:"Image",required:!0,type:{name:"ComponentType<SvgProps>"}},backgroundPosition:{defaultValue:{value:"bottom"},description:"",name:"backgroundPosition",required:!1,type:{name:"enum",value:[{value:'"center"'},{value:'"bottom"'}]}},isImageFullSize:{defaultValue:{value:"true"},description:"",name:"isImageFullSize",required:!1,type:{name:"boolean"}},isPortrait:{defaultValue:null,description:"",name:"isPortrait",required:!0,type:{name:"boolean"}},testID:{defaultValue:null,description:"",name:"testID",required:!0,type:{name:"string"}},withFacadesBackground:{defaultValue:null,description:"",name:"withFacadesBackground",required:!0,type:{name:"boolean | undefined"}}}}}catch(n){}const FullScreenErrorContent=({backgroundPosition:n,error:a,isImageFullSize:i,text:s,Image:o,isPortrait:u,testID:p,title:x,TopComponent:m,withFacadesBackground:c})=>{const l=reactExports.useMemo(()=>jsxRuntimeExports.jsx(ImageWithBackground,{backgroundPosition:n,Image:o,isImageFullSize:i,isPortrait:u,testID:p,withFacadesBackground:c}),[o,n,i,u,p,c]);return u?jsxRuntimeExports.jsx(Column,{flex:1,children:l}):jsxRuntimeExports.jsxs(Row,{flex:1,children:[jsxRuntimeExports.jsx(Column,{flex:1,children:jsxRuntimeExports.jsx(FullScreenErrorHeader,{error:a,isPortrait:u,testID:p,text:s,title:x,TopComponent:m})}),jsxRuntimeExports.jsx(Column,{flex:1,children:l})]})};try{FullScreenErrorContent.displayName="FullScreenErrorContent",FullScreenErrorContent.__docgenInfo={description:"",displayName:"FullScreenErrorContent",props:{TopComponent:{defaultValue:null,description:"",name:"TopComponent",required:!0,type:{name:"ReactNode"}},error:{defaultValue:null,description:"",name:"error",required:!0,type:{name:"ErrorType"}},isPortrait:{defaultValue:null,description:"",name:"isPortrait",required:!0,type:{name:"boolean"}},testID:{defaultValue:null,description:"",name:"testID",required:!0,type:{name:"string"}},text:{defaultValue:null,description:"",name:"text",required:!0,type:{name:"string | undefined"}},title:{defaultValue:null,description:"",name:"title",required:!0,type:{name:"string"}},Image:{defaultValue:null,description:"",name:"Image",required:!0,type:{name:"ComponentType<SvgProps>"}},backgroundPosition:{defaultValue:null,description:"",name:"backgroundPosition",required:!0,type:{name:"enum",value:[{value:"undefined"},{value:'"center"'},{value:'"bottom"'}]}},isImageFullSize:{defaultValue:null,description:"",name:"isImageFullSize",required:!0,type:{name:"boolean | undefined"}},withFacadesBackground:{defaultValue:null,description:"",name:"withFacadesBackground",required:!0,type:{name:"boolean | undefined"}}}}}catch(n){}const FullScreenError=({backgroundPosition:n,buttonAccessibilityLabel:a,buttonLabel:i,error:s,isImageFullSize:o,text:u,Image:p,onPress:x,testID:m,title:c,TopComponent:l,withFacadesBackground:y=!0,...d})=>{const{isPortrait:h}=useDeviceContext();return jsxRuntimeExports.jsxs(Column,{grow:1,...d,children:[!!h&&jsxRuntimeExports.jsx(FullScreenErrorHeader,{error:s,isPortrait:h,testID:m+"Header",text:u,title:c,TopComponent:l}),jsxRuntimeExports.jsx(FullScreenErrorContent,{backgroundPosition:n,error:s,Image:p,isImageFullSize:o,isPortrait:h,testID:m+"Content",text:u,title:c,TopComponent:l,withFacadesBackground:y}),jsxRuntimeExports.jsx(Box,{inset:"md",children:jsxRuntimeExports.jsx(Button,{accessibilityLabel:a,label:i,onPress:x,testID:m+"Button"})})]})};try{FullScreenError.displayName="FullScreenError",FullScreenError.__docgenInfo={description:"",displayName:"FullScreenError",props:{Image:{defaultValue:null,description:"",name:"Image",required:!0,type:{name:"ComponentType<SvgProps>"}},TopComponent:{defaultValue:null,description:"",name:"TopComponent",required:!1,type:{name:"ReactNode"}},backgroundPosition:{defaultValue:null,description:"",name:"backgroundPosition",required:!1,type:{name:"enum",value:[{value:'"center"'},{value:'"bottom"'}]}},buttonAccessibilityLabel:{defaultValue:null,description:"",name:"buttonAccessibilityLabel",required:!1,type:{name:"string"}},buttonLabel:{defaultValue:null,description:"",name:"buttonLabel",required:!0,type:{name:"string"}},error:{defaultValue:null,description:"",name:"error",required:!1,type:{name:"ErrorType"}},isImageFullSize:{defaultValue:null,description:"",name:"isImageFullSize",required:!1,type:{name:"boolean"}},onPress:{defaultValue:null,description:"",name:"onPress",required:!0,type:{name:"() => void"}},testID:{defaultValue:null,description:"",name:"testID",required:!0,type:{name:"string"}},text:{defaultValue:null,description:"",name:"text",required:!1,type:{name:"string"}},title:{defaultValue:null,description:"",name:"title",required:!0,type:{name:"string"}},withFacadesBackground:{defaultValue:{value:"true"},description:"",name:"withFacadesBackground",required:!1,type:{name:"boolean"}},align:{defaultValue:null,description:"The vertical alignment of the items in the column.",name:"align",required:!1,type:{name:"enum",value:[{value:'"around"'},{value:'"between"'},{value:'"center"'},{value:'"end"'},{value:'"evenly"'},{value:'"start"'}]}},grow:{defaultValue:null,description:"Whether the column should grow to fill the available space.",name:"grow",required:!1,type:{name:"number"}},gutter:{defaultValue:null,description:"The amount of vertical spacing between the items in the column.",name:"gutter",required:!1,type:{name:"enum",value:[{value:'"no"'},{value:'"xxs"'},{value:'"xs"'},{value:'"sm"'},{value:'"smd"'},{value:'"md"'},{value:'"lg"'},{value:'"xl"'},{value:'"xxl"'}]}},reverse:{defaultValue:null,description:"Whether the items in the column should be reversed.",name:"reverse",required:!1,type:{name:"boolean"}},shrink:{defaultValue:null,description:"Whether the column should shrink to fill the available space.",name:"shrink",required:!1,type:{name:"number"}},zIndex:{defaultValue:null,description:"Sets the zIndex style property",name:"zIndex",required:!1,type:{name:"number"}},basis:{defaultValue:null,description:"The flex basis factor of the column.",name:"basis",required:!1,type:{name:"number"}},halign:{defaultValue:null,description:"The horizontal alignment of the items in the column.",name:"halign",required:!1,type:{name:"enum",value:[{value:'"center"'},{value:'"end"'},{value:'"start"'},{value:'"baseline"'},{value:'"stretch"'}]}}}}}catch(n){}const ChatWaitToStart=({children:n})=>{const[a,i]=reactExports.useState(!1),{ready:s,connectionStatus:o}=reactExports.useContext(ChatContext),{close:u}=useChat();return reactExports.useEffect(()=>{setTimeout(()=>{i(!0)},6e4)},[]),s?n:o!==ConnectionState.closed&&!a?jsxRuntimeExports.jsxs(Center,{grow:!0,children:[jsxRuntimeExports.jsx(LoadingDots,{dotActiveSize:15,dotInactiveSize:12}),jsxRuntimeExports.jsx(Title,{level:"h4",testID:"ChatWaitToStartTitle",text:"De chat wordt geladen",textAlign:"center"})]}):jsxRuntimeExports.jsx(ChatAnimatedContentWrapper,{children:jsxRuntimeExports.jsx(FullScreenError,{backgroundPosition:"center",buttonLabel:"Chat sluiten",Image:ErrorFigure,isImageFullSize:!1,onPress:u,testID:"ChatWaitToStartErrorTitle",text:isDevApp?"Switchen van omgeving: verander eerst van omgeving en herstart dan de app":"Probeer het later nog eens.",title:"De chat kon niet geladen worden"})})};try{ChatWaitToStart.displayName="ChatWaitToStart",ChatWaitToStart.__docgenInfo={description:"",displayName:"ChatWaitToStart",props:{}}}catch(n){}const Chat=()=>{const{isOpen:n}=useChat(),a=useTrackException(),i=reactExports.useCallback(s=>{sendMessage(s).catch(o=>a(ExceptionLogKey.chatSendMessage,"Chat.tsx",{error:o}))},[a]);return n?jsxRuntimeExports.jsx(ChatProvider,{children:jsxRuntimeExports.jsxs(ChatAnimatedWrapper,{children:[jsxRuntimeExports.jsx(ChatHeader,{}),jsxRuntimeExports.jsxs(ChatWaitToStart,{children:[jsxRuntimeExports.jsx(ChatAnimatedContentWrapper,{children:jsxRuntimeExports.jsx(ChatHistory,{})}),jsxRuntimeExports.jsx(ChatInput,{onSubmit:i})]})]})}):null},onNotificationEvent=(n,a,i)=>{var s,o;n===EventType.PRESS&&((o=(s=a.notification)==null?void 0:s.data)!=null&&o.maximizeChat)&&i(maximizeChat())},persistWhitelist$2=["conversationId"],chatModule={hiddenInMenu:!0,onNotificationEvent,name:"ChatModule",PostRenderComponent:Chat,reduxConfigs:[{key:ReduxKey.chat,persistVersion:0,persistWhitelist:persistWhitelist$2,slice:chatSlice}],slug:ModuleSlug.chat,alwaysEnabled:!0},secureStorageSlice=createSlice({name:ReduxKey.secureStorage,initialState:{},reducers:{setSecureItemUpdatedTimestamp:(n,{payload:a})=>{Object.assign(n,{[a]:Date.now()})},deleteSecureItemUpdatedTimestamp:(n,{payload:a})=>{n[a]&&delete n[a]}}});secureStorageSlice.actions;const selectSecureItemUpdatedTimestamp=n=>a=>a[ReduxKey.secureStorage][n],ExpoSecureStore={};ExpoSecureStore.AFTER_FIRST_UNLOCK;ExpoSecureStore.AFTER_FIRST_UNLOCK_THIS_DEVICE_ONLY;ExpoSecureStore.ALWAYS;ExpoSecureStore.WHEN_PASSCODE_SET_THIS_DEVICE_ONLY;ExpoSecureStore.ALWAYS_THIS_DEVICE_ONLY;ExpoSecureStore.WHEN_UNLOCKED;ExpoSecureStore.WHEN_UNLOCKED_THIS_DEVICE_ONLY;async function getItemAsync(n,a={}){return ensureValidKey(n),await ExpoSecureStore.getValueWithKeyAsync(n,a)}function ensureValidKey(n){if(!isValidKey(n))throw new Error('Invalid key provided to SecureStore. Keys must not be empty and contain only alphanumeric characters, ".", "-", and "_".')}function isValidKey(n){return typeof n=="string"&&/^[\w.-]+$/.test(n)}var SecureItemKey=(n=>(n.accessCode="accessCode",n.cityPassAccessToken="cityPassAccessToken",n.cityPassRefreshToken="cityPassRefreshToken",n.cityPasses="cityPasses",n.parkingPermitHolder="parkingPermitHolder",n.parkingVisitor="parkingVisitor",n.wasteCardNumber="wasteCardNumber",n))(SecureItemKey||{});const getSecureItem=n=>new Promise((a,i)=>{getItemAsync(n,{requireAuthentication:!1}).then(s=>a(s)).catch(i)}),useGetSecureItem=n=>{const[a,i]=reactExports.useState(!0),[s,o]=reactExports.useState(null),u=useSelector(selectSecureItemUpdatedTimestamp(n));return reactExports.useEffect(()=>{getSecureItem(n).then(p=>{o(p),i(!1)}).catch(()=>{o(null),i(!1)})},[n,u]),{item:s,isLoading:a}},transformResponse=n=>n.map(a=>({dateEndFormatted:a.d,firstname:a.f,infix:a.i,lastname:a.l,passNumberComplete:a.p})),useGetSecureCityPasses=()=>{const{item:n}=useGetSecureItem(SecureItemKey.cityPasses);return reactExports.useMemo(()=>n?transformResponse(JSON.parse(n)):[],[n])};var CityPassRouteName=(n=>(n.budget="Budget",n.cityPassDetails="CityPassDetails",n.cityPassLogout="CityPassLogout",n.cityPasses="CityPasses",n.dashboard="Dashboard",n.login="Login",n.loginSteps="LoginSteps",n.restartLogin="RestartLogin",n.securityCode="SecurityCode",n))(CityPassRouteName||{});const CityPassActionButton=()=>{const{navigate:n}=useNavigation(),a=useGetSecureCityPasses(),i=reactExports.useCallback(()=>{n(ModuleSlug["city-pass"],{screen:CityPassRouteName.cityPasses})},[n]);return a!=null&&a.length?jsxRuntimeExports.jsxs(Column,{children:[jsxRuntimeExports.jsx(ActionButton,{iconName:"city-pass-pass",label:"Stadspas",onPress:i,testID:"CityPassActionButton"}),jsxRuntimeExports.jsx(Gutter,{height:"lg"})]}):null},initialState$7={isCityPassOwnerRegistered:!1,isLoginStepsActive:!1,shouldShowLoginScreen:!0,startIndex:0},cityPassSlice=createSlice({name:ReduxKey.cityPass,initialState:initialState$7,reducers:{setIsCityPassOwnerRegistered:(n,{payload:a})=>{n.isCityPassOwnerRegistered=a},setLoginStepsActive:(n,{payload:a})=>{n.isLoginStepsActive=a},setShouldShowLoginScreen:(n,{payload:a})=>{n.shouldShowLoginScreen=a},setStartIndex:(n,{payload:a})=>{n.startIndex=a??0}}});cityPassSlice.actions;const cityPassModule={ActionButton:CityPassActionButton,linking:{[CityPassRouteName.loginSteps]:"stadspas/:loginResult/:accessToken?/:refreshToken?/:errorMessage?/:errorCode?"},logDimension:PiwikSessionDimension.cityPassModule,name:"CityPassModule",reduxConfigs:[{key:ReduxKey.cityPass,slice:cityPassSlice,persistVersion:0,persistWhitelist:["isCityPassOwnerRegistered"]}],slug:ModuleSlug["city-pass"]};var lookup=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,62,0,62,0,63,52,53,54,55,56,57,58,59,60,61,0,0,0,0,0,0,0,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,0,0,0,0,63,0,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51],fastBase64Decode=function n(a,i){for(var s=a.length,o=a[s-2]==="="?2:a[s-1]==="="?1:0,u,p=0,x=s-o&4294967292,m=0;m<x;m+=4)u=lookup[a.charCodeAt(m)]<<18|lookup[a.charCodeAt(m+1)]<<12|lookup[a.charCodeAt(m+2)]<<6|lookup[a.charCodeAt(m+3)],i[p++]=u>>16&255,i[p++]=u>>8&255,i[p++]=u&255;o===1&&(u=lookup[a.charCodeAt(m)]<<10|lookup[a.charCodeAt(m+1)]<<4|lookup[a.charCodeAt(m+2)]>>2,i[p++]=u>>8&255,i[p++]=u&255),o===2&&(u=lookup[a.charCodeAt(m)]<<2|lookup[a.charCodeAt(m+1)]>>4,i[p++]=u&255)};const base64Decode=fastBase64Decode,{NativeModules}=require$$1;class TypeMismatchError extends Error{}class QuotaExceededError extends Error{}let warned=!1;function insecureRandomValues(n){warned||(console.warn("Using an insecure random number generator, this should only happen when running in a debugger without support for crypto.getRandomValues"),warned=!0);for(let a=0,i;a<n.length;a++)a&3||(i=Math.random()*4294967296),n[a]=i>>>((a&3)<<3)&255;return n}function getRandomBase64(n){if(NativeModules.RNGetRandomValues)return NativeModules.RNGetRandomValues.getRandomBase64(n);if(NativeModules.ExpoRandom)return NativeModules.ExpoRandom.getRandomBase64String(n);if(commonjsGlobal.ExpoModules)return commonjsGlobal.ExpoModules.ExpoRandom.getRandomBase64String(n);throw new Error("Native module not found")}function getRandomValues(n){if(!(n instanceof Int8Array||n instanceof Uint8Array||n instanceof Int16Array||n instanceof Uint16Array||n instanceof Int32Array||n instanceof Uint32Array||n instanceof Uint8ClampedArray))throw new TypeMismatchError("Expected an integer array");if(n.byteLength>65536)throw new QuotaExceededError("Can only request a maximum of 65536 bytes");return commonjsGlobal.expo&&commonjsGlobal.expo.modules&&commonjsGlobal.expo.modules.ExpoCrypto&&commonjsGlobal.expo.modules.ExpoCrypto.getRandomValues?(commonjsGlobal.expo.modules.ExpoCrypto.getRandomValues(n),n):isRemoteDebuggingInChrome()?insecureRandomValues(n):(base64Decode(getRandomBase64(n.byteLength),new Uint8Array(n.buffer,n.byteOffset,n.byteLength)),n)}function isRemoteDebuggingInChrome(){return"RN$Bridgeless"in commonjsGlobal&&RN$Bridgeless===!0,!1}typeof commonjsGlobal.crypto!="object"&&(commonjsGlobal.crypto={});typeof commonjsGlobal.crypto.getRandomValues!="function"&&(commonjsGlobal.crypto.getRandomValues=getRandomValues);var cryptoJs={exports:{}},core={exports:{}};const __viteBrowserExternal={},__viteBrowserExternal$1=Object.freeze(Object.defineProperty({__proto__:null,default:__viteBrowserExternal},Symbol.toStringTag,{value:"Module"})),require$$0=getAugmentedNamespace(__viteBrowserExternal$1);var hasRequiredCore;function requireCore(){return hasRequiredCore||(hasRequiredCore=1,function(n,a){(function(i,s){n.exports=s()})(commonjsGlobal,function(){var i=i||function(s,o){var u;if(typeof window<"u"&&window.crypto&&(u=window.crypto),typeof self<"u"&&self.crypto&&(u=self.crypto),typeof globalThis<"u"&&globalThis.crypto&&(u=globalThis.crypto),!u&&typeof window<"u"&&window.msCrypto&&(u=window.msCrypto),!u&&typeof commonjsGlobal<"u"&&commonjsGlobal.crypto&&(u=commonjsGlobal.crypto),!u&&typeof commonjsRequire=="function")try{u=require$$0}catch{}var p=function(){if(u){if(typeof u.getRandomValues=="function")try{return u.getRandomValues(new Uint32Array(1))[0]}catch{}if(typeof u.randomBytes=="function")try{return u.randomBytes(4).readInt32LE()}catch{}}throw new Error("Native crypto module could not be used to get secure random number.")},x=Object.create||function(){function C(){}return function(E){var v;return C.prototype=E,v=new C,C.prototype=null,v}}(),m={},c=m.lib={},l=c.Base=function(){return{extend:function(C){var E=x(this);return C&&E.mixIn(C),(!E.hasOwnProperty("init")||this.init===E.init)&&(E.init=function(){E.$super.init.apply(this,arguments)}),E.init.prototype=E,E.$super=this,E},create:function(){var C=this.extend();return C.init.apply(C,arguments),C},init:function(){},mixIn:function(C){for(var E in C)C.hasOwnProperty(E)&&(this[E]=C[E]);C.hasOwnProperty("toString")&&(this.toString=C.toString)},clone:function(){return this.init.prototype.extend(this)}}}(),y=c.WordArray=l.extend({init:function(C,E){C=this.words=C||[],E!=o?this.sigBytes=E:this.sigBytes=C.length*4},toString:function(C){return(C||h).stringify(this)},concat:function(C){var E=this.words,v=C.words,_=this.sigBytes,S=C.sigBytes;if(this.clamp(),_%4)for(var R=0;R<S;R++){var B=v[R>>>2]>>>24-R%4*8&255;E[_+R>>>2]|=B<<24-(_+R)%4*8}else for(var k=0;k<S;k+=4)E[_+k>>>2]=v[k>>>2];return this.sigBytes+=S,this},clamp:function(){var C=this.words,E=this.sigBytes;C[E>>>2]&=4294967295<<32-E%4*8,C.length=s.ceil(E/4)},clone:function(){var C=l.clone.call(this);return C.words=this.words.slice(0),C},random:function(C){for(var E=[],v=0;v<C;v+=4)E.push(p());return new y.init(E,C)}}),d=m.enc={},h=d.Hex={stringify:function(C){for(var E=C.words,v=C.sigBytes,_=[],S=0;S<v;S++){var R=E[S>>>2]>>>24-S%4*8&255;_.push((R>>>4).toString(16)),_.push((R&15).toString(16))}return _.join("")},parse:function(C){for(var E=C.length,v=[],_=0;_<E;_+=2)v[_>>>3]|=parseInt(C.substr(_,2),16)<<24-_%8*4;return new y.init(v,E/2)}},g=d.Latin1={stringify:function(C){for(var E=C.words,v=C.sigBytes,_=[],S=0;S<v;S++){var R=E[S>>>2]>>>24-S%4*8&255;_.push(String.fromCharCode(R))}return _.join("")},parse:function(C){for(var E=C.length,v=[],_=0;_<E;_++)v[_>>>2]|=(C.charCodeAt(_)&255)<<24-_%4*8;return new y.init(v,E)}},b=d.Utf8={stringify:function(C){try{return decodeURIComponent(escape(g.stringify(C)))}catch{throw new Error("Malformed UTF-8 data")}},parse:function(C){return g.parse(unescape(encodeURIComponent(C)))}},A=c.BufferedBlockAlgorithm=l.extend({reset:function(){this._data=new y.init,this._nDataBytes=0},_append:function(C){typeof C=="string"&&(C=b.parse(C)),this._data.concat(C),this._nDataBytes+=C.sigBytes},_process:function(C){var E,v=this._data,_=v.words,S=v.sigBytes,R=this.blockSize,B=R*4,k=S/B;C?k=s.ceil(k):k=s.max((k|0)-this._minBufferSize,0);var D=k*R,w=s.min(D*4,S);if(D){for(var P=0;P<D;P+=R)this._doProcessBlock(_,P);E=_.splice(0,D),v.sigBytes-=w}return new y.init(E,w)},clone:function(){var C=l.clone.call(this);return C._data=this._data.clone(),C},_minBufferSize:0});c.Hasher=A.extend({cfg:l.extend(),init:function(C){this.cfg=this.cfg.extend(C),this.reset()},reset:function(){A.reset.call(this),this._doReset()},update:function(C){return this._append(C),this._process(),this},finalize:function(C){C&&this._append(C);var E=this._doFinalize();return E},blockSize:16,_createHelper:function(C){return function(E,v){return new C.init(v).finalize(E)}},_createHmacHelper:function(C){return function(E,v){return new F.HMAC.init(C,v).finalize(E)}}});var F=m.algo={};return m}(Math);return i})}(core)),core.exports}var x64Core={exports:{}},hasRequiredX64Core;function requireX64Core(){return hasRequiredX64Core||(hasRequiredX64Core=1,function(n,a){(function(i,s){n.exports=s(requireCore())})(commonjsGlobal,function(i){return function(s){var o=i,u=o.lib,p=u.Base,x=u.WordArray,m=o.x64={};m.Word=p.extend({init:function(c,l){this.high=c,this.low=l}}),m.WordArray=p.extend({init:function(c,l){c=this.words=c||[],l!=s?this.sigBytes=l:this.sigBytes=c.length*8},toX32:function(){for(var c=this.words,l=c.length,y=[],d=0;d<l;d++){var h=c[d];y.push(h.high),y.push(h.low)}return x.create(y,this.sigBytes)},clone:function(){for(var c=p.clone.call(this),l=c.words=this.words.slice(0),y=l.length,d=0;d<y;d++)l[d]=l[d].clone();return c}})}(),i})}(x64Core)),x64Core.exports}var libTypedarrays={exports:{}},hasRequiredLibTypedarrays;function requireLibTypedarrays(){return hasRequiredLibTypedarrays||(hasRequiredLibTypedarrays=1,function(n,a){(function(i,s){n.exports=s(requireCore())})(commonjsGlobal,function(i){return function(){if(typeof ArrayBuffer=="function"){var s=i,o=s.lib,u=o.WordArray,p=u.init,x=u.init=function(m){if(m instanceof ArrayBuffer&&(m=new Uint8Array(m)),(m instanceof Int8Array||typeof Uint8ClampedArray<"u"&&m instanceof Uint8ClampedArray||m instanceof Int16Array||m instanceof Uint16Array||m instanceof Int32Array||m instanceof Uint32Array||m instanceof Float32Array||m instanceof Float64Array)&&(m=new Uint8Array(m.buffer,m.byteOffset,m.byteLength)),m instanceof Uint8Array){for(var c=m.byteLength,l=[],y=0;y<c;y++)l[y>>>2]|=m[y]<<24-y%4*8;p.call(this,l,c)}else p.apply(this,arguments)};x.prototype=u}}(),i.lib.WordArray})}(libTypedarrays)),libTypedarrays.exports}var encUtf16={exports:{}},hasRequiredEncUtf16;function requireEncUtf16(){return hasRequiredEncUtf16||(hasRequiredEncUtf16=1,function(n,a){(function(i,s){n.exports=s(requireCore())})(commonjsGlobal,function(i){return function(){var s=i,o=s.lib,u=o.WordArray,p=s.enc;p.Utf16=p.Utf16BE={stringify:function(m){for(var c=m.words,l=m.sigBytes,y=[],d=0;d<l;d+=2){var h=c[d>>>2]>>>16-d%4*8&65535;y.push(String.fromCharCode(h))}return y.join("")},parse:function(m){for(var c=m.length,l=[],y=0;y<c;y++)l[y>>>1]|=m.charCodeAt(y)<<16-y%2*16;return u.create(l,c*2)}},p.Utf16LE={stringify:function(m){for(var c=m.words,l=m.sigBytes,y=[],d=0;d<l;d+=2){var h=x(c[d>>>2]>>>16-d%4*8&65535);y.push(String.fromCharCode(h))}return y.join("")},parse:function(m){for(var c=m.length,l=[],y=0;y<c;y++)l[y>>>1]|=x(m.charCodeAt(y)<<16-y%2*16);return u.create(l,c*2)}};function x(m){return m<<8&4278255360|m>>>8&16711935}}(),i.enc.Utf16})}(encUtf16)),encUtf16.exports}var encBase64={exports:{}},hasRequiredEncBase64;function requireEncBase64(){return hasRequiredEncBase64||(hasRequiredEncBase64=1,function(n,a){(function(i,s){n.exports=s(requireCore())})(commonjsGlobal,function(i){return function(){var s=i,o=s.lib,u=o.WordArray,p=s.enc;p.Base64={stringify:function(m){var c=m.words,l=m.sigBytes,y=this._map;m.clamp();for(var d=[],h=0;h<l;h+=3)for(var g=c[h>>>2]>>>24-h%4*8&255,b=c[h+1>>>2]>>>24-(h+1)%4*8&255,A=c[h+2>>>2]>>>24-(h+2)%4*8&255,F=g<<16|b<<8|A,C=0;C<4&&h+C*.75<l;C++)d.push(y.charAt(F>>>6*(3-C)&63));var E=y.charAt(64);if(E)for(;d.length%4;)d.push(E);return d.join("")},parse:function(m){var c=m.length,l=this._map,y=this._reverseMap;if(!y){y=this._reverseMap=[];for(var d=0;d<l.length;d++)y[l.charCodeAt(d)]=d}var h=l.charAt(64);if(h){var g=m.indexOf(h);g!==-1&&(c=g)}return x(m,c,y)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="};function x(m,c,l){for(var y=[],d=0,h=0;h<c;h++)if(h%4){var g=l[m.charCodeAt(h-1)]<<h%4*2,b=l[m.charCodeAt(h)]>>>6-h%4*2,A=g|b;y[d>>>2]|=A<<24-d%4*8,d++}return u.create(y,d)}}(),i.enc.Base64})}(encBase64)),encBase64.exports}var encBase64url={exports:{}},hasRequiredEncBase64url;function requireEncBase64url(){return hasRequiredEncBase64url||(hasRequiredEncBase64url=1,function(n,a){(function(i,s){n.exports=s(requireCore())})(commonjsGlobal,function(i){return function(){var s=i,o=s.lib,u=o.WordArray,p=s.enc;p.Base64url={stringify:function(m,c){c===void 0&&(c=!0);var l=m.words,y=m.sigBytes,d=c?this._safe_map:this._map;m.clamp();for(var h=[],g=0;g<y;g+=3)for(var b=l[g>>>2]>>>24-g%4*8&255,A=l[g+1>>>2]>>>24-(g+1)%4*8&255,F=l[g+2>>>2]>>>24-(g+2)%4*8&255,C=b<<16|A<<8|F,E=0;E<4&&g+E*.75<y;E++)h.push(d.charAt(C>>>6*(3-E)&63));var v=d.charAt(64);if(v)for(;h.length%4;)h.push(v);return h.join("")},parse:function(m,c){c===void 0&&(c=!0);var l=m.length,y=c?this._safe_map:this._map,d=this._reverseMap;if(!d){d=this._reverseMap=[];for(var h=0;h<y.length;h++)d[y.charCodeAt(h)]=h}var g=y.charAt(64);if(g){var b=m.indexOf(g);b!==-1&&(l=b)}return x(m,l,d)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",_safe_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_"};function x(m,c,l){for(var y=[],d=0,h=0;h<c;h++)if(h%4){var g=l[m.charCodeAt(h-1)]<<h%4*2,b=l[m.charCodeAt(h)]>>>6-h%4*2,A=g|b;y[d>>>2]|=A<<24-d%4*8,d++}return u.create(y,d)}}(),i.enc.Base64url})}(encBase64url)),encBase64url.exports}var md5={exports:{}},hasRequiredMd5;function requireMd5(){return hasRequiredMd5||(hasRequiredMd5=1,function(n,a){(function(i,s){n.exports=s(requireCore())})(commonjsGlobal,function(i){return function(s){var o=i,u=o.lib,p=u.WordArray,x=u.Hasher,m=o.algo,c=[];(function(){for(var b=0;b<64;b++)c[b]=s.abs(s.sin(b+1))*4294967296|0})();var l=m.MD5=x.extend({_doReset:function(){this._hash=new p.init([1732584193,4023233417,2562383102,271733878])},_doProcessBlock:function(b,A){for(var F=0;F<16;F++){var C=A+F,E=b[C];b[C]=(E<<8|E>>>24)&16711935|(E<<24|E>>>8)&4278255360}var v=this._hash.words,_=b[A+0],S=b[A+1],R=b[A+2],B=b[A+3],k=b[A+4],D=b[A+5],w=b[A+6],P=b[A+7],I=b[A+8],M=b[A+9],O=b[A+10],H=b[A+11],V=b[A+12],U=b[A+13],W=b[A+14],$=b[A+15],j=v[0],L=v[1],q=v[2],N=v[3];j=y(j,L,q,N,_,7,c[0]),N=y(N,j,L,q,S,12,c[1]),q=y(q,N,j,L,R,17,c[2]),L=y(L,q,N,j,B,22,c[3]),j=y(j,L,q,N,k,7,c[4]),N=y(N,j,L,q,D,12,c[5]),q=y(q,N,j,L,w,17,c[6]),L=y(L,q,N,j,P,22,c[7]),j=y(j,L,q,N,I,7,c[8]),N=y(N,j,L,q,M,12,c[9]),q=y(q,N,j,L,O,17,c[10]),L=y(L,q,N,j,H,22,c[11]),j=y(j,L,q,N,V,7,c[12]),N=y(N,j,L,q,U,12,c[13]),q=y(q,N,j,L,W,17,c[14]),L=y(L,q,N,j,$,22,c[15]),j=d(j,L,q,N,S,5,c[16]),N=d(N,j,L,q,w,9,c[17]),q=d(q,N,j,L,H,14,c[18]),L=d(L,q,N,j,_,20,c[19]),j=d(j,L,q,N,D,5,c[20]),N=d(N,j,L,q,O,9,c[21]),q=d(q,N,j,L,$,14,c[22]),L=d(L,q,N,j,k,20,c[23]),j=d(j,L,q,N,M,5,c[24]),N=d(N,j,L,q,W,9,c[25]),q=d(q,N,j,L,B,14,c[26]),L=d(L,q,N,j,I,20,c[27]),j=d(j,L,q,N,U,5,c[28]),N=d(N,j,L,q,R,9,c[29]),q=d(q,N,j,L,P,14,c[30]),L=d(L,q,N,j,V,20,c[31]),j=h(j,L,q,N,D,4,c[32]),N=h(N,j,L,q,I,11,c[33]),q=h(q,N,j,L,H,16,c[34]),L=h(L,q,N,j,W,23,c[35]),j=h(j,L,q,N,S,4,c[36]),N=h(N,j,L,q,k,11,c[37]),q=h(q,N,j,L,P,16,c[38]),L=h(L,q,N,j,O,23,c[39]),j=h(j,L,q,N,U,4,c[40]),N=h(N,j,L,q,_,11,c[41]),q=h(q,N,j,L,B,16,c[42]),L=h(L,q,N,j,w,23,c[43]),j=h(j,L,q,N,M,4,c[44]),N=h(N,j,L,q,V,11,c[45]),q=h(q,N,j,L,$,16,c[46]),L=h(L,q,N,j,R,23,c[47]),j=g(j,L,q,N,_,6,c[48]),N=g(N,j,L,q,P,10,c[49]),q=g(q,N,j,L,W,15,c[50]),L=g(L,q,N,j,D,21,c[51]),j=g(j,L,q,N,V,6,c[52]),N=g(N,j,L,q,B,10,c[53]),q=g(q,N,j,L,O,15,c[54]),L=g(L,q,N,j,S,21,c[55]),j=g(j,L,q,N,I,6,c[56]),N=g(N,j,L,q,$,10,c[57]),q=g(q,N,j,L,w,15,c[58]),L=g(L,q,N,j,U,21,c[59]),j=g(j,L,q,N,k,6,c[60]),N=g(N,j,L,q,H,10,c[61]),q=g(q,N,j,L,R,15,c[62]),L=g(L,q,N,j,M,21,c[63]),v[0]=v[0]+j|0,v[1]=v[1]+L|0,v[2]=v[2]+q|0,v[3]=v[3]+N|0},_doFinalize:function(){var b=this._data,A=b.words,F=this._nDataBytes*8,C=b.sigBytes*8;A[C>>>5]|=128<<24-C%32;var E=s.floor(F/4294967296),v=F;A[(C+64>>>9<<4)+15]=(E<<8|E>>>24)&16711935|(E<<24|E>>>8)&4278255360,A[(C+64>>>9<<4)+14]=(v<<8|v>>>24)&16711935|(v<<24|v>>>8)&4278255360,b.sigBytes=(A.length+1)*4,this._process();for(var _=this._hash,S=_.words,R=0;R<4;R++){var B=S[R];S[R]=(B<<8|B>>>24)&16711935|(B<<24|B>>>8)&4278255360}return _},clone:function(){var b=x.clone.call(this);return b._hash=this._hash.clone(),b}});function y(b,A,F,C,E,v,_){var S=b+(A&F|~A&C)+E+_;return(S<<v|S>>>32-v)+A}function d(b,A,F,C,E,v,_){var S=b+(A&C|F&~C)+E+_;return(S<<v|S>>>32-v)+A}function h(b,A,F,C,E,v,_){var S=b+(A^F^C)+E+_;return(S<<v|S>>>32-v)+A}function g(b,A,F,C,E,v,_){var S=b+(F^(A|~C))+E+_;return(S<<v|S>>>32-v)+A}o.MD5=x._createHelper(l),o.HmacMD5=x._createHmacHelper(l)}(Math),i.MD5})}(md5)),md5.exports}var sha1={exports:{}},hasRequiredSha1;function requireSha1(){return hasRequiredSha1||(hasRequiredSha1=1,function(n,a){(function(i,s){n.exports=s(requireCore())})(commonjsGlobal,function(i){return function(){var s=i,o=s.lib,u=o.WordArray,p=o.Hasher,x=s.algo,m=[],c=x.SHA1=p.extend({_doReset:function(){this._hash=new u.init([1732584193,4023233417,2562383102,271733878,3285377520])},_doProcessBlock:function(l,y){for(var d=this._hash.words,h=d[0],g=d[1],b=d[2],A=d[3],F=d[4],C=0;C<80;C++){if(C<16)m[C]=l[y+C]|0;else{var E=m[C-3]^m[C-8]^m[C-14]^m[C-16];m[C]=E<<1|E>>>31}var v=(h<<5|h>>>27)+F+m[C];C<20?v+=(g&b|~g&A)+1518500249:C<40?v+=(g^b^A)+1859775393:C<60?v+=(g&b|g&A|b&A)-1894007588:v+=(g^b^A)-899497514,F=A,A=b,b=g<<30|g>>>2,g=h,h=v}d[0]=d[0]+h|0,d[1]=d[1]+g|0,d[2]=d[2]+b|0,d[3]=d[3]+A|0,d[4]=d[4]+F|0},_doFinalize:function(){var l=this._data,y=l.words,d=this._nDataBytes*8,h=l.sigBytes*8;return y[h>>>5]|=128<<24-h%32,y[(h+64>>>9<<4)+14]=Math.floor(d/4294967296),y[(h+64>>>9<<4)+15]=d,l.sigBytes=y.length*4,this._process(),this._hash},clone:function(){var l=p.clone.call(this);return l._hash=this._hash.clone(),l}});s.SHA1=p._createHelper(c),s.HmacSHA1=p._createHmacHelper(c)}(),i.SHA1})}(sha1)),sha1.exports}var sha256={exports:{}},hasRequiredSha256;function requireSha256(){return hasRequiredSha256||(hasRequiredSha256=1,function(n,a){(function(i,s){n.exports=s(requireCore())})(commonjsGlobal,function(i){return function(s){var o=i,u=o.lib,p=u.WordArray,x=u.Hasher,m=o.algo,c=[],l=[];(function(){function h(F){for(var C=s.sqrt(F),E=2;E<=C;E++)if(!(F%E))return!1;return!0}function g(F){return(F-(F|0))*4294967296|0}for(var b=2,A=0;A<64;)h(b)&&(A<8&&(c[A]=g(s.pow(b,1/2))),l[A]=g(s.pow(b,1/3)),A++),b++})();var y=[],d=m.SHA256=x.extend({_doReset:function(){this._hash=new p.init(c.slice(0))},_doProcessBlock:function(h,g){for(var b=this._hash.words,A=b[0],F=b[1],C=b[2],E=b[3],v=b[4],_=b[5],S=b[6],R=b[7],B=0;B<64;B++){if(B<16)y[B]=h[g+B]|0;else{var k=y[B-15],D=(k<<25|k>>>7)^(k<<14|k>>>18)^k>>>3,w=y[B-2],P=(w<<15|w>>>17)^(w<<13|w>>>19)^w>>>10;y[B]=D+y[B-7]+P+y[B-16]}var I=v&_^~v&S,M=A&F^A&C^F&C,O=(A<<30|A>>>2)^(A<<19|A>>>13)^(A<<10|A>>>22),H=(v<<26|v>>>6)^(v<<21|v>>>11)^(v<<7|v>>>25),V=R+H+I+l[B]+y[B],U=O+M;R=S,S=_,_=v,v=E+V|0,E=C,C=F,F=A,A=V+U|0}b[0]=b[0]+A|0,b[1]=b[1]+F|0,b[2]=b[2]+C|0,b[3]=b[3]+E|0,b[4]=b[4]+v|0,b[5]=b[5]+_|0,b[6]=b[6]+S|0,b[7]=b[7]+R|0},_doFinalize:function(){var h=this._data,g=h.words,b=this._nDataBytes*8,A=h.sigBytes*8;return g[A>>>5]|=128<<24-A%32,g[(A+64>>>9<<4)+14]=s.floor(b/4294967296),g[(A+64>>>9<<4)+15]=b,h.sigBytes=g.length*4,this._process(),this._hash},clone:function(){var h=x.clone.call(this);return h._hash=this._hash.clone(),h}});o.SHA256=x._createHelper(d),o.HmacSHA256=x._createHmacHelper(d)}(Math),i.SHA256})}(sha256)),sha256.exports}var sha224={exports:{}},hasRequiredSha224;function requireSha224(){return hasRequiredSha224||(hasRequiredSha224=1,function(n,a){(function(i,s,o){n.exports=s(requireCore(),requireSha256())})(commonjsGlobal,function(i){return function(){var s=i,o=s.lib,u=o.WordArray,p=s.algo,x=p.SHA256,m=p.SHA224=x.extend({_doReset:function(){this._hash=new u.init([3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428])},_doFinalize:function(){var c=x._doFinalize.call(this);return c.sigBytes-=4,c}});s.SHA224=x._createHelper(m),s.HmacSHA224=x._createHmacHelper(m)}(),i.SHA224})}(sha224)),sha224.exports}var sha512={exports:{}},hasRequiredSha512;function requireSha512(){return hasRequiredSha512||(hasRequiredSha512=1,function(n,a){(function(i,s,o){n.exports=s(requireCore(),requireX64Core())})(commonjsGlobal,function(i){return function(){var s=i,o=s.lib,u=o.Hasher,p=s.x64,x=p.Word,m=p.WordArray,c=s.algo;function l(){return x.create.apply(x,arguments)}var y=[l(1116352408,3609767458),l(1899447441,602891725),l(3049323471,3964484399),l(3921009573,2173295548),l(961987163,4081628472),l(1508970993,3053834265),l(2453635748,2937671579),l(2870763221,3664609560),l(3624381080,2734883394),l(310598401,1164996542),l(607225278,1323610764),l(1426881987,3590304994),l(1925078388,4068182383),l(2162078206,991336113),l(2614888103,633803317),l(3248222580,3479774868),l(3835390401,2666613458),l(4022224774,944711139),l(264347078,2341262773),l(604807628,2007800933),l(770255983,1495990901),l(1249150122,1856431235),l(1555081692,3175218132),l(1996064986,2198950837),l(2554220882,3999719339),l(2821834349,766784016),l(2952996808,2566594879),l(3210313671,3203337956),l(3336571891,1034457026),l(3584528711,2466948901),l(113926993,3758326383),l(338241895,168717936),l(666307205,1188179964),l(773529912,1546045734),l(1294757372,1522805485),l(1396182291,2643833823),l(1695183700,2343527390),l(1986661051,1014477480),l(2177026350,1206759142),l(2456956037,344077627),l(2730485921,1290863460),l(2820302411,3158454273),l(3259730800,3505952657),l(3345764771,106217008),l(3516065817,3606008344),l(3600352804,1432725776),l(4094571909,1467031594),l(275423344,851169720),l(430227734,3100823752),l(506948616,1363258195),l(659060556,3750685593),l(883997877,3785050280),l(958139571,3318307427),l(1322822218,3812723403),l(1537002063,2003034995),l(1747873779,3602036899),l(1955562222,1575990012),l(2024104815,1125592928),l(2227730452,2716904306),l(2361852424,442776044),l(2428436474,593698344),l(2756734187,3733110249),l(3204031479,2999351573),l(3329325298,3815920427),l(3391569614,3928383900),l(3515267271,566280711),l(3940187606,3454069534),l(4118630271,4000239992),l(116418474,1914138554),l(174292421,2731055270),l(289380356,3203993006),l(460393269,320620315),l(685471733,587496836),l(852142971,1086792851),l(1017036298,365543100),l(1126000580,2618297676),l(1288033470,3409855158),l(1501505948,4234509866),l(1607167915,987167468),l(1816402316,1246189591)],d=[];(function(){for(var g=0;g<80;g++)d[g]=l()})();var h=c.SHA512=u.extend({_doReset:function(){this._hash=new m.init([new x.init(1779033703,4089235720),new x.init(3144134277,2227873595),new x.init(1013904242,4271175723),new x.init(2773480762,1595750129),new x.init(1359893119,2917565137),new x.init(2600822924,725511199),new x.init(528734635,4215389547),new x.init(1541459225,327033209)])},_doProcessBlock:function(g,b){for(var A=this._hash.words,F=A[0],C=A[1],E=A[2],v=A[3],_=A[4],S=A[5],R=A[6],B=A[7],k=F.high,D=F.low,w=C.high,P=C.low,I=E.high,M=E.low,O=v.high,H=v.low,V=_.high,U=_.low,W=S.high,$=S.low,j=R.high,L=R.low,q=B.high,N=B.low,z=k,G=D,K=w,Q=P,ne=I,te=M,re=O,Y=H,X=V,ee=U,de=W,ie=$,se=j,oe=L,xe=q,ue=N,J=0;J<80;J++){var Z,ce,ye=d[J];if(J<16)ce=ye.high=g[b+J*2]|0,Z=ye.low=g[b+J*2+1]|0;else{var Ce=d[J-15],fe=Ce.high,he=Ce.low,Pe=(fe>>>1|he<<31)^(fe>>>8|he<<24)^fe>>>7,Ae=(he>>>1|fe<<31)^(he>>>8|fe<<24)^(he>>>7|fe<<25),be=d[J-2],pe=be.high,me=be.low,Me=(pe>>>19|me<<13)^(pe<<3|me>>>29)^pe>>>6,Se=(me>>>19|pe<<13)^(me<<3|pe>>>29)^(me>>>6|pe<<26),De=d[J-7],Oe=De.high,je=De.low,_e=d[J-16],qe=_e.high,Re=_e.low;Z=Ae+je,ce=Pe+Oe+(Z>>>0<Ae>>>0?1:0),Z=Z+Se,ce=ce+Me+(Z>>>0<Se>>>0?1:0),Z=Z+Re,ce=ce+qe+(Z>>>0<Re>>>0?1:0),ye.high=ce,ye.low=Z}var Ne=X&de^~X&se,Be=ee&ie^~ee&oe,Le=z&K^z&ne^K&ne,He=G&Q^G&te^Q&te,Ve=(z>>>28|G<<4)^(z<<30|G>>>2)^(z<<25|G>>>7),Fe=(G>>>28|z<<4)^(G<<30|z>>>2)^(G<<25|z>>>7),Ue=(X>>>14|ee<<18)^(X>>>18|ee<<14)^(X<<23|ee>>>9),$e=(ee>>>14|X<<18)^(ee>>>18|X<<14)^(ee<<23|X>>>9),we=y[J],ze=we.high,Ie=we.low,ae=ue+$e,le=xe+Ue+(ae>>>0<ue>>>0?1:0),ae=ae+Be,le=le+Ne+(ae>>>0<Be>>>0?1:0),ae=ae+Ie,le=le+ze+(ae>>>0<Ie>>>0?1:0),ae=ae+Z,le=le+ce+(ae>>>0<Z>>>0?1:0),ke=Fe+He,We=Ve+Le+(ke>>>0<Fe>>>0?1:0);xe=se,ue=oe,se=de,oe=ie,de=X,ie=ee,ee=Y+ae|0,X=re+le+(ee>>>0<Y>>>0?1:0)|0,re=ne,Y=te,ne=K,te=Q,K=z,Q=G,G=ae+ke|0,z=le+We+(G>>>0<ae>>>0?1:0)|0}D=F.low=D+G,F.high=k+z+(D>>>0<G>>>0?1:0),P=C.low=P+Q,C.high=w+K+(P>>>0<Q>>>0?1:0),M=E.low=M+te,E.high=I+ne+(M>>>0<te>>>0?1:0),H=v.low=H+Y,v.high=O+re+(H>>>0<Y>>>0?1:0),U=_.low=U+ee,_.high=V+X+(U>>>0<ee>>>0?1:0),$=S.low=$+ie,S.high=W+de+($>>>0<ie>>>0?1:0),L=R.low=L+oe,R.high=j+se+(L>>>0<oe>>>0?1:0),N=B.low=N+ue,B.high=q+xe+(N>>>0<ue>>>0?1:0)},_doFinalize:function(){var g=this._data,b=g.words,A=this._nDataBytes*8,F=g.sigBytes*8;b[F>>>5]|=128<<24-F%32,b[(F+128>>>10<<5)+30]=Math.floor(A/4294967296),b[(F+128>>>10<<5)+31]=A,g.sigBytes=b.length*4,this._process();var C=this._hash.toX32();return C},clone:function(){var g=u.clone.call(this);return g._hash=this._hash.clone(),g},blockSize:1024/32});s.SHA512=u._createHelper(h),s.HmacSHA512=u._createHmacHelper(h)}(),i.SHA512})}(sha512)),sha512.exports}var sha384={exports:{}},hasRequiredSha384;function requireSha384(){return hasRequiredSha384||(hasRequiredSha384=1,function(n,a){(function(i,s,o){n.exports=s(requireCore(),requireX64Core(),requireSha512())})(commonjsGlobal,function(i){return function(){var s=i,o=s.x64,u=o.Word,p=o.WordArray,x=s.algo,m=x.SHA512,c=x.SHA384=m.extend({_doReset:function(){this._hash=new p.init([new u.init(3418070365,3238371032),new u.init(1654270250,914150663),new u.init(2438529370,812702999),new u.init(355462360,4144912697),new u.init(1731405415,4290775857),new u.init(2394180231,1750603025),new u.init(3675008525,1694076839),new u.init(1203062813,3204075428)])},_doFinalize:function(){var l=m._doFinalize.call(this);return l.sigBytes-=16,l}});s.SHA384=m._createHelper(c),s.HmacSHA384=m._createHmacHelper(c)}(),i.SHA384})}(sha384)),sha384.exports}var sha3={exports:{}},hasRequiredSha3;function requireSha3(){return hasRequiredSha3||(hasRequiredSha3=1,function(n,a){(function(i,s,o){n.exports=s(requireCore(),requireX64Core())})(commonjsGlobal,function(i){return function(s){var o=i,u=o.lib,p=u.WordArray,x=u.Hasher,m=o.x64,c=m.Word,l=o.algo,y=[],d=[],h=[];(function(){for(var A=1,F=0,C=0;C<24;C++){y[A+5*F]=(C+1)*(C+2)/2%64;var E=F%5,v=(2*A+3*F)%5;A=E,F=v}for(var A=0;A<5;A++)for(var F=0;F<5;F++)d[A+5*F]=F+(2*A+3*F)%5*5;for(var _=1,S=0;S<24;S++){for(var R=0,B=0,k=0;k<7;k++){if(_&1){var D=(1<<k)-1;D<32?B^=1<<D:R^=1<<D-32}_&128?_=_<<1^113:_<<=1}h[S]=c.create(R,B)}})();var g=[];(function(){for(var A=0;A<25;A++)g[A]=c.create()})();var b=l.SHA3=x.extend({cfg:x.cfg.extend({outputLength:512}),_doReset:function(){for(var A=this._state=[],F=0;F<25;F++)A[F]=new c.init;this.blockSize=(1600-2*this.cfg.outputLength)/32},_doProcessBlock:function(A,F){for(var C=this._state,E=this.blockSize/2,v=0;v<E;v++){var _=A[F+2*v],S=A[F+2*v+1];_=(_<<8|_>>>24)&16711935|(_<<24|_>>>8)&4278255360,S=(S<<8|S>>>24)&16711935|(S<<24|S>>>8)&4278255360;var R=C[v];R.high^=S,R.low^=_}for(var B=0;B<24;B++){for(var k=0;k<5;k++){for(var D=0,w=0,P=0;P<5;P++){var R=C[k+5*P];D^=R.high,w^=R.low}var I=g[k];I.high=D,I.low=w}for(var k=0;k<5;k++)for(var M=g[(k+4)%5],O=g[(k+1)%5],H=O.high,V=O.low,D=M.high^(H<<1|V>>>31),w=M.low^(V<<1|H>>>31),P=0;P<5;P++){var R=C[k+5*P];R.high^=D,R.low^=w}for(var U=1;U<25;U++){var D,w,R=C[U],W=R.high,$=R.low,j=y[U];j<32?(D=W<<j|$>>>32-j,w=$<<j|W>>>32-j):(D=$<<j-32|W>>>64-j,w=W<<j-32|$>>>64-j);var L=g[d[U]];L.high=D,L.low=w}var q=g[0],N=C[0];q.high=N.high,q.low=N.low;for(var k=0;k<5;k++)for(var P=0;P<5;P++){var U=k+5*P,R=C[U],z=g[U],G=g[(k+1)%5+5*P],K=g[(k+2)%5+5*P];R.high=z.high^~G.high&K.high,R.low=z.low^~G.low&K.low}var R=C[0],Q=h[B];R.high^=Q.high,R.low^=Q.low}},_doFinalize:function(){var A=this._data,F=A.words;this._nDataBytes*8;var C=A.sigBytes*8,E=this.blockSize*32;F[C>>>5]|=1<<24-C%32,F[(s.ceil((C+1)/E)*E>>>5)-1]|=128,A.sigBytes=F.length*4,this._process();for(var v=this._state,_=this.cfg.outputLength/8,S=_/8,R=[],B=0;B<S;B++){var k=v[B],D=k.high,w=k.low;D=(D<<8|D>>>24)&16711935|(D<<24|D>>>8)&4278255360,w=(w<<8|w>>>24)&16711935|(w<<24|w>>>8)&4278255360,R.push(w),R.push(D)}return new p.init(R,_)},clone:function(){for(var A=x.clone.call(this),F=A._state=this._state.slice(0),C=0;C<25;C++)F[C]=F[C].clone();return A}});o.SHA3=x._createHelper(b),o.HmacSHA3=x._createHmacHelper(b)}(Math),i.SHA3})}(sha3)),sha3.exports}var ripemd160={exports:{}},hasRequiredRipemd160;function requireRipemd160(){return hasRequiredRipemd160||(hasRequiredRipemd160=1,function(n,a){(function(i,s){n.exports=s(requireCore())})(commonjsGlobal,function(i){/** @preserve
			(c) 2012 by Cédric Mesnil. All rights reserved.

			Redistribution and use in source and binary forms, with or without modification, are permitted provided that the following conditions are met:

			    - Redistributions of source code must retain the above copyright notice, this list of conditions and the following disclaimer.
			    - Redistributions in binary form must reproduce the above copyright notice, this list of conditions and the following disclaimer in the documentation and/or other materials provided with the distribution.

			THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
			*/return function(s){var o=i,u=o.lib,p=u.WordArray,x=u.Hasher,m=o.algo,c=p.create([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13]),l=p.create([5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11]),y=p.create([11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6]),d=p.create([8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11]),h=p.create([0,1518500249,1859775393,2400959708,2840853838]),g=p.create([1352829926,1548603684,1836072691,2053994217,0]),b=m.RIPEMD160=x.extend({_doReset:function(){this._hash=p.create([1732584193,4023233417,2562383102,271733878,3285377520])},_doProcessBlock:function(S,R){for(var B=0;B<16;B++){var k=R+B,D=S[k];S[k]=(D<<8|D>>>24)&16711935|(D<<24|D>>>8)&4278255360}var w=this._hash.words,P=h.words,I=g.words,M=c.words,O=l.words,H=y.words,V=d.words,U,W,$,j,L,q,N,z,G,K;q=U=w[0],N=W=w[1],z=$=w[2],G=j=w[3],K=L=w[4];for(var Q,B=0;B<80;B+=1)Q=U+S[R+M[B]]|0,B<16?Q+=A(W,$,j)+P[0]:B<32?Q+=F(W,$,j)+P[1]:B<48?Q+=C(W,$,j)+P[2]:B<64?Q+=E(W,$,j)+P[3]:Q+=v(W,$,j)+P[4],Q=Q|0,Q=_(Q,H[B]),Q=Q+L|0,U=L,L=j,j=_($,10),$=W,W=Q,Q=q+S[R+O[B]]|0,B<16?Q+=v(N,z,G)+I[0]:B<32?Q+=E(N,z,G)+I[1]:B<48?Q+=C(N,z,G)+I[2]:B<64?Q+=F(N,z,G)+I[3]:Q+=A(N,z,G)+I[4],Q=Q|0,Q=_(Q,V[B]),Q=Q+K|0,q=K,K=G,G=_(z,10),z=N,N=Q;Q=w[1]+$+G|0,w[1]=w[2]+j+K|0,w[2]=w[3]+L+q|0,w[3]=w[4]+U+N|0,w[4]=w[0]+W+z|0,w[0]=Q},_doFinalize:function(){var S=this._data,R=S.words,B=this._nDataBytes*8,k=S.sigBytes*8;R[k>>>5]|=128<<24-k%32,R[(k+64>>>9<<4)+14]=(B<<8|B>>>24)&16711935|(B<<24|B>>>8)&4278255360,S.sigBytes=(R.length+1)*4,this._process();for(var D=this._hash,w=D.words,P=0;P<5;P++){var I=w[P];w[P]=(I<<8|I>>>24)&16711935|(I<<24|I>>>8)&4278255360}return D},clone:function(){var S=x.clone.call(this);return S._hash=this._hash.clone(),S}});function A(S,R,B){return S^R^B}function F(S,R,B){return S&R|~S&B}function C(S,R,B){return(S|~R)^B}function E(S,R,B){return S&B|R&~B}function v(S,R,B){return S^(R|~B)}function _(S,R){return S<<R|S>>>32-R}o.RIPEMD160=x._createHelper(b),o.HmacRIPEMD160=x._createHmacHelper(b)}(),i.RIPEMD160})}(ripemd160)),ripemd160.exports}var hmac={exports:{}},hasRequiredHmac;function requireHmac(){return hasRequiredHmac||(hasRequiredHmac=1,function(n,a){(function(i,s){n.exports=s(requireCore())})(commonjsGlobal,function(i){(function(){var s=i,o=s.lib,u=o.Base,p=s.enc,x=p.Utf8,m=s.algo;m.HMAC=u.extend({init:function(c,l){c=this._hasher=new c.init,typeof l=="string"&&(l=x.parse(l));var y=c.blockSize,d=y*4;l.sigBytes>d&&(l=c.finalize(l)),l.clamp();for(var h=this._oKey=l.clone(),g=this._iKey=l.clone(),b=h.words,A=g.words,F=0;F<y;F++)b[F]^=1549556828,A[F]^=909522486;h.sigBytes=g.sigBytes=d,this.reset()},reset:function(){var c=this._hasher;c.reset(),c.update(this._iKey)},update:function(c){return this._hasher.update(c),this},finalize:function(c){var l=this._hasher,y=l.finalize(c);l.reset();var d=l.finalize(this._oKey.clone().concat(y));return d}})})()})}(hmac)),hmac.exports}var pbkdf2={exports:{}},hasRequiredPbkdf2;function requirePbkdf2(){return hasRequiredPbkdf2||(hasRequiredPbkdf2=1,function(n,a){(function(i,s,o){n.exports=s(requireCore(),requireSha256(),requireHmac())})(commonjsGlobal,function(i){return function(){var s=i,o=s.lib,u=o.Base,p=o.WordArray,x=s.algo,m=x.SHA256,c=x.HMAC,l=x.PBKDF2=u.extend({cfg:u.extend({keySize:128/32,hasher:m,iterations:25e4}),init:function(y){this.cfg=this.cfg.extend(y)},compute:function(y,d){for(var h=this.cfg,g=c.create(h.hasher,y),b=p.create(),A=p.create([1]),F=b.words,C=A.words,E=h.keySize,v=h.iterations;F.length<E;){var _=g.update(d).finalize(A);g.reset();for(var S=_.words,R=S.length,B=_,k=1;k<v;k++){B=g.finalize(B),g.reset();for(var D=B.words,w=0;w<R;w++)S[w]^=D[w]}b.concat(_),C[0]++}return b.sigBytes=E*4,b}});s.PBKDF2=function(y,d,h){return l.create(h).compute(y,d)}}(),i.PBKDF2})}(pbkdf2)),pbkdf2.exports}var evpkdf={exports:{}},hasRequiredEvpkdf;function requireEvpkdf(){return hasRequiredEvpkdf||(hasRequiredEvpkdf=1,function(n,a){(function(i,s,o){n.exports=s(requireCore(),requireSha1(),requireHmac())})(commonjsGlobal,function(i){return function(){var s=i,o=s.lib,u=o.Base,p=o.WordArray,x=s.algo,m=x.MD5,c=x.EvpKDF=u.extend({cfg:u.extend({keySize:128/32,hasher:m,iterations:1}),init:function(l){this.cfg=this.cfg.extend(l)},compute:function(l,y){for(var d,h=this.cfg,g=h.hasher.create(),b=p.create(),A=b.words,F=h.keySize,C=h.iterations;A.length<F;){d&&g.update(d),d=g.update(l).finalize(y),g.reset();for(var E=1;E<C;E++)d=g.finalize(d),g.reset();b.concat(d)}return b.sigBytes=F*4,b}});s.EvpKDF=function(l,y,d){return c.create(d).compute(l,y)}}(),i.EvpKDF})}(evpkdf)),evpkdf.exports}var cipherCore={exports:{}},hasRequiredCipherCore;function requireCipherCore(){return hasRequiredCipherCore||(hasRequiredCipherCore=1,function(n,a){(function(i,s,o){n.exports=s(requireCore(),requireEvpkdf())})(commonjsGlobal,function(i){i.lib.Cipher||function(s){var o=i,u=o.lib,p=u.Base,x=u.WordArray,m=u.BufferedBlockAlgorithm,c=o.enc;c.Utf8;var l=c.Base64,y=o.algo,d=y.EvpKDF,h=u.Cipher=m.extend({cfg:p.extend(),createEncryptor:function(D,w){return this.create(this._ENC_XFORM_MODE,D,w)},createDecryptor:function(D,w){return this.create(this._DEC_XFORM_MODE,D,w)},init:function(D,w,P){this.cfg=this.cfg.extend(P),this._xformMode=D,this._key=w,this.reset()},reset:function(){m.reset.call(this),this._doReset()},process:function(D){return this._append(D),this._process()},finalize:function(D){D&&this._append(D);var w=this._doFinalize();return w},keySize:128/32,ivSize:128/32,_ENC_XFORM_MODE:1,_DEC_XFORM_MODE:2,_createHelper:function(){function D(w){return typeof w=="string"?k:S}return function(w){return{encrypt:function(P,I,M){return D(I).encrypt(w,P,I,M)},decrypt:function(P,I,M){return D(I).decrypt(w,P,I,M)}}}}()});u.StreamCipher=h.extend({_doFinalize:function(){var D=this._process(!0);return D},blockSize:1});var g=o.mode={},b=u.BlockCipherMode=p.extend({createEncryptor:function(D,w){return this.Encryptor.create(D,w)},createDecryptor:function(D,w){return this.Decryptor.create(D,w)},init:function(D,w){this._cipher=D,this._iv=w}}),A=g.CBC=function(){var D=b.extend();D.Encryptor=D.extend({processBlock:function(P,I){var M=this._cipher,O=M.blockSize;w.call(this,P,I,O),M.encryptBlock(P,I),this._prevBlock=P.slice(I,I+O)}}),D.Decryptor=D.extend({processBlock:function(P,I){var M=this._cipher,O=M.blockSize,H=P.slice(I,I+O);M.decryptBlock(P,I),w.call(this,P,I,O),this._prevBlock=H}});function w(P,I,M){var O,H=this._iv;H?(O=H,this._iv=s):O=this._prevBlock;for(var V=0;V<M;V++)P[I+V]^=O[V]}return D}(),F=o.pad={},C=F.Pkcs7={pad:function(D,w){for(var P=w*4,I=P-D.sigBytes%P,M=I<<24|I<<16|I<<8|I,O=[],H=0;H<I;H+=4)O.push(M);var V=x.create(O,I);D.concat(V)},unpad:function(D){var w=D.words[D.sigBytes-1>>>2]&255;D.sigBytes-=w}};u.BlockCipher=h.extend({cfg:h.cfg.extend({mode:A,padding:C}),reset:function(){var D;h.reset.call(this);var w=this.cfg,P=w.iv,I=w.mode;this._xformMode==this._ENC_XFORM_MODE?D=I.createEncryptor:(D=I.createDecryptor,this._minBufferSize=1),this._mode&&this._mode.__creator==D?this._mode.init(this,P&&P.words):(this._mode=D.call(I,this,P&&P.words),this._mode.__creator=D)},_doProcessBlock:function(D,w){this._mode.processBlock(D,w)},_doFinalize:function(){var D,w=this.cfg.padding;return this._xformMode==this._ENC_XFORM_MODE?(w.pad(this._data,this.blockSize),D=this._process(!0)):(D=this._process(!0),w.unpad(D)),D},blockSize:128/32});var E=u.CipherParams=p.extend({init:function(D){this.mixIn(D)},toString:function(D){return(D||this.formatter).stringify(this)}}),v=o.format={},_=v.OpenSSL={stringify:function(D){var w,P=D.ciphertext,I=D.salt;return I?w=x.create([1398893684,1701076831]).concat(I).concat(P):w=P,w.toString(l)},parse:function(D){var w,P=l.parse(D),I=P.words;return I[0]==1398893684&&I[1]==1701076831&&(w=x.create(I.slice(2,4)),I.splice(0,4),P.sigBytes-=16),E.create({ciphertext:P,salt:w})}},S=u.SerializableCipher=p.extend({cfg:p.extend({format:_}),encrypt:function(D,w,P,I){I=this.cfg.extend(I);var M=D.createEncryptor(P,I),O=M.finalize(w),H=M.cfg;return E.create({ciphertext:O,key:P,iv:H.iv,algorithm:D,mode:H.mode,padding:H.padding,blockSize:D.blockSize,formatter:I.format})},decrypt:function(D,w,P,I){I=this.cfg.extend(I),w=this._parse(w,I.format);var M=D.createDecryptor(P,I).finalize(w.ciphertext);return M},_parse:function(D,w){return typeof D=="string"?w.parse(D,this):D}}),R=o.kdf={},B=R.OpenSSL={execute:function(D,w,P,I,M){if(I||(I=x.random(64/8)),M)var O=d.create({keySize:w+P,hasher:M}).compute(D,I);else var O=d.create({keySize:w+P}).compute(D,I);var H=x.create(O.words.slice(w),P*4);return O.sigBytes=w*4,E.create({key:O,iv:H,salt:I})}},k=u.PasswordBasedCipher=S.extend({cfg:S.cfg.extend({kdf:B}),encrypt:function(D,w,P,I){I=this.cfg.extend(I);var M=I.kdf.execute(P,D.keySize,D.ivSize,I.salt,I.hasher);I.iv=M.iv;var O=S.encrypt.call(this,D,w,M.key,I);return O.mixIn(M),O},decrypt:function(D,w,P,I){I=this.cfg.extend(I),w=this._parse(w,I.format);var M=I.kdf.execute(P,D.keySize,D.ivSize,w.salt,I.hasher);I.iv=M.iv;var O=S.decrypt.call(this,D,w,M.key,I);return O}})}()})}(cipherCore)),cipherCore.exports}var modeCfb={exports:{}},hasRequiredModeCfb;function requireModeCfb(){return hasRequiredModeCfb||(hasRequiredModeCfb=1,function(n,a){(function(i,s,o){n.exports=s(requireCore(),requireCipherCore())})(commonjsGlobal,function(i){return i.mode.CFB=function(){var s=i.lib.BlockCipherMode.extend();s.Encryptor=s.extend({processBlock:function(u,p){var x=this._cipher,m=x.blockSize;o.call(this,u,p,m,x),this._prevBlock=u.slice(p,p+m)}}),s.Decryptor=s.extend({processBlock:function(u,p){var x=this._cipher,m=x.blockSize,c=u.slice(p,p+m);o.call(this,u,p,m,x),this._prevBlock=c}});function o(u,p,x,m){var c,l=this._iv;l?(c=l.slice(0),this._iv=void 0):c=this._prevBlock,m.encryptBlock(c,0);for(var y=0;y<x;y++)u[p+y]^=c[y]}return s}(),i.mode.CFB})}(modeCfb)),modeCfb.exports}var modeCtr={exports:{}},hasRequiredModeCtr;function requireModeCtr(){return hasRequiredModeCtr||(hasRequiredModeCtr=1,function(n,a){(function(i,s,o){n.exports=s(requireCore(),requireCipherCore())})(commonjsGlobal,function(i){return i.mode.CTR=function(){var s=i.lib.BlockCipherMode.extend(),o=s.Encryptor=s.extend({processBlock:function(u,p){var x=this._cipher,m=x.blockSize,c=this._iv,l=this._counter;c&&(l=this._counter=c.slice(0),this._iv=void 0);var y=l.slice(0);x.encryptBlock(y,0),l[m-1]=l[m-1]+1|0;for(var d=0;d<m;d++)u[p+d]^=y[d]}});return s.Decryptor=o,s}(),i.mode.CTR})}(modeCtr)),modeCtr.exports}var modeCtrGladman={exports:{}},hasRequiredModeCtrGladman;function requireModeCtrGladman(){return hasRequiredModeCtrGladman||(hasRequiredModeCtrGladman=1,function(n,a){(function(i,s,o){n.exports=s(requireCore(),requireCipherCore())})(commonjsGlobal,function(i){/** @preserve
 * Counter block mode compatible with  Dr Brian Gladman fileenc.c
 * derived from CryptoJS.mode.CTR
 * Jan Hruby jhruby.web@gmail.com
 */return i.mode.CTRGladman=function(){var s=i.lib.BlockCipherMode.extend();function o(x){if((x>>24&255)===255){var m=x>>16&255,c=x>>8&255,l=x&255;m===255?(m=0,c===255?(c=0,l===255?l=0:++l):++c):++m,x=0,x+=m<<16,x+=c<<8,x+=l}else x+=1<<24;return x}function u(x){return(x[0]=o(x[0]))===0&&(x[1]=o(x[1])),x}var p=s.Encryptor=s.extend({processBlock:function(x,m){var c=this._cipher,l=c.blockSize,y=this._iv,d=this._counter;y&&(d=this._counter=y.slice(0),this._iv=void 0),u(d);var h=d.slice(0);c.encryptBlock(h,0);for(var g=0;g<l;g++)x[m+g]^=h[g]}});return s.Decryptor=p,s}(),i.mode.CTRGladman})}(modeCtrGladman)),modeCtrGladman.exports}var modeOfb={exports:{}},hasRequiredModeOfb;function requireModeOfb(){return hasRequiredModeOfb||(hasRequiredModeOfb=1,function(n,a){(function(i,s,o){n.exports=s(requireCore(),requireCipherCore())})(commonjsGlobal,function(i){return i.mode.OFB=function(){var s=i.lib.BlockCipherMode.extend(),o=s.Encryptor=s.extend({processBlock:function(u,p){var x=this._cipher,m=x.blockSize,c=this._iv,l=this._keystream;c&&(l=this._keystream=c.slice(0),this._iv=void 0),x.encryptBlock(l,0);for(var y=0;y<m;y++)u[p+y]^=l[y]}});return s.Decryptor=o,s}(),i.mode.OFB})}(modeOfb)),modeOfb.exports}var modeEcb={exports:{}},hasRequiredModeEcb;function requireModeEcb(){return hasRequiredModeEcb||(hasRequiredModeEcb=1,function(n,a){(function(i,s,o){n.exports=s(requireCore(),requireCipherCore())})(commonjsGlobal,function(i){return i.mode.ECB=function(){var s=i.lib.BlockCipherMode.extend();return s.Encryptor=s.extend({processBlock:function(o,u){this._cipher.encryptBlock(o,u)}}),s.Decryptor=s.extend({processBlock:function(o,u){this._cipher.decryptBlock(o,u)}}),s}(),i.mode.ECB})}(modeEcb)),modeEcb.exports}var padAnsix923={exports:{}},hasRequiredPadAnsix923;function requirePadAnsix923(){return hasRequiredPadAnsix923||(hasRequiredPadAnsix923=1,function(n,a){(function(i,s,o){n.exports=s(requireCore(),requireCipherCore())})(commonjsGlobal,function(i){return i.pad.AnsiX923={pad:function(s,o){var u=s.sigBytes,p=o*4,x=p-u%p,m=u+x-1;s.clamp(),s.words[m>>>2]|=x<<24-m%4*8,s.sigBytes+=x},unpad:function(s){var o=s.words[s.sigBytes-1>>>2]&255;s.sigBytes-=o}},i.pad.Ansix923})}(padAnsix923)),padAnsix923.exports}var padIso10126={exports:{}},hasRequiredPadIso10126;function requirePadIso10126(){return hasRequiredPadIso10126||(hasRequiredPadIso10126=1,function(n,a){(function(i,s,o){n.exports=s(requireCore(),requireCipherCore())})(commonjsGlobal,function(i){return i.pad.Iso10126={pad:function(s,o){var u=o*4,p=u-s.sigBytes%u;s.concat(i.lib.WordArray.random(p-1)).concat(i.lib.WordArray.create([p<<24],1))},unpad:function(s){var o=s.words[s.sigBytes-1>>>2]&255;s.sigBytes-=o}},i.pad.Iso10126})}(padIso10126)),padIso10126.exports}var padIso97971={exports:{}},hasRequiredPadIso97971;function requirePadIso97971(){return hasRequiredPadIso97971||(hasRequiredPadIso97971=1,function(n,a){(function(i,s,o){n.exports=s(requireCore(),requireCipherCore())})(commonjsGlobal,function(i){return i.pad.Iso97971={pad:function(s,o){s.concat(i.lib.WordArray.create([2147483648],1)),i.pad.ZeroPadding.pad(s,o)},unpad:function(s){i.pad.ZeroPadding.unpad(s),s.sigBytes--}},i.pad.Iso97971})}(padIso97971)),padIso97971.exports}var padZeropadding={exports:{}},hasRequiredPadZeropadding;function requirePadZeropadding(){return hasRequiredPadZeropadding||(hasRequiredPadZeropadding=1,function(n,a){(function(i,s,o){n.exports=s(requireCore(),requireCipherCore())})(commonjsGlobal,function(i){return i.pad.ZeroPadding={pad:function(s,o){var u=o*4;s.clamp(),s.sigBytes+=u-(s.sigBytes%u||u)},unpad:function(s){for(var o=s.words,u=s.sigBytes-1,u=s.sigBytes-1;u>=0;u--)if(o[u>>>2]>>>24-u%4*8&255){s.sigBytes=u+1;break}}},i.pad.ZeroPadding})}(padZeropadding)),padZeropadding.exports}var padNopadding={exports:{}},hasRequiredPadNopadding;function requirePadNopadding(){return hasRequiredPadNopadding||(hasRequiredPadNopadding=1,function(n,a){(function(i,s,o){n.exports=s(requireCore(),requireCipherCore())})(commonjsGlobal,function(i){return i.pad.NoPadding={pad:function(){},unpad:function(){}},i.pad.NoPadding})}(padNopadding)),padNopadding.exports}var formatHex={exports:{}},hasRequiredFormatHex;function requireFormatHex(){return hasRequiredFormatHex||(hasRequiredFormatHex=1,function(n,a){(function(i,s,o){n.exports=s(requireCore(),requireCipherCore())})(commonjsGlobal,function(i){return function(s){var o=i,u=o.lib,p=u.CipherParams,x=o.enc,m=x.Hex,c=o.format;c.Hex={stringify:function(l){return l.ciphertext.toString(m)},parse:function(l){var y=m.parse(l);return p.create({ciphertext:y})}}}(),i.format.Hex})}(formatHex)),formatHex.exports}var aes={exports:{}},hasRequiredAes;function requireAes(){return hasRequiredAes||(hasRequiredAes=1,function(n,a){(function(i,s,o){n.exports=s(requireCore(),requireEncBase64(),requireMd5(),requireEvpkdf(),requireCipherCore())})(commonjsGlobal,function(i){return function(){var s=i,o=s.lib,u=o.BlockCipher,p=s.algo,x=[],m=[],c=[],l=[],y=[],d=[],h=[],g=[],b=[],A=[];(function(){for(var E=[],v=0;v<256;v++)v<128?E[v]=v<<1:E[v]=v<<1^283;for(var _=0,S=0,v=0;v<256;v++){var R=S^S<<1^S<<2^S<<3^S<<4;R=R>>>8^R&255^99,x[_]=R,m[R]=_;var B=E[_],k=E[B],D=E[k],w=E[R]*257^R*16843008;c[_]=w<<24|w>>>8,l[_]=w<<16|w>>>16,y[_]=w<<8|w>>>24,d[_]=w;var w=D*16843009^k*65537^B*257^_*16843008;h[R]=w<<24|w>>>8,g[R]=w<<16|w>>>16,b[R]=w<<8|w>>>24,A[R]=w,_?(_=B^E[E[E[D^B]]],S^=E[E[S]]):_=S=1}})();var F=[0,1,2,4,8,16,32,64,128,27,54],C=p.AES=u.extend({_doReset:function(){var E;if(!(this._nRounds&&this._keyPriorReset===this._key)){for(var v=this._keyPriorReset=this._key,_=v.words,S=v.sigBytes/4,R=this._nRounds=S+6,B=(R+1)*4,k=this._keySchedule=[],D=0;D<B;D++)D<S?k[D]=_[D]:(E=k[D-1],D%S?S>6&&D%S==4&&(E=x[E>>>24]<<24|x[E>>>16&255]<<16|x[E>>>8&255]<<8|x[E&255]):(E=E<<8|E>>>24,E=x[E>>>24]<<24|x[E>>>16&255]<<16|x[E>>>8&255]<<8|x[E&255],E^=F[D/S|0]<<24),k[D]=k[D-S]^E);for(var w=this._invKeySchedule=[],P=0;P<B;P++){var D=B-P;if(P%4)var E=k[D];else var E=k[D-4];P<4||D<=4?w[P]=E:w[P]=h[x[E>>>24]]^g[x[E>>>16&255]]^b[x[E>>>8&255]]^A[x[E&255]]}}},encryptBlock:function(E,v){this._doCryptBlock(E,v,this._keySchedule,c,l,y,d,x)},decryptBlock:function(E,v){var _=E[v+1];E[v+1]=E[v+3],E[v+3]=_,this._doCryptBlock(E,v,this._invKeySchedule,h,g,b,A,m);var _=E[v+1];E[v+1]=E[v+3],E[v+3]=_},_doCryptBlock:function(E,v,_,S,R,B,k,D){for(var w=this._nRounds,P=E[v]^_[0],I=E[v+1]^_[1],M=E[v+2]^_[2],O=E[v+3]^_[3],H=4,V=1;V<w;V++){var U=S[P>>>24]^R[I>>>16&255]^B[M>>>8&255]^k[O&255]^_[H++],W=S[I>>>24]^R[M>>>16&255]^B[O>>>8&255]^k[P&255]^_[H++],$=S[M>>>24]^R[O>>>16&255]^B[P>>>8&255]^k[I&255]^_[H++],j=S[O>>>24]^R[P>>>16&255]^B[I>>>8&255]^k[M&255]^_[H++];P=U,I=W,M=$,O=j}var U=(D[P>>>24]<<24|D[I>>>16&255]<<16|D[M>>>8&255]<<8|D[O&255])^_[H++],W=(D[I>>>24]<<24|D[M>>>16&255]<<16|D[O>>>8&255]<<8|D[P&255])^_[H++],$=(D[M>>>24]<<24|D[O>>>16&255]<<16|D[P>>>8&255]<<8|D[I&255])^_[H++],j=(D[O>>>24]<<24|D[P>>>16&255]<<16|D[I>>>8&255]<<8|D[M&255])^_[H++];E[v]=U,E[v+1]=W,E[v+2]=$,E[v+3]=j},keySize:256/32});s.AES=u._createHelper(C)}(),i.AES})}(aes)),aes.exports}var tripledes={exports:{}},hasRequiredTripledes;function requireTripledes(){return hasRequiredTripledes||(hasRequiredTripledes=1,function(n,a){(function(i,s,o){n.exports=s(requireCore(),requireEncBase64(),requireMd5(),requireEvpkdf(),requireCipherCore())})(commonjsGlobal,function(i){return function(){var s=i,o=s.lib,u=o.WordArray,p=o.BlockCipher,x=s.algo,m=[57,49,41,33,25,17,9,1,58,50,42,34,26,18,10,2,59,51,43,35,27,19,11,3,60,52,44,36,63,55,47,39,31,23,15,7,62,54,46,38,30,22,14,6,61,53,45,37,29,21,13,5,28,20,12,4],c=[14,17,11,24,1,5,3,28,15,6,21,10,23,19,12,4,26,8,16,7,27,20,13,2,41,52,31,37,47,55,30,40,51,45,33,48,44,49,39,56,34,53,46,42,50,36,29,32],l=[1,2,4,6,8,10,12,14,15,17,19,21,23,25,27,28],y=[{0:8421888,268435456:32768,536870912:8421378,805306368:2,1073741824:512,1342177280:8421890,1610612736:8389122,1879048192:8388608,2147483648:514,2415919104:8389120,2684354560:33280,2952790016:8421376,3221225472:32770,3489660928:8388610,3758096384:0,4026531840:33282,134217728:0,402653184:8421890,671088640:33282,939524096:32768,1207959552:8421888,1476395008:512,1744830464:8421378,2013265920:2,2281701376:8389120,2550136832:33280,2818572288:8421376,3087007744:8389122,3355443200:8388610,3623878656:32770,3892314112:514,4160749568:8388608,1:32768,268435457:2,536870913:8421888,805306369:8388608,1073741825:8421378,1342177281:33280,1610612737:512,1879048193:8389122,2147483649:8421890,2415919105:8421376,2684354561:8388610,2952790017:33282,3221225473:514,3489660929:8389120,3758096385:32770,4026531841:0,134217729:8421890,402653185:8421376,671088641:8388608,939524097:512,1207959553:32768,1476395009:8388610,1744830465:2,2013265921:33282,2281701377:32770,2550136833:8389122,2818572289:514,3087007745:8421888,3355443201:8389120,3623878657:0,3892314113:33280,4160749569:8421378},{0:1074282512,16777216:16384,33554432:524288,50331648:1074266128,67108864:1073741840,83886080:1074282496,100663296:1073758208,117440512:16,134217728:540672,150994944:1073758224,167772160:1073741824,184549376:540688,201326592:524304,218103808:0,234881024:16400,251658240:1074266112,8388608:1073758208,25165824:540688,41943040:16,58720256:1073758224,75497472:1074282512,92274688:1073741824,109051904:524288,125829120:1074266128,142606336:524304,159383552:0,176160768:16384,192937984:1074266112,209715200:1073741840,226492416:540672,243269632:1074282496,260046848:16400,268435456:0,285212672:1074266128,301989888:1073758224,318767104:1074282496,335544320:1074266112,352321536:16,369098752:540688,385875968:16384,402653184:16400,419430400:524288,436207616:524304,452984832:1073741840,469762048:540672,486539264:1073758208,503316480:1073741824,520093696:1074282512,276824064:540688,293601280:524288,310378496:1074266112,327155712:16384,343932928:1073758208,360710144:1074282512,377487360:16,394264576:1073741824,411041792:1074282496,427819008:1073741840,444596224:1073758224,461373440:524304,478150656:0,494927872:16400,511705088:1074266128,528482304:540672},{0:260,1048576:0,2097152:67109120,3145728:65796,4194304:65540,5242880:67108868,6291456:67174660,7340032:67174400,8388608:67108864,9437184:67174656,10485760:65792,11534336:67174404,12582912:67109124,13631488:65536,14680064:4,15728640:256,524288:67174656,1572864:67174404,2621440:0,3670016:67109120,4718592:67108868,5767168:65536,6815744:65540,7864320:260,8912896:4,9961472:256,11010048:67174400,12058624:65796,13107200:65792,14155776:67109124,15204352:67174660,16252928:67108864,16777216:67174656,17825792:65540,18874368:65536,19922944:67109120,20971520:256,22020096:67174660,23068672:67108868,24117248:0,25165824:67109124,26214400:67108864,27262976:4,28311552:65792,29360128:67174400,30408704:260,31457280:65796,32505856:67174404,17301504:67108864,18350080:260,19398656:67174656,20447232:0,21495808:65540,22544384:67109120,23592960:256,24641536:67174404,25690112:65536,26738688:67174660,27787264:65796,28835840:67108868,29884416:67109124,30932992:67174400,31981568:4,33030144:65792},{0:2151682048,65536:2147487808,131072:4198464,196608:2151677952,262144:0,327680:4198400,393216:2147483712,458752:4194368,524288:2147483648,589824:4194304,655360:64,720896:2147487744,786432:2151678016,851968:4160,917504:4096,983040:2151682112,32768:2147487808,98304:64,163840:2151678016,229376:2147487744,294912:4198400,360448:2151682112,425984:0,491520:2151677952,557056:4096,622592:2151682048,688128:4194304,753664:4160,819200:2147483648,884736:4194368,950272:4198464,1015808:2147483712,1048576:4194368,1114112:4198400,1179648:2147483712,1245184:0,1310720:4160,1376256:2151678016,1441792:2151682048,1507328:2147487808,1572864:2151682112,1638400:2147483648,1703936:2151677952,1769472:4198464,1835008:2147487744,1900544:4194304,1966080:64,2031616:4096,1081344:2151677952,1146880:2151682112,1212416:0,1277952:4198400,1343488:4194368,1409024:2147483648,1474560:2147487808,1540096:64,1605632:2147483712,1671168:4096,1736704:2147487744,1802240:2151678016,1867776:4160,1933312:2151682048,1998848:4194304,2064384:4198464},{0:128,4096:17039360,8192:262144,12288:536870912,16384:537133184,20480:16777344,24576:553648256,28672:262272,32768:16777216,36864:537133056,40960:536871040,45056:553910400,49152:553910272,53248:0,57344:17039488,61440:553648128,2048:17039488,6144:553648256,10240:128,14336:17039360,18432:262144,22528:537133184,26624:553910272,30720:536870912,34816:537133056,38912:0,43008:553910400,47104:16777344,51200:536871040,55296:553648128,59392:16777216,63488:262272,65536:262144,69632:128,73728:536870912,77824:553648256,81920:16777344,86016:553910272,90112:537133184,94208:16777216,98304:553910400,102400:553648128,106496:17039360,110592:537133056,114688:262272,118784:536871040,122880:0,126976:17039488,67584:553648256,71680:16777216,75776:17039360,79872:537133184,83968:536870912,88064:17039488,92160:128,96256:553910272,100352:262272,104448:553910400,108544:0,112640:553648128,116736:16777344,120832:262144,124928:537133056,129024:536871040},{0:268435464,256:8192,512:270532608,768:270540808,1024:268443648,1280:2097152,1536:2097160,1792:268435456,2048:0,2304:268443656,2560:2105344,2816:8,3072:270532616,3328:2105352,3584:8200,3840:270540800,128:270532608,384:270540808,640:8,896:2097152,1152:2105352,1408:268435464,1664:268443648,1920:8200,2176:2097160,2432:8192,2688:268443656,2944:270532616,3200:0,3456:270540800,3712:2105344,3968:268435456,4096:268443648,4352:270532616,4608:270540808,4864:8200,5120:2097152,5376:268435456,5632:268435464,5888:2105344,6144:2105352,6400:0,6656:8,6912:270532608,7168:8192,7424:268443656,7680:270540800,7936:2097160,4224:8,4480:2105344,4736:2097152,4992:268435464,5248:268443648,5504:8200,5760:270540808,6016:270532608,6272:270540800,6528:270532616,6784:8192,7040:2105352,7296:2097160,7552:0,7808:268435456,8064:268443656},{0:1048576,16:33555457,32:1024,48:1049601,64:34604033,80:0,96:1,112:34603009,128:33555456,144:1048577,160:33554433,176:34604032,192:34603008,208:1025,224:1049600,240:33554432,8:34603009,24:0,40:33555457,56:34604032,72:1048576,88:33554433,104:33554432,120:1025,136:1049601,152:33555456,168:34603008,184:1048577,200:1024,216:34604033,232:1,248:1049600,256:33554432,272:1048576,288:33555457,304:34603009,320:1048577,336:33555456,352:34604032,368:1049601,384:1025,400:34604033,416:1049600,432:1,448:0,464:34603008,480:33554433,496:1024,264:1049600,280:33555457,296:34603009,312:1,328:33554432,344:1048576,360:1025,376:34604032,392:33554433,408:34603008,424:0,440:34604033,456:1049601,472:1024,488:33555456,504:1048577},{0:134219808,1:131072,2:134217728,3:32,4:131104,5:134350880,6:134350848,7:2048,8:134348800,9:134219776,10:133120,11:134348832,12:2080,13:0,14:134217760,15:133152,2147483648:2048,2147483649:134350880,2147483650:134219808,2147483651:134217728,2147483652:134348800,2147483653:133120,2147483654:133152,2147483655:32,2147483656:134217760,2147483657:2080,2147483658:131104,2147483659:134350848,2147483660:0,2147483661:134348832,2147483662:134219776,2147483663:131072,16:133152,17:134350848,18:32,19:2048,20:134219776,21:134217760,22:134348832,23:131072,24:0,25:131104,26:134348800,27:134219808,28:134350880,29:133120,30:2080,31:134217728,2147483664:131072,2147483665:2048,2147483666:134348832,2147483667:133152,2147483668:32,2147483669:134348800,2147483670:134217728,2147483671:134219808,2147483672:134350880,2147483673:134217760,2147483674:134219776,2147483675:0,2147483676:133120,2147483677:2080,2147483678:131104,2147483679:134350848}],d=[4160749569,528482304,33030144,2064384,129024,8064,504,2147483679],h=x.DES=p.extend({_doReset:function(){for(var F=this._key,C=F.words,E=[],v=0;v<56;v++){var _=m[v]-1;E[v]=C[_>>>5]>>>31-_%32&1}for(var S=this._subKeys=[],R=0;R<16;R++){for(var B=S[R]=[],k=l[R],v=0;v<24;v++)B[v/6|0]|=E[(c[v]-1+k)%28]<<31-v%6,B[4+(v/6|0)]|=E[28+(c[v+24]-1+k)%28]<<31-v%6;B[0]=B[0]<<1|B[0]>>>31;for(var v=1;v<7;v++)B[v]=B[v]>>>(v-1)*4+3;B[7]=B[7]<<5|B[7]>>>27}for(var D=this._invSubKeys=[],v=0;v<16;v++)D[v]=S[15-v]},encryptBlock:function(F,C){this._doCryptBlock(F,C,this._subKeys)},decryptBlock:function(F,C){this._doCryptBlock(F,C,this._invSubKeys)},_doCryptBlock:function(F,C,E){this._lBlock=F[C],this._rBlock=F[C+1],g.call(this,4,252645135),g.call(this,16,65535),b.call(this,2,858993459),b.call(this,8,16711935),g.call(this,1,1431655765);for(var v=0;v<16;v++){for(var _=E[v],S=this._lBlock,R=this._rBlock,B=0,k=0;k<8;k++)B|=y[k][((R^_[k])&d[k])>>>0];this._lBlock=R,this._rBlock=S^B}var D=this._lBlock;this._lBlock=this._rBlock,this._rBlock=D,g.call(this,1,1431655765),b.call(this,8,16711935),b.call(this,2,858993459),g.call(this,16,65535),g.call(this,4,252645135),F[C]=this._lBlock,F[C+1]=this._rBlock},keySize:64/32,ivSize:64/32,blockSize:64/32});function g(F,C){var E=(this._lBlock>>>F^this._rBlock)&C;this._rBlock^=E,this._lBlock^=E<<F}function b(F,C){var E=(this._rBlock>>>F^this._lBlock)&C;this._lBlock^=E,this._rBlock^=E<<F}s.DES=p._createHelper(h);var A=x.TripleDES=p.extend({_doReset:function(){var F=this._key,C=F.words;if(C.length!==2&&C.length!==4&&C.length<6)throw new Error("Invalid key length - 3DES requires the key length to be 64, 128, 192 or >192.");var E=C.slice(0,2),v=C.length<4?C.slice(0,2):C.slice(2,4),_=C.length<6?C.slice(0,2):C.slice(4,6);this._des1=h.createEncryptor(u.create(E)),this._des2=h.createEncryptor(u.create(v)),this._des3=h.createEncryptor(u.create(_))},encryptBlock:function(F,C){this._des1.encryptBlock(F,C),this._des2.decryptBlock(F,C),this._des3.encryptBlock(F,C)},decryptBlock:function(F,C){this._des3.decryptBlock(F,C),this._des2.encryptBlock(F,C),this._des1.decryptBlock(F,C)},keySize:192/32,ivSize:64/32,blockSize:64/32});s.TripleDES=p._createHelper(A)}(),i.TripleDES})}(tripledes)),tripledes.exports}var rc4={exports:{}},hasRequiredRc4;function requireRc4(){return hasRequiredRc4||(hasRequiredRc4=1,function(n,a){(function(i,s,o){n.exports=s(requireCore(),requireEncBase64(),requireMd5(),requireEvpkdf(),requireCipherCore())})(commonjsGlobal,function(i){return function(){var s=i,o=s.lib,u=o.StreamCipher,p=s.algo,x=p.RC4=u.extend({_doReset:function(){for(var l=this._key,y=l.words,d=l.sigBytes,h=this._S=[],g=0;g<256;g++)h[g]=g;for(var g=0,b=0;g<256;g++){var A=g%d,F=y[A>>>2]>>>24-A%4*8&255;b=(b+h[g]+F)%256;var C=h[g];h[g]=h[b],h[b]=C}this._i=this._j=0},_doProcessBlock:function(l,y){l[y]^=m.call(this)},keySize:256/32,ivSize:0});function m(){for(var l=this._S,y=this._i,d=this._j,h=0,g=0;g<4;g++){y=(y+1)%256,d=(d+l[y])%256;var b=l[y];l[y]=l[d],l[d]=b,h|=l[(l[y]+l[d])%256]<<24-g*8}return this._i=y,this._j=d,h}s.RC4=u._createHelper(x);var c=p.RC4Drop=x.extend({cfg:x.cfg.extend({drop:192}),_doReset:function(){x._doReset.call(this);for(var l=this.cfg.drop;l>0;l--)m.call(this)}});s.RC4Drop=u._createHelper(c)}(),i.RC4})}(rc4)),rc4.exports}var rabbit={exports:{}},hasRequiredRabbit;function requireRabbit(){return hasRequiredRabbit||(hasRequiredRabbit=1,function(n,a){(function(i,s,o){n.exports=s(requireCore(),requireEncBase64(),requireMd5(),requireEvpkdf(),requireCipherCore())})(commonjsGlobal,function(i){return function(){var s=i,o=s.lib,u=o.StreamCipher,p=s.algo,x=[],m=[],c=[],l=p.Rabbit=u.extend({_doReset:function(){for(var d=this._key.words,h=this.cfg.iv,g=0;g<4;g++)d[g]=(d[g]<<8|d[g]>>>24)&16711935|(d[g]<<24|d[g]>>>8)&4278255360;var b=this._X=[d[0],d[3]<<16|d[2]>>>16,d[1],d[0]<<16|d[3]>>>16,d[2],d[1]<<16|d[0]>>>16,d[3],d[2]<<16|d[1]>>>16],A=this._C=[d[2]<<16|d[2]>>>16,d[0]&4294901760|d[1]&65535,d[3]<<16|d[3]>>>16,d[1]&4294901760|d[2]&65535,d[0]<<16|d[0]>>>16,d[2]&4294901760|d[3]&65535,d[1]<<16|d[1]>>>16,d[3]&4294901760|d[0]&65535];this._b=0;for(var g=0;g<4;g++)y.call(this);for(var g=0;g<8;g++)A[g]^=b[g+4&7];if(h){var F=h.words,C=F[0],E=F[1],v=(C<<8|C>>>24)&16711935|(C<<24|C>>>8)&4278255360,_=(E<<8|E>>>24)&16711935|(E<<24|E>>>8)&4278255360,S=v>>>16|_&4294901760,R=_<<16|v&65535;A[0]^=v,A[1]^=S,A[2]^=_,A[3]^=R,A[4]^=v,A[5]^=S,A[6]^=_,A[7]^=R;for(var g=0;g<4;g++)y.call(this)}},_doProcessBlock:function(d,h){var g=this._X;y.call(this),x[0]=g[0]^g[5]>>>16^g[3]<<16,x[1]=g[2]^g[7]>>>16^g[5]<<16,x[2]=g[4]^g[1]>>>16^g[7]<<16,x[3]=g[6]^g[3]>>>16^g[1]<<16;for(var b=0;b<4;b++)x[b]=(x[b]<<8|x[b]>>>24)&16711935|(x[b]<<24|x[b]>>>8)&4278255360,d[h+b]^=x[b]},blockSize:128/32,ivSize:64/32});function y(){for(var d=this._X,h=this._C,g=0;g<8;g++)m[g]=h[g];h[0]=h[0]+1295307597+this._b|0,h[1]=h[1]+3545052371+(h[0]>>>0<m[0]>>>0?1:0)|0,h[2]=h[2]+886263092+(h[1]>>>0<m[1]>>>0?1:0)|0,h[3]=h[3]+1295307597+(h[2]>>>0<m[2]>>>0?1:0)|0,h[4]=h[4]+3545052371+(h[3]>>>0<m[3]>>>0?1:0)|0,h[5]=h[5]+886263092+(h[4]>>>0<m[4]>>>0?1:0)|0,h[6]=h[6]+1295307597+(h[5]>>>0<m[5]>>>0?1:0)|0,h[7]=h[7]+3545052371+(h[6]>>>0<m[6]>>>0?1:0)|0,this._b=h[7]>>>0<m[7]>>>0?1:0;for(var g=0;g<8;g++){var b=d[g]+h[g],A=b&65535,F=b>>>16,C=((A*A>>>17)+A*F>>>15)+F*F,E=((b&4294901760)*b|0)+((b&65535)*b|0);c[g]=C^E}d[0]=c[0]+(c[7]<<16|c[7]>>>16)+(c[6]<<16|c[6]>>>16)|0,d[1]=c[1]+(c[0]<<8|c[0]>>>24)+c[7]|0,d[2]=c[2]+(c[1]<<16|c[1]>>>16)+(c[0]<<16|c[0]>>>16)|0,d[3]=c[3]+(c[2]<<8|c[2]>>>24)+c[1]|0,d[4]=c[4]+(c[3]<<16|c[3]>>>16)+(c[2]<<16|c[2]>>>16)|0,d[5]=c[5]+(c[4]<<8|c[4]>>>24)+c[3]|0,d[6]=c[6]+(c[5]<<16|c[5]>>>16)+(c[4]<<16|c[4]>>>16)|0,d[7]=c[7]+(c[6]<<8|c[6]>>>24)+c[5]|0}s.Rabbit=u._createHelper(l)}(),i.Rabbit})}(rabbit)),rabbit.exports}var rabbitLegacy={exports:{}},hasRequiredRabbitLegacy;function requireRabbitLegacy(){return hasRequiredRabbitLegacy||(hasRequiredRabbitLegacy=1,function(n,a){(function(i,s,o){n.exports=s(requireCore(),requireEncBase64(),requireMd5(),requireEvpkdf(),requireCipherCore())})(commonjsGlobal,function(i){return function(){var s=i,o=s.lib,u=o.StreamCipher,p=s.algo,x=[],m=[],c=[],l=p.RabbitLegacy=u.extend({_doReset:function(){var d=this._key.words,h=this.cfg.iv,g=this._X=[d[0],d[3]<<16|d[2]>>>16,d[1],d[0]<<16|d[3]>>>16,d[2],d[1]<<16|d[0]>>>16,d[3],d[2]<<16|d[1]>>>16],b=this._C=[d[2]<<16|d[2]>>>16,d[0]&4294901760|d[1]&65535,d[3]<<16|d[3]>>>16,d[1]&4294901760|d[2]&65535,d[0]<<16|d[0]>>>16,d[2]&4294901760|d[3]&65535,d[1]<<16|d[1]>>>16,d[3]&4294901760|d[0]&65535];this._b=0;for(var A=0;A<4;A++)y.call(this);for(var A=0;A<8;A++)b[A]^=g[A+4&7];if(h){var F=h.words,C=F[0],E=F[1],v=(C<<8|C>>>24)&16711935|(C<<24|C>>>8)&4278255360,_=(E<<8|E>>>24)&16711935|(E<<24|E>>>8)&4278255360,S=v>>>16|_&4294901760,R=_<<16|v&65535;b[0]^=v,b[1]^=S,b[2]^=_,b[3]^=R,b[4]^=v,b[5]^=S,b[6]^=_,b[7]^=R;for(var A=0;A<4;A++)y.call(this)}},_doProcessBlock:function(d,h){var g=this._X;y.call(this),x[0]=g[0]^g[5]>>>16^g[3]<<16,x[1]=g[2]^g[7]>>>16^g[5]<<16,x[2]=g[4]^g[1]>>>16^g[7]<<16,x[3]=g[6]^g[3]>>>16^g[1]<<16;for(var b=0;b<4;b++)x[b]=(x[b]<<8|x[b]>>>24)&16711935|(x[b]<<24|x[b]>>>8)&4278255360,d[h+b]^=x[b]},blockSize:128/32,ivSize:64/32});function y(){for(var d=this._X,h=this._C,g=0;g<8;g++)m[g]=h[g];h[0]=h[0]+1295307597+this._b|0,h[1]=h[1]+3545052371+(h[0]>>>0<m[0]>>>0?1:0)|0,h[2]=h[2]+886263092+(h[1]>>>0<m[1]>>>0?1:0)|0,h[3]=h[3]+1295307597+(h[2]>>>0<m[2]>>>0?1:0)|0,h[4]=h[4]+3545052371+(h[3]>>>0<m[3]>>>0?1:0)|0,h[5]=h[5]+886263092+(h[4]>>>0<m[4]>>>0?1:0)|0,h[6]=h[6]+1295307597+(h[5]>>>0<m[5]>>>0?1:0)|0,h[7]=h[7]+3545052371+(h[6]>>>0<m[6]>>>0?1:0)|0,this._b=h[7]>>>0<m[7]>>>0?1:0;for(var g=0;g<8;g++){var b=d[g]+h[g],A=b&65535,F=b>>>16,C=((A*A>>>17)+A*F>>>15)+F*F,E=((b&4294901760)*b|0)+((b&65535)*b|0);c[g]=C^E}d[0]=c[0]+(c[7]<<16|c[7]>>>16)+(c[6]<<16|c[6]>>>16)|0,d[1]=c[1]+(c[0]<<8|c[0]>>>24)+c[7]|0,d[2]=c[2]+(c[1]<<16|c[1]>>>16)+(c[0]<<16|c[0]>>>16)|0,d[3]=c[3]+(c[2]<<8|c[2]>>>24)+c[1]|0,d[4]=c[4]+(c[3]<<16|c[3]>>>16)+(c[2]<<16|c[2]>>>16)|0,d[5]=c[5]+(c[4]<<8|c[4]>>>24)+c[3]|0,d[6]=c[6]+(c[5]<<16|c[5]>>>16)+(c[4]<<16|c[4]>>>16)|0,d[7]=c[7]+(c[6]<<8|c[6]>>>24)+c[5]|0}s.RabbitLegacy=u._createHelper(l)}(),i.RabbitLegacy})}(rabbitLegacy)),rabbitLegacy.exports}var blowfish={exports:{}},hasRequiredBlowfish;function requireBlowfish(){return hasRequiredBlowfish||(hasRequiredBlowfish=1,function(n,a){(function(i,s,o){n.exports=s(requireCore(),requireEncBase64(),requireMd5(),requireEvpkdf(),requireCipherCore())})(commonjsGlobal,function(i){return function(){var s=i,o=s.lib,u=o.BlockCipher,p=s.algo;const x=16,m=[608135816,2242054355,320440878,57701188,2752067618,698298832,137296536,3964562569,1160258022,953160567,3193202383,887688300,3232508343,3380367581,1065670069,3041331479,2450970073,2306472731],c=[[3509652390,2564797868,805139163,3491422135,3101798381,1780907670,3128725573,4046225305,614570311,3012652279,134345442,2240740374,1667834072,1901547113,2757295779,4103290238,227898511,1921955416,1904987480,2182433518,2069144605,3260701109,2620446009,720527379,3318853667,677414384,3393288472,3101374703,2390351024,1614419982,1822297739,2954791486,3608508353,3174124327,2024746970,1432378464,3864339955,2857741204,1464375394,1676153920,1439316330,715854006,3033291828,289532110,2706671279,2087905683,3018724369,1668267050,732546397,1947742710,3462151702,2609353502,2950085171,1814351708,2050118529,680887927,999245976,1800124847,3300911131,1713906067,1641548236,4213287313,1216130144,1575780402,4018429277,3917837745,3693486850,3949271944,596196993,3549867205,258830323,2213823033,772490370,2760122372,1774776394,2652871518,566650946,4142492826,1728879713,2882767088,1783734482,3629395816,2517608232,2874225571,1861159788,326777828,3124490320,2130389656,2716951837,967770486,1724537150,2185432712,2364442137,1164943284,2105845187,998989502,3765401048,2244026483,1075463327,1455516326,1322494562,910128902,469688178,1117454909,936433444,3490320968,3675253459,1240580251,122909385,2157517691,634681816,4142456567,3825094682,3061402683,2540495037,79693498,3249098678,1084186820,1583128258,426386531,1761308591,1047286709,322548459,995290223,1845252383,2603652396,3431023940,2942221577,3202600964,3727903485,1712269319,422464435,3234572375,1170764815,3523960633,3117677531,1434042557,442511882,3600875718,1076654713,1738483198,4213154764,2393238008,3677496056,1014306527,4251020053,793779912,2902807211,842905082,4246964064,1395751752,1040244610,2656851899,3396308128,445077038,3742853595,3577915638,679411651,2892444358,2354009459,1767581616,3150600392,3791627101,3102740896,284835224,4246832056,1258075500,768725851,2589189241,3069724005,3532540348,1274779536,3789419226,2764799539,1660621633,3471099624,4011903706,913787905,3497959166,737222580,2514213453,2928710040,3937242737,1804850592,3499020752,2949064160,2386320175,2390070455,2415321851,4061277028,2290661394,2416832540,1336762016,1754252060,3520065937,3014181293,791618072,3188594551,3933548030,2332172193,3852520463,3043980520,413987798,3465142937,3030929376,4245938359,2093235073,3534596313,375366246,2157278981,2479649556,555357303,3870105701,2008414854,3344188149,4221384143,3956125452,2067696032,3594591187,2921233993,2428461,544322398,577241275,1471733935,610547355,4027169054,1432588573,1507829418,2025931657,3646575487,545086370,48609733,2200306550,1653985193,298326376,1316178497,3007786442,2064951626,458293330,2589141269,3591329599,3164325604,727753846,2179363840,146436021,1461446943,4069977195,705550613,3059967265,3887724982,4281599278,3313849956,1404054877,2845806497,146425753,1854211946],[1266315497,3048417604,3681880366,3289982499,290971e4,1235738493,2632868024,2414719590,3970600049,1771706367,1449415276,3266420449,422970021,1963543593,2690192192,3826793022,1062508698,1531092325,1804592342,2583117782,2714934279,4024971509,1294809318,4028980673,1289560198,2221992742,1669523910,35572830,157838143,1052438473,1016535060,1802137761,1753167236,1386275462,3080475397,2857371447,1040679964,2145300060,2390574316,1461121720,2956646967,4031777805,4028374788,33600511,2920084762,1018524850,629373528,3691585981,3515945977,2091462646,2486323059,586499841,988145025,935516892,3367335476,2599673255,2839830854,265290510,3972581182,2759138881,3795373465,1005194799,847297441,406762289,1314163512,1332590856,1866599683,4127851711,750260880,613907577,1450815602,3165620655,3734664991,3650291728,3012275730,3704569646,1427272223,778793252,1343938022,2676280711,2052605720,1946737175,3164576444,3914038668,3967478842,3682934266,1661551462,3294938066,4011595847,840292616,3712170807,616741398,312560963,711312465,1351876610,322626781,1910503582,271666773,2175563734,1594956187,70604529,3617834859,1007753275,1495573769,4069517037,2549218298,2663038764,504708206,2263041392,3941167025,2249088522,1514023603,1998579484,1312622330,694541497,2582060303,2151582166,1382467621,776784248,2618340202,3323268794,2497899128,2784771155,503983604,4076293799,907881277,423175695,432175456,1378068232,4145222326,3954048622,3938656102,3820766613,2793130115,2977904593,26017576,3274890735,3194772133,1700274565,1756076034,4006520079,3677328699,720338349,1533947780,354530856,688349552,3973924725,1637815568,332179504,3949051286,53804574,2852348879,3044236432,1282449977,3583942155,3416972820,4006381244,1617046695,2628476075,3002303598,1686838959,431878346,2686675385,1700445008,1080580658,1009431731,832498133,3223435511,2605976345,2271191193,2516031870,1648197032,4164389018,2548247927,300782431,375919233,238389289,3353747414,2531188641,2019080857,1475708069,455242339,2609103871,448939670,3451063019,1395535956,2413381860,1841049896,1491858159,885456874,4264095073,4001119347,1565136089,3898914787,1108368660,540939232,1173283510,2745871338,3681308437,4207628240,3343053890,4016749493,1699691293,1103962373,3625875870,2256883143,3830138730,1031889488,3479347698,1535977030,4236805024,3251091107,2132092099,1774941330,1199868427,1452454533,157007616,2904115357,342012276,595725824,1480756522,206960106,497939518,591360097,863170706,2375253569,3596610801,1814182875,2094937945,3421402208,1082520231,3463918190,2785509508,435703966,3908032597,1641649973,2842273706,3305899714,1510255612,2148256476,2655287854,3276092548,4258621189,236887753,3681803219,274041037,1734335097,3815195456,3317970021,1899903192,1026095262,4050517792,356393447,2410691914,3873677099,3682840055],[3913112168,2491498743,4132185628,2489919796,1091903735,1979897079,3170134830,3567386728,3557303409,857797738,1136121015,1342202287,507115054,2535736646,337727348,3213592640,1301675037,2528481711,1895095763,1721773893,3216771564,62756741,2142006736,835421444,2531993523,1442658625,3659876326,2882144922,676362277,1392781812,170690266,3921047035,1759253602,3611846912,1745797284,664899054,1329594018,3901205900,3045908486,2062866102,2865634940,3543621612,3464012697,1080764994,553557557,3656615353,3996768171,991055499,499776247,1265440854,648242737,3940784050,980351604,3713745714,1749149687,3396870395,4211799374,3640570775,1161844396,3125318951,1431517754,545492359,4268468663,3499529547,1437099964,2702547544,3433638243,2581715763,2787789398,1060185593,1593081372,2418618748,4260947970,69676912,2159744348,86519011,2512459080,3838209314,1220612927,3339683548,133810670,1090789135,1078426020,1569222167,845107691,3583754449,4072456591,1091646820,628848692,1613405280,3757631651,526609435,236106946,48312990,2942717905,3402727701,1797494240,859738849,992217954,4005476642,2243076622,3870952857,3732016268,765654824,3490871365,2511836413,1685915746,3888969200,1414112111,2273134842,3281911079,4080962846,172450625,2569994100,980381355,4109958455,2819808352,2716589560,2568741196,3681446669,3329971472,1835478071,660984891,3704678404,4045999559,3422617507,3040415634,1762651403,1719377915,3470491036,2693910283,3642056355,3138596744,1364962596,2073328063,1983633131,926494387,3423689081,2150032023,4096667949,1749200295,3328846651,309677260,2016342300,1779581495,3079819751,111262694,1274766160,443224088,298511866,1025883608,3806446537,1145181785,168956806,3641502830,3584813610,1689216846,3666258015,3200248200,1692713982,2646376535,4042768518,1618508792,1610833997,3523052358,4130873264,2001055236,3610705100,2202168115,4028541809,2961195399,1006657119,2006996926,3186142756,1430667929,3210227297,1314452623,4074634658,4101304120,2273951170,1399257539,3367210612,3027628629,1190975929,2062231137,2333990788,2221543033,2438960610,1181637006,548689776,2362791313,3372408396,3104550113,3145860560,296247880,1970579870,3078560182,3769228297,1714227617,3291629107,3898220290,166772364,1251581989,493813264,448347421,195405023,2709975567,677966185,3703036547,1463355134,2715995803,1338867538,1343315457,2802222074,2684532164,233230375,2599980071,2000651841,3277868038,1638401717,4028070440,3237316320,6314154,819756386,300326615,590932579,1405279636,3267499572,3150704214,2428286686,3959192993,3461946742,1862657033,1266418056,963775037,2089974820,2263052895,1917689273,448879540,3550394620,3981727096,150775221,3627908307,1303187396,508620638,2975983352,2726630617,1817252668,1876281319,1457606340,908771278,3720792119,3617206836,2455994898,1729034894,1080033504],[976866871,3556439503,2881648439,1522871579,1555064734,1336096578,3548522304,2579274686,3574697629,3205460757,3593280638,3338716283,3079412587,564236357,2993598910,1781952180,1464380207,3163844217,3332601554,1699332808,1393555694,1183702653,3581086237,1288719814,691649499,2847557200,2895455976,3193889540,2717570544,1781354906,1676643554,2592534050,3230253752,1126444790,2770207658,2633158820,2210423226,2615765581,2414155088,3127139286,673620729,2805611233,1269405062,4015350505,3341807571,4149409754,1057255273,2012875353,2162469141,2276492801,2601117357,993977747,3918593370,2654263191,753973209,36408145,2530585658,25011837,3520020182,2088578344,530523599,2918365339,1524020338,1518925132,3760827505,3759777254,1202760957,3985898139,3906192525,674977740,4174734889,2031300136,2019492241,3983892565,4153806404,3822280332,352677332,2297720250,60907813,90501309,3286998549,1016092578,2535922412,2839152426,457141659,509813237,4120667899,652014361,1966332200,2975202805,55981186,2327461051,676427537,3255491064,2882294119,3433927263,1307055953,942726286,933058658,2468411793,3933900994,4215176142,1361170020,2001714738,2830558078,3274259782,1222529897,1679025792,2729314320,3714953764,1770335741,151462246,3013232138,1682292957,1483529935,471910574,1539241949,458788160,3436315007,1807016891,3718408830,978976581,1043663428,3165965781,1927990952,4200891579,2372276910,3208408903,3533431907,1412390302,2931980059,4132332400,1947078029,3881505623,4168226417,2941484381,1077988104,1320477388,886195818,18198404,3786409e3,2509781533,112762804,3463356488,1866414978,891333506,18488651,661792760,1628790961,3885187036,3141171499,876946877,2693282273,1372485963,791857591,2686433993,3759982718,3167212022,3472953795,2716379847,445679433,3561995674,3504004811,3574258232,54117162,3331405415,2381918588,3769707343,4154350007,1140177722,4074052095,668550556,3214352940,367459370,261225585,2610173221,4209349473,3468074219,3265815641,314222801,3066103646,3808782860,282218597,3406013506,3773591054,379116347,1285071038,846784868,2669647154,3771962079,3550491691,2305946142,453669953,1268987020,3317592352,3279303384,3744833421,2610507566,3859509063,266596637,3847019092,517658769,3462560207,3443424879,370717030,4247526661,2224018117,4143653529,4112773975,2788324899,2477274417,1456262402,2901442914,1517677493,1846949527,2295493580,3734397586,2176403920,1280348187,1908823572,3871786941,846861322,1172426758,3287448474,3383383037,1655181056,3139813346,901632758,1897031941,2986607138,3066810236,3447102507,1393639104,373351379,950779232,625454576,3124240540,4148612726,2007998917,544563296,2244738638,2330496472,2058025392,1291430526,424198748,50039436,29584100,3605783033,2429876329,2791104160,1057563949,3255363231,3075367218,3463963227,1469046755,985887462]];var l={pbox:[],sbox:[]};function y(A,F){let C=F>>24&255,E=F>>16&255,v=F>>8&255,_=F&255,S=A.sbox[0][C]+A.sbox[1][E];return S=S^A.sbox[2][v],S=S+A.sbox[3][_],S}function d(A,F,C){let E=F,v=C,_;for(let S=0;S<x;++S)E=E^A.pbox[S],v=y(A,E)^v,_=E,E=v,v=_;return _=E,E=v,v=_,v=v^A.pbox[x],E=E^A.pbox[x+1],{left:E,right:v}}function h(A,F,C){let E=F,v=C,_;for(let S=x+1;S>1;--S)E=E^A.pbox[S],v=y(A,E)^v,_=E,E=v,v=_;return _=E,E=v,v=_,v=v^A.pbox[1],E=E^A.pbox[0],{left:E,right:v}}function g(A,F,C){for(let R=0;R<4;R++){A.sbox[R]=[];for(let B=0;B<256;B++)A.sbox[R][B]=c[R][B]}let E=0;for(let R=0;R<x+2;R++)A.pbox[R]=m[R]^F[E],E++,E>=C&&(E=0);let v=0,_=0,S=0;for(let R=0;R<x+2;R+=2)S=d(A,v,_),v=S.left,_=S.right,A.pbox[R]=v,A.pbox[R+1]=_;for(let R=0;R<4;R++)for(let B=0;B<256;B+=2)S=d(A,v,_),v=S.left,_=S.right,A.sbox[R][B]=v,A.sbox[R][B+1]=_;return!0}var b=p.Blowfish=u.extend({_doReset:function(){if(this._keyPriorReset!==this._key){var A=this._keyPriorReset=this._key,F=A.words,C=A.sigBytes/4;g(l,F,C)}},encryptBlock:function(A,F){var C=d(l,A[F],A[F+1]);A[F]=C.left,A[F+1]=C.right},decryptBlock:function(A,F){var C=h(l,A[F],A[F+1]);A[F]=C.left,A[F+1]=C.right},blockSize:64/32,keySize:128/32,ivSize:64/32});s.Blowfish=u._createHelper(b)}(),i.Blowfish})}(blowfish)),blowfish.exports}(function(n,a){(function(i,s,o){n.exports=s(requireCore(),requireX64Core(),requireLibTypedarrays(),requireEncUtf16(),requireEncBase64(),requireEncBase64url(),requireMd5(),requireSha1(),requireSha256(),requireSha224(),requireSha512(),requireSha384(),requireSha3(),requireRipemd160(),requireHmac(),requirePbkdf2(),requireEvpkdf(),requireCipherCore(),requireModeCfb(),requireModeCtr(),requireModeCtrGladman(),requireModeOfb(),requireModeEcb(),requirePadAnsix923(),requirePadIso10126(),requirePadIso97971(),requirePadZeropadding(),requirePadNopadding(),requireFormatHex(),requireAes(),requireTripledes(),requireRc4(),requireRabbit(),requireRabbitLegacy(),requireBlowfish())})(commonjsGlobal,function(i){return i})})(cryptoJs);var cryptoJsExports=cryptoJs.exports;const encryptWithSHA256=n=>cryptoJsExports.SHA256(n).toString(),SHA256EncryptedDeviceId=encryptWithSHA256(getUniqueIdSync()),deviceIdHeader={deviceid:SHA256EncryptedDeviceId};var DeviceRegistrationEndpointName=(n=>(n.registerDevice="registerDevice",n.unregisterDevice="unregisterDevice",n))(DeviceRegistrationEndpointName||{});const deviceRegistrationApi=baseApi.injectEndpoints({endpoints:n=>({[DeviceRegistrationEndpointName.registerDevice]:n.mutation({query:a=>({body:{os:Platform$1.OS,...a},method:"POST",slug:GlobalApiSlug.notification,url:"/device/register",headers:deviceIdHeader})}),[DeviceRegistrationEndpointName.unregisterDevice]:n.mutation({query:()=>({method:"DELETE",slug:GlobalApiSlug.notification,url:"/device/register",headers:deviceIdHeader})})}),overrideExisting:!0}),{useRegisterDeviceMutation,useUnregisterDeviceMutation}=deviceRegistrationApi,useRegisterDevice=()=>{const[n]=useRegisterDeviceMutation(),[a]=useUnregisterDeviceMutation(),i=useTrackException(),{hasPermission:s,requestPermission:o}=usePermission(Permissions.notifications),u=reactExports.useCallback(()=>{messaging().getToken().then(x=>{n({firebase_token:x})}).catch(x=>{i(ExceptionLogKey.registerDevice,"useRegisterDevice.ts",{error:x})})},[n,i]);return{registerDeviceIfPermitted:reactExports.useCallback((x=!1)=>new Promise((m,c)=>{x?o().then(l=>{l&&u(),m(l)}):(s&&u(),m(s))}),[o,u,s]),unregisterDevice:a}},config={nearestProjectsRadius:1e3,projectItemListPageSize:20,searchBoxDebounceDuration:300};var ProjectsEndpointName=(n=>(n.articles="articles",n.projectDetails="projectDetails",n.projectFollow="projectFollow",n.projectNews="projectNews",n.projectUnfollow="projectUnfollow",n.projectWarning="projectWarning",n.projects="projects",n.projectsFollowedArticles="projectsFollowedArticles",n.projectsSearch="projectsSearch",n))(ProjectsEndpointName||{});const processSearchQueryArgs=n=>({...n,fields:n.fields.join(","),query_fields:n.query_fields.join(",")}),tempPostProcessProjectDetails=n=>{var a;return n.timeline?{...n,timeline:{...n.timeline,items:((a=n.timeline.items)==null?void 0:a.map(i=>({...i,progress:"Huidig"})))??null}}:n},generateRequestUrl=({params:n={},path:a})=>{const i=Object.entries(n).filter(([,u])=>Array.isArray(u)).flatMap(([u,p])=>p.flatMap(x=>`${u}=${x}`)),s=Object.entries(n).filter(([,u])=>!!u&&!Array.isArray(u)).flatMap(([u,p])=>`${u}=${p}`),o=i.concat(s).join("&");return o.length===0?a??"":[a,o].join("?")},DEFAULT_SEARCH_PAGE_SIZE=1e3,MODULE_SLUG=ModuleSlug["construction-work"],projectsApi=baseApi.injectEndpoints({endpoints:n=>({[ProjectsEndpointName.articles]:n.query({providesTags:["Articles"],query:a=>({slug:MODULE_SLUG,url:generateRequestUrl({path:"/articles",params:a})}),keepUnusedDataFor:CacheLifetime.minute}),[ProjectsEndpointName.projectDetails]:n.query({providesTags:["FollowedProjects","Projects"],query:a=>({slug:MODULE_SLUG,url:generateRequestUrl({path:"/project/details",params:a}),headers:deviceIdHeader}),keepUnusedDataFor:CacheLifetime.hour,transformResponse:tempPostProcessProjectDetails}),[ProjectsEndpointName.projectNews]:n.query({query:a=>({slug:MODULE_SLUG,url:generateRequestUrl({path:"/project/news",params:a})}),keepUnusedDataFor:CacheLifetime.minute}),[ProjectsEndpointName.projectWarning]:n.query({query:a=>({slug:MODULE_SLUG,url:generateRequestUrl({path:"/project/warning",params:a})}),keepUnusedDataFor:CacheLifetime.minute}),[ProjectsEndpointName.projects]:n.query({providesTags:["FollowedProjects","Projects"],query:a=>({slug:MODULE_SLUG,url:a?generateRequestUrl({path:"/projects",params:a}):"/projects",headers:deviceIdHeader}),keepUnusedDataFor:CacheLifetime.hour}),[ProjectsEndpointName.projectUnfollow]:n.mutation({invalidatesTags:["FollowedProjects"],query:a=>({body:a,method:"DELETE",slug:MODULE_SLUG,url:"/projects/follow",headers:deviceIdHeader})}),[ProjectsEndpointName.projectFollow]:n.mutation({invalidatesTags:["FollowedProjects"],query:a=>({body:a,method:"POST",slug:MODULE_SLUG,url:"/projects/follow",headers:deviceIdHeader})}),[ProjectsEndpointName.projectsSearch]:n.query({providesTags:["Projects"],query:a=>({params:{page_size:DEFAULT_SEARCH_PAGE_SIZE,...processSearchQueryArgs(a)},slug:MODULE_SLUG,url:"/projects/search"}),keepUnusedDataFor:CacheLifetime.hour})}),overrideExisting:!0}),{useArticlesQuery,useProjectDetailsQuery,useProjectFollowMutation,useProjectNewsQuery,useProjectUnfollowMutation,useProjectWarningQuery,useProjectsQuery,useProjectsSearchQuery}=projectsApi,PreRenderComponent=()=>{const{registerDeviceIfPermitted:n}=useRegisterDevice(),[a,i]=reactExports.useState(!1),{data:s}=useProjectsQuery({page_size:config.projectItemListPageSize,page:1},{skip:a});return reactExports.useEffect(()=>{var o;(o=s==null?void 0:s.result)!=null&&o[0].followed&&!a&&(n(!0),i(!0))},[s==null?void 0:s.result,a,n]),null};var ConstructionWorkRouteName=(n=>(n.constructionWork="ConstructionWork",n.project="Project",n.projectNews="ProjectNews",n.projectSegment="ProjectSegment",n.projectWarning="ProjectWarning",n.search="ConstructionWorkSearch",n))(ConstructionWorkRouteName||{});const initialState$6={readArticles:[],searchText:""},constructionWorkSlice=createSlice({name:ReduxKey.constructionWork,initialState:initialState$6,reducers:{addReadArticle:(n,{payload:a})=>{n.readArticles.push(a)},deleteReadArticle:(n,{payload:a})=>{n.readArticles=n.readArticles.filter(i=>i.id!==a)},setSearchText:(n,{payload:a})=>{n.searchText=a}}});constructionWorkSlice.actions;const persistWhitelist$1=["readArticles"],constructionWorkModule={PreRenderComponent,linking:{[ConstructionWorkRouteName.projectNews]:"news/:id/:screenHeaderTitle/:screenTitle/:isPushNotificationDeeplink?",[ConstructionWorkRouteName.projectWarning]:"warning/:id/:screenHeaderTitle/:screenTitle/:isPushNotificationDeeplink?"},logDimension:PiwikSessionDimension.constructionWorkModule,name:"ConstructionWorkModule",reduxConfigs:[{key:ReduxKey.constructionWork,persistVersion:0,persistWhitelist:persistWhitelist$1,slice:constructionWorkSlice}],requiresFirebaseToken:!0,slug:ModuleSlug["construction-work"]},initialState$5={},messageDraftSlice=createSlice({name:ReduxKey.messageDraft,initialState:initialState$5,reducers:{clearDraft:()=>initialState$5,setCurrentProjectId:(n,{payload:a})=>{n.currentProjectId=a},setMainImage:(n,{payload:{projectId:a,mainImage:i}})=>{n[a]={...n[a],mainImage:i}},setMainImageDescription:(n,{payload:{projectId:a,mainImageDescription:i}})=>{n[a]={...n[a],mainImageDescription:i}},setNotification:(n,{payload:{projectId:a,notification:i}})=>{n[a]={...n[a],notification:i}},setProject:(n,{payload:a})=>{n[a.id]={...n[a.id],project:a}},setMessage:(n,{payload:{projectId:a,message:i}})=>{n[a]={...n[a],message:i}}}});messageDraftSlice.actions;createSelector(n=>n[ReduxKey.messageDraft],n=>n==null?void 0:n.currentProjectId);createSelector(n=>n[ReduxKey.messageDraft],n=>n.currentProjectId);var ConstructionWorkEditorRouteName=(n=>(n.addMainImageToMessage="AddMainImageToMessage",n.authorizedProjects="AuthorizedProjects",n.confirmMessage="ConfirmMessage",n.createMessage="CreateMessage",n))(ConstructionWorkEditorRouteName||{});const initialState$4={accessToken:void 0,hasSeenWelcomeMessage:!1,hasAutoFollowedProjects:!1},constructionWorkEditorSlice=createSlice({name:ReduxKey.constructionWorkEditor,initialState:initialState$4,reducers:{saveConstructionWorkEditorToken:(n,{payload:a})=>{n.accessToken=a},removeConstructionWorkEditorToken:n=>{n.accessToken=void 0},setHasSeenWelcomeMessage:(n,{payload:a})=>{n.hasSeenWelcomeMessage=a},setHasAutoFollowedProjects:(n,{payload:a})=>{n.hasAutoFollowedProjects=a},removeConstructionWorkEditor:()=>initialState$4}});constructionWorkEditorSlice.actions;const constructionWorkEditorModule={requiresAuthorization:!0,linking:{[ConstructionWorkEditorRouteName.authorizedProjects]:"construction-work-editor/:accessToken?"},logDimension:PiwikSessionDimension.constructionWorkEditorModule,name:"ConstructionWorkEditorModule",reduxConfigs:[{key:ReduxKey.constructionWorkEditor,persistVersion:0,slice:constructionWorkEditorSlice},{key:ReduxKey.messageDraft,persistVersion:0,slice:messageDraftSlice}],slug:ModuleSlug["construction-work-editor"]},contactSlice=createSlice({name:ReduxKey.contact,initialState:{},reducers:{setSelectedCityOffice:(n,{payload:a})=>{n.selectedCityOfficeId=a}}});contactSlice.actions;const contactModule={logDimension:PiwikSessionDimension.contactModule,name:"ContactModule",reduxConfigs:[{key:ReduxKey.contact,persistVersion:0,slice:contactSlice}],slug:ModuleSlug.contact},homeModule={name:"HomeModule",screenOptions:{cardStyleInterpolator:({current:n})=>({cardStyle:{opacity:n.progress}})},slug:ModuleSlug.home},notificationHistoryApi=baseApi.injectEndpoints({endpoints:n=>({getNotifications:n.query({providesTags:["Notifications"],query:()=>({slug:GlobalApiSlug.notification,url:generateRequestUrl({path:"/notifications",params:{}}),headers:deviceIdHeader}),keepUnusedDataFor:CacheLifetime.minute}),markAllNotificationsRead:n.mutation({invalidatesTags:["Notifications"],query:()=>({slug:GlobalApiSlug.notification,method:"POST",url:generateRequestUrl({path:"/notifications/mark_all_read",params:{}}),headers:deviceIdHeader})})}),overrideExisting:!0}),{useGetNotificationsQuery,useMarkAllNotificationsReadMutation}=notificationHistoryApi,HeaderComponent=()=>{const n=useNavigation(),{data:a}=useGetNotificationsQuery(),i=(a==null?void 0:a.filter(({is_read:o})=>!o).length)??0,s=i?i+"ongelezen"+simplur$1`[melding|meldingen]${[i]}`:"Meldingen";return jsxRuntimeExports.jsx(IconButton,{accessibilityLabel:s,badgeValue:i>0?i:void 0,icon:jsxRuntimeExports.jsx(Icon,{color:"link",name:"alarmFilled",size:"lg",testID:"HeaderNotificationHistoryIcon"}),onPress:()=>n.navigate(ModuleSlug["notification-history"]),testID:"HeaderNotificationHistoryButton"})},notificationHistoryModule={hiddenInMenu:!0,name:"NotificationHistoryModule",HeaderComponent,slug:ModuleSlug["notification-history"],alwaysEnabled:!0},initialState$3={hasSeenOnboarding:!1},onboardingSlice=createSlice({name:ReduxKey.onboarding,initialState:initialState$3,reducers:{setHasSeenOnboarding:(n,{payload:a})=>{n.hasSeenOnboarding=a}}});onboardingSlice.actions;const onboardingModule={alwaysEnabled:!0,hiddenInMenu:!0,name:"OnboardingModule",reduxConfigs:[{key:ReduxKey.onboarding,persistVersion:-1,slice:onboardingSlice}],slug:ModuleSlug.onboarding,screenOptions:{cardStyleInterpolator:({current:n})=>({cardStyle:{opacity:n.progress}})}},initialState$2={currentAccountType:void 0,currentPermitName:void 0,isLoginStepsActive:!1,shouldShowIntroScreen:!0},parkingSlice=createSlice({name:ReduxKey.parking,initialState:initialState$2,reducers:{setCurrentAccountType:(n,{payload:a})=>{n.currentAccountType=a},setCurrentPermitName:(n,{payload:a})=>{n.currentPermitName=a},setLoginStepsActive:(n,{payload:a})=>{n.isLoginStepsActive=a},setShouldShowIntroScreen:(n,{payload:a})=>{n.shouldShowIntroScreen=a}}});parkingSlice.actions;const persistWhitelist=["currentAccountType"],parkingModule={name:"ParkingModule",reduxConfigs:[{key:ReduxKey.parking,persistVersion:0,persistWhitelist,slice:parkingSlice}],slug:ModuleSlug.parking},redirectsModule={logDimension:PiwikSessionDimension.redirectsModule,name:"RedirectsModule",slug:ModuleSlug.redirects};var ReportProblemRouteName=(n=>(n.reportProblem="ReportProblem",n.reportProblemWebView="ReportProblemWebView",n))(ReportProblemRouteName||{});const reportProblemModule={logDimension:PiwikSessionDimension.reportProblemModule,name:"ReportProblemModule",slug:ModuleSlug["report-problem"],screenOptions:({route:n})=>({gestureEnabled:getFocusedRouteNameFromRoute(n)!==ReportProblemRouteName.reportProblemWebView})},userModule={name:"UserModule",slug:ModuleSlug.user};var WasteContainerRouteName=(n=>(n.addWasteCard="AddWasteCard",n.wasteCard="WasteCard",n.wasteCardHelp="WasteCardHelp",n))(WasteContainerRouteName||{});const WasteContainerActionButton=()=>{const{navigate:n}=useNavigation(),{item:a,isLoading:i}=useGetSecureItem(SecureItemKey.wasteCardNumber),s=reactExports.useCallback(()=>{n(ModuleSlug["waste-container"],{screen:WasteContainerRouteName.wasteCard})},[n]);return i||!a?null:jsxRuntimeExports.jsxs(Column,{children:[jsxRuntimeExports.jsx(ActionButton,{iconName:"wasteCard",label:"Afvalpas",onPress:s,testID:"WasteContainerActionButton"}),jsxRuntimeExports.jsx(Gutter,{height:"lg"})]})},initialState$1={isMenuVisible:!1},wasteContainerSlice=createSlice({name:ReduxKey.wasteContainer,initialState:initialState$1,reducers:{setIsMenuVisible:(n,{payload:a})=>{n.isMenuVisible=a}}});wasteContainerSlice.actions;const wasteContainerModule={ActionButton:WasteContainerActionButton,hiddenInMenu:!0,name:"WasteContainerModule",reduxConfigs:[{key:ReduxKey.wasteContainer,slice:wasteContainerSlice}],slug:ModuleSlug["waste-container"]},initialState={contracts:void 0},wasteGuideSlice=createSlice({name:ReduxKey.wasteGuide,initialState,reducers:{addContract:(n,{payload:a})=>{n.contracts={...n.contracts,...a}},resetContracts:({contracts:n,...a})=>a}});wasteGuideSlice.actions;const wasteGuideModule={logDimension:PiwikSessionDimension.wasteGuideModule,name:"WasteGuideModule",reduxConfigs:[{key:ReduxKey.wasteGuide,persistVersion:0,slice:wasteGuideSlice}],slug:ModuleSlug["waste-guide"]},coreModules=[accessCodeModule,addressModule,homeModule,onboardingModule,userModule],clientModules=[aboutModule,chatModule,cityPassModule,constructionWorkEditorModule,constructionWorkModule,contactModule,notificationHistoryModule,parkingModule,redirectsModule,reportProblemModule,wasteContainerModule,wasteGuideModule];export{DeviceRegistrationEndpointName as D,LinkingContext as L,getActionFromState as a,accessCodeSlice as b,clientModules as c,bottomSheetSlice as d,environmentSlice as e,findFocusedRoute as f,getStateFromPath as g,screenSlice as h,baseApi as i,coreModules as j,permissionsSlice as p,secureStorageSlice as s,validatePathConfig as v};
