import{a0 as u,a1 as c,r as h,_ as r,a5 as f,a6 as x,j as s,C as p,T as o,f as j,P as k,R as v,g as S,a7 as _}from"./iframe-ByDjrXCK.js";import{P as D}from"./PleaseWait-C6U8hfw3.js";import{S as I}from"./SomethingWentWrong-CBJ2dndH.js";import{u as R,a as T,b as W}from"./useGetParkingSessions-KtjGXDoa.js";const G=()=>{const{navigate:l}=u(),{parkingSessions:e,isLoading:m,isError:d,refetch:a}=R(c.planned);h.useEffect(()=>{e!=null&&e.some(t=>!t.ps_right_id)&&a()},[e,a]),T(a,e!=null&&e.some(t=>"is_paid"in t&&!t.is_paid)?15e3:0);const i=e!=null&&e.length?e.reduce((t,P)=>{const n=r(P.start_date_time);return n.isAfter(t)?t:n},r(e[0].start_date_time)):void 0,g=f();return W(()=>{g(x.util.invalidateTags(["ParkingSessions"]))},e!=null&&e.length?Math.max((i==null?void 0:i.endOf("minute").diff(r(),"milliseconds"))??0,3e4):0),m?s.jsx(D,{testID:"ParkingPermitSessionsPlannedPleaseWait"}):d?s.jsx(I,{testID:"ParkingPlannedSessionsSummarySomethingWentWrong"}):e!=null&&e.length?s.jsx(k,{accessibilityLabel:`${e.length} geplande parkeersessies`,onPress:()=>l(_.parkingPlannedSessions),testID:"ParkingPermitSessionsPlannedBadgeButton",children:s.jsxs(v,{gutter:"sm",children:[s.jsx(o,{color:"link",level:"h5",testID:"ParkingPermitSessionsPlannedTitle",text:"Gepland"}),s.jsx(S,{color:"info",testID:"ParkingPermitSessionsPlannedBadge",value:e.length})]})}):s.jsxs(p,{gutter:"sm",children:[s.jsx(o,{level:"h5",testID:"ParkingPermitSessionsPlannedTitle",text:"Gepland"}),s.jsx(j,{testID:"ParkingPermitSessionsPlannedNoPlannedPhrase",children:"Er zijn geen geplande parkeersessies."})]})};export{G as P};
