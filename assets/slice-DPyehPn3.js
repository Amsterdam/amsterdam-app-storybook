import{c as A,u as t,R as n}from"./useThemable-DhqiuDXa.js";import{r}from"./index-B-xgG2PE.js";import{u}from"./useDispatch-jiStvVFn.js";const k={accessTokens:{},accounts:{},currentPermitReportCode:void 0,isLoggingInAdditionalAccount:!1,isLoggingOut:!1,isLoginStepsActive:!1,currentAccount:void 0,shouldShowLoginScreen:!1,visitorVehicleId:void 0},i=A({name:n.parking,initialState:k,reducers:{removeParkingAccount:c=>{c.currentAccount&&(delete c.accessTokens[c.currentAccount],delete c.accounts[c.currentAccount],c.currentAccount=Object.keys(c.accounts)[0],c.currentPermitReportCode=void 0,c.visitorVehicleId=void 0)},setAccessToken:(c,{payload:e})=>{c.accessTokens[e.reportCode]={accessToken:e.accessToken,accessTokenExpiration:e.accessTokenExpiration}},setCurrentPermitReportCode:(c,{payload:e})=>{c.currentPermitReportCode=e},setIsLoggingInAdditionalAccount:(c,{payload:e})=>{c.isLoggingInAdditionalAccount=e},setIsLoggingOut:(c,{payload:e})=>{c.isLoggingOut=e},setLoginStepsActive:(c,{payload:e})=>{c.isLoginStepsActive=e},setShouldShowLoginScreen:(c,{payload:e})=>{c.shouldShowLoginScreen=e},setVisitorVehicleId:(c,{payload:e})=>{c.visitorVehicleId=e},setParkingAccount:(c,{payload:e})=>{c.accounts[e.reportCode]=e},setParkingAccountPermits:(c,{payload:e})=>{c.currentAccount&&(c.accounts[c.currentAccount].permits=e)},setCurrentAccount:(c,{payload:e})=>{c.currentAccount=e}}}),{setIsLoggingOut:m,setLoginStepsActive:C,setShouldShowLoginScreen:V}=i.actions,l=c=>{var e;return c[n.parking].currentAccount?(e=c[n.parking].accessTokens[c[n.parking].currentAccount])==null?void 0:e.accessToken:void 0},p=c=>{var e;return c[n.parking].currentAccount?(e=c[n.parking].accessTokens[c[n.parking].currentAccount])==null?void 0:e.accessTokenExpiration:void 0},I=c=>c[n.parking].currentPermitReportCode,P=c=>c[n.parking].isLoginStepsActive,h=c=>c[n.parking].isLoggingInAdditionalAccount,L=c=>c[n.parking].visitorVehicleId,f=c=>c[n.parking].currentAccount?c[n.parking].accounts[c[n.parking].currentAccount]:void 0,x=()=>{const c=u(),e=t(l),o=t(p),s=r.useCallback((a,g,d)=>c(i.actions.setAccessToken({reportCode:a,accessToken:g,accessTokenExpiration:d})),[c]);return{accessToken:e,setAccessToken:s,accessTokenExpiration:o}},R=()=>t(I),E=()=>{const c=u(),e=t(L),o=r.useCallback(s=>c(i.actions.setVisitorVehicleId(s)),[c]);return{visitorVehicleId:e,setVisitorVehicleId:o}},b=()=>{const c=u(),e=t(h),o=r.useCallback(s=>c(i.actions.setIsLoggingInAdditionalAccount(s)),[c]);return{isLoggingInAdditionalAccount:e,setIsLoggingInAdditionalAccount:o}};export{x as a,b,V as c,p as d,l as e,R as f,P as g,C as h,i as p,f as s,E as u};
