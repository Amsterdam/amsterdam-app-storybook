import{r as c}from"./index-B-xgG2PE.js";import{b as p,c as n,d as h}from"./service-BxWI319o.js";import{u as k}from"./useCurrentParkingPermit.web-Cdj3QSDU.js";import{u as E,c as S}from"./slice-B4FivVli.js";import{a}from"./types-C2OYdTo_.js";const T=(e,r)=>{c.useEffect(()=>{if(r>0){const s=setInterval(e,r);return()=>clearInterval(s)}},[e,r])},_=(e,r)=>{c.useEffect(()=>{if(r>0){const s=setTimeout(e,r);return()=>clearTimeout(s)}},[e,r])},b=e=>{const r=k(),s=E(),{visitorVehicleId:o}=S(),{data:i,isLoading:u,isError:m,refetch:f}=p(r&&(s==null?void 0:s.scope)===a.permitHolder?{report_code:r.report_code.toString(),status:e,page_size:100}:n),{data:t,isLoading:g,isError:d,refetch:P}=h((s==null?void 0:s.scope)===a.visitor&&o?{vehicle_id:o}:n);return{isLoading:u||g,isError:m||d,parkingSessions:(i==null?void 0:i.result)||(t==null?void 0:t[e]),page:i==null?void 0:i.page,refetch:o?P:f}};export{T as a,_ as b,b as u};
